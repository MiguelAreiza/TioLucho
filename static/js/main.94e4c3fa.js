/*! For license information please see main.94e4c3fa.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var i=r.apply(null,n);i&&e.push(i)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)o.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var o=n(309),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function g(e){return o.isMemo(e)?i:l[e.$$typeof]||r}l[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[o.Memo]=i;var c=Object.defineProperty,s=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,I=Object.getPrototypeOf,C=Object.prototype;e.exports=function e(t,n,o){if("string"!==typeof n){if(C){var r=I(n);r&&r!==C&&e(t,r,o)}var i=s(n);u&&(i=i.concat(u(n)));for(var l=g(t),m=g(n),p=0;p<i.length;++p){var A=i[p];if(!a[A]&&(!o||!o[A])&&(!m||!m[A])&&(!l||!l[A])){var h=d(n,A);try{c(t,A,h)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,g=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,s=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,I=n?Symbol.for("react.suspense"):60113,C=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,p=n?Symbol.for("react.lazy"):60116,A=n?Symbol.for("react.block"):60121,h=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,f=n?Symbol.for("react.scope"):60119;function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case s:case u:case a:case l:case i:case I:return e;default:switch(e=e&&e.$$typeof){case c:case d:case p:case m:case g:return e;default:return t}}case r:return t}}}function y(e){return v(e)===u}t.AsyncMode=s,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=g,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=p,t.Memo=m,t.Portal=r,t.Profiler=l,t.StrictMode=i,t.Suspense=I,t.isAsyncMode=function(e){return y(e)||v(e)===s},t.isConcurrentMode=y,t.isContextConsumer=function(e){return v(e)===c},t.isContextProvider=function(e){return v(e)===g},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return v(e)===d},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===p},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===r},t.isProfiler=function(e){return v(e)===l},t.isStrictMode=function(e){return v(e)===i},t.isSuspense=function(e){return v(e)===I},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===l||e===i||e===I||e===C||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===m||e.$$typeof===g||e.$$typeof===c||e.$$typeof===d||e.$$typeof===h||e.$$typeof===b||e.$$typeof===f||e.$$typeof===A)},t.typeOf=v},309:function(e,t,n){"use strict";e.exports=n(746)},501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,g=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,s=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,I=n?Symbol.for("react.suspense"):60113,C=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,p=n?Symbol.for("react.lazy"):60116,A=n?Symbol.for("react.block"):60121,h=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,f=n?Symbol.for("react.scope"):60119;function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case s:case u:case a:case l:case i:case I:return e;default:switch(e=e&&e.$$typeof){case c:case d:case p:case m:case g:return e;default:return t}}case r:return t}}}function y(e){return v(e)===u}t.isFragment=function(e){return v(e)===a},t.isMemo=function(e){return v(e)===m}},873:function(e,t,n){"use strict";e.exports=n(501)},71:function(e,t,n){"use strict";var o=n(791);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=Object.prototype.hasOwnProperty,i=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l={},g={};function c(e){return!!a.call(g,e)||!a.call(l,e)&&(i.test(e)?g[e]=!0:(l[e]=!0,!1))}function s(e,t,n,o,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var u={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){u[e]=new s(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];u[t]=new s(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){u[e]=new s(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){u[e]=new s(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){u[e]=new s(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){u[e]=new s(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){u[e]=new s(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){u[e]=new s(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){u[e]=new s(e,5,!1,e.toLowerCase(),null,!1,!1)}));var d=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(d,I);u[t]=new s(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(d,I);u[t]=new s(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(d,I);u[t]=new s(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){u[e]=new s(e,1,!1,e.toLowerCase(),null,!1,!1)})),u.xlinkHref=new s("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){u[e]=new s(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m=["Webkit","ms","Moz","O"];Object.keys(C).forEach((function(e){m.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),C[t]=C[e]}))}));var p=/["'&<>]/;function A(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=p.exec(e);if(t){var n,o="",r=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}r!==n&&(o+=e.substring(r,n)),r=n+1,o+=t}e=r!==n?o+e.substring(r,n):o}return e}var h=/([A-Z])/g,b=/^ms-/,f=Array.isArray;function v(e,t){return{insertionMode:e,selectedValue:t}}var y=new Map;function Z(e,t,n){if("object"!==typeof n)throw Error(r(62));for(var o in t=!0,n)if(a.call(n,o)){var i=n[o];if(null!=i&&"boolean"!==typeof i&&""!==i){if(0===o.indexOf("--")){var l=A(o);i=A((""+i).trim())}else{l=o;var g=y.get(l);void 0!==g||(g=A(l.replace(h,"-$1").toLowerCase().replace(b,"-ms-")),y.set(l,g)),l=g,i="number"===typeof i?0===i||a.call(C,o)?""+i:i+"px":A((""+i).trim())}t?(t=!1,e.push(' style="',l,":",i)):e.push(";",l,":",i)}}t||e.push('"')}function G(e,t,n,o){switch(n){case"style":return void Z(e,t,o);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=u.hasOwnProperty(n)?u[n]:null)){switch(typeof o){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:o&&e.push(" ",n,'=""');break;case 4:!0===o?e.push(" ",n,'=""'):!1!==o&&e.push(" ",n,'="',A(o),'"');break;case 5:isNaN(o)||e.push(" ",n,'="',A(o),'"');break;case 6:!isNaN(o)&&1<=o&&e.push(" ",n,'="',A(o),'"');break;default:t.sanitizeURL&&(o=""+o),e.push(" ",n,'="',A(o),'"')}}else if(c(n)){switch(typeof o){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',A(o),'"')}}function S(e,t,n){if(null!=t){if(null!=n)throw Error(r(60));if("object"!==typeof t||!("__html"in t))throw Error(r(61));null!==(t=t.__html)&&void 0!==t&&e.push(""+t)}}function B(e,t,n,o){e.push(W(n));var r,i=n=null;for(r in t)if(a.call(t,r)){var l=t[r];if(null!=l)switch(r){case"children":n=l;break;case"dangerouslySetInnerHTML":i=l;break;default:G(e,o,r,l)}}return e.push(">"),S(e,i,n),"string"===typeof n?(e.push(A(n)),null):n}var k=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,V=new Map;function W(e){var t=V.get(e);if(void 0===t){if(!k.test(e))throw Error(r(65,e));t="<"+e,V.set(e,t)}return t}function w(e,t,n,i,l){switch(t){case"select":e.push(W("select"));var g=null,s=null;for(C in n)if(a.call(n,C)){var u=n[C];if(null!=u)switch(C){case"children":g=u;break;case"dangerouslySetInnerHTML":s=u;break;case"defaultValue":case"value":break;default:G(e,i,C,u)}}return e.push(">"),S(e,s,g),g;case"option":s=l.selectedValue,e.push(W("option"));var d=u=null,I=null,C=null;for(g in n)if(a.call(n,g)){var m=n[g];if(null!=m)switch(g){case"children":u=m;break;case"selected":I=m;break;case"dangerouslySetInnerHTML":C=m;break;case"value":d=m;default:G(e,i,g,m)}}if(null!=s)if(n=null!==d?""+d:function(e){var t="";return o.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(u),f(s)){for(i=0;i<s.length;i++)if(""+s[i]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else I&&e.push(' selected=""');return e.push(">"),S(e,C,u),u;case"textarea":for(u in e.push(W("textarea")),C=s=g=null,n)if(a.call(n,u)&&null!=(d=n[u]))switch(u){case"children":C=d;break;case"value":g=d;break;case"defaultValue":s=d;break;case"dangerouslySetInnerHTML":throw Error(r(91));default:G(e,i,u,d)}if(null===g&&null!==s&&(g=s),e.push(">"),null!=C){if(null!=g)throw Error(r(92));if(f(C)&&1<C.length)throw Error(r(93));g=""+C}return"string"===typeof g&&"\n"===g[0]&&e.push("\n"),null!==g&&e.push(A(""+g)),null;case"input":for(s in e.push(W("input")),d=C=u=g=null,n)if(a.call(n,s)&&null!=(I=n[s]))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,"input"));case"defaultChecked":d=I;break;case"defaultValue":u=I;break;case"checked":C=I;break;case"value":g=I;break;default:G(e,i,s,I)}return null!==C?G(e,i,"checked",C):null!==d&&G(e,i,"checked",d),null!==g?G(e,i,"value",g):null!==u&&G(e,i,"value",u),e.push("/>"),null;case"menuitem":for(var p in e.push(W("menuitem")),n)if(a.call(n,p)&&null!=(g=n[p]))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(r(400));default:G(e,i,p,g)}return e.push(">"),null;case"title":for(m in e.push(W("title")),g=null,n)if(a.call(n,m)&&null!=(s=n[m]))switch(m){case"children":g=s;break;case"dangerouslySetInnerHTML":throw Error(r(434));default:G(e,i,m,s)}return e.push(">"),g;case"listing":case"pre":for(d in e.push(W(t)),s=g=null,n)if(a.call(n,d)&&null!=(u=n[d]))switch(d){case"children":g=u;break;case"dangerouslySetInnerHTML":s=u;break;default:G(e,i,d,u)}if(e.push(">"),null!=s){if(null!=g)throw Error(r(60));if("object"!==typeof s||!("__html"in s))throw Error(r(61));null!==(n=s.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push("\n",n):e.push(""+n))}return"string"===typeof g&&"\n"===g[0]&&e.push("\n"),g;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var h in e.push(W(t)),n)if(a.call(n,h)&&null!=(g=n[h]))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,t));default:G(e,i,h,g)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return B(e,n,t,i);case"html":return 0===l.insertionMode&&e.push("<!DOCTYPE html>"),B(e,n,t,i);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return B(e,n,t,i);for(I in e.push(W(t)),s=g=null,n)if(a.call(n,I)&&null!=(u=n[I]))switch(I){case"children":g=u;break;case"dangerouslySetInnerHTML":s=u;break;case"style":Z(e,i,u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:c(I)&&"function"!==typeof u&&"symbol"!==typeof u&&e.push(" ",I,'="',A(u),'"')}return e.push(">"),S(e,s,g),g}}function R(e,t,n){if(e.push('\x3c!--$?--\x3e<template id="'),null===n)throw Error(r(395));return e.push(n),e.push('"></template>')}var X=/[<\u2028\u2029]/g;function J(e){return JSON.stringify(e).replace(X,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function x(e,t,n,o){return n.generateStaticMarkup?(e.push(A(t)),!1):(""===t?e=o:(o&&e.push("\x3c!-- --\x3e"),e.push(A(t)),e=!0),e)}var H=Object.assign,Y=Symbol.for("react.element"),N=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),j=Symbol.for("react.scope"),O=Symbol.for("react.debug_trace_mode"),P=Symbol.for("react.legacy_hidden"),q=Symbol.for("react.default_value"),_=Symbol.iterator;function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case F:return"Fragment";case N:return"Portal";case K:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case L:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case z:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case U:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case Q:t=e._payload,e=e._init;try{return $(e(t))}catch(n){}}return null}var ee={};function te(e,t){if(!(e=e.contextTypes))return ee;var n,o={};for(n in e)o[n]=t[n];return o}var ne=null;function oe(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(r(401))}else{if(null===n)throw Error(r(401));oe(e,n)}t.context._currentValue2=t.value}}function re(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&re(e)}function ae(e){var t=e.parent;null!==t&&ae(t),e.context._currentValue2=e.value}function ie(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(r(402));e.depth===t.depth?oe(e,t):ie(e,t)}function le(e,t){var n=t.parent;if(null===n)throw Error(r(402));e.depth===n.depth?oe(e,n):le(e,n),t.context._currentValue2=t.value}function ge(e){var t=ne;t!==e&&(null===t?ae(e):null===e?re(t):t.depth===e.depth?oe(t,e):t.depth>e.depth?ie(t,e):le(t,e),ne=e)}var ce={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function se(e,t,n,o){var r=void 0!==e.state?e.state:null;e.updater=ce,e.props=n,e.state=r;var a={queue:[],replace:!1};e._reactInternals=a;var i=t.contextType;if(e.context="object"===typeof i&&null!==i?i._currentValue2:o,"function"===typeof(i=t.getDerivedStateFromProps)&&(r=null===(i=i(n,r))||void 0===i?r:H({},r,i),e.state=r),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&ce.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,i=a.replace,a.queue=null,a.replace=!1,i&&1===t.length)e.state=t[0];else{for(a=i?t[0]:e.state,r=!0,i=i?1:0;i<t.length;i++){var l=t[i];null!=(l="function"===typeof l?l.call(e,a,n,o):l)&&(r?(r=!1,a=H({},a,l)):H(a,l))}e.state=a}else a.queue=null}var ue={id:1,overflow:""};function de(e,t,n){var o=e.id;e=e.overflow;var r=32-Ie(o)-1;o&=~(1<<r),n+=1;var a=32-Ie(t)+r;if(30<a){var i=r-r%5;return a=(o&(1<<i)-1).toString(32),o>>=i,r-=i,{id:1<<32-Ie(t)+r|n<<r|o,overflow:a+e}}return{id:1<<a|n<<r|o,overflow:e}}var Ie=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ce(e)/me|0)|0},Ce=Math.log,me=Math.LN2;var pe="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ae=null,he=null,be=null,fe=null,ve=!1,ye=!1,Ze=0,Ge=null,Se=0;function Be(){if(null===Ae)throw Error(r(321));return Ae}function ke(){if(0<Se)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function Ve(){return null===fe?null===be?(ve=!1,be=fe=ke()):(ve=!0,fe=be):null===fe.next?(ve=!1,fe=fe.next=ke()):(ve=!0,fe=fe.next),fe}function We(){he=Ae=null,ye=!1,be=null,Se=0,fe=Ge=null}function we(e,t){return"function"===typeof t?t(e):t}function Re(e,t,n){if(Ae=Be(),fe=Ve(),ve){var o=fe.queue;if(t=o.dispatch,null!==Ge&&void 0!==(n=Ge.get(o))){Ge.delete(o),o=fe.memoizedState;do{o=e(o,n.action),n=n.next}while(null!==n);return fe.memoizedState=o,[o,t]}return[fe.memoizedState,t]}return e=e===we?"function"===typeof t?t():t:void 0!==n?n(t):t,fe.memoizedState=e,e=(e=fe.queue={last:null,dispatch:null}).dispatch=Je.bind(null,Ae,e),[fe.memoizedState,e]}function Xe(e,t){if(Ae=Be(),t=void 0===t?null:t,null!==(fe=Ve())){var n=fe.memoizedState;if(null!==n&&null!==t){var o=n[1];e:if(null===o)o=!1;else{for(var r=0;r<o.length&&r<t.length;r++)if(!pe(t[r],o[r])){o=!1;break e}o=!0}if(o)return n[0]}}return e=e(),fe.memoizedState=[e,t],e}function Je(e,t,n){if(25<=Se)throw Error(r(301));if(e===Ae)if(ye=!0,e={action:n,next:null},null===Ge&&(Ge=new Map),void 0===(n=Ge.get(t)))Ge.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function xe(){throw Error(r(394))}function He(){}var Ye={readContext:function(e){return e._currentValue2},useContext:function(e){return Be(),e._currentValue2},useMemo:Xe,useReducer:Re,useRef:function(e){Ae=Be();var t=(fe=Ve()).memoizedState;return null===t?(e={current:e},fe.memoizedState=e):t},useState:function(e){return Re(we,e)},useInsertionEffect:He,useLayoutEffect:function(){},useCallback:function(e,t){return Xe((function(){return e}),t)},useImperativeHandle:He,useEffect:He,useDebugValue:He,useDeferredValue:function(e){return Be(),e},useTransition:function(){return Be(),[!1,xe]},useId:function(){var e=he.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-Ie(e)-1)).toString(32)+t;var n=Ne;if(null===n)throw Error(r(404));return t=Ze++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Be(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(r(407));return n()}},Ne=null,Fe=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Ee(e){return console.error(e),null}function Ke(){}function Me(e,t,n,o,r,a,i,l){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var g={node:t,ping:function(){var t=e.pingedTasks;t.push(g),1===t.length&&nt(e)},blockedBoundary:n,blockedSegment:o,abortSet:r,legacyContext:a,context:i,treeContext:l};return r.add(g),g}function Le(e,t,n,o,r,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:o,boundary:n,lastPushedText:r,textEmbedded:a}}function ze(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function De(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Te(e,t,n,o,r){for(Ae={},he=t,Ze=0,e=n(o,r);ye;)ye=!1,Ze=0,Se+=1,fe=null,e=n(o,r);return We(),e}function Ue(e,t,n,o){var a=n.render(),i=o.childContextTypes;if(null!==i&&void 0!==i){var l=t.legacyContext;if("function"!==typeof n.getChildContext)o=l;else{for(var g in n=n.getChildContext())if(!(g in i))throw Error(r(108,$(o)||"Unknown",g));o=H({},l,n)}t.legacyContext=o,Oe(e,t,a),t.legacyContext=l}else Oe(e,t,a)}function Qe(e,t){if(e&&e.defaultProps){for(var n in t=H({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function je(e,t,n,o,a){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){a=te(n,t.legacyContext);var i=n.contextType;se(i=new n(o,"object"===typeof i&&null!==i?i._currentValue2:a),n,o,a),Ue(e,t,i,n)}else{a=Te(e,t,n,o,i=te(n,t.legacyContext));var l=0!==Ze;if("object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof)se(a,n,o,i),Ue(e,t,a,n);else if(l){o=t.treeContext,t.treeContext=de(o,1,0);try{Oe(e,t,a)}finally{t.treeContext=o}}else Oe(e,t,a)}else{if("string"!==typeof n){switch(n){case P:case O:case E:case K:case F:case T:return void Oe(e,t,o.children);case j:throw Error(r(343));case D:e:{n=t.blockedBoundary,a=t.blockedSegment,i=o.fallback,o=o.children;var g={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:l=new Set,errorDigest:null},c=Le(0,a.chunks.length,g,a.formatContext,!1,!1);a.children.push(c),a.lastPushedText=!1;var s=Le(0,0,null,a.formatContext,!1,!1);s.parentFlushed=!0,t.blockedBoundary=g,t.blockedSegment=s;try{if(qe(e,t,o),e.responseState.generateStaticMarkup||s.lastPushedText&&s.textEmbedded&&s.chunks.push("\x3c!-- --\x3e"),s.status=1,et(g,s),0===g.pendingTasks)break e}catch(u){s.status=4,g.forceClientRender=!0,g.errorDigest=ze(e,u)}finally{t.blockedBoundary=n,t.blockedSegment=a}t=Me(e,i,n,c,l,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case z:if(o=Te(e,t,n.render,o,a),0!==Ze){n=t.treeContext,t.treeContext=de(n,1,0);try{Oe(e,t,o)}finally{t.treeContext=n}}else Oe(e,t,o);return;case U:return void je(e,t,n=n.type,o=Qe(n,o),a);case M:if(a=o.children,n=n._context,o=o.value,i=n._currentValue2,n._currentValue2=o,ne=o={parent:l=ne,depth:null===l?0:l.depth+1,context:n,parentValue:i,value:o},t.context=o,Oe(e,t,a),null===(e=ne))throw Error(r(403));return o=e.parentValue,e.context._currentValue2=o===q?e.context._defaultValue:o,e=ne=e.parent,void(t.context=e);case L:return void Oe(e,t,o=(o=o.children)(n._currentValue2));case Q:return void je(e,t,n=(a=n._init)(n._payload),o=Qe(n,o),void 0)}throw Error(r(130,null==n?n:typeof n,""))}switch(i=w((a=t.blockedSegment).chunks,n,o,e.responseState,a.formatContext),a.lastPushedText=!1,l=a.formatContext,a.formatContext=function(e,t,n){switch(t){case"select":return v(1,null!=n.value?n.value:n.defaultValue);case"svg":return v(2,null);case"math":return v(3,null);case"foreignObject":return v(1,null);case"table":return v(4,null);case"thead":case"tbody":case"tfoot":return v(5,null);case"colgroup":return v(7,null);case"tr":return v(6,null)}return 4<=e.insertionMode||0===e.insertionMode?v(1,null):e}(l,n,o),qe(e,t,i),a.formatContext=l,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:a.chunks.push("</",n,">")}a.lastPushedText=!1}}function Oe(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case Y:return void je(e,t,n.type,n.props,n.ref);case N:throw Error(r(257));case Q:var o=n._init;return void Oe(e,t,n=o(n._payload))}if(f(n))return void Pe(e,t,n);if(null===n||"object"!==typeof n?o=null:o="function"===typeof(o=_&&n[_]||n["@@iterator"])?o:null,o&&(o=o.call(n))){if(!(n=o.next()).done){var a=[];do{a.push(n.value),n=o.next()}while(!n.done);Pe(e,t,a)}return}throw e=Object.prototype.toString.call(n),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(o=t.blockedSegment).lastPushedText=x(t.blockedSegment.chunks,n,e.responseState,o.lastPushedText):"number"===typeof n&&((o=t.blockedSegment).lastPushedText=x(t.blockedSegment.chunks,""+n,e.responseState,o.lastPushedText))}function Pe(e,t,n){for(var o=n.length,r=0;r<o;r++){var a=t.treeContext;t.treeContext=de(a,o,r);try{qe(e,t,n[r])}finally{t.treeContext=a}}}function qe(e,t,n){var o=t.blockedSegment.formatContext,r=t.legacyContext,a=t.context;try{return Oe(e,t,n)}catch(g){if(We(),"object"!==typeof g||null===g||"function"!==typeof g.then)throw t.blockedSegment.formatContext=o,t.legacyContext=r,t.context=a,ge(a),g;n=g;var i=t.blockedSegment,l=Le(0,i.chunks.length,null,i.formatContext,i.lastPushedText,!0);i.children.push(l),i.lastPushedText=!1,e=Me(e,t.node,t.blockedBoundary,l,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=o,t.legacyContext=r,t.context=a,ge(a)}}function _e(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,tt(this,t,e)}function $e(e,t,n){var o=e.blockedBoundary;e.blockedSegment.status=3,null===o?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(o.pendingTasks--,o.forceClientRender||(o.forceClientRender=!0,e=void 0===n?Error(r(432)):n,o.errorDigest=t.onError(e),o.parentFlushed&&t.clientRenderedBoundaries.push(o)),o.fallbackAbortableTasks.forEach((function(e){return $e(e,t,n)})),o.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(o=t.onAllReady)())}function et(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&et(e,n)}else e.completedSegments.push(t)}function tt(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(r(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=Ke,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&et(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(_e,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(et(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function nt(e){if(2!==e.status){var t=ne,n=Fe.current;Fe.current=Ye;var o=Ne;Ne=e.responseState;try{var r,a=e.pingedTasks;for(r=0;r<a.length;r++){var i=a[r],l=e,g=i.blockedSegment;if(0===g.status){ge(i.context);try{Oe(l,i,i.node),l.responseState.generateStaticMarkup||g.lastPushedText&&g.textEmbedded&&g.chunks.push("\x3c!-- --\x3e"),i.abortSet.delete(i),g.status=1,tt(l,i.blockedBoundary,g)}catch(I){if(We(),"object"===typeof I&&null!==I&&"function"===typeof I.then){var c=i.ping;I.then(c,c)}else{i.abortSet.delete(i),g.status=4;var s=i.blockedBoundary,u=I,d=ze(l,u);if(null===s?De(l,u):(s.pendingTasks--,s.forceClientRender||(s.forceClientRender=!0,s.errorDigest=d,s.parentFlushed&&l.clientRenderedBoundaries.push(s))),l.allPendingTasks--,0===l.allPendingTasks)(0,l.onAllReady)()}}}}a.splice(0,r),null!==e.destination&&gt(e,e.destination)}catch(I){ze(e,I),De(e,I)}finally{Ne=o,Fe.current=n,n===Ye&&ge(t)}}}function ot(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var o=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=o.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var a=!0;o=n.chunks;var i=0;n=n.children;for(var l=0;l<n.length;l++){for(a=n[l];i<a.index;i++)t.push(o[i]);a=rt(e,t,a)}for(;i<o.length-1;i++)t.push(o[i]);return i<o.length&&(a=t.push(o[i])),a;default:throw Error(r(390))}}function rt(e,t,n){var o=n.boundary;if(null===o)return ot(e,t,n);if(o.parentFlushed=!0,o.forceClientRender)return e.responseState.generateStaticMarkup||(o=o.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),o&&(t.push(' data-dgst="'),o=A(o),t.push(o),t.push('"')),t.push("></template>")),ot(e,t,n),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<o.pendingTasks){o.rootSegmentID=e.nextSegmentId++,0<o.completedSegments.length&&e.partialBoundaries.push(o);var a=e.responseState,i=a.nextSuspenseID++;return a=a.boundaryPrefix+i.toString(16),o=o.id=a,R(t,e.responseState,o),ot(e,t,n),t.push("\x3c!--/$--\x3e")}if(o.byteSize>e.progressiveChunkSize)return o.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(o),R(t,e.responseState,o.id),ot(e,t,n),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(n=o.completedSegments).length)throw Error(r(391));return rt(e,t,n[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function at(e,t,n){return function(e,t,n,o){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=o.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=o.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=o.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=o.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=o.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=o.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=o.toString(16),e.push(t),e.push('">');default:throw Error(r(397))}}(t,e.responseState,n.formatContext,n.id),rt(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(r(397))}}(t,n.formatContext)}function it(e,t,n){for(var o=n.completedSegments,a=0;a<o.length;a++)lt(e,t,n,o[a]);if(o.length=0,e=e.responseState,o=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===o)throw Error(r(395));return n=n.toString(16),t.push(o),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function lt(e,t,n,o){if(2===o.status)return!0;var a=o.id;if(-1===a){if(-1===(o.id=n.rootSegmentID))throw Error(r(392));return at(e,t,o)}return at(e,t,o),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),a=a.toString(16),t.push(a),t.push('","'),t.push(e.placeholderPrefix),t.push(a),t.push('")<\/script>')}function gt(e,t){try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){rt(e,t,n),e.completedRootSegment=null;var o=e.responseState.bootstrapChunks;for(n=0;n<o.length-1;n++)t.push(o[n]);n<o.length&&t.push(o[n])}var a,i=e.clientRenderedBoundaries;for(a=0;a<i.length;a++){var l=i[a];o=t;var g=e.responseState,c=l.id,s=l.errorDigest,u=l.errorMessage,d=l.errorComponentStack;if(o.push(g.startInlineScript),g.sentClientRenderFunction?o.push('$RX("'):(g.sentClientRenderFunction=!0,o.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===c)throw Error(r(395));if(o.push(c),o.push('"'),s||u||d){o.push(",");var I=J(s||"");o.push(I)}if(u||d){o.push(",");var C=J(u||"");o.push(C)}if(d){o.push(",");var m=J(d);o.push(m)}if(!o.push(")<\/script>"))return e.destination=null,a++,void i.splice(0,a)}i.splice(0,a);var p=e.completedBoundaries;for(a=0;a<p.length;a++)if(!it(e,t,p[a]))return e.destination=null,a++,void p.splice(0,a);p.splice(0,a);var A=e.partialBoundaries;for(a=0;a<A.length;a++){var h=A[a];e:{i=e,l=t;var b=h.completedSegments;for(g=0;g<b.length;g++)if(!lt(i,l,h,b[g])){g++,b.splice(0,g);var f=!1;break e}b.splice(0,g),f=!0}if(!f)return e.destination=null,a++,void A.splice(0,a)}A.splice(0,a);var v=e.completedBoundaries;for(a=0;a<v.length;a++)if(!it(e,t,v[a]))return e.destination=null,a++,void v.splice(0,a);v.splice(0,a)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function ct(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return $e(n,e,t)})),n.clear(),null!==e.destination&&gt(e,e.destination)}catch(o){ze(e,o),De(e,o)}}function st(){}function ut(e,t,n,o){var a=!1,i=null,l="",g={push:function(e){return null!==e&&(l+=e),!0},destroy:function(e){a=!0,i=e}},c=!1;if(e=function(e,t,n,o,r,a,i,l,g){var c=[],s=new Set;return(n=Le(t={destination:null,responseState:t,progressiveChunkSize:void 0===o?12800:o,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:s,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===r?Ee:r,onAllReady:void 0===a?Ke:a,onShellReady:void 0===i?Ke:i,onShellError:void 0===l?Ke:l,onFatalError:void 0===g?Ke:g},0,null,n,!1,!1)).parentFlushed=!0,e=Me(t,e,null,n,s,ee,null,ue),c.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,st,void 0,(function(){c=!0}),void 0,void 0),nt(e),ct(e,o),1===e.status)e.status=2,g.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=g;try{gt(e,g)}catch(s){ze(e,s),De(e,s)}}if(a)throw i;if(!c)throw Error(r(426));return l}t.renderToNodeStream=function(){throw Error(r(207))},t.renderToStaticMarkup=function(e,t){return ut(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.renderToStaticNodeStream=function(){throw Error(r(208))},t.renderToString=function(e,t){return ut(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.version="18.2.0"},424:function(e,t,n){"use strict";var o=n(791);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=null,i=0;function l(e,t){if(0!==t.length)if(512<t.length)0<i&&(e.enqueue(new Uint8Array(a.buffer,0,i)),a=new Uint8Array(512),i=0),e.enqueue(t);else{var n=a.length-i;n<t.length&&(0===n?e.enqueue(a):(a.set(t.subarray(0,n),i),e.enqueue(a),t=t.subarray(n)),a=new Uint8Array(512),i=0),a.set(t,i),i+=t.length}}function g(e,t){return l(e,t),!0}function c(e){a&&0<i&&(e.enqueue(new Uint8Array(a.buffer,0,i)),a=null,i=0)}var s=new TextEncoder;function u(e){return s.encode(e)}function d(e){return s.encode(e)}function I(e,t){"function"===typeof e.error?e.error(t):e.close()}var C=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},A={};function h(e){return!!C.call(A,e)||!C.call(p,e)&&(m.test(e)?A[e]=!0:(p[e]=!0,!1))}function b(e,t,n,o,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new b(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new b(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new b(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new b(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new b(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new b(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);f[t]=new b(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);f[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);f[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));var Z={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G=["Webkit","ms","Moz","O"];Object.keys(Z).forEach((function(e){G.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Z[t]=Z[e]}))}));var S=/["'&<>]/;function B(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=S.exec(e);if(t){var n,o="",r=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}r!==n&&(o+=e.substring(r,n)),r=n+1,o+=t}e=r!==n?o+e.substring(r,n):o}return e}var k=/([A-Z])/g,V=/^ms-/,W=Array.isArray,w=d("<script>"),R=d("<\/script>"),X=d('<script src="'),J=d('<script type="module" src="'),x=d('" async=""><\/script>'),H=/(<\/|<)(s)(cript)/gi;function Y(e,t,n,o){return t+("s"===n?"\\u0073":"\\u0053")+o}function N(e,t){return{insertionMode:e,selectedValue:t}}var F=d("\x3c!-- --\x3e");function E(e,t,n,o){return""===t?o:(o&&e.push(F),e.push(u(B(t))),!0)}var K=new Map,M=d(' style="'),L=d(":"),z=d(";");function D(e,t,n){if("object"!==typeof n)throw Error(r(62));for(var o in t=!0,n)if(C.call(n,o)){var a=n[o];if(null!=a&&"boolean"!==typeof a&&""!==a){if(0===o.indexOf("--")){var i=u(B(o));a=u(B((""+a).trim()))}else{i=o;var l=K.get(i);void 0!==l||(l=d(B(i.replace(k,"-$1").toLowerCase().replace(V,"-ms-"))),K.set(i,l)),i=l,a="number"===typeof a?0===a||C.call(Z,o)?u(""+a):u(a+"px"):u(B((""+a).trim()))}t?(t=!1,e.push(M,i,L,a)):e.push(z,i,L,a)}}t||e.push(Q)}var T=d(" "),U=d('="'),Q=d('"'),j=d('=""');function O(e,t,n,o){switch(n){case"style":return void D(e,t,o);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=f.hasOwnProperty(n)?f[n]:null)){switch(typeof o){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=u(t.attributeName),t.type){case 3:o&&e.push(T,n,j);break;case 4:!0===o?e.push(T,n,j):!1!==o&&e.push(T,n,U,u(B(o)),Q);break;case 5:isNaN(o)||e.push(T,n,U,u(B(o)),Q);break;case 6:!isNaN(o)&&1<=o&&e.push(T,n,U,u(B(o)),Q);break;default:t.sanitizeURL&&(o=""+o),e.push(T,n,U,u(B(o)),Q)}}else if(h(n)){switch(typeof o){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(T,u(n),U,u(B(o)),Q)}}var P=d(">"),q=d("/>");function _(e,t,n){if(null!=t){if(null!=n)throw Error(r(60));if("object"!==typeof t||!("__html"in t))throw Error(r(61));null!==(t=t.__html)&&void 0!==t&&e.push(u(""+t))}}var $=d(' selected=""');function ee(e,t,n,o){e.push(re(n));var r,a=n=null;for(r in t)if(C.call(t,r)){var i=t[r];if(null!=i)switch(r){case"children":n=i;break;case"dangerouslySetInnerHTML":a=i;break;default:O(e,o,r,i)}}return e.push(P),_(e,a,n),"string"===typeof n?(e.push(u(B(n))),null):n}var te=d("\n"),ne=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,oe=new Map;function re(e){var t=oe.get(e);if(void 0===t){if(!ne.test(e))throw Error(r(65,e));t=d("<"+e),oe.set(e,t)}return t}var ae=d("<!DOCTYPE html>");function ie(e,t,n,a,i){switch(t){case"select":e.push(re("select"));var l=null,g=null;for(I in n)if(C.call(n,I)){var c=n[I];if(null!=c)switch(I){case"children":l=c;break;case"dangerouslySetInnerHTML":g=c;break;case"defaultValue":case"value":break;default:O(e,a,I,c)}}return e.push(P),_(e,g,l),l;case"option":g=i.selectedValue,e.push(re("option"));var s=c=null,d=null,I=null;for(l in n)if(C.call(n,l)){var m=n[l];if(null!=m)switch(l){case"children":c=m;break;case"selected":d=m;break;case"dangerouslySetInnerHTML":I=m;break;case"value":s=m;default:O(e,a,l,m)}}if(null!=g)if(n=null!==s?""+s:function(e){var t="";return o.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(c),W(g)){for(a=0;a<g.length;a++)if(""+g[a]===n){e.push($);break}}else""+g===n&&e.push($);else d&&e.push($);return e.push(P),_(e,I,c),c;case"textarea":for(c in e.push(re("textarea")),I=g=l=null,n)if(C.call(n,c)&&null!=(s=n[c]))switch(c){case"children":I=s;break;case"value":l=s;break;case"defaultValue":g=s;break;case"dangerouslySetInnerHTML":throw Error(r(91));default:O(e,a,c,s)}if(null===l&&null!==g&&(l=g),e.push(P),null!=I){if(null!=l)throw Error(r(92));if(W(I)&&1<I.length)throw Error(r(93));l=""+I}return"string"===typeof l&&"\n"===l[0]&&e.push(te),null!==l&&e.push(u(B(""+l))),null;case"input":for(g in e.push(re("input")),s=I=c=l=null,n)if(C.call(n,g)&&null!=(d=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,"input"));case"defaultChecked":s=d;break;case"defaultValue":c=d;break;case"checked":I=d;break;case"value":l=d;break;default:O(e,a,g,d)}return null!==I?O(e,a,"checked",I):null!==s&&O(e,a,"checked",s),null!==l?O(e,a,"value",l):null!==c&&O(e,a,"value",c),e.push(q),null;case"menuitem":for(var p in e.push(re("menuitem")),n)if(C.call(n,p)&&null!=(l=n[p]))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(r(400));default:O(e,a,p,l)}return e.push(P),null;case"title":for(m in e.push(re("title")),l=null,n)if(C.call(n,m)&&null!=(g=n[m]))switch(m){case"children":l=g;break;case"dangerouslySetInnerHTML":throw Error(r(434));default:O(e,a,m,g)}return e.push(P),l;case"listing":case"pre":for(s in e.push(re(t)),g=l=null,n)if(C.call(n,s)&&null!=(c=n[s]))switch(s){case"children":l=c;break;case"dangerouslySetInnerHTML":g=c;break;default:O(e,a,s,c)}if(e.push(P),null!=g){if(null!=l)throw Error(r(60));if("object"!==typeof g||!("__html"in g))throw Error(r(61));null!==(n=g.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push(te,u(n)):e.push(u(""+n)))}return"string"===typeof l&&"\n"===l[0]&&e.push(te),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var A in e.push(re(t)),n)if(C.call(n,A)&&null!=(l=n[A]))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,t));default:O(e,a,A,l)}return e.push(q),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ee(e,n,t,a);case"html":return 0===i.insertionMode&&e.push(ae),ee(e,n,t,a);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return ee(e,n,t,a);for(d in e.push(re(t)),g=l=null,n)if(C.call(n,d)&&null!=(c=n[d]))switch(d){case"children":l=c;break;case"dangerouslySetInnerHTML":g=c;break;case"style":D(e,a,c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:h(d)&&"function"!==typeof c&&"symbol"!==typeof c&&e.push(T,u(d),U,u(B(c)),Q)}return e.push(P),_(e,g,l),l}}var le=d("</"),ge=d(">"),ce=d('<template id="'),se=d('"></template>'),ue=d("\x3c!--$--\x3e"),de=d('\x3c!--$?--\x3e<template id="'),Ie=d('"></template>'),Ce=d("\x3c!--$!--\x3e"),me=d("\x3c!--/$--\x3e"),pe=d("<template"),Ae=d('"'),he=d(' data-dgst="');d(' data-msg="'),d(' data-stck="');var be=d("></template>");function fe(e,t,n){if(l(e,de),null===n)throw Error(r(395));return l(e,n),g(e,Ie)}var ve=d('<div hidden id="'),ye=d('">'),Ze=d("</div>"),Ge=d('<svg aria-hidden="true" style="display:none" id="'),Se=d('">'),Be=d("</svg>"),ke=d('<math aria-hidden="true" style="display:none" id="'),Ve=d('">'),We=d("</math>"),we=d('<table hidden id="'),Re=d('">'),Xe=d("</table>"),Je=d('<table hidden><tbody id="'),xe=d('">'),He=d("</tbody></table>"),Ye=d('<table hidden><tr id="'),Ne=d('">'),Fe=d("</tr></table>"),Ee=d('<table hidden><colgroup id="'),Ke=d('">'),Me=d("</colgroup></table>");var Le=d('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),ze=d('$RS("'),De=d('","'),Te=d('")<\/script>'),Ue=d('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Qe=d('$RC("'),je=d('","'),Oe=d('")<\/script>'),Pe=d('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),qe=d('$RX("'),_e=d('"'),$e=d(")<\/script>"),et=d(","),tt=/[<\u2028\u2029]/g;function nt(e){return JSON.stringify(e).replace(tt,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var ot=Object.assign,rt=Symbol.for("react.element"),at=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),lt=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),st=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),pt=Symbol.for("react.scope"),At=Symbol.for("react.debug_trace_mode"),ht=Symbol.for("react.legacy_hidden"),bt=Symbol.for("react.default_value"),ft=Symbol.iterator;function vt(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case it:return"Fragment";case at:return"Portal";case gt:return"Profiler";case lt:return"StrictMode";case dt:return"Suspense";case It:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case st:return(e.displayName||"Context")+".Consumer";case ct:return(e._context.displayName||"Context")+".Provider";case ut:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Ct:return null!==(t=e.displayName||null)?t:vt(e.type)||"Memo";case mt:t=e._payload,e=e._init;try{return vt(e(t))}catch(n){}}return null}var yt={};function Zt(e,t){if(!(e=e.contextTypes))return yt;var n,o={};for(n in e)o[n]=t[n];return o}var Gt=null;function St(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(r(401))}else{if(null===n)throw Error(r(401));St(e,n)}t.context._currentValue=t.value}}function Bt(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&Bt(e)}function kt(e){var t=e.parent;null!==t&&kt(t),e.context._currentValue=e.value}function Vt(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(r(402));e.depth===t.depth?St(e,t):Vt(e,t)}function Wt(e,t){var n=t.parent;if(null===n)throw Error(r(402));e.depth===n.depth?St(e,n):Wt(e,n),t.context._currentValue=t.value}function wt(e){var t=Gt;t!==e&&(null===t?kt(e):null===e?Bt(t):t.depth===e.depth?St(t,e):t.depth>e.depth?Vt(t,e):Wt(t,e),Gt=e)}var Rt={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Xt(e,t,n,o){var r=void 0!==e.state?e.state:null;e.updater=Rt,e.props=n,e.state=r;var a={queue:[],replace:!1};e._reactInternals=a;var i=t.contextType;if(e.context="object"===typeof i&&null!==i?i._currentValue:o,"function"===typeof(i=t.getDerivedStateFromProps)&&(r=null===(i=i(n,r))||void 0===i?r:ot({},r,i),e.state=r),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&Rt.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,i=a.replace,a.queue=null,a.replace=!1,i&&1===t.length)e.state=t[0];else{for(a=i?t[0]:e.state,r=!0,i=i?1:0;i<t.length;i++){var l=t[i];null!=(l="function"===typeof l?l.call(e,a,n,o):l)&&(r?(r=!1,a=ot({},a,l)):ot(a,l))}e.state=a}else a.queue=null}var Jt={id:1,overflow:""};function xt(e,t,n){var o=e.id;e=e.overflow;var r=32-Ht(o)-1;o&=~(1<<r),n+=1;var a=32-Ht(t)+r;if(30<a){var i=r-r%5;return a=(o&(1<<i)-1).toString(32),o>>=i,r-=i,{id:1<<32-Ht(t)+r|n<<r|o,overflow:a+e}}return{id:1<<a|n<<r|o,overflow:e}}var Ht=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Yt(e)/Nt|0)|0},Yt=Math.log,Nt=Math.LN2;var Ft="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Et=null,Kt=null,Mt=null,Lt=null,zt=!1,Dt=!1,Tt=0,Ut=null,Qt=0;function jt(){if(null===Et)throw Error(r(321));return Et}function Ot(){if(0<Qt)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function Pt(){return null===Lt?null===Mt?(zt=!1,Mt=Lt=Ot()):(zt=!0,Lt=Mt):null===Lt.next?(zt=!1,Lt=Lt.next=Ot()):(zt=!0,Lt=Lt.next),Lt}function qt(){Kt=Et=null,Dt=!1,Mt=null,Qt=0,Lt=Ut=null}function _t(e,t){return"function"===typeof t?t(e):t}function $t(e,t,n){if(Et=jt(),Lt=Pt(),zt){var o=Lt.queue;if(t=o.dispatch,null!==Ut&&void 0!==(n=Ut.get(o))){Ut.delete(o),o=Lt.memoizedState;do{o=e(o,n.action),n=n.next}while(null!==n);return Lt.memoizedState=o,[o,t]}return[Lt.memoizedState,t]}return e=e===_t?"function"===typeof t?t():t:void 0!==n?n(t):t,Lt.memoizedState=e,e=(e=Lt.queue={last:null,dispatch:null}).dispatch=tn.bind(null,Et,e),[Lt.memoizedState,e]}function en(e,t){if(Et=jt(),t=void 0===t?null:t,null!==(Lt=Pt())){var n=Lt.memoizedState;if(null!==n&&null!==t){var o=n[1];e:if(null===o)o=!1;else{for(var r=0;r<o.length&&r<t.length;r++)if(!Ft(t[r],o[r])){o=!1;break e}o=!0}if(o)return n[0]}}return e=e(),Lt.memoizedState=[e,t],e}function tn(e,t,n){if(25<=Qt)throw Error(r(301));if(e===Et)if(Dt=!0,e={action:n,next:null},null===Ut&&(Ut=new Map),void 0===(n=Ut.get(t)))Ut.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function nn(){throw Error(r(394))}function on(){}var rn={readContext:function(e){return e._currentValue},useContext:function(e){return jt(),e._currentValue},useMemo:en,useReducer:$t,useRef:function(e){Et=jt();var t=(Lt=Pt()).memoizedState;return null===t?(e={current:e},Lt.memoizedState=e):t},useState:function(e){return $t(_t,e)},useInsertionEffect:on,useLayoutEffect:function(){},useCallback:function(e,t){return en((function(){return e}),t)},useImperativeHandle:on,useEffect:on,useDebugValue:on,useDeferredValue:function(e){return jt(),e},useTransition:function(){return jt(),[!1,nn]},useId:function(){var e=Kt.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-Ht(e)-1)).toString(32)+t;var n=an;if(null===n)throw Error(r(404));return t=Tt++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return jt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(r(407));return n()}},an=null,ln=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function gn(e){return console.error(e),null}function cn(){}function sn(e,t,n,o,r,a,i,l){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var g={node:t,ping:function(){var t=e.pingedTasks;t.push(g),1===t.length&&Sn(e)},blockedBoundary:n,blockedSegment:o,abortSet:r,legacyContext:a,context:i,treeContext:l};return r.add(g),g}function un(e,t,n,o,r,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:o,boundary:n,lastPushedText:r,textEmbedded:a}}function dn(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function In(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,I(e.destination,t)):(e.status=1,e.fatalError=t)}function Cn(e,t,n,o,r){for(Et={},Kt=t,Tt=0,e=n(o,r);Dt;)Dt=!1,Tt=0,Qt+=1,Lt=null,e=n(o,r);return qt(),e}function mn(e,t,n,o){var a=n.render(),i=o.childContextTypes;if(null!==i&&void 0!==i){var l=t.legacyContext;if("function"!==typeof n.getChildContext)o=l;else{for(var g in n=n.getChildContext())if(!(g in i))throw Error(r(108,vt(o)||"Unknown",g));o=ot({},l,n)}t.legacyContext=o,hn(e,t,a),t.legacyContext=l}else hn(e,t,a)}function pn(e,t){if(e&&e.defaultProps){for(var n in t=ot({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function An(e,t,n,o,a){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){a=Zt(n,t.legacyContext);var i=n.contextType;Xt(i=new n(o,"object"===typeof i&&null!==i?i._currentValue:a),n,o,a),mn(e,t,i,n)}else{a=Cn(e,t,n,o,i=Zt(n,t.legacyContext));var l=0!==Tt;if("object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof)Xt(a,n,o,i),mn(e,t,a,n);else if(l){o=t.treeContext,t.treeContext=xt(o,1,0);try{hn(e,t,a)}finally{t.treeContext=o}}else hn(e,t,a)}else{if("string"!==typeof n){switch(n){case ht:case At:case lt:case gt:case it:case It:return void hn(e,t,o.children);case pt:throw Error(r(343));case dt:e:{n=t.blockedBoundary,a=t.blockedSegment,i=o.fallback,o=o.children;var g={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:l=new Set,errorDigest:null},c=un(0,a.chunks.length,g,a.formatContext,!1,!1);a.children.push(c),a.lastPushedText=!1;var s=un(0,0,null,a.formatContext,!1,!1);s.parentFlushed=!0,t.blockedBoundary=g,t.blockedSegment=s;try{if(fn(e,t,o),s.lastPushedText&&s.textEmbedded&&s.chunks.push(F),s.status=1,Zn(g,s),0===g.pendingTasks)break e}catch(d){s.status=4,g.forceClientRender=!0,g.errorDigest=dn(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=a}t=sn(e,i,n,c,l,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case ut:if(o=Cn(e,t,n.render,o,a),0!==Tt){n=t.treeContext,t.treeContext=xt(n,1,0);try{hn(e,t,o)}finally{t.treeContext=n}}else hn(e,t,o);return;case Ct:return void An(e,t,n=n.type,o=pn(n,o),a);case ct:if(a=o.children,n=n._context,o=o.value,i=n._currentValue,n._currentValue=o,Gt=o={parent:l=Gt,depth:null===l?0:l.depth+1,context:n,parentValue:i,value:o},t.context=o,hn(e,t,a),null===(e=Gt))throw Error(r(403));return o=e.parentValue,e.context._currentValue=o===bt?e.context._defaultValue:o,e=Gt=e.parent,void(t.context=e);case st:return void hn(e,t,o=(o=o.children)(n._currentValue));case mt:return void An(e,t,n=(a=n._init)(n._payload),o=pn(n,o),void 0)}throw Error(r(130,null==n?n:typeof n,""))}switch(i=ie((a=t.blockedSegment).chunks,n,o,e.responseState,a.formatContext),a.lastPushedText=!1,l=a.formatContext,a.formatContext=function(e,t,n){switch(t){case"select":return N(1,null!=n.value?n.value:n.defaultValue);case"svg":return N(2,null);case"math":return N(3,null);case"foreignObject":return N(1,null);case"table":return N(4,null);case"thead":case"tbody":case"tfoot":return N(5,null);case"colgroup":return N(7,null);case"tr":return N(6,null)}return 4<=e.insertionMode||0===e.insertionMode?N(1,null):e}(l,n,o),fn(e,t,i),a.formatContext=l,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:a.chunks.push(le,u(n),ge)}a.lastPushedText=!1}}function hn(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case rt:return void An(e,t,n.type,n.props,n.ref);case at:throw Error(r(257));case mt:var o=n._init;return void hn(e,t,n=o(n._payload))}if(W(n))return void bn(e,t,n);if(null===n||"object"!==typeof n?o=null:o="function"===typeof(o=ft&&n[ft]||n["@@iterator"])?o:null,o&&(o=o.call(n))){if(!(n=o.next()).done){var a=[];do{a.push(n.value),n=o.next()}while(!n.done);bn(e,t,a)}return}throw e=Object.prototype.toString.call(n),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(o=t.blockedSegment).lastPushedText=E(t.blockedSegment.chunks,n,e.responseState,o.lastPushedText):"number"===typeof n&&((o=t.blockedSegment).lastPushedText=E(t.blockedSegment.chunks,""+n,e.responseState,o.lastPushedText))}function bn(e,t,n){for(var o=n.length,r=0;r<o;r++){var a=t.treeContext;t.treeContext=xt(a,o,r);try{fn(e,t,n[r])}finally{t.treeContext=a}}}function fn(e,t,n){var o=t.blockedSegment.formatContext,r=t.legacyContext,a=t.context;try{return hn(e,t,n)}catch(g){if(qt(),"object"!==typeof g||null===g||"function"!==typeof g.then)throw t.blockedSegment.formatContext=o,t.legacyContext=r,t.context=a,wt(a),g;n=g;var i=t.blockedSegment,l=un(0,i.chunks.length,null,i.formatContext,i.lastPushedText,!0);i.children.push(l),i.lastPushedText=!1,e=sn(e,t.node,t.blockedBoundary,l,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=o,t.legacyContext=r,t.context=a,wt(a)}}function vn(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Gn(this,t,e)}function yn(e,t,n){var o=e.blockedBoundary;e.blockedSegment.status=3,null===o?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(o.pendingTasks--,o.forceClientRender||(o.forceClientRender=!0,e=void 0===n?Error(r(432)):n,o.errorDigest=t.onError(e),o.parentFlushed&&t.clientRenderedBoundaries.push(o)),o.fallbackAbortableTasks.forEach((function(e){return yn(e,t,n)})),o.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(o=t.onAllReady)())}function Zn(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&Zn(e,n)}else e.completedSegments.push(t)}function Gn(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(r(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=cn,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&Zn(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(vn,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(Zn(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function Sn(e){if(2!==e.status){var t=Gt,n=ln.current;ln.current=rn;var o=an;an=e.responseState;try{var r,a=e.pingedTasks;for(r=0;r<a.length;r++){var i=a[r],l=e,g=i.blockedSegment;if(0===g.status){wt(i.context);try{hn(l,i,i.node),g.lastPushedText&&g.textEmbedded&&g.chunks.push(F),i.abortSet.delete(i),g.status=1,Gn(l,i.blockedBoundary,g)}catch(I){if(qt(),"object"===typeof I&&null!==I&&"function"===typeof I.then){var c=i.ping;I.then(c,c)}else{i.abortSet.delete(i),g.status=4;var s=i.blockedBoundary,u=I,d=dn(l,u);if(null===s?In(l,u):(s.pendingTasks--,s.forceClientRender||(s.forceClientRender=!0,s.errorDigest=d,s.parentFlushed&&l.clientRenderedBoundaries.push(s))),l.allPendingTasks--,0===l.allPendingTasks)(0,l.onAllReady)()}}}}a.splice(0,r),null!==e.destination&&Rn(e,e.destination)}catch(I){dn(e,I),In(e,I)}finally{an=o,ln.current=n,n===rn&&wt(t)}}}function Bn(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var o=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,l(t,ce),l(t,e.placeholderPrefix),l(t,e=u(o.toString(16))),g(t,se);case 1:n.status=2;var a=!0;o=n.chunks;var i=0;n=n.children;for(var c=0;c<n.length;c++){for(a=n[c];i<a.index;i++)l(t,o[i]);a=kn(e,t,a)}for(;i<o.length-1;i++)l(t,o[i]);return i<o.length&&(a=g(t,o[i])),a;default:throw Error(r(390))}}function kn(e,t,n){var o=n.boundary;if(null===o)return Bn(e,t,n);if(o.parentFlushed=!0,o.forceClientRender)o=o.errorDigest,g(t,Ce),l(t,pe),o&&(l(t,he),l(t,u(B(o))),l(t,Ae)),g(t,be),Bn(e,t,n);else if(0<o.pendingTasks){o.rootSegmentID=e.nextSegmentId++,0<o.completedSegments.length&&e.partialBoundaries.push(o);var a=e.responseState,i=a.nextSuspenseID++;a=d(a.boundaryPrefix+i.toString(16)),o=o.id=a,fe(t,e.responseState,o),Bn(e,t,n)}else if(o.byteSize>e.progressiveChunkSize)o.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(o),fe(t,e.responseState,o.id),Bn(e,t,n);else{if(g(t,ue),1!==(n=o.completedSegments).length)throw Error(r(391));kn(e,t,n[0])}return g(t,me)}function Vn(e,t,n){return function(e,t,n,o){switch(n.insertionMode){case 0:case 1:return l(e,ve),l(e,t.segmentPrefix),l(e,u(o.toString(16))),g(e,ye);case 2:return l(e,Ge),l(e,t.segmentPrefix),l(e,u(o.toString(16))),g(e,Se);case 3:return l(e,ke),l(e,t.segmentPrefix),l(e,u(o.toString(16))),g(e,Ve);case 4:return l(e,we),l(e,t.segmentPrefix),l(e,u(o.toString(16))),g(e,Re);case 5:return l(e,Je),l(e,t.segmentPrefix),l(e,u(o.toString(16))),g(e,xe);case 6:return l(e,Ye),l(e,t.segmentPrefix),l(e,u(o.toString(16))),g(e,Ne);case 7:return l(e,Ee),l(e,t.segmentPrefix),l(e,u(o.toString(16))),g(e,Ke);default:throw Error(r(397))}}(t,e.responseState,n.formatContext,n.id),kn(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return g(e,Ze);case 2:return g(e,Be);case 3:return g(e,We);case 4:return g(e,Xe);case 5:return g(e,He);case 6:return g(e,Fe);case 7:return g(e,Me);default:throw Error(r(397))}}(t,n.formatContext)}function Wn(e,t,n){for(var o=n.completedSegments,a=0;a<o.length;a++)wn(e,t,n,o[a]);if(o.length=0,e=e.responseState,o=n.id,n=n.rootSegmentID,l(t,e.startInlineScript),e.sentCompleteBoundaryFunction?l(t,Qe):(e.sentCompleteBoundaryFunction=!0,l(t,Ue)),null===o)throw Error(r(395));return n=u(n.toString(16)),l(t,o),l(t,je),l(t,e.segmentPrefix),l(t,n),g(t,Oe)}function wn(e,t,n,o){if(2===o.status)return!0;var a=o.id;if(-1===a){if(-1===(o.id=n.rootSegmentID))throw Error(r(392));return Vn(e,t,o)}return Vn(e,t,o),l(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?l(t,ze):(e.sentCompleteSegmentFunction=!0,l(t,Le)),l(t,e.segmentPrefix),l(t,a=u(a.toString(16))),l(t,De),l(t,e.placeholderPrefix),l(t,a),g(t,Te)}function Rn(e,t){a=new Uint8Array(512),i=0;try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){kn(e,t,n),e.completedRootSegment=null;var o=e.responseState.bootstrapChunks;for(n=0;n<o.length-1;n++)l(t,o[n]);n<o.length&&g(t,o[n])}var s,d=e.clientRenderedBoundaries;for(s=0;s<d.length;s++){var I=d[s];o=t;var C=e.responseState,m=I.id,p=I.errorDigest,A=I.errorMessage,h=I.errorComponentStack;if(l(o,C.startInlineScript),C.sentClientRenderFunction?l(o,qe):(C.sentClientRenderFunction=!0,l(o,Pe)),null===m)throw Error(r(395));if(l(o,m),l(o,_e),(p||A||h)&&(l(o,et),l(o,u(nt(p||"")))),(A||h)&&(l(o,et),l(o,u(nt(A||"")))),h&&(l(o,et),l(o,u(nt(h)))),!g(o,$e))return e.destination=null,s++,void d.splice(0,s)}d.splice(0,s);var b=e.completedBoundaries;for(s=0;s<b.length;s++)if(!Wn(e,t,b[s]))return e.destination=null,s++,void b.splice(0,s);b.splice(0,s),c(t),a=new Uint8Array(512),i=0;var f=e.partialBoundaries;for(s=0;s<f.length;s++){var v=f[s];e:{d=e,I=t;var y=v.completedSegments;for(C=0;C<y.length;C++)if(!wn(d,I,v,y[C])){C++,y.splice(0,C);var Z=!1;break e}y.splice(0,C),Z=!0}if(!Z)return e.destination=null,s++,void f.splice(0,s)}f.splice(0,s);var G=e.completedBoundaries;for(s=0;s<G.length;s++)if(!Wn(e,t,G[s]))return e.destination=null,s++,void G.splice(0,s);G.splice(0,s)}finally{c(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function Xn(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return yn(n,e,t)})),n.clear(),null!==e.destination&&Rn(e,e.destination)}catch(o){dn(e,o),In(e,o)}}t.renderToReadableStream=function(e,t){return new Promise((function(n,o){var r,a,i=new Promise((function(e,t){a=e,r=t})),l=function(e,t,n,o,r,a,i,l,g){var c=[],s=new Set;return(n=un(t={destination:null,responseState:t,progressiveChunkSize:void 0===o?12800:o,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:s,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===r?gn:r,onAllReady:void 0===a?cn:a,onShellReady:void 0===i?cn:i,onShellError:void 0===l?cn:l,onFatalError:void 0===g?cn:g},0,null,n,!1,!1)).parentFlushed=!0,e=sn(t,e,null,n,s,yt,null,Jt),c.push(e),t}(e,function(e,t,n,o,r){e=void 0===e?"":e,t=void 0===t?w:d('<script nonce="'+B(t)+'">');var a=[];if(void 0!==n&&a.push(t,u((""+n).replace(H,Y)),R),void 0!==o)for(n=0;n<o.length;n++)a.push(X,u(B(o[n])),x);if(void 0!==r)for(o=0;o<r.length;o++)a.push(J,u(B(r[o])),x);return{bootstrapChunks:a,startInlineScript:t,placeholderPrefix:d(e+"P:"),segmentPrefix:d(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return N("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===l.status)l.status=2,I(e,l.fatalError);else if(2!==l.status&&null===l.destination){l.destination=e;try{Rn(l,e)}catch(t){dn(l,t),In(l,t)}}},cancel:function(){Xn(l)}},{highWaterMark:0});e.allReady=i,n(e)}),(function(e){i.catch((function(){})),o(e)}),r);if(t&&t.signal){var g=t.signal;g.addEventListener("abort",(function e(){Xn(l,g.reason),g.removeEventListener("abort",e)}))}Sn(l)}))},t.version="18.2.0"},463:function(e,t,n){"use strict";var o=n(791),r=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function g(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var s=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},C={};function m(e,t,n,o,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){p[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];p[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){p[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){p[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){p[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){p[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){p[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){p[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){p[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var A=/[\-:]([a-z])/g;function h(e){return e[1].toUpperCase()}function b(e,t,n,o){var r=p.hasOwnProperty(t)?p[t]:null;(null!==r?0!==r.type:o||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,o){if(null===t||"undefined"===typeof t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,o)&&(n=null),o||null===r?function(e){return!!u.call(C,e)||!u.call(I,e)&&(d.test(e)?C[e]=!0:(I[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,o=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(A,h);p[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(A,h);p[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(A,h);p[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){p[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),p.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){p[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var f=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v=Symbol.for("react.element"),y=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),k=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),X=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var J=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var x=Symbol.iterator;function H(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}var Y,N=Object.assign;function F(e){if(void 0===Y)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Y=t&&t[1]||""}return"\n"+Y+e}var E=!1;function K(e,t){if(!e||E)return"";E=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var o=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){o=c}e.call(t.prototype)}else{try{throw Error()}catch(c){o=c}e()}}catch(c){if(c&&o&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),a=o.stack.split("\n"),i=r.length-1,l=a.length-1;1<=i&&0<=l&&r[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(r[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||r[i]!==a[l]){var g="\n"+r[i].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}}while(1<=i&&0<=l);break}}}finally{E=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function M(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 1:return e=K(e.type,!0);default:return""}}function L(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Z:return"Fragment";case y:return"Portal";case S:return"Profiler";case G:return"StrictMode";case W:return"Suspense";case w:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case B:return(e._context.displayName||"Context")+".Provider";case V:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(t);case 8:return t===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function D(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function T(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function U(e){e._valueTracker||(e._valueTracker=function(e){var t=T(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=T(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function j(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function O(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function P(e,t){var n=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;n=D(null!=t.value?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function _(e,t){q(e,t);var n=D(t.value),o=t.type;if(null!=n)"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,D(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!("submit"!==o&&"reset"!==o||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&j(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+D(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(o&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:D(n)}}function ae(e,t){var n=D(t.value),o=D(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=""+o)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,se,ue=(se=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,o){MSApp.execUnsafeLocalFunction((function(){return se(e,t)}))}:se);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ie={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ce=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ie.hasOwnProperty(e)&&Ie[e]?(""+t).trim():t+"px"}function pe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var o=0===n.indexOf("--"),r=me(n,t[n],o);"float"===n&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}Object.keys(Ie).forEach((function(e){Ce.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ie[t]=Ie[e]}))}));var Ae=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function he(e,t){if(t){if(Ae[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fe=null;function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ye=null,Ze=null,Ge=null;function Se(e){if(e=fr(e)){if("function"!==typeof ye)throw Error(a(280));var t=e.stateNode;t&&(t=yr(t),ye(e.stateNode,e.type,t))}}function Be(e){Ze?Ge?Ge.push(e):Ge=[e]:Ze=e}function ke(){if(Ze){var e=Ze,t=Ge;if(Ge=Ze=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ve(e,t){return e(t)}function We(){}var we=!1;function Re(e,t,n){if(we)return e(t,n);we=!0;try{return Ve(e,t,n)}finally{we=!1,(null!==Ze||null!==Ge)&&(We(),ke())}}function Xe(e,t){var n=e.stateNode;if(null===n)return null;var o=yr(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Je=!1;if(s)try{var xe={};Object.defineProperty(xe,"passive",{get:function(){Je=!0}}),window.addEventListener("test",xe,xe),window.removeEventListener("test",xe,xe)}catch(se){Je=!1}function He(e,t,n,o,r,a,i,l,g){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(s){this.onError(s)}}var Ye=!1,Ne=null,Fe=!1,Ee=null,Ke={onError:function(e){Ye=!0,Ne=e}};function Me(e,t,n,o,r,a,i,l,g){Ye=!1,Ne=null,He.apply(Ke,arguments)}function Le(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function De(e){if(Le(e)!==e)throw Error(a(188))}function Te(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Le(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(o=r.return)){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return De(r),e;if(i===o)return De(r),t;i=i.sibling}throw Error(a(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,g=r.child;g;){if(g===n){l=!0,n=r,o=i;break}if(g===o){l=!0,o=r,n=i;break}g=g.sibling}if(!l){for(g=i.child;g;){if(g===n){l=!0,n=i,o=r;break}if(g===o){l=!0,o=i,n=r;break}g=g.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==o)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ue(e):null}function Ue(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ue(e);if(null!==t)return t;e=e.sibling}return null}var Qe=r.unstable_scheduleCallback,je=r.unstable_cancelCallback,Oe=r.unstable_shouldYield,Pe=r.unstable_requestPaint,qe=r.unstable_now,_e=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,ot=r.unstable_IdlePriority,rt=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/gt|0)|0},lt=Math.log,gt=Math.LN2;var ct=64,st=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var o=0,r=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~r;0!==l?o=ut(l):0!==(a&=i)&&(o=ut(a))}else 0!==(i=n&~r)?o=ut(i):0!==a&&(o=ut(a));if(0===o)return 0;if(0!==t&&t!==o&&0===(t&r)&&((r=o&-o)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&o)&&(o|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=o;0<t;)r=1<<(n=31-it(t)),o|=e[n],t&=~r;return o}function It(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ct(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function At(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function ht(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-it(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var bt=0;function ft(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var vt,yt,Zt,Gt,St,Bt=!1,kt=[],Vt=null,Wt=null,wt=null,Rt=new Map,Xt=new Map,Jt=[],xt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ht(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xt.delete(t.pointerId)}}function Yt(e,t,n,o,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=fr(t))&&yt(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Nt(e){var t=br(e.target);if(null!==t){var n=Le(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){Zt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ot(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=fr(n))&&yt(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);fe=o,n.target.dispatchEvent(o),fe=null,t.shift()}return!0}function Et(e,t,n){Ft(e)&&n.delete(t)}function Kt(){Bt=!1,null!==Vt&&Ft(Vt)&&(Vt=null),null!==Wt&&Ft(Wt)&&(Wt=null),null!==wt&&Ft(wt)&&(wt=null),Rt.forEach(Et),Xt.forEach(Et)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,Bt||(Bt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Kt)))}function Lt(e){function t(t){return Mt(t,e)}if(0<kt.length){Mt(kt[0],e);for(var n=1;n<kt.length;n++){var o=kt[n];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==Vt&&Mt(Vt,e),null!==Wt&&Mt(Wt,e),null!==wt&&Mt(wt,e),Rt.forEach(t),Xt.forEach(t),n=0;n<Jt.length;n++)(o=Jt[n]).blockedOn===e&&(o.blockedOn=null);for(;0<Jt.length&&null===(n=Jt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Jt.shift()}var zt=f.ReactCurrentBatchConfig,Dt=!0;function Tt(e,t,n,o){var r=bt,a=zt.transition;zt.transition=null;try{bt=1,Qt(e,t,n,o)}finally{bt=r,zt.transition=a}}function Ut(e,t,n,o){var r=bt,a=zt.transition;zt.transition=null;try{bt=4,Qt(e,t,n,o)}finally{bt=r,zt.transition=a}}function Qt(e,t,n,o){if(Dt){var r=Ot(e,t,n,o);if(null===r)To(e,t,o,jt,n),Ht(e,o);else if(function(e,t,n,o,r){switch(t){case"focusin":return Vt=Yt(Vt,e,t,n,o,r),!0;case"dragenter":return Wt=Yt(Wt,e,t,n,o,r),!0;case"mouseover":return wt=Yt(wt,e,t,n,o,r),!0;case"pointerover":var a=r.pointerId;return Rt.set(a,Yt(Rt.get(a)||null,e,t,n,o,r)),!0;case"gotpointercapture":return a=r.pointerId,Xt.set(a,Yt(Xt.get(a)||null,e,t,n,o,r)),!0}return!1}(r,e,t,n,o))o.stopPropagation();else if(Ht(e,o),4&t&&-1<xt.indexOf(e)){for(;null!==r;){var a=fr(r);if(null!==a&&vt(a),null===(a=Ot(e,t,n,o))&&To(e,t,o,jt,n),a===r)break;r=a}null!==r&&o.stopPropagation()}else To(e,t,o,null,n)}}var jt=null;function Ot(e,t,n,o){if(jt=null,null!==(e=br(e=ve(o))))if(null===(t=Le(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jt=e,null}function Pt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_e()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case ot:return 536870912;default:return 16}default:return 16}}var qt=null,_t=null,$t=null;function en(){if($t)return $t;var e,t,n=_t,o=n.length,r="value"in qt?qt.value:qt.textContent,a=r.length;for(e=0;e<o&&n[e]===r[e];e++);var i=o-e;for(t=1;t<=i&&n[o-t]===r[a-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function on(){return!1}function rn(e){function t(t,n,o,r,a){for(var i in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:on,this.isPropagationStopped=on,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,gn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=rn(cn),un=N({},cn,{view:0,detail:0}),dn=rn(un),In=N({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gn&&(gn&&"mousemove"===e.type?(an=e.screenX-gn.screenX,ln=e.screenY-gn.screenY):ln=an=0,gn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),Cn=rn(In),mn=rn(N({},In,{dataTransfer:0})),pn=rn(N({},un,{relatedTarget:0})),An=rn(N({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=N({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(hn),fn=rn(N({},cn,{data:0})),vn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Zn[e])&&!!t[e]}function Sn(){return Gn}var Bn=N({},un,{key:function(e){if(e.key){var t=vn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=rn(Bn),Vn=rn(N({},In,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Wn=rn(N({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),wn=rn(N({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=N({},In,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xn=rn(Rn),Jn=[9,13,27,32],xn=s&&"CompositionEvent"in window,Hn=null;s&&"documentMode"in document&&(Hn=document.documentMode);var Yn=s&&"TextEvent"in window&&!Hn,Nn=s&&(!xn||Hn&&8<Hn&&11>=Hn),Fn=String.fromCharCode(32),En=!1;function Kn(e,t){switch(e){case"keyup":return-1!==Jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Tn(e,t,n,o){Be(o),0<(t=Qo(t,"onChange")).length&&(n=new sn("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Un=null,Qn=null;function jn(e){Eo(e,0)}function On(e){if(Q(vr(e)))return e}function Pn(e,t){if("change"===e)return t}var qn=!1;if(s){var _n;if(s){var $n="oninput"in document;if(!$n){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),$n="function"===typeof eo.oninput}_n=$n}else _n=!1;qn=_n&&(!document.documentMode||9<document.documentMode)}function to(){Un&&(Un.detachEvent("onpropertychange",no),Qn=Un=null)}function no(e){if("value"===e.propertyName&&On(Qn)){var t=[];Tn(t,Qn,e,ve(e)),Re(jn,t)}}function oo(e,t,n){"focusin"===e?(to(),Qn=n,(Un=t).attachEvent("onpropertychange",no)):"focusout"===e&&to()}function ro(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return On(Qn)}function ao(e,t){if("click"===e)return On(t)}function io(e,t){if("input"===e||"change"===e)return On(t)}var lo="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function go(e,t){if(lo(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!u.call(t,r)||!lo(e[r],t[r]))return!1}return!0}function co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function so(e,t){var n,o=co(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=co(o)}}function uo(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?uo(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Io(){for(var e=window,t=j();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(o){n=!1}if(!n)break;t=j((e=t.contentWindow).document)}return t}function Co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mo(e){var t=Io(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uo(n.ownerDocument.documentElement,n)){if(null!==o&&Co(n))if(t=o.start,void 0===(e=o.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(o.start,r);o=void 0===o.end?a:Math.min(o.end,r),!e.extend&&a>o&&(r=o,o=a,a=r),r=so(n,a);var i=so(n,o);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>o?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var po=s&&"documentMode"in document&&11>=document.documentMode,Ao=null,ho=null,bo=null,fo=!1;function vo(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;fo||null==Ao||Ao!==j(o)||("selectionStart"in(o=Ao)&&Co(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},bo&&go(bo,o)||(bo=o,0<(o=Qo(ho,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Ao)))}function yo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zo={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},Go={},So={};function Bo(e){if(Go[e])return Go[e];if(!Zo[e])return e;var t,n=Zo[e];for(t in n)if(n.hasOwnProperty(t)&&t in So)return Go[e]=n[t];return e}s&&(So=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);var ko=Bo("animationend"),Vo=Bo("animationiteration"),Wo=Bo("animationstart"),wo=Bo("transitionend"),Ro=new Map,Xo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jo(e,t){Ro.set(e,t),g(t,[e])}for(var xo=0;xo<Xo.length;xo++){var Ho=Xo[xo];Jo(Ho.toLowerCase(),"on"+(Ho[0].toUpperCase()+Ho.slice(1)))}Jo(ko,"onAnimationEnd"),Jo(Vo,"onAnimationIteration"),Jo(Wo,"onAnimationStart"),Jo("dblclick","onDoubleClick"),Jo("focusin","onFocus"),Jo("focusout","onBlur"),Jo(wo,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),No=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function Fo(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,o,r,i,l,g,c){if(Me.apply(this,arguments),Ye){if(!Ye)throw Error(a(198));var s=Ne;Ye=!1,Ne=null,Fe||(Fe=!0,Ee=s)}}(o,t,void 0,e),e.currentTarget=null}function Eo(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var a=void 0;if(t)for(var i=o.length-1;0<=i;i--){var l=o[i],g=l.instance,c=l.currentTarget;if(l=l.listener,g!==a&&r.isPropagationStopped())break e;Fo(r,l,c),a=g}else for(i=0;i<o.length;i++){if(g=(l=o[i]).instance,c=l.currentTarget,l=l.listener,g!==a&&r.isPropagationStopped())break e;Fo(r,l,c),a=g}}}if(Fe)throw e=Ee,Fe=!1,Ee=null,e}function Ko(e,t){var n=t[pr];void 0===n&&(n=t[pr]=new Set);var o=e+"__bubble";n.has(o)||(Do(t,e,2,!1),n.add(o))}function Mo(e,t,n){var o=0;t&&(o|=4),Do(n,e,o,t)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[Lo]){e[Lo]=!0,i.forEach((function(t){"selectionchange"!==t&&(No.has(t)||Mo(t,!1,e),Mo(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Lo]||(t[Lo]=!0,Mo("selectionchange",!1,t))}}function Do(e,t,n,o){switch(Pt(t)){case 1:var r=Tt;break;case 4:r=Ut;break;default:r=Qt}n=r.bind(null,t,n,e),r=void 0,!Je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),o?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function To(e,t,n,o,r){var a=o;if(0===(1&t)&&0===(2&t)&&null!==o)e:for(;;){if(null===o)return;var i=o.tag;if(3===i||4===i){var l=o.stateNode.containerInfo;if(l===r||8===l.nodeType&&l.parentNode===r)break;if(4===i)for(i=o.return;null!==i;){var g=i.tag;if((3===g||4===g)&&((g=i.stateNode.containerInfo)===r||8===g.nodeType&&g.parentNode===r))return;i=i.return}for(;null!==l;){if(null===(i=br(l)))return;if(5===(g=i.tag)||6===g){o=a=i;continue e}l=l.parentNode}}o=o.return}Re((function(){var o=a,r=ve(n),i=[];e:{var l=Ro.get(e);if(void 0!==l){var g=sn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":g=kn;break;case"focusin":c="focus",g=pn;break;case"focusout":c="blur",g=pn;break;case"beforeblur":case"afterblur":g=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Wn;break;case ko:case Vo:case Wo:g=An;break;case wo:g=wn;break;case"scroll":g=dn;break;case"wheel":g=Xn;break;case"copy":case"cut":case"paste":g=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Vn}var s=0!==(4&t),u=!s&&"scroll"===e,d=s?null!==l?l+"Capture":null:l;s=[];for(var I,C=o;null!==C;){var m=(I=C).stateNode;if(5===I.tag&&null!==m&&(I=m,null!==d&&(null!=(m=Xe(C,d))&&s.push(Uo(C,m,I)))),u)break;C=C.return}0<s.length&&(l=new g(l,c,null,n,r),i.push({event:l,listeners:s}))}}if(0===(7&t)){if(g="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===fe||!(c=n.relatedTarget||n.fromElement)||!br(c)&&!c[mr])&&(g||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,g?(g=o,null!==(c=(c=n.relatedTarget||n.toElement)?br(c):null)&&(c!==(u=Le(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(g=null,c=o),g!==c)){if(s=Cn,m="onMouseLeave",d="onMouseEnter",C="mouse","pointerout"!==e&&"pointerover"!==e||(s=Vn,m="onPointerLeave",d="onPointerEnter",C="pointer"),u=null==g?l:vr(g),I=null==c?l:vr(c),(l=new s(m,C+"leave",g,n,r)).target=u,l.relatedTarget=I,m=null,br(r)===o&&((s=new s(d,C+"enter",c,n,r)).target=I,s.relatedTarget=u,m=s),u=m,g&&c)e:{for(d=c,C=0,I=s=g;I;I=jo(I))C++;for(I=0,m=d;m;m=jo(m))I++;for(;0<C-I;)s=jo(s),C--;for(;0<I-C;)d=jo(d),I--;for(;C--;){if(s===d||null!==d&&s===d.alternate)break e;s=jo(s),d=jo(d)}s=null}else s=null;null!==g&&Oo(i,l,g,s,!1),null!==c&&null!==u&&Oo(i,u,c,s,!0)}if("select"===(g=(l=o?vr(o):window).nodeName&&l.nodeName.toLowerCase())||"input"===g&&"file"===l.type)var p=Pn;else if(Dn(l))if(qn)p=io;else{p=ro;var A=oo}else(g=l.nodeName)&&"input"===g.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(p=ao);switch(p&&(p=p(e,o))?Tn(i,p,n,r):(A&&A(e,l,o),"focusout"===e&&(A=l._wrapperState)&&A.controlled&&"number"===l.type&&ee(l,"number",l.value)),A=o?vr(o):window,e){case"focusin":(Dn(A)||"true"===A.contentEditable)&&(Ao=A,ho=o,bo=null);break;case"focusout":bo=ho=Ao=null;break;case"mousedown":fo=!0;break;case"contextmenu":case"mouseup":case"dragend":fo=!1,vo(i,n,r);break;case"selectionchange":if(po)break;case"keydown":case"keyup":vo(i,n,r)}var h;if(xn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ln?Kn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ln&&(h=en()):(_t="value"in(qt=r)?qt.value:qt.textContent,Ln=!0)),0<(A=Qo(o,b)).length&&(b=new fn(b,e,null,n,r),i.push({event:b,listeners:A}),h?b.data=h:null!==(h=Mn(n))&&(b.data=h))),(h=Yn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(En=!0,Fn);case"textInput":return(e=t.data)===Fn&&En?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!xn&&Kn(e,t)?(e=en(),$t=_t=qt=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(o=Qo(o,"onBeforeInput")).length&&(r=new fn("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:o}),r.data=h))}Eo(i,t)}))}function Uo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qo(e,t){for(var n=t+"Capture",o=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Xe(e,n))&&o.unshift(Uo(e,a,r)),null!=(a=Xe(e,t))&&o.push(Uo(e,a,r))),e=e.return}return o}function jo(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Oo(e,t,n,o,r){for(var a=t._reactName,i=[];null!==n&&n!==o;){var l=n,g=l.alternate,c=l.stateNode;if(null!==g&&g===o)break;5===l.tag&&null!==c&&(l=c,r?null!=(g=Xe(n,a))&&i.unshift(Uo(n,g,l)):r||null!=(g=Xe(n,a))&&i.push(Uo(n,g,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Po=/\r\n?/g,qo=/\u0000|\uFFFD/g;function _o(e){return("string"===typeof e?e:""+e).replace(Po,"\n").replace(qo,"")}function $o(e,t,n){if(t=_o(t),_o(e)!==t&&n)throw Error(a(425))}function er(){}var tr=null,nr=null;function or(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rr="function"===typeof setTimeout?setTimeout:void 0,ar="function"===typeof clearTimeout?clearTimeout:void 0,ir="function"===typeof Promise?Promise:void 0,lr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ir?function(e){return ir.resolve(null).then(e).catch(gr)}:rr;function gr(e){setTimeout((function(){throw e}))}function cr(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===o)return e.removeChild(r),void Lt(t);o--}else"$"!==n&&"$?"!==n&&"$!"!==n||o++;n=r}while(n);Lt(t)}function sr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),Ir="__reactFiber$"+dr,Cr="__reactProps$"+dr,mr="__reactContainer$"+dr,pr="__reactEvents$"+dr,Ar="__reactListeners$"+dr,hr="__reactHandles$"+dr;function br(e){var t=e[Ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mr]||n[Ir]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[Ir])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function fr(e){return!(e=e[Ir]||e[mr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function yr(e){return e[Cr]||null}var Zr=[],Gr=-1;function Sr(e){return{current:e}}function Br(e){0>Gr||(e.current=Zr[Gr],Zr[Gr]=null,Gr--)}function kr(e,t){Gr++,Zr[Gr]=e.current,e.current=t}var Vr={},Wr=Sr(Vr),wr=Sr(!1),Rr=Vr;function Xr(e,t){var n=e.type.contextTypes;if(!n)return Vr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Jr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function xr(){Br(wr),Br(Wr)}function Hr(e,t,n){if(Wr.current!==Vr)throw Error(a(168));kr(Wr,t),kr(wr,n)}function Yr(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,"function"!==typeof o.getChildContext)return n;for(var r in o=o.getChildContext())if(!(r in t))throw Error(a(108,z(e)||"Unknown",r));return N({},n,o)}function Nr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vr,Rr=Wr.current,kr(Wr,e),kr(wr,wr.current),!0}function Fr(e,t,n){var o=e.stateNode;if(!o)throw Error(a(169));n?(e=Yr(e,t,Rr),o.__reactInternalMemoizedMergedChildContext=e,Br(wr),Br(Wr),kr(Wr,e)):Br(wr),kr(wr,n)}var Er=null,Kr=!1,Mr=!1;function Lr(e){null===Er?Er=[e]:Er.push(e)}function zr(){if(!Mr&&null!==Er){Mr=!0;var e=0,t=bt;try{var n=Er;for(bt=1;e<n.length;e++){var o=n[e];do{o=o(!0)}while(null!==o)}Er=null,Kr=!1}catch(r){throw null!==Er&&(Er=Er.slice(e+1)),Qe($e,zr),r}finally{bt=t,Mr=!1}}return null}var Dr=[],Tr=0,Ur=null,Qr=0,jr=[],Or=0,Pr=null,qr=1,_r="";function $r(e,t){Dr[Tr++]=Qr,Dr[Tr++]=Ur,Ur=e,Qr=t}function ea(e,t,n){jr[Or++]=qr,jr[Or++]=_r,jr[Or++]=Pr,Pr=e;var o=qr;e=_r;var r=32-it(o)-1;o&=~(1<<r),n+=1;var a=32-it(t)+r;if(30<a){var i=r-r%5;a=(o&(1<<i)-1).toString(32),o>>=i,r-=i,qr=1<<32-it(t)+r|n<<r|o,_r=a+e}else qr=1<<a|n<<r|o,_r=e}function ta(e){null!==e.return&&($r(e,1),ea(e,1,0))}function na(e){for(;e===Ur;)Ur=Dr[--Tr],Dr[Tr]=null,Qr=Dr[--Tr],Dr[Tr]=null;for(;e===Pr;)Pr=jr[--Or],jr[Or]=null,_r=jr[--Or],jr[Or]=null,qr=jr[--Or],jr[Or]=null}var oa=null,ra=null,aa=!1,ia=null;function la(e,t){var n=Xc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ga(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,oa=e,ra=sr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,oa=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Pr?{id:qr,overflow:_r}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Xc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,oa=e,ra=null,!0);default:return!1}}function ca(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function sa(e){if(aa){var t=ra;if(t){var n=t;if(!ga(e,t)){if(ca(e))throw Error(a(418));t=sr(n.nextSibling);var o=oa;t&&ga(e,t)?la(o,n):(e.flags=-4097&e.flags|2,aa=!1,oa=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,oa=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;oa=e}function da(e){if(e!==oa)return!1;if(!aa)return ua(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!or(e.type,e.memoizedProps)),t&&(t=ra)){if(ca(e))throw Ia(),Error(a(418));for(;t;)la(e,t),t=sr(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=sr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=oa?sr(e.stateNode.nextSibling):null;return!0}function Ia(){for(var e=ra;e;)e=sr(e.nextSibling)}function Ca(){ra=oa=null,aa=!1}function ma(e){null===ia?ia=[e]:ia.push(e)}var pa=f.ReactCurrentBatchConfig;function Aa(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ha=Sr(null),ba=null,fa=null,va=null;function ya(){va=fa=ba=null}function Za(e){var t=ha.current;Br(ha),e._currentValue=t}function Ga(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ba=e,va=fa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(fl=!0),e.firstContext=null)}function Ba(e){var t=e._currentValue;if(va!==e)if(e={context:e,memoizedValue:t,next:null},null===fa){if(null===ba)throw Error(a(308));fa=e,ba.dependencies={lanes:0,firstContext:e}}else fa=fa.next=e;return t}var ka=null;function Va(e){null===ka?ka=[e]:ka.push(e)}function Wa(e,t,n,o){var r=t.interleaved;return null===r?(n.next=n,Va(t)):(n.next=r.next,r.next=n),t.interleaved=n,wa(e,o)}function wa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Xa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,n){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&Wg)){var r=o.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),o.pending=t,wa(e,n)}return null===(r=o.interleaved)?(t.next=t,Va(o)):(t.next=r.next,r.next=t),o.interleaved=t,wa(e,n)}function Ya(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,ht(e,n)}}function Na(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:o.shared,effects:o.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,o){var r=e.updateQueue;Ra=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var g=l,c=g.next;g.next=null,null===i?a=c:i.next=c,i=g;var s=e.alternate;null!==s&&((l=(s=s.updateQueue).lastBaseUpdate)!==i&&(null===l?s.firstBaseUpdate=c:l.next=c,s.lastBaseUpdate=g))}if(null!==a){var u=r.baseState;for(i=0,s=c=g=null,l=a;;){var d=l.lane,I=l.eventTime;if((o&d)===d){null!==s&&(s=s.next={eventTime:I,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=e,m=l;switch(d=t,I=n,m.tag){case 1:if("function"===typeof(C=m.payload)){u=C.call(I,u,d);break e}u=C;break e;case 3:C.flags=-65537&C.flags|128;case 0:if(null===(d="function"===typeof(C=m.payload)?C.call(I,u,d):C)||void 0===d)break e;u=N({},u,d);break e;case 2:Ra=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[l]:d.push(l))}else I={eventTime:I,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===s?(c=s=I,g=u):s=s.next=I,i|=d;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(d=l).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===s&&(g=u),r.baseState=g,r.firstBaseUpdate=c,r.lastBaseUpdate=s,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Ng|=i,e.lanes=i,e.memoizedState=u}}function Ea(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(null!==r){if(o.callback=null,o=n,"function"!==typeof r)throw Error(a(191,r));r.call(o)}}}var Ka=(new o.Component).refs;function Ma(e,t,n,o){n=null===(n=n(o,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var La={isMounted:function(e){return!!(e=e._reactInternals)&&Le(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=tc(),r=nc(e),a=xa(o,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ha(e,a,r))&&(oc(t,e,r,o),Ya(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=tc(),r=nc(e),a=xa(o,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ha(e,a,r))&&(oc(t,e,r,o),Ya(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),o=nc(e),r=xa(n,o);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ha(e,r,o))&&(oc(t,e,o,n),Ya(t,e,o))}};function za(e,t,n,o,r,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!go(n,o)||!go(r,a))}function Da(e,t,n){var o=!1,r=Vr,a=t.contextType;return"object"===typeof a&&null!==a?a=Ba(a):(r=Jr(t)?Rr:Wr.current,a=(o=null!==(o=t.contextTypes)&&void 0!==o)?Xr(e,r):Vr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=La,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ta(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&La.enqueueReplaceState(t,t.state,null)}function Ua(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Ka,Xa(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Ba(a):(a=Jr(t)?Rr:Wr.current,r.context=Xr(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ma(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&La.enqueueReplaceState(r,r.state,null),Fa(e,n,r,o),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var o=n.stateNode}if(!o)throw Error(a(147,e));var r=o,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===Ka&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Oa(e){return(0,e._init)(e._payload)}function Pa(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function i(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=2,n):o:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function g(e,t,n,o){return null===t||6!==t.tag?((t=Fc(n,e.mode,o)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,o){var a=n.type;return a===Z?u(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===X&&Oa(a)===t.type)?((o=r(t,n.props)).ref=Qa(e,t,n),o.return=e,o):((o=Hc(n.type,n.key,n.props,null,e.mode,o)).ref=Qa(e,t,n),o.return=e,o)}function s(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ec(n,e.mode,o)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,o,a){return null===t||7!==t.tag?((t=Yc(n,e.mode,o,a)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case v:return(n=Hc(t.type,t.key,t.props,null,e.mode,n)).ref=Qa(e,null,t),n.return=e,n;case y:return(t=Ec(t,e.mode,n)).return=e,t;case X:return d(e,(0,t._init)(t._payload),n)}if(te(t)||H(t))return(t=Yc(t,e.mode,n,null)).return=e,t;ja(e,t)}return null}function I(e,t,n,o){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:g(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case v:return n.key===r?c(e,t,n,o):null;case y:return n.key===r?s(e,t,n,o):null;case X:return I(e,t,(r=n._init)(n._payload),o)}if(te(n)||H(n))return null!==r?null:u(e,t,n,o,null);ja(e,n)}return null}function C(e,t,n,o,r){if("string"===typeof o&&""!==o||"number"===typeof o)return g(t,e=e.get(n)||null,""+o,r);if("object"===typeof o&&null!==o){switch(o.$$typeof){case v:return c(t,e=e.get(null===o.key?n:o.key)||null,o,r);case y:return s(t,e=e.get(null===o.key?n:o.key)||null,o,r);case X:return C(e,t,n,(0,o._init)(o._payload),r)}if(te(o)||H(o))return u(t,e=e.get(n)||null,o,r,null);ja(t,o)}return null}function m(r,a,l,g){for(var c=null,s=null,u=a,m=a=0,p=null;null!==u&&m<l.length;m++){u.index>m?(p=u,u=null):p=u.sibling;var A=I(r,u,l[m],g);if(null===A){null===u&&(u=p);break}e&&u&&null===A.alternate&&t(r,u),a=i(A,a,m),null===s?c=A:s.sibling=A,s=A,u=p}if(m===l.length)return n(r,u),aa&&$r(r,m),c;if(null===u){for(;m<l.length;m++)null!==(u=d(r,l[m],g))&&(a=i(u,a,m),null===s?c=u:s.sibling=u,s=u);return aa&&$r(r,m),c}for(u=o(r,u);m<l.length;m++)null!==(p=C(u,r,m,l[m],g))&&(e&&null!==p.alternate&&u.delete(null===p.key?m:p.key),a=i(p,a,m),null===s?c=p:s.sibling=p,s=p);return e&&u.forEach((function(e){return t(r,e)})),aa&&$r(r,m),c}function p(r,l,g,c){var s=H(g);if("function"!==typeof s)throw Error(a(150));if(null==(g=s.call(g)))throw Error(a(151));for(var u=s=null,m=l,p=l=0,A=null,h=g.next();null!==m&&!h.done;p++,h=g.next()){m.index>p?(A=m,m=null):A=m.sibling;var b=I(r,m,h.value,c);if(null===b){null===m&&(m=A);break}e&&m&&null===b.alternate&&t(r,m),l=i(b,l,p),null===u?s=b:u.sibling=b,u=b,m=A}if(h.done)return n(r,m),aa&&$r(r,p),s;if(null===m){for(;!h.done;p++,h=g.next())null!==(h=d(r,h.value,c))&&(l=i(h,l,p),null===u?s=h:u.sibling=h,u=h);return aa&&$r(r,p),s}for(m=o(r,m);!h.done;p++,h=g.next())null!==(h=C(m,r,p,h.value,c))&&(e&&null!==h.alternate&&m.delete(null===h.key?p:h.key),l=i(h,l,p),null===u?s=h:u.sibling=h,u=h);return e&&m.forEach((function(e){return t(r,e)})),aa&&$r(r,p),s}return function e(o,a,i,g){if("object"===typeof i&&null!==i&&i.type===Z&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case v:e:{for(var c=i.key,s=a;null!==s;){if(s.key===c){if((c=i.type)===Z){if(7===s.tag){n(o,s.sibling),(a=r(s,i.props.children)).return=o,o=a;break e}}else if(s.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===X&&Oa(c)===s.type){n(o,s.sibling),(a=r(s,i.props)).ref=Qa(o,s,i),a.return=o,o=a;break e}n(o,s);break}t(o,s),s=s.sibling}i.type===Z?((a=Yc(i.props.children,o.mode,g,i.key)).return=o,o=a):((g=Hc(i.type,i.key,i.props,null,o.mode,g)).ref=Qa(o,a,i),g.return=o,o=g)}return l(o);case y:e:{for(s=i.key;null!==a;){if(a.key===s){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(o,a.sibling),(a=r(a,i.children||[])).return=o,o=a;break e}n(o,a);break}t(o,a),a=a.sibling}(a=Ec(i,o.mode,g)).return=o,o=a}return l(o);case X:return e(o,a,(s=i._init)(i._payload),g)}if(te(i))return m(o,a,i,g);if(H(i))return p(o,a,i,g);ja(o,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(o,a.sibling),(a=r(a,i)).return=o,o=a):(n(o,a),(a=Fc(i,o.mode,g)).return=o,o=a),l(o)):n(o,a)}}var qa=Pa(!0),_a=Pa(!1),$a={},ei=Sr($a),ti=Sr($a),ni=Sr($a);function oi(e){if(e===$a)throw Error(a(174));return e}function ri(e,t){switch(kr(ni,t),kr(ti,e),kr(ei,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ge(null,"");break;default:t=ge(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Br(ei),kr(ei,t)}function ai(){Br(ei),Br(ti),Br(ni)}function ii(e){oi(ni.current);var t=oi(ei.current),n=ge(t,e.type);t!==n&&(kr(ti,e),kr(ei,n))}function li(e){ti.current===e&&(Br(ei),Br(ti))}var gi=Sr(0);function ci(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var si=[];function ui(){for(var e=0;e<si.length;e++)si[e]._workInProgressVersionPrimary=null;si.length=0}var di=f.ReactCurrentDispatcher,Ii=f.ReactCurrentBatchConfig,Ci=0,mi=null,pi=null,Ai=null,hi=!1,bi=!1,fi=0,vi=0;function yi(){throw Error(a(321))}function Zi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lo(e[n],t[n]))return!1;return!0}function Gi(e,t,n,o,r,i){if(Ci=i,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,di.current=null===e||null===e.memoizedState?ll:gl,e=n(o,r),bi){i=0;do{if(bi=!1,fi=0,25<=i)throw Error(a(301));i+=1,Ai=pi=null,t.updateQueue=null,di.current=cl,e=n(o,r)}while(bi)}if(di.current=il,t=null!==pi&&null!==pi.next,Ci=0,Ai=pi=mi=null,hi=!1,t)throw Error(a(300));return e}function Si(){var e=0!==fi;return fi=0,e}function Bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ai?mi.memoizedState=Ai=e:Ai=Ai.next=e,Ai}function ki(){if(null===pi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=pi.next;var t=null===Ai?mi.memoizedState:Ai.next;if(null!==t)Ai=t,pi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(pi=e).memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},null===Ai?mi.memoizedState=Ai=e:Ai=Ai.next=e}return Ai}function Vi(e,t){return"function"===typeof t?t(e):t}function Wi(e){var t=ki(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var o=pi,r=o.baseQueue,i=n.pending;if(null!==i){if(null!==r){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,o=o.baseState;var g=l=null,c=null,s=i;do{var u=s.lane;if((Ci&u)===u)null!==c&&(c=c.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),o=s.hasEagerState?s.eagerState:e(o,s.action);else{var d={lane:u,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};null===c?(g=c=d,l=o):c=c.next=d,mi.lanes|=u,Ng|=u}s=s.next}while(null!==s&&s!==i);null===c?l=o:c.next=g,lo(o,t.memoizedState)||(fl=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=c,n.lastRenderedState=o}if(null!==(e=n.interleaved)){r=e;do{i=r.lane,mi.lanes|=i,Ng|=i,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=ki(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var l=r=r.next;do{i=e(i,l.action),l=l.next}while(l!==r);lo(i,t.memoizedState)||(fl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Ri(){}function Xi(e,t){var n=mi,o=ki(),r=t(),i=!lo(o.memoizedState,r);if(i&&(o.memoizedState=r,fl=!0),o=o.queue,Di(Hi.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||null!==Ai&&1&Ai.memoizedState.tag){if(n.flags|=2048,Ei(9,xi.bind(null,n,o,r,t),void 0,null),null===wg)throw Error(a(349));0!==(30&Ci)||Ji(n,t,r)}return r}function Ji(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xi(e,t,n,o){t.value=n,t.getSnapshot=o,Yi(t)&&Ni(e)}function Hi(e,t,n){return n((function(){Yi(t)&&Ni(e)}))}function Yi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lo(e,n)}catch(o){return!0}}function Ni(e){var t=wa(e,1);null!==t&&oc(t,e,1,-1)}function Fi(e){var t=Bi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,mi,e),[t.memoizedState,e]}function Ei(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function Ki(){return ki().memoizedState}function Mi(e,t,n,o){var r=Bi();mi.flags|=e,r.memoizedState=Ei(1|t,n,void 0,void 0===o?null:o)}function Li(e,t,n,o){var r=ki();o=void 0===o?null:o;var a=void 0;if(null!==pi){var i=pi.memoizedState;if(a=i.destroy,null!==o&&Zi(o,i.deps))return void(r.memoizedState=Ei(t,n,a,o))}mi.flags|=e,r.memoizedState=Ei(1|t,n,a,o)}function zi(e,t){return Mi(8390656,8,e,t)}function Di(e,t){return Li(2048,8,e,t)}function Ti(e,t){return Li(4,2,e,t)}function Ui(e,t){return Li(4,4,e,t)}function Qi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ji(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Li(4,4,Qi.bind(null,t,e),n)}function Oi(){}function Pi(e,t){var n=ki();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&Zi(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function qi(e,t){var n=ki();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&Zi(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function _i(e,t,n){return 0===(21&Ci)?(e.baseState&&(e.baseState=!1,fl=!0),e.memoizedState=n):(lo(n,t)||(n=mt(),mi.lanes|=n,Ng|=n,e.baseState=!0),t)}function $i(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var o=Ii.transition;Ii.transition={};try{e(!1),t()}finally{bt=n,Ii.transition=o}}function el(){return ki().memoizedState}function tl(e,t,n){var o=nc(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},ol(e))rl(t,n);else if(null!==(n=Wa(e,t,n,o))){oc(n,e,o,tc()),al(n,t,o)}}function nl(e,t,n){var o=nc(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(ol(e))rl(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,n);if(r.hasEagerState=!0,r.eagerState=l,lo(l,i)){var g=t.interleaved;return null===g?(r.next=r,Va(t)):(r.next=g.next,g.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Wa(e,t,r,o))&&(oc(n,e,o,r=tc()),al(n,t,o))}}function ol(e){var t=e.alternate;return e===mi||null!==t&&t===mi}function rl(e,t){bi=hi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function al(e,t,n){if(0!==(4194240&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,ht(e,n)}}var il={readContext:Ba,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},ll={readContext:Ba,useCallback:function(e,t){return Bi().memoizedState=[e,void 0===t?null:t],e},useContext:Ba,useEffect:zi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mi(4194308,4,Qi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mi(4,2,e,t)},useMemo:function(e,t){var n=Bi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Bi();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=tl.bind(null,mi,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},Bi().memoizedState=e},useState:Fi,useDebugValue:Oi,useDeferredValue:function(e){return Bi().memoizedState=e},useTransition:function(){var e=Fi(!1),t=e[0];return e=$i.bind(null,e[1]),Bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=mi,r=Bi();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===wg)throw Error(a(349));0!==(30&Ci)||Ji(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,zi(Hi.bind(null,o,i,e),[e]),o.flags|=2048,Ei(9,xi.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=Bi(),t=wg.identifierPrefix;if(aa){var n=_r;t=":"+t+"R"+(n=(qr&~(1<<32-it(qr)-1)).toString(32)+n),0<(n=fi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=vi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gl={readContext:Ba,useCallback:Pi,useContext:Ba,useEffect:Di,useImperativeHandle:ji,useInsertionEffect:Ti,useLayoutEffect:Ui,useMemo:qi,useReducer:Wi,useRef:Ki,useState:function(){return Wi(Vi)},useDebugValue:Oi,useDeferredValue:function(e){return _i(ki(),pi.memoizedState,e)},useTransition:function(){return[Wi(Vi)[0],ki().memoizedState]},useMutableSource:Ri,useSyncExternalStore:Xi,useId:el,unstable_isNewReconciler:!1},cl={readContext:Ba,useCallback:Pi,useContext:Ba,useEffect:Di,useImperativeHandle:ji,useInsertionEffect:Ti,useLayoutEffect:Ui,useMemo:qi,useReducer:wi,useRef:Ki,useState:function(){return wi(Vi)},useDebugValue:Oi,useDeferredValue:function(e){var t=ki();return null===pi?t.memoizedState=e:_i(t,pi.memoizedState,e)},useTransition:function(){return[wi(Vi)[0],ki().memoizedState]},useMutableSource:Ri,useSyncExternalStore:Xi,useId:el,unstable_isNewReconciler:!1};function sl(e,t){try{var n="",o=t;do{n+=M(o),o=o.return}while(o);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var Il="function"===typeof WeakMap?WeakMap:Map;function Cl(e,t,n){(n=xa(-1,n)).tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Tg||(Tg=!0,Ug=o),dl(0,t)},n}function ml(e,t,n){(n=xa(-1,n)).tag=3;var o=e.type.getDerivedStateFromError;if("function"===typeof o){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){dl(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!==typeof o&&(null===Qg?Qg=new Set([this]):Qg.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pl(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new Il;var r=new Set;o.set(t,r)}else void 0===(r=o.get(t))&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=Bc.bind(null,e,t,n),t.then(e,e))}function Al(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hl(e,t,n,o,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=xa(-1,1)).tag=2,Ha(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var bl=f.ReactCurrentOwner,fl=!1;function vl(e,t,n,o){t.child=null===e?_a(t,null,n,o):qa(t,e.child,n,o)}function yl(e,t,n,o,r){n=n.render;var a=t.ref;return Sa(t,r),o=Gi(e,t,n,o,a,r),n=Si(),null===e||fl?(aa&&n&&ta(t),t.flags|=1,vl(e,t,o,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Tl(e,t,r))}function Zl(e,t,n,o,r){if(null===e){var a=n.type;return"function"!==typeof a||Jc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hc(n.type,null,o,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Gl(e,t,a,o,r))}if(a=e.child,0===(e.lanes&r)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:go)(i,o)&&e.ref===t.ref)return Tl(e,t,r)}return t.flags|=1,(e=xc(a,o)).ref=t.ref,e.return=t,t.child=e}function Gl(e,t,n,o,r){if(null!==e){var a=e.memoizedProps;if(go(a,o)&&e.ref===t.ref){if(fl=!1,t.pendingProps=o=a,0===(e.lanes&r))return t.lanes=e.lanes,Tl(e,t,r);0!==(131072&e.flags)&&(fl=!0)}}return kl(e,t,n,o,r)}function Sl(e,t,n){var o=t.pendingProps,r=o.children,a=null!==e?e.memoizedState:null;if("hidden"===o.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(xg,Jg),Jg|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(xg,Jg),Jg|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=null!==a?a.baseLanes:n,kr(xg,Jg),Jg|=o}else null!==a?(o=a.baseLanes|n,t.memoizedState=null):o=n,kr(xg,Jg),Jg|=o;return vl(e,t,r,n),t.child}function Bl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kl(e,t,n,o,r){var a=Jr(n)?Rr:Wr.current;return a=Xr(t,a),Sa(t,r),n=Gi(e,t,n,o,a,r),o=Si(),null===e||fl?(aa&&o&&ta(t),t.flags|=1,vl(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Tl(e,t,r))}function Vl(e,t,n,o,r){if(Jr(n)){var a=!0;Nr(t)}else a=!1;if(Sa(t,r),null===t.stateNode)Dl(e,t),Da(t,n,o),Ua(t,n,o,r),o=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var g=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ba(c):c=Xr(t,c=Jr(n)?Rr:Wr.current);var s=n.getDerivedStateFromProps,u="function"===typeof s||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==o||g!==c)&&Ta(t,i,o,c),Ra=!1;var d=t.memoizedState;i.state=d,Fa(t,o,i,r),g=t.memoizedState,l!==o||d!==g||wr.current||Ra?("function"===typeof s&&(Ma(t,n,s,o),g=t.memoizedState),(l=Ra||za(t,n,l,o,d,g,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=g),i.props=o,i.state=g,i.context=c,o=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),o=!1)}else{i=t.stateNode,Ja(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Aa(t.type,l),i.props=c,u=t.pendingProps,d=i.context,"object"===typeof(g=n.contextType)&&null!==g?g=Ba(g):g=Xr(t,g=Jr(n)?Rr:Wr.current);var I=n.getDerivedStateFromProps;(s="function"===typeof I||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==u||d!==g)&&Ta(t,i,o,g),Ra=!1,d=t.memoizedState,i.state=d,Fa(t,o,i,r);var C=t.memoizedState;l!==u||d!==C||wr.current||Ra?("function"===typeof I&&(Ma(t,n,I,o),C=t.memoizedState),(c=Ra||za(t,n,c,o,d,C,g)||!1)?(s||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(o,C,g),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(o,C,g)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=C),i.props=o,i.state=C,i.context=g,o=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),o=!1)}return Wl(e,t,n,o,a,r)}function Wl(e,t,n,o,r,a){Bl(e,t);var i=0!==(128&t.flags);if(!o&&!i)return r&&Fr(t,n,!1),Tl(e,t,a);o=t.stateNode,bl.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:o.render();return t.flags|=1,null!==e&&i?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,l,a)):vl(e,t,l,a),t.memoizedState=o.state,r&&Fr(t,n,!0),t.child}function wl(e){var t=e.stateNode;t.pendingContext?Hr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hr(0,t.context,!1),ri(e,t.containerInfo)}function Rl(e,t,n,o,r){return Ca(),ma(r),t.flags|=256,vl(e,t,n,o),t.child}var Xl,Jl,xl,Hl,Yl={dehydrated:null,treeContext:null,retryLane:0};function Nl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fl(e,t,n){var o,r=t.pendingProps,i=gi.current,l=!1,g=0!==(128&t.flags);if((o=g)||(o=(null===e||null!==e.memoizedState)&&0!==(2&i)),o?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),kr(gi,1&i),null===e)return sa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(g=r.children,e=r.fallback,l?(r=t.mode,l=t.child,g={mode:"hidden",children:g},0===(1&r)&&null!==l?(l.childLanes=0,l.pendingProps=g):l=Nc(g,r,0,null),e=Yc(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Nl(n),t.memoizedState=Yl,e):El(t,g));if(null!==(i=e.memoizedState)&&null!==(o=i.dehydrated))return function(e,t,n,o,r,i,l){if(n)return 256&t.flags?(t.flags&=-257,Kl(e,t,l,o=ul(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=Nc({mode:"visible",children:o.children},r,0,null),(i=Yc(i,r,l,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,0!==(1&t.mode)&&qa(t,e.child,null,l),t.child.memoizedState=Nl(l),t.memoizedState=Yl,i);if(0===(1&t.mode))return Kl(e,t,l,null);if("$!"===r.data){if(o=r.nextSibling&&r.nextSibling.dataset)var g=o.dgst;return o=g,Kl(e,t,l,o=ul(i=Error(a(419)),o,void 0))}if(g=0!==(l&e.childLanes),fl||g){if(null!==(o=wg)){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(o.suspendedLanes|l))?0:r)&&r!==i.retryLane&&(i.retryLane=r,wa(e,r),oc(o,e,r,-1))}return pc(),Kl(e,t,l,o=ul(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Vc.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,ra=sr(r.nextSibling),oa=t,aa=!0,ia=null,null!==e&&(jr[Or++]=qr,jr[Or++]=_r,jr[Or++]=Pr,qr=e.id,_r=e.overflow,Pr=t),t=El(t,o.children),t.flags|=4096,t)}(e,t,g,r,o,i,n);if(l){l=r.fallback,g=t.mode,o=(i=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&g)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=xc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==o?l=xc(o,l):(l=Yc(l,g,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,g=null===(g=e.child.memoizedState)?Nl(n):{baseLanes:g.baseLanes|n,cachePool:null,transitions:g.transitions},l.memoizedState=g,l.childLanes=e.childLanes&~n,t.memoizedState=Yl,r}return e=(l=e.child).sibling,r=xc(l,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function El(e,t){return(t=Nc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Kl(e,t,n,o){return null!==o&&ma(o),qa(t,e.child,null,n),(e=El(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ml(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),Ga(e.return,t,n)}function Ll(e,t,n,o,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=n,a.tailMode=r)}function zl(e,t,n){var o=t.pendingProps,r=o.revealOrder,a=o.tail;if(vl(e,t,o.children,n),0!==(2&(o=gi.current)))o=1&o|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ml(e,n,t);else if(19===e.tag)Ml(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(kr(gi,o),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ci(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ll(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ci(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ll(t,!0,n,null,a);break;case"together":Ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ng|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ul(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=14680064&r.subtreeFlags,o|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function jl(e,t,n){var o=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ql(t),null;case 1:case 17:return Jr(t.type)&&xr(),Ql(t),null;case 3:return o=t.stateNode,ai(),Br(wr),Br(Wr),ui(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ia&&(lc(ia),ia=null))),Jl(e,t),Ql(t),null;case 5:li(t);var r=oi(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)xl(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(a(166));return Ql(t),null}if(e=oi(ei.current),da(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[Ir]=t,o[Cr]=i,e=0!==(1&t.mode),n){case"dialog":Ko("cancel",o),Ko("close",o);break;case"iframe":case"object":case"embed":Ko("load",o);break;case"video":case"audio":for(r=0;r<Yo.length;r++)Ko(Yo[r],o);break;case"source":Ko("error",o);break;case"img":case"image":case"link":Ko("error",o),Ko("load",o);break;case"details":Ko("toggle",o);break;case"input":P(o,i),Ko("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Ko("invalid",o);break;case"textarea":re(o,i),Ko("invalid",o)}for(var g in he(n,i),r=null,i)if(i.hasOwnProperty(g)){var c=i[g];"children"===g?"string"===typeof c?o.textContent!==c&&(!0!==i.suppressHydrationWarning&&$o(o.textContent,c,e),r=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&$o(o.textContent,c,e),r=["children",""+c]):l.hasOwnProperty(g)&&null!=c&&"onScroll"===g&&Ko("scroll",o)}switch(n){case"input":U(o),$(o,i,!0);break;case"textarea":U(o),ie(o);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(o.onclick=er)}o=r,t.updateQueue=o,null!==o&&(t.flags|=4)}else{g=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=g.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof o.is?e=g.createElement(n,{is:o.is}):(e=g.createElement(n),"select"===n&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,n),e[Ir]=t,e[Cr]=o,Xl(e,t,!1,!1),t.stateNode=e;e:{switch(g=be(n,o),n){case"dialog":Ko("cancel",e),Ko("close",e),r=o;break;case"iframe":case"object":case"embed":Ko("load",e),r=o;break;case"video":case"audio":for(r=0;r<Yo.length;r++)Ko(Yo[r],e);r=o;break;case"source":Ko("error",e),r=o;break;case"img":case"image":case"link":Ko("error",e),Ko("load",e),r=o;break;case"details":Ko("toggle",e),r=o;break;case"input":P(e,o),r=O(e,o),Ko("invalid",e);break;case"option":default:r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=N({},o,{value:void 0}),Ko("invalid",e);break;case"textarea":re(e,o),r=oe(e,o),Ko("invalid",e)}for(i in he(n,r),c=r)if(c.hasOwnProperty(i)){var s=c[i];"style"===i?pe(e,s):"dangerouslySetInnerHTML"===i?null!=(s=s?s.__html:void 0)&&ue(e,s):"children"===i?"string"===typeof s?("textarea"!==n||""!==s)&&de(e,s):"number"===typeof s&&de(e,""+s):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=s&&"onScroll"===i&&Ko("scroll",e):null!=s&&b(e,i,s,g))}switch(n){case"input":U(e),$(e,o,!1);break;case"textarea":U(e),ie(e);break;case"option":null!=o.value&&e.setAttribute("value",""+D(o.value));break;case"select":e.multiple=!!o.multiple,null!=(i=o.value)?ne(e,!!o.multiple,i,!1):null!=o.defaultValue&&ne(e,!!o.multiple,o.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=er)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ql(t),null;case 6:if(e&&null!=t.stateNode)Hl(e,t,e.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw Error(a(166));if(n=oi(ni.current),oi(ei.current),da(t)){if(o=t.stateNode,n=t.memoizedProps,o[Ir]=t,(i=o.nodeValue!==n)&&null!==(e=oa))switch(e.tag){case 3:$o(o.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$o(o.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[Ir]=t,t.stateNode=o}return Ql(t),null;case 13:if(Br(gi),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))Ia(),Ca(),t.flags|=98560,i=!1;else if(i=da(t),null!==o&&null!==o.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ir]=t}else Ca(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ql(t),i=!1}else null!==ia&&(lc(ia),ia=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((o=null!==o)!==(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&gi.current)?0===Hg&&(Hg=3):pc())),null!==t.updateQueue&&(t.flags|=4),Ql(t),null);case 4:return ai(),Jl(e,t),null===e&&zo(t.stateNode.containerInfo),Ql(t),null;case 10:return Za(t.type._context),Ql(t),null;case 19:if(Br(gi),null===(i=t.memoizedState))return Ql(t),null;if(o=0!==(128&t.flags),null===(g=i.rendering))if(o)Ul(i,!1);else{if(0!==Hg||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(g=ci(e))){for(t.flags|=128,Ul(i,!1),null!==(o=g.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;null!==n;)e=o,(i=n).flags&=14680066,null===(g=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=g.childLanes,i.lanes=g.lanes,i.child=g.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=g.memoizedProps,i.memoizedState=g.memoizedState,i.updateQueue=g.updateQueue,i.type=g.type,e=g.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kr(gi,1&gi.current|2),t.child}e=e.sibling}null!==i.tail&&qe()>zg&&(t.flags|=128,o=!0,Ul(i,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=ci(g))){if(t.flags|=128,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ul(i,!0),null===i.tail&&"hidden"===i.tailMode&&!g.alternate&&!aa)return Ql(t),null}else 2*qe()-i.renderingStartTime>zg&&1073741824!==n&&(t.flags|=128,o=!0,Ul(i,!1),t.lanes=4194304);i.isBackwards?(g.sibling=t.child,t.child=g):(null!==(n=i.last)?n.sibling=g:t.child=g,i.last=g)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qe(),t.sibling=null,n=gi.current,kr(gi,o?1&n|2:1&n),t):(Ql(t),null);case 22:case 23:return dc(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&0!==(1&t.mode)?0!==(1073741824&Jg)&&(Ql(t),6&t.subtreeFlags&&(t.flags|=8192)):Ql(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ol(e,t){switch(na(t),t.tag){case 1:return Jr(t.type)&&xr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ai(),Br(wr),Br(Wr),ui(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return li(t),null;case 13:if(Br(gi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ca()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Br(gi),null;case 4:return ai(),null;case 10:return Za(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Xl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Jl=function(){},xl=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,oi(ei.current);var a,i=null;switch(n){case"input":r=O(e,r),o=O(e,o),i=[];break;case"select":r=N({},r,{value:void 0}),o=N({},o,{value:void 0}),i=[];break;case"textarea":r=oe(e,r),o=oe(e,o),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof o.onClick&&(e.onclick=er)}for(s in he(n,o),n=null,r)if(!o.hasOwnProperty(s)&&r.hasOwnProperty(s)&&null!=r[s])if("style"===s){var g=r[s];for(a in g)g.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?i||(i=[]):(i=i||[]).push(s,null));for(s in o){var c=o[s];if(g=null!=r?r[s]:void 0,o.hasOwnProperty(s)&&c!==g&&(null!=c||null!=g))if("style"===s)if(g){for(a in g)!g.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&g[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,g=g?g.__html:void 0,null!=c&&g!==c&&(i=i||[]).push(s,c)):"children"===s?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(l.hasOwnProperty(s)?(null!=c&&"onScroll"===s&&Ko("scroll",e),i||g===c||(i=[])):(i=i||[]).push(s,c))}n&&(i=i||[]).push("style",n);var s=i;(t.updateQueue=s)&&(t.flags|=4)}},Hl=function(e,t,n,o){n!==o&&(t.flags|=4)};var Pl=!1,ql=!1,_l="function"===typeof WeakSet?WeakSet:Set,$l=null;function eg(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(o){Sc(e,t,o)}else n.current=null}function tg(e,t,n){try{n()}catch(o){Sc(e,t,o)}}var ng=!1;function og(e,t,n){var o=t.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var r=o=o.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&tg(t,n,a)}r=r.next}while(r!==o)}}function rg(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function ag(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ig(e){var t=e.alternate;null!==t&&(e.alternate=null,ig(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Ir],delete t[Cr],delete t[pr],delete t[Ar],delete t[hr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lg(e){return 5===e.tag||3===e.tag||4===e.tag}function gg(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cg(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=er));else if(4!==o&&null!==(e=e.child))for(cg(e,t,n),e=e.sibling;null!==e;)cg(e,t,n),e=e.sibling}function sg(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&null!==(e=e.child))for(sg(e,t,n),e=e.sibling;null!==e;)sg(e,t,n),e=e.sibling}var ug=null,dg=!1;function Ig(e,t,n){for(n=n.child;null!==n;)Cg(e,t,n),n=n.sibling}function Cg(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(l){}switch(n.tag){case 5:ql||eg(n,t);case 6:var o=ug,r=dg;ug=null,Ig(e,t,n),dg=r,null!==(ug=o)&&(dg?(e=ug,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ug.removeChild(n.stateNode));break;case 18:null!==ug&&(dg?(e=ug,n=n.stateNode,8===e.nodeType?cr(e.parentNode,n):1===e.nodeType&&cr(e,n),Lt(e)):cr(ug,n.stateNode));break;case 4:o=ug,r=dg,ug=n.stateNode.containerInfo,dg=!0,Ig(e,t,n),ug=o,dg=r;break;case 0:case 11:case 14:case 15:if(!ql&&(null!==(o=n.updateQueue)&&null!==(o=o.lastEffect))){r=o=o.next;do{var a=r,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&tg(n,t,i),r=r.next}while(r!==o)}Ig(e,t,n);break;case 1:if(!ql&&(eg(n,t),"function"===typeof(o=n.stateNode).componentWillUnmount))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(l){Sc(n,t,l)}Ig(e,t,n);break;case 21:Ig(e,t,n);break;case 22:1&n.mode?(ql=(o=ql)||null!==n.memoizedState,Ig(e,t,n),ql=o):Ig(e,t,n);break;default:Ig(e,t,n)}}function mg(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new _l),t.forEach((function(t){var o=Wc.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))}))}}function pg(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,l=t,g=l;e:for(;null!==g;){switch(g.tag){case 5:ug=g.stateNode,dg=!1;break e;case 3:case 4:ug=g.stateNode.containerInfo,dg=!0;break e}g=g.return}if(null===ug)throw Error(a(160));Cg(i,l,r),ug=null,dg=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(s){Sc(r,t,s)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Ag(t,e),t=t.sibling}function Ag(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pg(t,e),hg(e),4&o){try{og(3,e,e.return),rg(3,e)}catch(p){Sc(e,e.return,p)}try{og(5,e,e.return)}catch(p){Sc(e,e.return,p)}}break;case 1:pg(t,e),hg(e),512&o&&null!==n&&eg(n,n.return);break;case 5:if(pg(t,e),hg(e),512&o&&null!==n&&eg(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(p){Sc(e,e.return,p)}}if(4&o&&null!=(r=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,g=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===g&&"radio"===i.type&&null!=i.name&&q(r,i),be(g,l);var s=be(g,i);for(l=0;l<c.length;l+=2){var u=c[l],d=c[l+1];"style"===u?pe(r,d):"dangerouslySetInnerHTML"===u?ue(r,d):"children"===u?de(r,d):b(r,u,d,s)}switch(g){case"input":_(r,i);break;case"textarea":ae(r,i);break;case"select":var I=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var C=i.value;null!=C?ne(r,!!i.multiple,C,!1):I!==!!i.multiple&&(null!=i.defaultValue?ne(r,!!i.multiple,i.defaultValue,!0):ne(r,!!i.multiple,i.multiple?[]:"",!1))}r[Cr]=i}catch(p){Sc(e,e.return,p)}}break;case 6:if(pg(t,e),hg(e),4&o){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(p){Sc(e,e.return,p)}}break;case 3:if(pg(t,e),hg(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Lt(t.containerInfo)}catch(p){Sc(e,e.return,p)}break;case 4:default:pg(t,e),hg(e);break;case 13:pg(t,e),hg(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Lg=qe())),4&o&&mg(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(ql=(s=ql)||u,pg(t,e),ql=s):pg(t,e),hg(e),8192&o){if(s=null!==e.memoizedState,(e.stateNode.isHidden=s)&&!u&&0!==(1&e.mode))for($l=e,u=e.child;null!==u;){for(d=$l=u;null!==$l;){switch(C=(I=$l).child,I.tag){case 0:case 11:case 14:case 15:og(4,I,I.return);break;case 1:eg(I,I.return);var m=I.stateNode;if("function"===typeof m.componentWillUnmount){o=I,n=I.return;try{t=o,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){Sc(o,n,p)}}break;case 5:eg(I,I.return);break;case 22:if(null!==I.memoizedState){yg(d);continue}}null!==C?(C.return=I,$l=C):yg(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{r=d.stateNode,s?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(g=d.stateNode,l=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,g.style.display=me("display",l))}catch(p){Sc(e,e.return,p)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=s?"":d.memoizedProps}catch(p){Sc(e,e.return,p)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pg(t,e),hg(e),4&o&&mg(e);case 21:}}function hg(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(lg(n)){var o=n;break e}n=n.return}throw Error(a(160))}switch(o.tag){case 5:var r=o.stateNode;32&o.flags&&(de(r,""),o.flags&=-33),sg(e,gg(e),r);break;case 3:case 4:var i=o.stateNode.containerInfo;cg(e,gg(e),i);break;default:throw Error(a(161))}}catch(l){Sc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bg(e,t,n){$l=e,fg(e,t,n)}function fg(e,t,n){for(var o=0!==(1&e.mode);null!==$l;){var r=$l,a=r.child;if(22===r.tag&&o){var i=null!==r.memoizedState||Pl;if(!i){var l=r.alternate,g=null!==l&&null!==l.memoizedState||ql;l=Pl;var c=ql;if(Pl=i,(ql=g)&&!c)for($l=r;null!==$l;)g=(i=$l).child,22===i.tag&&null!==i.memoizedState?Zg(r):null!==g?(g.return=i,$l=g):Zg(r);for(;null!==a;)$l=a,fg(a,t,n),a=a.sibling;$l=r,Pl=l,ql=c}vg(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,$l=a):vg(e)}}function vg(e){for(;null!==$l;){var t=$l;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ql||rg(5,t);break;case 1:var o=t.stateNode;if(4&t.flags&&!ql)if(null===n)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Aa(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ea(t,i,o);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ea(t,l,n)}break;case 5:var g=t.stateNode;if(null===n&&4&t.flags){n=g;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var s=t.alternate;if(null!==s){var u=s.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Lt(d)}}}break;default:throw Error(a(163))}ql||512&t.flags&&ag(t)}catch(I){Sc(t,t.return,I)}}if(t===e){$l=null;break}if(null!==(n=t.sibling)){n.return=t.return,$l=n;break}$l=t.return}}function yg(e){for(;null!==$l;){var t=$l;if(t===e){$l=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$l=n;break}$l=t.return}}function Zg(e){for(;null!==$l;){var t=$l;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rg(4,t)}catch(g){Sc(t,n,g)}break;case 1:var o=t.stateNode;if("function"===typeof o.componentDidMount){var r=t.return;try{o.componentDidMount()}catch(g){Sc(t,r,g)}}var a=t.return;try{ag(t)}catch(g){Sc(t,a,g)}break;case 5:var i=t.return;try{ag(t)}catch(g){Sc(t,i,g)}}}catch(g){Sc(t,t.return,g)}if(t===e){$l=null;break}var l=t.sibling;if(null!==l){l.return=t.return,$l=l;break}$l=t.return}}var Gg,Sg=Math.ceil,Bg=f.ReactCurrentDispatcher,kg=f.ReactCurrentOwner,Vg=f.ReactCurrentBatchConfig,Wg=0,wg=null,Rg=null,Xg=0,Jg=0,xg=Sr(0),Hg=0,Yg=null,Ng=0,Fg=0,Eg=0,Kg=null,Mg=null,Lg=0,zg=1/0,Dg=null,Tg=!1,Ug=null,Qg=null,jg=!1,Og=null,Pg=0,qg=0,_g=null,$g=-1,ec=0;function tc(){return 0!==(6&Wg)?qe():-1!==$g?$g:$g=qe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Wg)&&0!==Xg?Xg&-Xg:null!==pa.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Pt(e.type)}function oc(e,t,n,o){if(50<qg)throw qg=0,_g=null,Error(a(185));At(e,n,o),0!==(2&Wg)&&e===wg||(e===wg&&(0===(2&Wg)&&(Fg|=n),4===Hg&&gc(e,Xg)),rc(e,o),1===n&&0===Wg&&0===(1&t.mode)&&(zg=qe()+500,Kr&&zr()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),l=1<<i,g=r[i];-1===g?0!==(l&n)&&0===(l&o)||(r[i]=It(l,t)):g<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var o=dt(e,e===wg?Xg:0);if(0===o)null!==n&&je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=n&&je(n),1===t)0===e.tag?function(e){Kr=!0,Lr(e)}(cc.bind(null,e)):Lr(cc.bind(null,e)),lr((function(){0===(6&Wg)&&zr()})),n=null;else{switch(ft(o)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=ot}n=wc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($g=-1,ec=0,0!==(6&Wg))throw Error(a(327));var n=e.callbackNode;if(Zc()&&e.callbackNode!==n)return null;var o=dt(e,e===wg?Xg:0);if(0===o)return null;if(0!==(30&o)||0!==(o&e.expiredLanes)||t)t=Ac(e,o);else{t=o;var r=Wg;Wg|=2;var i=mc();for(wg===e&&Xg===t||(Dg=null,zg=qe()+500,Ic(e,t));;)try{bc();break}catch(g){Cc(e,g)}ya(),Bg.current=i,Wg=r,null!==Rg?t=0:(wg=null,Xg=0,t=Hg)}if(0!==t){if(2===t&&(0!==(r=Ct(e))&&(o=r,t=ic(e,r))),1===t)throw n=Yg,Ic(e,0),gc(e,o),rc(e,qe()),n;if(6===t)gc(e,o);else{if(r=e.current.alternate,0===(30&o)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var o=0;o<n.length;o++){var r=n[o],a=r.getSnapshot;r=r.value;try{if(!lo(a(),r))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=Ac(e,o))&&(0!==(i=Ct(e))&&(o=i,t=ic(e,i))),1===t))throw n=Yg,Ic(e,0),gc(e,o),rc(e,qe()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(a(345));case 2:case 5:yc(e,Mg,Dg);break;case 3:if(gc(e,o),(130023424&o)===o&&10<(t=Lg+500-qe())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&o)!==o){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=rr(yc.bind(null,e,Mg,Dg),t);break}yc(e,Mg,Dg);break;case 4:if(gc(e,o),(4194240&o)===o)break;for(t=e.eventTimes,r=-1;0<o;){var l=31-it(o);i=1<<l,(l=t[l])>r&&(r=l),o&=~i}if(o=r,10<(o=(120>(o=qe()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Sg(o/1960))-o)){e.timeoutHandle=rr(yc.bind(null,e,Mg,Dg),o);break}yc(e,Mg,Dg);break;default:throw Error(a(329))}}}return rc(e,qe()),e.callbackNode===n?ac.bind(null,e):null}function ic(e,t){var n=Kg;return e.current.memoizedState.isDehydrated&&(Ic(e,t).flags|=256),2!==(e=Ac(e,t))&&(t=Mg,Mg=n,null!==t&&lc(t)),e}function lc(e){null===Mg?Mg=e:Mg.push.apply(Mg,e)}function gc(e,t){for(t&=~Eg,t&=~Fg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),o=1<<n;e[n]=-1,t&=~o}}function cc(e){if(0!==(6&Wg))throw Error(a(327));Zc();var t=dt(e,0);if(0===(1&t))return rc(e,qe()),null;var n=Ac(e,t);if(0!==e.tag&&2===n){var o=Ct(e);0!==o&&(t=o,n=ic(e,o))}if(1===n)throw n=Yg,Ic(e,0),gc(e,t),rc(e,qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,Mg,Dg),rc(e,qe()),null}function sc(e,t){var n=Wg;Wg|=1;try{return e(t)}finally{0===(Wg=n)&&(zg=qe()+500,Kr&&zr())}}function uc(e){null!==Og&&0===Og.tag&&0===(6&Wg)&&Zc();var t=Wg;Wg|=1;var n=Vg.transition,o=bt;try{if(Vg.transition=null,bt=1,e)return e()}finally{bt=o,Vg.transition=n,0===(6&(Wg=t))&&zr()}}function dc(){Jg=xg.current,Br(xg)}function Ic(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ar(n)),null!==Rg)for(n=Rg.return;null!==n;){var o=n;switch(na(o),o.tag){case 1:null!==(o=o.type.childContextTypes)&&void 0!==o&&xr();break;case 3:ai(),Br(wr),Br(Wr),ui();break;case 5:li(o);break;case 4:ai();break;case 13:case 19:Br(gi);break;case 10:Za(o.type._context);break;case 22:case 23:dc()}n=n.return}if(wg=e,Rg=e=xc(e.current,null),Xg=Jg=t,Hg=0,Yg=null,Eg=Fg=Ng=0,Mg=Kg=null,null!==ka){for(t=0;t<ka.length;t++)if(null!==(o=(n=ka[t]).interleaved)){n.interleaved=null;var r=o.next,a=n.pending;if(null!==a){var i=a.next;a.next=r,o.next=i}n.pending=o}ka=null}return e}function Cc(e,t){for(;;){var n=Rg;try{if(ya(),di.current=il,hi){for(var o=mi.memoizedState;null!==o;){var r=o.queue;null!==r&&(r.pending=null),o=o.next}hi=!1}if(Ci=0,Ai=pi=mi=null,bi=!1,fi=0,kg.current=null,null===n||null===n.return){Hg=1,Yg=t,Rg=null;break}e:{var i=e,l=n.return,g=n,c=t;if(t=Xg,g.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var s=c,u=g,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var I=u.alternate;I?(u.updateQueue=I.updateQueue,u.memoizedState=I.memoizedState,u.lanes=I.lanes):(u.updateQueue=null,u.memoizedState=null)}var C=Al(l);if(null!==C){C.flags&=-257,hl(C,l,g,0,t),1&C.mode&&pl(i,s,t),c=s;var m=(t=C).updateQueue;if(null===m){var p=new Set;p.add(c),t.updateQueue=p}else m.add(c);break e}if(0===(1&t)){pl(i,s,t),pc();break e}c=Error(a(426))}else if(aa&&1&g.mode){var A=Al(l);if(null!==A){0===(65536&A.flags)&&(A.flags|=256),hl(A,l,g,0,t),ma(sl(c,g));break e}}i=c=sl(c,g),4!==Hg&&(Hg=2),null===Kg?Kg=[i]:Kg.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Na(i,Cl(0,c,t));break e;case 1:g=c;var h=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof h.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Qg||!Qg.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Na(i,ml(i,g,t));break e}}i=i.return}while(null!==i)}vc(n)}catch(f){t=f,Rg===n&&null!==n&&(Rg=n=n.return);continue}break}}function mc(){var e=Bg.current;return Bg.current=il,null===e?il:e}function pc(){0!==Hg&&3!==Hg&&2!==Hg||(Hg=4),null===wg||0===(268435455&Ng)&&0===(268435455&Fg)||gc(wg,Xg)}function Ac(e,t){var n=Wg;Wg|=2;var o=mc();for(wg===e&&Xg===t||(Dg=null,Ic(e,t));;)try{hc();break}catch(r){Cc(e,r)}if(ya(),Wg=n,Bg.current=o,null!==Rg)throw Error(a(261));return wg=null,Xg=0,Hg}function hc(){for(;null!==Rg;)fc(Rg)}function bc(){for(;null!==Rg&&!Oe();)fc(Rg)}function fc(e){var t=Gg(e.alternate,e,Jg);e.memoizedProps=e.pendingProps,null===t?vc(e):Rg=t,kg.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=jl(n,t,Jg)))return void(Rg=n)}else{if(null!==(n=Ol(n,t)))return n.flags&=32767,void(Rg=n);if(null===e)return Hg=6,void(Rg=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rg=t);Rg=t=e}while(null!==t);0===Hg&&(Hg=5)}function yc(e,t,n){var o=bt,r=Vg.transition;try{Vg.transition=null,bt=1,function(e,t,n,o){do{Zc()}while(null!==Og);if(0!==(6&Wg))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-it(n),a=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~a}}(e,i),e===wg&&(Rg=wg=null,Xg=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||jg||(jg=!0,wc(tt,(function(){return Zc(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Vg.transition,Vg.transition=null;var l=bt;bt=1;var g=Wg;Wg|=4,kg.current=null,function(e,t){if(tr=Dt,Co(e=Io())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch(v){n=null;break e}var l=0,g=-1,c=-1,s=0,u=0,d=e,I=null;t:for(;;){for(var C;d!==n||0!==r&&3!==d.nodeType||(g=l+r),d!==i||0!==o&&3!==d.nodeType||(c=l+o),3===d.nodeType&&(l+=d.nodeValue.length),null!==(C=d.firstChild);)I=d,d=C;for(;;){if(d===e)break t;if(I===n&&++s===r&&(g=l),I===i&&++u===o&&(c=l),null!==(C=d.nextSibling))break;I=(d=I).parentNode}d=C}n=-1===g||-1===c?null:{start:g,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nr={focusedElem:e,selectionRange:n},Dt=!1,$l=t;null!==$l;)if(e=(t=$l).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$l=e;else for(;null!==$l;){t=$l;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var p=m.memoizedProps,A=m.memoizedState,h=t.stateNode,b=h.getSnapshotBeforeUpdate(t.elementType===t.type?p:Aa(t.type,p),A);h.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var f=t.stateNode.containerInfo;1===f.nodeType?f.textContent="":9===f.nodeType&&f.documentElement&&f.removeChild(f.documentElement);break;default:throw Error(a(163))}}catch(v){Sc(t,t.return,v)}if(null!==(e=t.sibling)){e.return=t.return,$l=e;break}$l=t.return}m=ng,ng=!1}(e,n),Ag(n,e),mo(nr),Dt=!!tr,nr=tr=null,e.current=n,bg(n,e,r),Pe(),Wg=g,bt=l,Vg.transition=i}else e.current=n;if(jg&&(jg=!1,Og=e,Pg=r),i=e.pendingLanes,0===i&&(Qg=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,qe()),null!==t)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Tg)throw Tg=!1,e=Ug,Ug=null,e;0!==(1&Pg)&&0!==e.tag&&Zc(),i=e.pendingLanes,0!==(1&i)?e===_g?qg++:(qg=0,_g=e):qg=0,zr()}(e,t,n,o)}finally{Vg.transition=r,bt=o}return null}function Zc(){if(null!==Og){var e=ft(Pg),t=Vg.transition,n=bt;try{if(Vg.transition=null,bt=16>e?16:e,null===Og)var o=!1;else{if(e=Og,Og=null,Pg=0,0!==(6&Wg))throw Error(a(331));var r=Wg;for(Wg|=4,$l=e.current;null!==$l;){var i=$l,l=i.child;if(0!==(16&$l.flags)){var g=i.deletions;if(null!==g){for(var c=0;c<g.length;c++){var s=g[c];for($l=s;null!==$l;){var u=$l;switch(u.tag){case 0:case 11:case 15:og(8,u,i)}var d=u.child;if(null!==d)d.return=u,$l=d;else for(;null!==$l;){var I=(u=$l).sibling,C=u.return;if(ig(u),u===s){$l=null;break}if(null!==I){I.return=C,$l=I;break}$l=C}}}var m=i.alternate;if(null!==m){var p=m.child;if(null!==p){m.child=null;do{var A=p.sibling;p.sibling=null,p=A}while(null!==p)}}$l=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,$l=l;else e:for(;null!==$l;){if(0!==(2048&(i=$l).flags))switch(i.tag){case 0:case 11:case 15:og(9,i,i.return)}var h=i.sibling;if(null!==h){h.return=i.return,$l=h;break e}$l=i.return}}var b=e.current;for($l=b;null!==$l;){var f=(l=$l).child;if(0!==(2064&l.subtreeFlags)&&null!==f)f.return=l,$l=f;else e:for(l=b;null!==$l;){if(0!==(2048&(g=$l).flags))try{switch(g.tag){case 0:case 11:case 15:rg(9,g)}}catch(y){Sc(g,g.return,y)}if(g===l){$l=null;break e}var v=g.sibling;if(null!==v){v.return=g.return,$l=v;break e}$l=g.return}}if(Wg=r,zr(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(y){}o=!0}return o}finally{bt=n,Vg.transition=t}}return!1}function Gc(e,t,n){e=Ha(e,t=Cl(0,t=sl(n,t),1),1),t=tc(),null!==e&&(At(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Gc(e,e,n);else for(;null!==t;){if(3===t.tag){Gc(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===Qg||!Qg.has(o))){t=Ha(t,e=ml(t,e=sl(n,e),1),1),e=tc(),null!==t&&(At(t,1,e),rc(t,e));break}}t=t.return}}function Bc(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,wg===e&&(Xg&n)===n&&(4===Hg||3===Hg&&(130023424&Xg)===Xg&&500>qe()-Lg?Ic(e,0):Eg|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=st,0===(130023424&(st<<=1))&&(st=4194304)));var n=tc();null!==(e=wa(e,t))&&(At(e,t,n),rc(e,n))}function Vc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Wc(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(a(314))}null!==o&&o.delete(t),kc(e,n)}function wc(e,t){return Qe(e,t)}function Rc(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xc(e,t,n,o){return new Rc(e,t,n,o)}function Jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=Xc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hc(e,t,n,o,r,i){var l=2;if(o=e,"function"===typeof e)Jc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case Z:return Yc(n.children,r,i,t);case G:l=8,r|=8;break;case S:return(e=Xc(12,n,t,2|r)).elementType=S,e.lanes=i,e;case W:return(e=Xc(13,n,t,r)).elementType=W,e.lanes=i,e;case w:return(e=Xc(19,n,t,r)).elementType=w,e.lanes=i,e;case J:return Nc(n,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case B:l=10;break e;case k:l=9;break e;case V:l=11;break e;case R:l=14;break e;case X:l=16,o=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Xc(l,n,t,r)).elementType=e,t.type=o,t.lanes=i,t}function Yc(e,t,n,o){return(e=Xc(7,e,o,t)).lanes=n,e}function Nc(e,t,n,o){return(e=Xc(22,e,o,t)).elementType=J,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Xc(6,e,null,t)).lanes=n,e}function Ec(e,t,n){return(t=Xc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kc(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Mc(e,t,n,o,r,a,i,l,g){return e=new Kc(e,t,n,l,g),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Xc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xa(a),e}function Lc(e){if(!e)return Vr;e:{if(Le(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Jr(n))return Yr(e,n,t)}return t}function zc(e,t,n,o,r,a,i,l,g){return(e=Mc(n,o,!0,e,0,a,0,l,g)).context=Lc(null),n=e.current,(a=xa(o=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Ha(n,a,r),e.current.lanes=r,At(e,r,o),rc(e,o),e}function Dc(e,t,n,o){var r=t.current,a=tc(),i=nc(r);return n=Lc(n),null===t.context?t.context=n:t.pendingContext=n,(t=xa(a,i)).payload={element:e},null!==(o=void 0===o?null:o)&&(t.callback=o),null!==(e=Ha(r,t,i))&&(oc(e,r,i,a),Ya(e,r,i)),i}function Tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}Gg=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||wr.current)fl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return fl=!1,function(e,t,n){switch(t.tag){case 3:wl(t),Ca();break;case 5:ii(t);break;case 1:Jr(t.type)&&Nr(t);break;case 4:ri(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;kr(ha,o._currentValue),o._currentValue=r;break;case 13:if(null!==(o=t.memoizedState))return null!==o.dehydrated?(kr(gi,1&gi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fl(e,t,n):(kr(gi,1&gi.current),null!==(e=Tl(e,t,n))?e.sibling:null);kr(gi,1&gi.current);break;case 19:if(o=0!==(n&t.childLanes),0!==(128&e.flags)){if(o)return zl(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),kr(gi,gi.current),o)break;return null;case 22:case 23:return t.lanes=0,Sl(e,t,n)}return Tl(e,t,n)}(e,t,n);fl=0!==(131072&e.flags)}else fl=!1,aa&&0!==(1048576&t.flags)&&ea(t,Qr,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Dl(e,t),e=t.pendingProps;var r=Xr(t,Wr.current);Sa(t,n),r=Gi(null,t,o,e,r,n);var i=Si();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jr(o)?(i=!0,Nr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Xa(t),r.updater=La,t.stateNode=r,r._reactInternals=t,Ua(t,o,e,n),t=Wl(null,t,o,!0,i,n)):(t.tag=0,aa&&i&&ta(t),vl(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Dl(e,t),e=t.pendingProps,o=(r=o._init)(o._payload),t.type=o,r=t.tag=function(e){if("function"===typeof e)return Jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===V)return 11;if(e===R)return 14}return 2}(o),e=Aa(o,e),r){case 0:t=kl(null,t,o,e,n);break e;case 1:t=Vl(null,t,o,e,n);break e;case 11:t=yl(null,t,o,e,n);break e;case 14:t=Zl(null,t,o,Aa(o.type,e),n);break e}throw Error(a(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,kl(e,t,o,r=t.elementType===o?r:Aa(o,r),n);case 1:return o=t.type,r=t.pendingProps,Vl(e,t,o,r=t.elementType===o?r:Aa(o,r),n);case 3:e:{if(wl(t),null===e)throw Error(a(387));o=t.pendingProps,r=(i=t.memoizedState).element,Ja(e,t),Fa(t,o,null,n);var l=t.memoizedState;if(o=l.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Rl(e,t,o,n,r=sl(Error(a(423)),t));break e}if(o!==r){t=Rl(e,t,o,n,r=sl(Error(a(424)),t));break e}for(ra=sr(t.stateNode.containerInfo.firstChild),oa=t,aa=!0,ia=null,n=_a(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ca(),o===r){t=Tl(e,t,n);break e}vl(e,t,o,n)}t=t.child}return t;case 5:return ii(t),null===e&&sa(t),o=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,l=r.children,or(o,r)?l=null:null!==i&&or(o,i)&&(t.flags|=32),Bl(e,t),vl(e,t,l,n),t.child;case 6:return null===e&&sa(t),null;case 13:return Fl(e,t,n);case 4:return ri(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=qa(t,null,o,n):vl(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,yl(e,t,o,r=t.elementType===o?r:Aa(o,r),n);case 7:return vl(e,t,t.pendingProps,n),t.child;case 8:case 12:return vl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,kr(ha,o._currentValue),o._currentValue=l,null!==i)if(lo(i.value,l)){if(i.children===r.children&&!wr.current){t=Tl(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var g=i.dependencies;if(null!==g){l=i.child;for(var c=g.firstContext;null!==c;){if(c.context===o){if(1===i.tag){(c=xa(-1,n&-n)).tag=2;var s=i.updateQueue;if(null!==s){var u=(s=s.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),s.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ga(i.return,n,t),g.lanes|=n;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(a(341));l.lanes|=n,null!==(g=l.alternate)&&(g.lanes|=n),Ga(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}vl(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Sa(t,n),o=o(r=Ba(r)),t.flags|=1,vl(e,t,o,n),t.child;case 14:return r=Aa(o=t.type,t.pendingProps),Zl(e,t,o,r=Aa(o.type,r),n);case 15:return Gl(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Aa(o,r),Dl(e,t),t.tag=1,Jr(o)?(e=!0,Nr(t)):e=!1,Sa(t,n),Da(t,o,r),Ua(t,o,r,n),Wl(null,t,o,!0,e,n);case 19:return zl(e,t,n);case 22:return Sl(e,t,n)}throw Error(a(156,t.tag))};var jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Oc(e){this._internalRoot=e}function Pc(e){this._internalRoot=e}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function _c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function es(e,t,n,o,r){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof r){var l=r;r=function(){var e=Tc(i);l.call(e)}}Dc(t,i,e,r)}else i=function(e,t,n,o,r){if(r){if("function"===typeof o){var a=o;o=function(){var e=Tc(i);a.call(e)}}var i=zc(t,o,e,0,null,!1,0,"",$c);return e._reactRootContainer=i,e[mr]=i.current,zo(8===e.nodeType?e.parentNode:e),uc(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof o){var l=o;o=function(){var e=Tc(g);l.call(e)}}var g=Mc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=g,e[mr]=g.current,zo(8===e.nodeType?e.parentNode:e),uc((function(){Dc(t,g,n,o)})),g}(n,t,e,r,o);return Tc(i)}Pc.prototype.render=Oc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Dc(e,t,null,null)},Pc.prototype.unmount=Oc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Dc(null,e,null,null)})),t[mr]=null}},Pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&0!==t&&t<Jt[n].priority;n++);Jt.splice(n,0,e),0===n&&Nt(e)}},vt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(ht(t,1|n),rc(t,qe()),0===(6&Wg)&&(zg=qe()+500,zr()))}break;case 13:uc((function(){var t=wa(e,1);if(null!==t){var n=tc();oc(t,e,1,n)}})),Qc(e,1)}},yt=function(e){if(13===e.tag){var t=wa(e,134217728);if(null!==t)oc(t,e,134217728,tc());Qc(e,134217728)}},Zt=function(e){if(13===e.tag){var t=nc(e),n=wa(e,t);if(null!==n)oc(n,e,t,tc());Qc(e,t)}},Gt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ye=function(e,t,n){switch(t){case"input":if(_(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=yr(o);if(!r)throw Error(a(90));Q(o),_(o,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ve=sc,We=uc;var ts={usingClientEntryPoint:!1,Events:[fr,vr,yr,Be,ke,sc]},ns={findFiberByHostInstance:br,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},os={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Te(e))?null:e.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rs.isDisabled&&rs.supportsFiber)try{rt=rs.inject(os),at=rs}catch(se){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ts,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(t))throw Error(a(200));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:y,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!qc(e))throw Error(a(299));var n=!1,o="",r=jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Mc(e,1,!1,null,0,n,0,o,r),e[mr]=t.current,zo(8===e.nodeType?e.parentNode:e),new Oc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Te(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!_c(t))throw Error(a(200));return es(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!qc(e))throw Error(a(405));var o=null!=n&&n.hydratedSources||null,r=!1,i="",l=jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,r,0,i,l),e[mr]=t.current,zo(e),o)for(e=0;e<o.length;e++)r=(r=(n=o[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Pc(t)},t.render=function(e,t,n){if(!_c(t))throw Error(a(200));return es(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!_c(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){es(null,null,e,!1,(function(){e._reactRootContainer=null,e[mr]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!_c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return es(e,t,n,!1,o)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var o=n(164);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},340:function(e,t,n){"use strict";var o,r;o=n(71),r=n(424),o.version,t.Dq=o.renderToString,o.renderToStaticMarkup,o.renderToNodeStream,o.renderToStaticNodeStream,r.renderToReadableStream},8:function(e,t,n){e.exports=function(e){"use strict";function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(e);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){if(Array.isArray(e))return e}function i(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(g){l=!0,r=g}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return a}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function g(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return a(e)||i(e,t)||g(e,t)||c()}function u(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function d(e,t){if(null==e)return{};var n,o,r=u(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var I={exports:{}},C={exports:{}},m={},p="function"===typeof Symbol&&Symbol.for,A=p?Symbol.for("react.element"):60103,h=p?Symbol.for("react.portal"):60106,b=p?Symbol.for("react.fragment"):60107,f=p?Symbol.for("react.strict_mode"):60108,v=p?Symbol.for("react.profiler"):60114,y=p?Symbol.for("react.provider"):60109,Z=p?Symbol.for("react.context"):60110,G=p?Symbol.for("react.async_mode"):60111,S=p?Symbol.for("react.concurrent_mode"):60111,B=p?Symbol.for("react.forward_ref"):60112,k=p?Symbol.for("react.suspense"):60113,V=p?Symbol.for("react.suspense_list"):60120,W=p?Symbol.for("react.memo"):60115,w=p?Symbol.for("react.lazy"):60116,R=p?Symbol.for("react.block"):60121,X=p?Symbol.for("react.fundamental"):60117,J=p?Symbol.for("react.responder"):60118,x=p?Symbol.for("react.scope"):60119;function H(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case A:switch(e=e.type){case G:case S:case b:case v:case f:case k:return e;default:switch(e=e&&e.$$typeof){case Z:case B:case w:case W:case y:return e;default:return t}}case h:return t}}}function Y(e){return H(e)===S}m.AsyncMode=G,m.ConcurrentMode=S,m.ContextConsumer=Z,m.ContextProvider=y,m.Element=A,m.ForwardRef=B,m.Fragment=b,m.Lazy=w,m.Memo=W,m.Portal=h,m.Profiler=v,m.StrictMode=f,m.Suspense=k,m.isAsyncMode=function(e){return Y(e)||H(e)===G},m.isConcurrentMode=Y,m.isContextConsumer=function(e){return H(e)===Z},m.isContextProvider=function(e){return H(e)===y},m.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===A},m.isForwardRef=function(e){return H(e)===B},m.isFragment=function(e){return H(e)===b},m.isLazy=function(e){return H(e)===w},m.isMemo=function(e){return H(e)===W},m.isPortal=function(e){return H(e)===h},m.isProfiler=function(e){return H(e)===v},m.isStrictMode=function(e){return H(e)===f},m.isSuspense=function(e){return H(e)===k},m.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===b||e===S||e===v||e===f||e===k||e===V||"object"===typeof e&&null!==e&&(e.$$typeof===w||e.$$typeof===W||e.$$typeof===y||e.$$typeof===Z||e.$$typeof===B||e.$$typeof===X||e.$$typeof===J||e.$$typeof===x||e.$$typeof===R)},m.typeOf=H,C.exports=m;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function N(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==o.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}N()&&Object.assign;var F="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function E(e,t,n,o,r){}Function.call.bind(Object.prototype.hasOwnProperty),E.resetWarningCache=function(){},C.exports;var K=F;function M(){}function L(){}L.resetWarningCache=M;var z=function(){function e(e,t,n,o,r,a){if(a!==K){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:L,resetWarningCache:M};return n.PropTypes=n,n};I.exports=z();var D=I.exports;function T(e,t){var n=atob(e);if(t){for(var o=new Uint8Array(n.length),r=0,a=n.length;r<a;++r)o[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(o.buffer))}return n}function U(e,t,n){var o=void 0===t?null:t,r=T(e,void 0!==n&&n),a=r.indexOf("\n",10)+1,i=r.substring(a)+(o?"//# sourceMappingURL="+o:""),l=new Blob([i],{type:"application/javascript"});return URL.createObjectURL(l)}function Q(e,t,n){var o;return function(r){return o=o||U(e,t,n),new Worker(o,r)}}var j=Q("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7CgkJaWYgKG4uX19lc01vZHVsZSkgcmV0dXJuIG47CgkJdmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7CgkJT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykgewoJCQl2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7CgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBrLCBkLmdldCA/IGQgOiB7CgkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJZ2V0OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIG5ba107CgkJCQl9CgkJCX0pOwoJCX0pOwoJCXJldHVybiBhOwoJfQoKCXZhciBCaW5hcnlCaXRtYXAkMSA9IHt9OwoKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBFeGNlcHRpb24kMSA9IHt9OwoKCWZ1bmN0aW9uIGZpeFByb3RvKHRhcmdldCwgcHJvdG90eXBlKSB7CgkgIHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZjsKCSAgc2V0UHJvdG90eXBlT2YgPyBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSkgOiB0YXJnZXQuX19wcm90b19fID0gcHJvdG90eXBlOwoJfQoJZnVuY3Rpb24gZml4U3RhY2sodGFyZ2V0LCBmbikgewoJICBpZiAoZm4gPT09IHZvaWQgMCkgewoJICAgIGZuID0gdGFyZ2V0LmNvbnN0cnVjdG9yOwoJICB9CgoJICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTsKCSAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7Cgl9CgoJdmFyIF9fZXh0ZW5kcyRrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7CgkgICAgICBfX3Byb3RvX186IFtdCgkgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICBkLl9fcHJvdG9fXyA9IGI7CgkgICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0KCSAgICB9OwoKCSAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgfTsKCgkgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgoJICAgIGZ1bmN0aW9uIF9fKCkgewoJICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7CgkgICAgfQoKCSAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgIH07Cgl9KCk7CgoJdmFyIEN1c3RvbUVycm9yID0gZnVuY3Rpb24gKF9zdXBlcikgewoJICBfX2V4dGVuZHMkayhDdXN0b21FcnJvciwgX3N1cGVyKTsKCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHsKCSAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7CgoJICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7CgoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ25hbWUnLCB7CgkgICAgICB2YWx1ZTogX25ld1RhcmdldC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmaXhQcm90byhfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpOwoJICAgIGZpeFN0YWNrKF90aGlzKTsKCSAgICByZXR1cm4gX3RoaXM7CgkgIH0KCgkgIHJldHVybiBDdXN0b21FcnJvcjsKCX0oRXJyb3IpOwoKCXZhciBfX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzOwoKCSAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7IHMgKz0gYXJndW1lbnRzJDFbaV0ubGVuZ3RoOyB9CgoJICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspIHsgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHsgcltrXSA9IGFbal07IH0gfQoKCSAgcmV0dXJuIHI7Cgl9OwoJZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHsKCSAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7CgkgICAgcGFyZW50ID0gRXJyb3I7CgkgIH0KCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKCkgewoJICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50czsKCgkgICAgdmFyIGFyZ3MgPSBbXTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldOwoJICAgIH0KCgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSkgeyByZXR1cm4gbmV3IChDdXN0b21FcnJvci5iaW5kLmFwcGx5KEN1c3RvbUVycm9yLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwXSwgYXJncykpKSgpOyB9CgkgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3MpOwoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHsKCSAgICAgIHZhbHVlOiBmbi5uYW1lIHx8IHBhcmVudC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTsKCSAgICBmaXhTdGFjayh0aGlzLCBDdXN0b21FcnJvcik7CgkgIH0KCgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21FcnJvciwgewoJICAgIHByb3RvdHlwZTogewoJICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSwgewoJICAgICAgICBjb25zdHJ1Y3RvcjogewoJICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvciwKCSAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICAgICAgfQoJICAgICAgfSkKCSAgICB9CgkgIH0pOwoJfQoKCXZhciBjdXN0b21FcnJvciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCQlfX3Byb3RvX186IG51bGwsCgkJQ3VzdG9tRXJyb3I6IEN1c3RvbUVycm9yLAoJCWN1c3RvbUVycm9yRmFjdG9yeTogY3VzdG9tRXJyb3JGYWN0b3J5Cgl9KTsKCgl2YXIgcmVxdWlyZSQkMCA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY3VzdG9tRXJyb3IpOwoKCXZhciBfX2V4dGVuZHMkaiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIHRzX2N1c3RvbV9lcnJvcl8xID0gcmVxdWlyZSQkMDsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRqKEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICAvKioKCSAgICAgKiBBbGxvd3MgRXhjZXB0aW9uIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5CgkgICAgICogd2l0aCBzb21lIG1lc3NhZ2UgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9uLgoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBFeGNlcHRpb24ucHJvdG90eXBlLmdldEtpbmQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBleCA9IHRoaXMuY29uc3RydWN0b3I7CgkgICAgICAgIHJldHVybiBleC5raW5kOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSXQncyB0eXBlZCBhcyBzdHJpbmcgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGFuZCBvdmVycmlkZW4uCgkgICAgICovCgkgICAgRXhjZXB0aW9uLmtpbmQgPSAnRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRXhjZXB0aW9uOwoJfSh0c19jdXN0b21fZXJyb3JfMS5DdXN0b21FcnJvcikpOwoJRXhjZXB0aW9uJDEuZGVmYXVsdCA9IEV4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSQ5ID0gRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkgewoJICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CgkgICAgfQoJICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjsKCX0oRXhjZXB0aW9uXzEkOS5kZWZhdWx0KSk7CglJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMS5kZWZhdWx0ID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJ5Qml0bWFwJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgQmluYXJ5Qml0bWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEJpbmFyeUJpdG1hcChiaW5hcml6ZXIpIHsKCSAgICAgICAgdGhpcy5iaW5hcml6ZXIgPSBiaW5hcml6ZXI7CgkgICAgICAgIGlmIChiaW5hcml6ZXIgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhLmRlZmF1bHQoJ0JpbmFyaXplciBtdXN0IGJlIG5vbi1udWxsLicpOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gVGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcC4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29udmVydHMgb25lIHJvdyBvZiBsdW1pbmFuY2UgZGF0YSB0byAxIGJpdCBkYXRhLiBNYXkgYWN0dWFsbHkgZG8gdGhlIGNvbnZlcnNpb24sIG9yIHJldHVybgoJICAgICAqIGNhY2hlZCBkYXRhLiBDYWxsZXJzIHNob3VsZCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlIGFuZCBjYWxsIGl0IGFzIHNlbGRvbSBhcyBwb3NzaWJsZS4KCSAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMUQgYmFyY29kZXMgYW5kIG1heSBjaG9vc2UgdG8gYXBwbHkgc2hhcnBlbmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmV0Y2gsIHdoaWNoIG11c3QgYmUgaW4gWzAsIGJpdG1hcCBoZWlnaHQpCgkgICAgICogQHBhcmFtIHJvdyBBbiBvcHRpb25hbCBwcmVhbGxvY2F0ZWQgYXJyYXkuIElmIG51bGwgb3IgdG9vIHNtYWxsLCBpdCB3aWxsIGJlIGlnbm9yZWQuCgkgICAgICogICAgICAgICAgICBJZiB1c2VkLCB0aGUgQmluYXJpemVyIHdpbGwgY2FsbCBCaXRBcnJheS5jbGVhcigpLiBBbHdheXMgdXNlIHRoZSByZXR1cm5lZCBvYmplY3QuCgkgICAgICogQHJldHVybiBUaGUgYXJyYXkgb2YgYml0cyBmb3IgdGhpcyByb3cgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgcm93IGNhbid0IGJlIGJpbmFyaXplZAoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEJsYWNrUm93KHksIHJvdyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBhIDJEIGFycmF5IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0LiBBcyBhYm92ZSwgYXNzdW1lIHRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZQoJICAgICAqIGFuZCBkbyBub3QgY2FsbCBpdCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMkQgYmFyY29kZXMgYW5kIG1heSBvcgoJICAgICAqIG1heSBub3QgYXBwbHkgc2hhcnBlbmluZy4gVGhlcmVmb3JlLCBhIHJvdyBmcm9tIHRoaXMgbWF0cml4IG1heSBub3QgYmUgaWRlbnRpY2FsIHRvIG9uZQoJICAgICAqIGZldGNoZWQgdXNpbmcgZ2V0QmxhY2tSb3coKSwgc28gZG9uJ3QgbWl4IGFuZCBtYXRjaCBiZXR3ZWVuIHRoZW0uCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIFRoZSAyRCBhcnJheSBvZiBiaXRzIGZvciB0aGUgaW1hZ2UgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgaW1hZ2UgY2FuJ3QgYmUgYmluYXJpemVkIHRvIG1ha2UgYSBtYXRyaXgKCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEJsYWNrTWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBUaGUgbWF0cml4IGlzIGNyZWF0ZWQgb24gZGVtYW5kIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHJlcXVlc3RlZCwgdGhlbiBjYWNoZWQuIFRoZXJlIGFyZSB0d28KCSAgICAgICAgLy8gcmVhc29ucyBmb3IgdGhpczoKCSAgICAgICAgLy8gMS4gVGhpcyB3b3JrIHdpbGwgbmV2ZXIgYmUgZG9uZSBpZiB0aGUgY2FsbGVyIG9ubHkgaW5zdGFsbHMgMUQgUmVhZGVyIG9iamVjdHMsIG9yIGlmIGEKCSAgICAgICAgLy8gICAgMUQgUmVhZGVyIGZpbmRzIGEgYmFyY29kZSBiZWZvcmUgdGhlIDJEIFJlYWRlcnMgcnVuLgoJICAgICAgICAvLyAyLiBUaGlzIHdvcmsgd2lsbCBvbmx5IGJlIGRvbmUgb25jZSBldmVuIGlmIHRoZSBjYWxsZXIgaW5zdGFsbHMgbXVsdGlwbGUgMkQgUmVhZGVycy4KCSAgICAgICAgaWYgKHRoaXMubWF0cml4ID09PSBudWxsIHx8IHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tNYXRyaXgoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhpcyBiaXRtYXAgY2FuIGJlIGNyb3BwZWQuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggY3JvcHBlZCBpbWFnZSBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgbWF5IGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlCgkgICAgICogb3JpZ2luYWwgZGF0YSByYXRoZXIgdGhhbiBhIGNvcHkuIE9ubHkgY2FsbGFibGUgaWYgaXNDcm9wU3VwcG9ydGVkKCkgaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0V2lkdGgoKSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB0b3AgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRIZWlnaHQoKSkKCSAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLgoJICAgICAqIEByZXR1cm4gQSBjcm9wcGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5jcm9wKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBzdXBwb3J0cyBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbi4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkuaXNSb3RhdGVTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpOwoJICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUJpdG1hcCh0aGlzLmJpbmFyaXplci5jcmVhdGVCaW5hcml6ZXIobmV3U291cmNlKSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHJvdGF0ZWQgaW1hZ2UgZGF0YSBieSA0NSBkZWdyZWVzIGNvdW50ZXJjbG9ja3dpc2UuCgkgICAgICogT25seSBjYWxsYWJsZSBpZiB7QGxpbmsgI2lzUm90YXRlU3VwcG9ydGVkKCl9IGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIEEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmxhY2tNYXRyaXgoKS50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlIC8qOiBOb3RGb3VuZEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICByZXR1cm4gJyc7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaW5hcnlCaXRtYXA7Cgl9KCkpOwoJdmFyIF9kZWZhdWx0JDMgPSBCaW5hcnlCaXRtYXAkMS5kZWZhdWx0ID0gQmluYXJ5Qml0bWFwOwoKCXZhciBIeWJyaWRCaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBCaW5hcml6ZXIkMSA9IHt9OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJpemVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogVGhpcyBjbGFzcyBoaWVyYXJjaHkgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuCgkgKiBJdCBhbGxvd3MgdGhlIGFsZ29yaXRobSB0byB2YXJ5IHBvbHltb3JwaGljYWxseSwgZm9yIGV4YW1wbGUgYWxsb3dpbmcgYSB2ZXJ5IGV4cGVuc2l2ZQoJICogdGhyZXNob2xkaW5nIHRlY2huaXF1ZSBmb3Igc2VydmVycyBhbmQgYSBmYXN0IG9uZSBmb3IgbW9iaWxlLiBJdCBhbHNvIHBlcm1pdHMgdGhlIGltcGxlbWVudGF0aW9uCgkgKiB0byB2YXJ5LCBlLmcuIGEgSk5JIHZlcnNpb24gZm9yIEFuZHJvaWQgYW5kIGEgSmF2YSBmYWxsYmFjayB2ZXJzaW9uIGZvciBvdGhlciBwbGF0Zm9ybXMuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBCaW5hcml6ZXIoc291cmNlKSB7CgkgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlOwoJICAgIH0KCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEx1bWluYW5jZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlOwoJICAgIH07CgkgICAgQmluYXJpemVyLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgcmV0dXJuIEJpbmFyaXplcjsKCX0oKSk7CglCaW5hcml6ZXIkMS5kZWZhdWx0ID0gQmluYXJpemVyOwoKCXZhciBCaXRBcnJheSQxID0ge307CgoJdmFyIEFycmF5cyQxID0ge307CgoJdmFyIFN5c3RlbSQxID0ge307CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHsKCSAgICB9CgkgICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpCgkgICAgLyoqCgkgICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuCgkgICAgICovCgkgICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7CgkgICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0PwoJICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKCSAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuCgkgICAgICovCgkgICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCSAgICB9OwoJICAgIHJldHVybiBTeXN0ZW07Cgl9KCkpOwoJU3lzdGVtJDEuZGVmYXVsdCA9IFN5c3RlbTsKCgl2YXIgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyRoID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDggPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaChJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ4LmRlZmF1bHQpKTsKCUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uXzEgPSBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZyhBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4LCBtZXNzYWdlKSB7CgkgICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4OwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ua2luZCA9ICdBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247Cgl9KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KSk7CglBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoKCXZhciBfX3ZhbHVlcyQ3ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5cyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtXzEkNSA9IFN5c3RlbSQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDkgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMSA9IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxOwoJdmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBcnJheXMoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXkKCSAgICAgKiBvZiBpbnRzLgoJICAgICAqCgkgICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZAoJICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5CgkgICAgICovCgkgICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKQoJICAgICAgICAgICAgYVtpXSA9IHZhbDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKCSAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkCgkgICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4CgkgICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZQoJICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkCgkgICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmUKCSAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZQoJICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlCgkgICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUKCSAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheQoJICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fQoJICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvcgoJICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH0KCSAgICAgKi8KCSAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkgewoJICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykKCSAgICAgICAgICAgIGFbaV0gPSB2YWw7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpbgoJICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC4KCSAgICAgKi8KCSAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7CgkgICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOS5kZWZhdWx0KCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KGZyb21JbmRleCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvSW5kZXggPiBhcnJheUxlbmd0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbl8xLmRlZmF1bHQodG9JbmRleCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEFycmF5cy5hc0xpc3QgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBhcmdzID0gW107CgkgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CgkgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGFyZ3M7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlID0gZnVuY3Rpb24gKHJvd3MsIGNvbHMsIHZhbHVlKSB7CgkgICAgICAgIHZhciBhcnIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0pOwoJICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkgewoJICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTsKCSAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEludDMyQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuZXF1YWxzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHsKCSAgICAgICAgaWYgKCFmaXJzdCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIGlmICghc2Vjb25kKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKCFmaXJzdC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoIXNlY29uZC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmlyc3QubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgaWYgKGZpcnN0W2ldICE9PSBzZWNvbmRbaV0pIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICBBcnJheXMuaGFzaENvZGUgPSBmdW5jdGlvbiAoYSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgaWYgKGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSAxOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgYV8xID0gX192YWx1ZXMkNyhhKSwgYV8xXzEgPSBhXzEubmV4dCgpOyAhYV8xXzEuZG9uZTsgYV8xXzEgPSBhXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIGVsZW1lbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChhXzFfMSAmJiAhYV8xXzEuZG9uZSAmJiAoX2EgPSBhXzEucmV0dXJuKSkgX2EuY2FsbChhXzEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBBcnJheXMuZmlsbFVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSwgdmFsdWUpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFbaV0gPSB2YWx1ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZiA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7CgkgICAgICAgIHJldHVybiBvcmlnaW5hbC5zbGljZSgwLCBuZXdMZW5ndGgpOwoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAob3JpZ2luYWwsIG5ld0xlbmd0aCkgewoJICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG5ld0xlbmd0aCkgewoJICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgICAgIG5ld0FycmF5LnNldChvcmlnaW5hbCk7CgkgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7CgkgICAgfTsKCSAgICBBcnJheXMuY29weU9mUmFuZ2UgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGZyb20sIHRvKSB7CgkgICAgICAgIHZhciBuZXdMZW5ndGggPSB0byAtIGZyb207CgkgICAgICAgIHZhciBjb3B5ID0gbmV3IEludDMyQXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgU3lzdGVtXzEkNS5kZWZhdWx0LmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgY29weSwgMCwgbmV3TGVuZ3RoKTsKCSAgICAgICAgcmV0dXJuIGNvcHk7CgkgICAgfTsKCSAgICAvKgoJICAgICogUmV0dXJucyB0aGUgaW5kZXggb2Ygb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgb3IgKC1uLTEpIHdoZXJlIG4gaXMgdGhlIGluc2VydGlvbiBwb2ludAoJICAgICogZm9yIHRoZSBuZXcgZWxlbWVudC4KCSAgICAqIFBhcmFtZXRlcnM6CgkgICAgKiAgICAgYXIgLSBBIHNvcnRlZCBhcnJheQoJICAgICogICAgIGVsIC0gQW4gZWxlbWVudCB0byBzZWFyY2ggZm9yCgkgICAgKiAgICAgY29tcGFyYXRvciAtIEEgY29tcGFyYXRvciBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBhcmd1bWVudHM6IChhLCBiKSBhbmQgcmV0dXJuczoKCSAgICAqICAgICAgICBhIG5lZ2F0aXZlIG51bWJlciAgaWYgYSBpcyBsZXNzIHRoYW4gYjsKCSAgICAqICAgICAgICAwIGlmIGEgaXMgZXF1YWwgdG8gYjsKCSAgICAqICAgICAgICBhIHBvc2l0aXZlIG51bWJlciBvZiBhIGlzIGdyZWF0ZXIgdGhhbiBiLgoJICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2F0ZSBlbGVtZW50cy4gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZXF1YWwgZWxlbWVudHMgaW4gdGhlIGFycmF5LAoJICAgICogdGhlIHJldHVybmVkIHZhbHVlIGNhbiBiZSB0aGUgaW5kZXggb2YgYW55IG9uZSBvZiB0aGUgZXF1YWwgZWxlbWVudHMuCgkgICAgKgoJICAgICogaHR0cDovL2pzZmlkZGxlLm5ldC9hcnl6aG92L3BrZnN0NTUwLwoJICAgICovCgkgICAgQXJyYXlzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhciwgZWwsIGNvbXBhcmF0b3IpIHsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY29tcGFyYXRvcikgewoJICAgICAgICAgICAgY29tcGFyYXRvciA9IEFycmF5cy5udW1iZXJDb21wYXJhdG9yOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtID0gMDsKCSAgICAgICAgdmFyIG4gPSBhci5sZW5ndGggLSAxOwoJICAgICAgICB3aGlsZSAobSA8PSBuKSB7CgkgICAgICAgICAgICB2YXIgayA9IChuICsgbSkgPj4gMTsKCSAgICAgICAgICAgIHZhciBjbXAgPSBjb21wYXJhdG9yKGVsLCBhcltrXSk7CgkgICAgICAgICAgICBpZiAoY21wID4gMCkgewoJICAgICAgICAgICAgICAgIG0gPSBrICsgMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA8IDApIHsKCSAgICAgICAgICAgICAgICBuID0gayAtIDE7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gLW0gLSAxOwoJICAgIH07CgkgICAgQXJyYXlzLm51bWJlckNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgewoJICAgICAgICByZXR1cm4gYSAtIGI7CgkgICAgfTsKCSAgICByZXR1cm4gQXJyYXlzOwoJfSgpKTsKCUFycmF5cyQxLmRlZmF1bHQgPSBBcnJheXM7CgoJdmFyIEludGVnZXIkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlZ2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLgoJICovCgl2YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBJbnRlZ2VyKCkgewoJICAgIH0KCSAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7CgkgICAgICAgIHZhciB5OwoJICAgICAgICBpZiAoaSA9PT0gMCkKCSAgICAgICAgICAgIHJldHVybiAzMjsKCSAgICAgICAgdmFyIG4gPSAzMTsKCSAgICAgICAgeSA9IGkgPDwgMTY7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDE2OwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgeSA9IGkgPDwgODsKCSAgICAgICAgaWYgKHkgIT09IDApIHsKCSAgICAgICAgICAgIG4gLT0gODsKCSAgICAgICAgICAgIGkgPSB5OwoJICAgICAgICB9CgkgICAgICAgIHkgPSBpIDw8IDQ7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDQ7CgkgICAgICAgICAgICBpID0geTsKCSAgICAgICAgfQoJICAgICAgICB5ID0gaSA8PCAyOwoJICAgICAgICBpZiAoeSAhPT0gMCkgewoJICAgICAgICAgICAgbiAtPSAyOwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTsKCSAgICB9OwoJICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkgewoJICAgICAgICAvLyBIRCwgRmlndXJlIDUtNgoJICAgICAgICBpZiAoaSA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDMyOwoJICAgICAgICB9CgkgICAgICAgIHZhciBuID0gMTsKCSAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDE2OwoJICAgICAgICAgICAgaSA8PD0gMTY7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDg7CgkgICAgICAgICAgICBpIDw8PSA4OwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkgewoJICAgICAgICAgICAgbiArPSA0OwoJICAgICAgICAgICAgaSA8PD0gNDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHsKCSAgICAgICAgICAgIG4gKz0gMjsKCSAgICAgICAgICAgIGkgPDw9IDI7CgkgICAgICAgIH0KCSAgICAgICAgbiAtPSBpID4+PiAzMTsKCSAgICAgICAgcmV0dXJuIG47CgkgICAgfTsKCSAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpOwoJICAgIH07CgkgICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpOwoJICAgIH07CgkgICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuCgkgICAgLy8gUmV0dXJuczoKCSAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4KCSAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTIKCSAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7CgkgICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpOwoJICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjsKCSAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7CgkgICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTsKCSAgICAgICAgcmV0dXJuIGkgJiAweDNmOwoJICAgIH07CgkgICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7CgkgICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLgoJICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci4KCSAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuCgkgICAgICovCgkgICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7CgkgICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTsKCSAgICB9OwoJICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODsKCSAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgIHJldHVybiBJbnRlZ2VyOwoJfSgpKTsKCUludGVnZXIkMS5kZWZhdWx0ID0gSW50ZWdlcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdEFycmF5JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDggPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheXNfMSQxID0gQXJyYXlzJDE7Cgl2YXIgSW50ZWdlcl8xJDIgPSBJbnRlZ2VyJDE7Cgl2YXIgU3lzdGVtXzEkNCA9IFN5c3RlbSQxOwoJLyoqCgkgKiA8cD5BIHNpbXBsZSwgZmFzdCBhcnJheSBvZiBiaXRzLCByZXByZXNlbnRlZCBjb21wYWN0bHkgYnkgYW4gYXJyYXkgb2YgaW50cyBpbnRlcm5hbGx5LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgQml0QXJyYXkgLyppbXBsZW1lbnRzIENsb25lYWJsZSovID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsKCSAgICAvLyAgIHRoaXMuc2l6ZSA9IDAKCSAgICAvLyAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpCgkgICAgLy8gfQoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh1bmRlZmluZWQgPT09IHNpemUpIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gMAoJICAgIC8vICAgfSBlbHNlIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gc2l6ZQoJICAgIC8vICAgfQoJICAgIC8vICAgdGhpcy5iaXRzID0gdGhpcy5tYWtlQXJyYXkoc2l6ZSkKCSAgICAvLyB9CgkgICAgLy8gRm9yIHRlc3Rpbmcgb25seQoJICAgIGZ1bmN0aW9uIEJpdEFycmF5KHNpemUgLyppbnQqLywgYml0cykgewoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSAwOwoJICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkoMSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplOwoJICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gQml0QXJyYXkubWFrZUFycmF5KHNpemUpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTsKCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXRTaXplSW5CeXRlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuc2l6ZSArIDcpIC8gOCk7CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmIChzaXplID4gdGhpcy5iaXRzLmxlbmd0aCAqIDMyKSB7CgkgICAgICAgICAgICB2YXIgbmV3Qml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTsKCSAgICAgICAgICAgIFN5c3RlbV8xJDQuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5iaXRzLCAwLCBuZXdCaXRzLCAwLCB0aGlzLmJpdHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBpIGJpdCB0byBnZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGJpdCBpIGlzIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiAodGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gJiAoMSA8PCAoaSAmIDB4MUYpKSkgIT09IDA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildIHw9IDEgPDwgKGkgJiAweDFGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEZsaXBzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKGkgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSBePSAxIDw8IChpICYgMHgxRik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBmaXJzdCBiaXQgdG8gY2hlY2sKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIGZpcnN0IGJpdCB0aGF0IGlzIHNldCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gaW5kZXgsIG9yIHNpemUgaWYgbm9uZSBhcmUgc2V0CgkgICAgICogIGF0IG9yIGJleW9uZCB0aGlzIGdpdmVuIGluZGV4CgkgICAgICogQHNlZSAjZ2V0TmV4dFVuc2V0KGludCkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFNldCA9IGZ1bmN0aW9uIChmcm9tIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7CgkgICAgICAgIGlmIChmcm9tID49IHNpemUpIHsKCSAgICAgICAgICAgIHJldHVybiBzaXplOwoJICAgICAgICB9CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IE1hdGguZmxvb3IoZnJvbSAvIDMyKTsKCSAgICAgICAgdmFyIGN1cnJlbnRCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3QKCSAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpOwoJICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7CgkgICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkgewoJICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBpbmRleCB0byBzdGFydCBsb29raW5nIGZvciB1bnNldCBiaXQKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgdW5zZXQgYml0LCBvciB7QGNvZGUgc2l6ZX0gaWYgbm9uZSBhcmUgdW5zZXQgdW50aWwgdGhlIGVuZAoJICAgICAqIEBzZWUgI2dldE5leHRTZXQoaW50KQoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXROZXh0VW5zZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7CgkgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplOwoJICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7CgkgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7CgkgICAgICAgIHZhciBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdOwoJICAgICAgICAvLyBtYXNrIG9mZiBsZXNzZXIgYml0cyBmaXJzdAoJICAgICAgICBjdXJyZW50Qml0cyAmPSB+KCgxIDw8IChmcm9tICYgMHgxRikpIC0gMSk7CgkgICAgICAgIHZhciBsZW5ndGggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKGN1cnJlbnRCaXRzID09PSAwKSB7CgkgICAgICAgICAgICBpZiAoKytiaXRzT2Zmc2V0ID09PSBsZW5ndGgpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGN1cnJlbnRCaXRzID0gfmJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgYmxvY2sgb2YgMzIgYml0cywgc3RhcnRpbmcgYXQgYml0IGkuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gaSBmaXJzdCBiaXQgdG8gc2V0CgkgICAgICogQHBhcmFtIG5ld0JpdHMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgbmV4dCAzMiBiaXRzLiBOb3RlIGFnYWluIHRoYXQgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdAoJICAgICAqIGNvcnJlc3BvbmRzIHRvIGJpdCBpLCB0aGUgbmV4dC1sZWFzdC1zaWduaWZpY2FudCB0byBpKzEsIGFuZCBzbyBvbi4KCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0QnVsayA9IGZ1bmN0aW9uIChpIC8qaW50Ki8sIG5ld0JpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgcmFuZ2Ugb2YgYml0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydCBzdGFydCBvZiByYW5nZSwgaW5jbHVzaXZlLgoJICAgICAqIEBwYXJhbSBlbmQgZW5kIG9mIHJhbmdlLCBleGNsdXNpdmUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIGVuZC0tOyAvLyB3aWxsIGJlIGVhc2llciB0byB0cmVhdCB0aGlzIGFzIHRoZSBsYXN0IGFjdHVhbGx5IHNldCBiaXQgLS0gaW5jbHVzaXZlCgkgICAgICAgIHZhciBmaXJzdEludCA9IE1hdGguZmxvb3Ioc3RhcnQgLyAzMik7CgkgICAgICAgIHZhciBsYXN0SW50ID0gTWF0aC5mbG9vcihlbmQgLyAzMik7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbnQ7IGkgPD0gbGFzdEludDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgZmlyc3RCaXQgPSBpID4gZmlyc3RJbnQgPyAwIDogc3RhcnQgJiAweDFGOwoJICAgICAgICAgICAgdmFyIGxhc3RCaXQgPSBpIDwgbGFzdEludCA/IDMxIDogZW5kICYgMHgxRjsKCSAgICAgICAgICAgIC8vIE9uZXMgZnJvbSBmaXJzdEJpdCB0byBsYXN0Qml0LCBpbmNsdXNpdmUKCSAgICAgICAgICAgIHZhciBtYXNrID0gKDIgPDwgbGFzdEJpdCkgLSAoMSA8PCBmaXJzdEJpdCk7CgkgICAgICAgICAgICBiaXRzW2ldIHw9IG1hc2s7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbWF4ID0gdGhpcy5iaXRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGJpdHNbaV0gPSAwOwoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBFZmZpY2llbnQgbWV0aG9kIHRvIGNoZWNrIGlmIGEgcmFuZ2Ugb2YgYml0cyBpcyBzZXQsIG9yIG5vdCBzZXQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS4KCSAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlCgkgICAgICogQHBhcmFtIHZhbHVlIGlmIHRydWUsIGNoZWNrcyB0aGF0IGJpdHMgaW4gcmFuZ2UgYXJlIHNldCwgb3RoZXJ3aXNlIGNoZWNrcyB0aGF0IHRoZXkgYXJlIG5vdCBzZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGFsbCBiaXRzIGFyZSBzZXQgb3Igbm90IHNldCBpbiByYW5nZSwgYWNjb3JkaW5nIHRvIHZhbHVlIGFyZ3VtZW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgZW5kIGlzIGxlc3MgdGhhbiBzdGFydCBvciB0aGUgcmFuZ2UgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgYXJyYXkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCAvKmludCovLCBlbmQgLyppbnQqLywgdmFsdWUpIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVtcHR5IHJhbmdlIG1hdGNoZXMKCSAgICAgICAgfQoJICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZQoJICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpOwoJICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjsKCSAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7CgkgICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlCgkgICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpICYgMHhGRkZGRkZGRjsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiAmIDB4RkZGRkZGRkYgYWRkZWQgdG8gZGlzY2FyZCBhbnl0aGluZyBhZnRlciAzMiBiaXRzLCBhcyBFUyBoYXMgNTMgYml0cwoJICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlJ3JlIGxvb2tpbmcgZm9yIDFzIGFuZCB0aGUgbWFza2VkIGJpdHNbaV0gaXNuJ3QgYWxsIDFzIChpczogdGhhdCwKCSAgICAgICAgICAgIC8vIGVxdWFscyB0aGUgbWFzaywgb3Igd2UncmUgbG9va2luZyBmb3IgMHMgYW5kIHRoZSBtYXNrZWQgcG9ydGlvbiBpcyBub3QgYWxsIDBzCgkgICAgICAgICAgICBpZiAoKGJpdHNbaV0gJiBtYXNrKSAhPT0gKHZhbHVlID8gbWFzayA6IDApKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgIH07CgkgICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdCA9IGZ1bmN0aW9uIChiaXQpIHsKCSAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyAxKTsKCSAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IodGhpcy5zaXplIC8gMzIpXSB8PSAxIDw8ICh0aGlzLnNpemUgJiAweDFGKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnNpemUrKzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFwcGVuZHMgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdHMsIGZyb20gdmFsdWUsIGluIG9yZGVyIGZyb20gbW9zdC1zaWduaWZpY2FudCB0bwoJICAgICAqIGxlYXN0LXNpZ25pZmljYW50LiBGb3IgZXhhbXBsZSwgYXBwZW5kaW5nIDYgYml0cyBmcm9tIDB4MDAwMDAxRSB3aWxsIGFwcGVuZCB0aGUgYml0cwoJICAgICAqIDAsIDEsIDEsIDEsIDEsIDAgaW4gdGhhdCBvcmRlci4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB2YWx1ZSB7QGNvZGUgaW50fSBjb250YWluaW5nIGJpdHMgdG8gYXBwZW5kCgkgICAgICogQHBhcmFtIG51bUJpdHMgYml0cyBmcm9tIHZhbHVlIHRvIGFwcGVuZAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXRzID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICBpZiAobnVtQml0cyA8IDAgfHwgbnVtQml0cyA+IDMyKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOC5kZWZhdWx0KCdOdW0gYml0cyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMzInKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG51bUJpdHMpOwoJICAgICAgICAvLyBjb25zdCBhcHBlbmRCaXQgPSB0aGlzLmFwcGVuZEJpdDsKCSAgICAgICAgZm9yICh2YXIgbnVtQml0c0xlZnQgPSBudW1CaXRzOyBudW1CaXRzTGVmdCA+IDA7IG51bUJpdHNMZWZ0LS0pIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KCgodmFsdWUgPj4gKG51bUJpdHNMZWZ0IC0gMSkpICYgMHgwMSkgPT09IDEpOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0QXJyYXkgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdmFyIG90aGVyU2l6ZSA9IG90aGVyLnNpemU7CgkgICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgb3RoZXJTaXplKTsKCSAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJTaXplOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KG90aGVyLmdldChpKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDguZGVmYXVsdCgnU2l6ZXMgZG9uXCd0IG1hdGNoJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJpdHMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgLy8gVGhlIGxhc3QgaW50IGNvdWxkIGJlIGluY29tcGxldGUgKGkuZS4gbm90IGhhdmUgMzIgYml0cyBpbgoJICAgICAgICAgICAgLy8gaXQpIGJ1dCB0aGVyZSBpcyBubyBwcm9ibGVtIHNpbmNlIDAgWE9SIDAgPT0gMC4KCSAgICAgICAgICAgIGJpdHNbaV0gXj0gb3RoZXIuYml0c1tpXTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0T2Zmc2V0IGZpcnN0IGJpdCB0byBzdGFydCB3cml0aW5nCgkgICAgICogQHBhcmFtIGFycmF5IGFycmF5IHRvIHdyaXRlIGludG8uIEJ5dGVzIGFyZSB3cml0dGVuIG1vc3Qtc2lnbmlmaWNhbnQgYnl0ZSBmaXJzdC4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUKCSAgICAgKiAgb2YgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyBleHBvc2VkIGJ5IHtAbGluayAjZ2V0Qml0QXJyYXkoKX0KCSAgICAgKiBAcGFyYW0gb2Zmc2V0IHBvc2l0aW9uIGluIGFycmF5IHRvIHN0YXJ0IHdyaXRpbmcKCSAgICAgKiBAcGFyYW0gbnVtQnl0ZXMgaG93IG1hbnkgYnl0ZXMgdG8gd3JpdGUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIChiaXRPZmZzZXQgLyppbnQqLywgYXJyYXksIG9mZnNldCAvKmludCovLCBudW1CeXRlcyAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykgewoJICAgICAgICAgICAgdmFyIHRoZUJ5dGUgPSAwOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoYml0T2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICB0aGVCeXRlIHw9IDEgPDwgKDcgLSBqKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBpXSA9IC8qKGJ5dGUpKi8gdGhlQnl0ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB1bmRlcmx5aW5nIGFycmF5IG9mIGludHMuIFRoZSBmaXJzdCBlbGVtZW50IGhvbGRzIHRoZSBmaXJzdCAzMiBiaXRzLCBhbmQgdGhlIGxlYXN0CgkgICAgICogICAgICAgICBzaWduaWZpY2FudCBiaXQgaXMgYml0IDAuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmdldEJpdEFycmF5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV2ZXJzZXMgYWxsIGJpdHMgaW4gdGhlIGFycmF5LgoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3Qml0cyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYml0cy5sZW5ndGgpOwoJICAgICAgICAvLyByZXZlcnNlIGFsbCBpbnQncyBmaXJzdAoJICAgICAgICB2YXIgbGVuID0gTWF0aC5mbG9vcigodGhpcy5zaXplIC0gMSkgLyAzMik7CgkgICAgICAgIHZhciBvbGRCaXRzTGVuID0gbGVuICsgMTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeCA9IGJpdHNbaV07CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSkgfCAoKHggJiAweDU1NTU1NTU1KSA8PCAxKTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMikgJiAweDMzMzMzMzMzKSB8ICgoeCAmIDB4MzMzMzMzMzMpIDw8IDIpOwoJICAgICAgICAgICAgeCA9ICgoeCA+PiA0KSAmIDB4MGYwZjBmMGYpIHwgKCh4ICYgMHgwZjBmMGYwZikgPDwgNCk7CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDgpICYgMHgwMGZmMDBmZikgfCAoKHggJiAweDAwZmYwMGZmKSA8PCA4KTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMTYpICYgMHgwMDAwZmZmZikgfCAoKHggJiAweDAwMDBmZmZmKSA8PCAxNik7CgkgICAgICAgICAgICBuZXdCaXRzW2xlbiAtIGldID0gLyooaW50KSovIHg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm93IGNvcnJlY3QgdGhlIGludCdzIGlmIHRoZSBiaXQgc2l6ZSBpc24ndCBhIG11bHRpcGxlIG9mIDMyCgkgICAgICAgIGlmICh0aGlzLnNpemUgIT09IG9sZEJpdHNMZW4gKiAzMikgewoJICAgICAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBvbGRCaXRzTGVuICogMzIgLSB0aGlzLnNpemU7CgkgICAgICAgICAgICB2YXIgY3VycmVudEludCA9IG5ld0JpdHNbMF0gPj4+IGxlZnRPZmZzZXQ7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG9sZEJpdHNMZW47IGkrKykgewoJICAgICAgICAgICAgICAgIHZhciBuZXh0SW50ID0gbmV3Qml0c1tpXTsKCSAgICAgICAgICAgICAgICBjdXJyZW50SW50IHw9IG5leHRJbnQgPDwgKDMyIC0gbGVmdE9mZnNldCk7CgkgICAgICAgICAgICAgICAgbmV3Qml0c1tpIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgPSBuZXh0SW50ID4+PiBsZWZ0T2Zmc2V0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgbmV3Qml0c1tvbGRCaXRzTGVuIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICBCaXRBcnJheS5tYWtlQXJyYXkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShNYXRoLmZsb29yKChzaXplICsgMzEpIC8gMzIpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdEFycmF5KSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnNpemUgPT09IG90aGVyLnNpemUgJiYgQXJyYXlzXzEkMS5kZWZhdWx0LmVxdWFscyh0aGlzLmJpdHMsIG90aGVyLmJpdHMpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogdGhpcy5zaXplICsgQXJyYXlzXzEkMS5kZWZhdWx0Lmhhc2hDb2RlKHRoaXMuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcmVzdWx0ID0gJyc7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBzaXplID0gdGhpcy5zaXplOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICBpZiAoKGkgJiAweDA3KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICc7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoaSkgPyAnWCcgOiAnLic7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0QXJyYXkodGhpcy5zaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7CgkgICAgfTsKCSAgICByZXR1cm4gQml0QXJyYXk7Cgl9KCkpOwoJQml0QXJyYXkkMS5kZWZhdWx0ID0gQml0QXJyYXk7CgoJdmFyIEJpdE1hdHJpeCQxID0ge307CgoJdmFyIFN0cmluZ0J1aWxkZXIkMSA9IHt9OwoKCXZhciBTdHJpbmdVdGlscyQxID0ge307CgoJdmFyIERlY29kZUhpbnRUeXBlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY29kZUhpbnRUeXBlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIHR5cGUgb2YgaGludCB0aGF0IGEgY2FsbGVyIG1heSBwYXNzIHRvIGEgYmFyY29kZSByZWFkZXIgdG8gaGVscCBpdAoJICogbW9yZSBxdWlja2x5IG9yIGFjY3VyYXRlbHkgZGVjb2RlIGl0LiBJdCBpcyB1cCB0byBpbXBsZW1lbnRhdGlvbnMgdG8gZGVjaWRlIHdoYXQsCgkgKiBpZiBhbnl0aGluZywgdG8gZG8gd2l0aCB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyBzdXBwbGllZC4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBzZWUgUmVhZGVyI2RlY29kZShCaW5hcnlCaXRtYXAsamF2YS51dGlsLk1hcCkKCSAqLwoJdmFyIERlY29kZUhpbnRUeXBlOwoJKGZ1bmN0aW9uIChEZWNvZGVIaW50VHlwZSkgewoJICAgIC8qKgoJICAgICAqIFVuc3BlY2lmaWVkLCBhcHBsaWNhdGlvbi1zcGVjaWZpYyBoaW50LiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJPVEhFUiJdID0gMF0gPSAiT1RIRVIiOyAvKihPYmplY3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsKCSAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlBVUkVfQkFSQ09ERSJdID0gMV0gPSAiUFVSRV9CQVJDT0RFIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEltYWdlIGlzIGtub3duIHRvIGJlIG9mIG9uZSBvZiBhIGZldyBwb3NzaWJsZSBmb3JtYXRzLgoJICAgICAqIE1hcHMgdG8gYSB7QGxpbmsgTGlzdH0gb2Yge0BsaW5rIEJhcmNvZGVGb3JtYXR9cy4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiUE9TU0lCTEVfRk9STUFUUyJdID0gMl0gPSAiUE9TU0lCTEVfRk9STUFUUyI7IC8qKExpc3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVuZCBtb3JlIHRpbWUgdG8gdHJ5IHRvIGZpbmQgYSBiYXJjb2RlOyBvcHRpbWl6ZSBmb3IgYWNjdXJhY3ksIG5vdCBzcGVlZC4KCSAgICAgKiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87IHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiVFJZX0hBUkRFUiJdID0gM10gPSAiVFJZX0hBUkRFUiI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKQoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJDSEFSQUNURVJfU0VUIl0gPSA0XSA9ICJDSEFSQUNURVJfU0VUIjsgLyooU3RyaW5nLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQWxsb3dlZCBsZW5ndGhzIG9mIGVuY29kZWQgZGF0YSAtLSByZWplY3QgYW55dGhpbmcgZWxzZS4gTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfTEVOR1RIUyJdID0gNV0gPSAiQUxMT1dFRF9MRU5HVEhTIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEFzc3VtZSBDb2RlIDM5IGNvZGVzIGVtcGxveSBhIGNoZWNrIGRpZ2l0LiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87CgkgICAgICogdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVCJdID0gNl0gPSAiQVNTVU1FX0NPREVfMzlfQ0hFQ0tfRElHSVQiOyAvKihWb2lkLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC4KCSAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOwoJICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiQVNTVU1FX0dTMSJdID0gN10gPSAiQVNTVU1FX0dTMSI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJZiB0cnVlLCByZXR1cm4gdGhlIHN0YXJ0IGFuZCBlbmQgZGlnaXRzIGluIGEgQ29kYWJhciBiYXJjb2RlIGluc3RlYWQgb2Ygc3RyaXBwaW5nIHRoZW0uIFRoZXkKCSAgICAgKiBhcmUgYWxwaGEsIHdoZXJlYXMgdGhlIHJlc3QgYXJlIG51bWVyaWMuIEJ5IGRlZmF1bHQsIHRoZXkgYXJlIHN0cmlwcGVkLCBidXQgdGhpcyBjYXVzZXMgdGhlbQoJICAgICAqIHRvIG5vdCBiZS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOyB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORCJdID0gOF0gPSAiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrIHdoZW4gYSBwb3NzaWJsZSB7QGxpbmsgUmVzdWx0UG9pbnR9CgkgICAgICogaXMgZm91bmQuIE1hcHMgdG8gYSB7QGxpbmsgUmVzdWx0UG9pbnRDYWxsYmFja30uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLIl0gPSA5XSA9ICJORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuCgkgICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uCgkgICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCwKCSAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQKCSAgICAgKiBhdCBhbGwuCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfRUFOX0VYVEVOU0lPTlMiXSA9IDEwXSA9ICJBTExPV0VEX0VBTl9FWFRFTlNJT05TIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8vIEVuZCBvZiBlbnVtZXJhdGlvbiB2YWx1ZXMuCgkgICAgLyoqCgkgICAgICogRGF0YSB0eXBlIHRoZSBoaW50IGlzIGV4cGVjdGluZy4KCSAgICAgKiBBbW9uZyB0aGUgcG9zc2libGUgdmFsdWVzIHRoZSB7QGxpbmsgVm9pZH0gc3RhbmRzIG91dCBhcyBiZWluZyB1c2VkIGZvcgoJICAgICAqIGhpbnRzIHRoYXQgZG8gbm90IGV4cGVjdCBhIHZhbHVlIHRvIGJlIHN1cHBsaWVkIChmbGFnIGhpbnRzKS4gU3VjaCBoaW50cwoJICAgICAqIHdpbGwgcG9zc2libHkgaGF2ZSB0aGVpciB2YWx1ZSBpZ25vcmVkLCBvciByZXBsYWNlZCBieSBhCgkgICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0uIEhpbnQgc3VwcGxpZXJzIHNob3VsZCBwcm9iYWJseSB1c2UKCSAgICAgKiB7QGxpbmsgQm9vbGVhbiNUUlVFfSBhcyBkaXJlY3RlZCBieSB0aGUgYWN0dWFsIGhpbnQgZG9jdW1lbnRhdGlvbi4KCSAgICAgKi8KCSAgICAvLyBwcml2YXRlIHZhbHVlVHlwZTogQ2xhc3M8Pz4KCSAgICAvLyBEZWNvZGVIaW50VHlwZSh2YWx1ZVR5cGU6IENsYXNzPD8+KSB7CgkgICAgLy8gICB0aGlzLnZhbHVlVHlwZSA9IHZhbHVlVHlwZQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgZ2V0VmFsdWVUeXBlKCk6IENsYXNzPD8+IHsKCSAgICAvLyAgIHJldHVybiB2YWx1ZVR5cGUKCSAgICAvLyB9Cgl9KShEZWNvZGVIaW50VHlwZSB8fCAoRGVjb2RlSGludFR5cGUgPSB7fSkpOwoJRGVjb2RlSGludFR5cGUkMS5kZWZhdWx0ID0gRGVjb2RlSGludFR5cGU7CgoJdmFyIENoYXJhY3RlclNldEVDSSA9IHt9OwoKCXZhciBGb3JtYXRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtYXRFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDcgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRmKEZvcm1hdEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBGb3JtYXRFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEV4Y2VwdGlvbigpOwoJICAgIH07CgkgICAgRm9ybWF0RXhjZXB0aW9uLmtpbmQgPSAnRm9ybWF0RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRm9ybWF0RXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ3LmRlZmF1bHQpKTsKCUZvcm1hdEV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBGb3JtYXRFeGNlcHRpb247CgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgkvKgoJICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCWV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHZvaWQgMDsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xID0gRm9ybWF0RXhjZXB0aW9uJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsqLwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7CgkoZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwNDM3Il0gPSAwXSA9ICJDcDQzNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEiXSA9IDFdID0gIklTTzg4NTlfMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzIiXSA9IDJdID0gIklTTzg4NTlfMiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzMiXSA9IDNdID0gIklTTzg4NTlfMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzQiXSA9IDRdID0gIklTTzg4NTlfNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzUiXSA9IDVdID0gIklTTzg4NTlfNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzYiXSA9IDZdID0gIklTTzg4NTlfNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzciXSA9IDddID0gIklTTzg4NTlfNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzgiXSA9IDhdID0gIklTTzg4NTlfOCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzkiXSA9IDldID0gIklTTzg4NTlfOSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEwIl0gPSAxMF0gPSAiSVNPODg1OV8xMCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzExIl0gPSAxMV0gPSAiSVNPODg1OV8xMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEzIl0gPSAxMl0gPSAiSVNPODg1OV8xMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE0Il0gPSAxM10gPSAiSVNPODg1OV8xNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE1Il0gPSAxNF0gPSAiSVNPODg1OV8xNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE2Il0gPSAxNV0gPSAiSVNPODg1OV8xNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJTSklTIl0gPSAxNl0gPSAiU0pJUyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTAiXSA9IDE3XSA9ICJDcDEyNTAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQ3AxMjUxIl0gPSAxOF0gPSAiQ3AxMjUxIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwMTI1MiJdID0gMTldID0gIkNwMTI1MiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTYiXSA9IDIwXSA9ICJDcDEyNTYiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siVW5pY29kZUJpZ1VubWFya2VkIl0gPSAyMV0gPSAiVW5pY29kZUJpZ1VubWFya2VkIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIlVURjgiXSA9IDIyXSA9ICJVVEY4IjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkFTQ0lJIl0gPSAyM10gPSAiQVNDSUkiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQmlnNSJdID0gMjRdID0gIkJpZzUiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siR0IxODAzMCJdID0gMjVdID0gIkdCMTgwMzAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siRVVDX0tSIl0gPSAyNl0gPSAiRVVDX0tSIjsKCX0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSBleHBvcnRzLkNoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKGV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHt9KSk7CgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIENoYXJhY3RlciBTZXQgRUNJLCBhY2NvcmRpbmcgdG8gIkV4dGVuZGVkIENoYW5uZWwgSW50ZXJwcmV0YXRpb25zIiA1LjMuMS4xCgkgKiBvZiBJU08gMTgwMDQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyOwoJICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwoJICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzOwoJICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7CgkgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7CgkgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlczsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07CgkgICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgIH0KCSAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7CgkgICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pCgkgICAgLy8gfQoJICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHsKCSAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfQoJICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXMKCSAgICAvLyB9CgkgICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykgewoJICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMKCSAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzCgkgICAgLy8gfQoJICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm5hbWU7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWUKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0CgkgICAgICogICB1bnN1cHBvcnRlZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkCgkgICAgICovCgkgICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJLmdldCh2YWx1ZSk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGNoYXJhY3RlclNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBuYW1lIGNoYXJhY3RlciBzZXQgRUNJIGVuY29kaW5nIG5hbWUKCSAgICAgKiBAcmV0dXJuIENoYXJhY3RlclNldEVDSSByZXByZXNlbnRpbmcgRUNJIGZvciBjaGFyYWN0ZXIgZW5jb2RpbmcsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwKCSAgICAgKiAgIGJ1dCB1bnN1cHBvcnRlZAoJICAgICAqLwoJICAgIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLk5BTUVfVE9fRUNJLmdldChuYW1lKTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgnaW5jb3JlY3QgdmFsdWUnKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0OwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTsKCSAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW8KCSAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmEKCSAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpCgkgICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHQKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpOwoJICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpOwoJICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7Cgl9KCkpOwoJZXhwb3J0cy5kZWZhdWx0ID0gQ2hhcmFjdGVyU2V0RUNJOwoKCX0oQ2hhcmFjdGVyU2V0RUNJKSk7CgoJdmFyIFN0cmluZ0VuY29kaW5nJDEgPSB7fTsKCgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNiA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCkpOwoJVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMS5kZWZhdWx0ID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0VuY29kaW5nJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxOwoJdmFyIENoYXJhY3RlclNldEVDSV8xJDIgPSBDaGFyYWN0ZXJTZXRFQ0k7CgkvKioKCSAqIFJlc3BvbnNpYmxlIGZvciBlbi9kZWNvZGluZyBzdHJpbmdzLgoJICovCgl2YXIgU3RyaW5nRW5jb2RpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nRW5jb2RpbmcoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIERlY29kZXMgc29tZSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIGZvcm1hdC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5kZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7CgkgICAgICAgIHZhciBlbmNvZGluZ05hbWUgPSB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZyk7CgkgICAgICAgIGlmICh0aGlzLmN1c3RvbURlY29kZXIpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbURlY29kZXIoYnl0ZXMsIGVuY29kaW5nTmFtZSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC4KCSAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zaG91bGREZWNvZGVPbkZhbGxiYWNrKGVuY29kaW5nTmFtZSkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZhbGxiYWNrKGJ5dGVzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmdOYW1lKS5kZWNvZGUoYnl0ZXMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ2hlY2tzIGlmIHRoZSBkZWNvZGluZyBtZXRob2Qgc2hvdWxkIHVzZSB0aGUgZmFsbGJhY2sgZm9yIGRlY29kaW5nCgkgICAgICogb25jZSBOb2RlIFRleHREZWNvZGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgZW5jb2RpbmcgZm9ybWF0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBlbmNvZGluZ05hbWUKCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5zaG91bGREZWNvZGVPbkZhbGxiYWNrID0gZnVuY3Rpb24gKGVuY29kaW5nTmFtZSkgewoJICAgICAgICByZXR1cm4gIVN0cmluZ0VuY29kaW5nLmlzQnJvd3NlcigpICYmIGVuY29kaW5nTmFtZSA9PT0gJ0lTTy04ODU5LTEnOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRW5jb2RlcyBzb21lIHN0cmluZyBpbnRvIGEgVWludDhBcnJheS4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGUgPSBmdW5jdGlvbiAocywgZW5jb2RpbmcpIHsKCSAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTsKCSAgICAgICAgaWYgKHRoaXMuY3VzdG9tRW5jb2RlcikgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRW5jb2RlcihzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEluY3JlYXNlcyBicm93c2VyIHN1cHBvcnQuCgkgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICd1bmRlZmluZWQnKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVGYWxsYmFjayhzKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBUZXh0RW5jb2RlciBvbmx5IGVuY29kZXMgdG8gVVRGOCBieSBkZWZhdWx0IGFzIHNwZWNpZmllZCBieSBlbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcKCSAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHdpbmRvdykgPT09ICdbb2JqZWN0IFdpbmRvd10nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBmcm9tIHNvbWUgZW5jb2RpbmcgY2hhcmFjdGVyIHNldC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGluZ05hbWUgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycKCSAgICAgICAgICAgID8gZW5jb2RpbmcKCSAgICAgICAgICAgIDogZW5jb2RpbmcuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBjaGFyYWN0ZXIgc2V0IGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nQ2hhcmFjdGVyU2V0ID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgICAgICAgIGlmIChlbmNvZGluZyBpbnN0YW5jZW9mIENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdCkgewoJICAgICAgICAgICAgcmV0dXJuIGVuY29kaW5nOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJ1bnMgYSBmYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBkZWNvZGluZyBmdW5jaW9uLgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZUZhbGxiYWNrID0gZnVuY3Rpb24gKGJ5dGVzLCBlbmNvZGluZykgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gdGhpcy5lbmNvZGluZ0NoYXJhY3RlclNldChlbmNvZGluZyk7CgkgICAgICAgIGlmIChTdHJpbmdFbmNvZGluZy5pc0RlY29kZUZhbGxiYWNrU3VwcG9ydGVkKGNoYXJhY3RlclNldCkpIHsKCSAgICAgICAgICAgIHZhciBzID0gJyc7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBieXRlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGggPSBieXRlc1tpXS50b1N0cmluZygxNik7CgkgICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikgewoJICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcyArPSAnJScgKyBoOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuVW5pY29kZUJpZ1VubWFya2VkKSkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcikpOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgiRW5jb2RpbmcgIiArIHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKSArICIgbm90IHN1cHBvcnRlZCBieSBmYWxsYmFjay4iKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdC5VVEY4KSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuSVNPODg1OV8xKSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuQVNDSUkpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzCgkgICAgICovCgkgICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykgewoJICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CgkgICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpOwoJICAgICAgICB2YXIgdWludEFycmF5ID0gW107CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nOwoJfSgpKTsKCVN0cmluZ0VuY29kaW5nJDEuZGVmYXVsdCA9IFN0cmluZ0VuY29kaW5nOwoKCS8qCgkgKiBDb3B5cmlnaHQgKEMpIDIwMTAgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1V0aWxzJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQzID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSQxID0gQ2hhcmFjdGVyU2V0RUNJOwoJdmFyIFN0cmluZ0VuY29kaW5nXzEkMSA9IFN0cmluZ0VuY29kaW5nJDE7CgkvKioKCSAqIENvbW1vbiBzdHJpbmctcmVsYXRlZCBmdW5jdGlvbnMuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgQWxleCBEdXByZQoJICovCgl2YXIgU3RyaW5nVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7CgkgICAgfQoJICAgIC8vIFNISUZUX0pJUy5lcXVhbHNJZ25vcmVDYXNlKFBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcpIHx8CgkgICAgLy8gRVVDX0pQLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORyk7CgkgICAgU3RyaW5nVXRpbHMuY2FzdEFzTm9uVXRmOENoYXIgPSBmdW5jdGlvbiAoY29kZSwgZW5jb2RpbmcpIHsKCSAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBudWxsOyB9CgkgICAgICAgIC8vIElTTyA4ODU5LTEgaXMgdGhlIEphdmEgZGVmYXVsdCBhcyBVVEYtOCBpcyBKYXZhU2NyaXB0cwoJICAgICAgICAvLyB5b3UgY2FuIHNlZSB0aGlzIG1ldGhvZCBhcyBhIEphdmEgdmVyc2lvbiBvZiBTdHJpbmcuZnJvbUNoYXJDb2RlCgkgICAgICAgIHZhciBlID0gZW5jb2RpbmcgPyBlbmNvZGluZy5nZXROYW1lKCkgOiB0aGlzLklTTzg4NTkxOwoJICAgICAgICAvLyB1c2UgcGFzc2VkIGZvcm1hdCAoZnJvbUNoYXJDb2RlIHdpbGwgcmV0dXJuIFVURjggZW5jb2RpbmcpCgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoW2NvZGVdKSwgZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZW5jb2RpbmcgYSBzdHJpbmcsIHdob3NlIGVuY29kaW5nIHNob3VsZCBiZSBndWVzc2VkCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kZSBoaW50cyBpZiBhcHBsaWNhYmxlCgkgICAgICogQHJldHVybiBuYW1lIG9mIGd1ZXNzZWQgZW5jb2Rpbmc7IGF0IHRoZSBtb21lbnQgd2lsbCBvbmx5IGd1ZXNzIG9uZSBvZjoKCSAgICAgKiAge0BsaW5rICNTSElGVF9KSVN9LCB7QGxpbmsgI1VURjh9LCB7QGxpbmsgI0lTTzg4NTkxfSwgb3IgdGhlIHBsYXRmb3JtCgkgICAgICogIGRlZmF1bHQgZW5jb2RpbmcgaWYgbm9uZSBvZiB0aGVzZSBjYW4gcG9zc2libHkgYmUgY29ycmVjdAoJICAgICAqLwoJICAgIFN0cmluZ1V0aWxzLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbiAoYnl0ZXMsIGhpbnRzKSB7CgkgICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpKSB7CgkgICAgICAgICAgICByZXR1cm4gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpLnRvU3RyaW5nKCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRm9yIG5vdywgbWVyZWx5IHRyaWVzIHRvIGRpc3Rpbmd1aXNoIElTTy04ODU5LTEsIFVURi04IGFuZCBTaGlmdF9KSVMsCgkgICAgICAgIC8vIHdoaWNoIHNob3VsZCBiZSBieSBmYXIgdGhlIG1vc3QgY29tbW9uIGVuY29kaW5ncy4KCSAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDsKCSAgICAgICAgdmFyIGNhbkJlSVNPODg1OTEgPSB0cnVlOwoJICAgICAgICB2YXIgY2FuQmVTaGlmdEpJUyA9IHRydWU7CgkgICAgICAgIHZhciBjYW5CZVVURjggPSB0cnVlOwoJICAgICAgICB2YXIgdXRmOEJ5dGVzTGVmdCA9IDA7CgkgICAgICAgIC8vIGludCB1dGY4TG93Q2hhcnMgPSAwCgkgICAgICAgIHZhciB1dGYyQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGYzQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGY0Qnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciBzamlzQnl0ZXNMZWZ0ID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNMb3dDaGFycyA9IDAKCSAgICAgICAgdmFyIHNqaXNLYXRha2FuYUNoYXJzID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNEb3VibGVCeXRlc0NoYXJzID0gMAoJICAgICAgICB2YXIgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgIHZhciBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgdmFyIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSAwOwoJICAgICAgICB2YXIgc2ppc01heERvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7CgkgICAgICAgIC8vIGludCBpc29Mb3dDaGFycyA9IDAKCSAgICAgICAgLy8gaW50IGlzb0hpZ2hDaGFycyA9IDAKCSAgICAgICAgdmFyIGlzb0hpZ2hPdGhlciA9IDA7CgkgICAgICAgIHZhciB1dGY4Ym9tID0gYnl0ZXMubGVuZ3RoID4gMyAmJgoJICAgICAgICAgICAgYnl0ZXNbMF0gPT09IC8qKGJ5dGUpICovIDB4RUYgJiYKCSAgICAgICAgICAgIGJ5dGVzWzFdID09PSAvKihieXRlKSAqLyAweEJCICYmCgkgICAgICAgICAgICBieXRlc1syXSA9PT0gLyooYnl0ZSkgKi8gMHhCRjsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgKGNhbkJlSVNPODg1OTEgfHwgY2FuQmVTaGlmdEpJUyB8fCBjYW5CZVVURjgpOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJ5dGVzW2ldICYgMHhGRjsKCSAgICAgICAgICAgIC8vIFVURi04IHN0dWZmCgkgICAgICAgICAgICBpZiAoY2FuQmVVVEY4KSB7CgkgICAgICAgICAgICAgICAgaWYgKHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDgwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbHVlICYgMHg4MCkgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4NDApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDIwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjJCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MTApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjNCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDA4KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmNEJ5dGVzQ2hhcnMrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyB1dGY4TG93Q2hhcnMrKwoJICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIElTTy04ODU5LTEgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMHg3RiAmJiB2YWx1ZSA8IDB4QTApIHsKCSAgICAgICAgICAgICAgICAgICAgY2FuQmVJU084ODU5MSA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4OUYpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHhDMCB8fCB2YWx1ZSA9PT0gMHhENyB8fCB2YWx1ZSA9PT0gMHhGNykgewoJICAgICAgICAgICAgICAgICAgICAgICAgaXNvSGlnaE90aGVyKys7CgkgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIGlzb0hpZ2hDaGFycysrCgkgICAgICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgICAgICB9IC8vIGVsc2UgewoJICAgICAgICAgICAgICAgIC8vIGlzb0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAvLyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBTaGlmdF9KSVMgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7CgkgICAgICAgICAgICAgICAgaWYgKHNqaXNCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDB4NDAgfHwgdmFsdWUgPT09IDB4N0YgfHwgdmFsdWUgPiAweEZDKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDB4ODAgfHwgdmFsdWUgPT09IDB4QTAgfHwgdmFsdWUgPiAweEVGKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweEEwICYmIHZhbHVlIDwgMHhFMCkgewoJICAgICAgICAgICAgICAgICAgICBzamlzS2F0YWthbmFDaGFycysrOwoJICAgICAgICAgICAgICAgICAgICBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCsrOwoJICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA+IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg3RikgewoJICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgIC8vIHNqaXNEb3VibGVCeXRlc0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGgrKzsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPiBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aDsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmIHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVTaGlmdEpJUyAmJiBzamlzQnl0ZXNMZWZ0ID4gMCkgewoJICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhc3kgLS0gaWYgdGhlcmUgaXMgQk9NIG9yIGF0IGxlYXN0IDEgdmFsaWQgbm90LXNpbmdsZSBieXRlIGNoYXJhY3RlciAoYW5kIG5vIGV2aWRlbmNlIGl0IGNhbid0IGJlIFVURi04KSwgZG9uZQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmICh1dGY4Ym9tIHx8IHV0ZjJCeXRlc0NoYXJzICsgdXRmM0J5dGVzQ2hhcnMgKyB1dGY0Qnl0ZXNDaGFycyA+IDApKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuVVRGODsKCSAgICAgICAgfQoJICAgICAgICAvLyBFYXN5IC0tIGlmIGFzc3VtaW5nIFNoaWZ0X0pJUyBvciBhdCBsZWFzdCAzIHZhbGlkIGNvbnNlY3V0aXZlIG5vdC1hc2NpaSBjaGFyYWN0ZXJzIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUpLCBkb25lCgkgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIChTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTIHx8IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPj0gMyB8fCBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID49IDMpKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTOwoJICAgICAgICB9CgkgICAgICAgIC8vIERpc3Rpbmd1aXNoaW5nIFNoaWZ0X0pJUyBhbmQgSVNPLTg4NTktMSBjYW4gYmUgYSBsaXR0bGUgdG91Z2ggZm9yIHNob3J0IHdvcmRzLiBUaGUgY3J1ZGUgaGV1cmlzdGljIGlzOgoJICAgICAgICAvLyAtIElmIHdlIHNhdwoJICAgICAgICAvLyAgIC0gb25seSB0d28gY29uc2VjdXRpdmUga2F0YWthbmEgY2hhcnMgaW4gdGhlIHdob2xlIHRleHQsIG9yCgkgICAgICAgIC8vICAgLSBhdCBsZWFzdCAxMCUgb2YgYnl0ZXMgdGhhdCBjb3VsZCBiZSAidXBwZXIiIG5vdC1hbHBoYW51bWVyaWMgTGF0aW4xLAoJICAgICAgICAvLyAtIHRoZW4gd2UgY29uY2x1ZGUgU2hpZnRfSklTLCBlbHNlIElTTy04ODU5LTEKCSAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEgJiYgY2FuQmVTaGlmdEpJUykgewoJICAgICAgICAgICAgcmV0dXJuIChzamlzTWF4S2F0YWthbmFXb3JkTGVuZ3RoID09PSAyICYmIHNqaXNLYXRha2FuYUNoYXJzID09PSAyKSB8fCBpc29IaWdoT3RoZXIgKiAxMCA+PSBsZW5ndGgKCSAgICAgICAgICAgICAgICA/IFN0cmluZ1V0aWxzLlNISUZUX0pJUyA6IFN0cmluZ1V0aWxzLklTTzg4NTkxOwoJICAgICAgICB9CgkgICAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IGluIG9yZGVyIElTTy04ODU5LTEsIFNoaWZ0IEpJUywgVVRGLTggYW5kIGZhbGwgYmFjayB0byBkZWZhdWx0IHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuSVNPODg1OTE7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHsKCSAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlVVRGOCkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLlVURjg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0YWtlIGEgd2lsZCBndWVzcyB3aXRoIHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC4KCSAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZm9ybWF0ID0gZnVuY3Rpb24gKGFwcGVuZCkgewoJICAgICAgICB2YXIgYXJncyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaSA9IC0xOwoJICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhleHAsIHAwLCBwMSwgcDIsIHAzLCBwNCkgewoJICAgICAgICAgICAgaWYgKGV4cCA9PT0gJyUlJykKCSAgICAgICAgICAgICAgICByZXR1cm4gJyUnOwoJICAgICAgICAgICAgaWYgKGFyZ3NbKytpXSA9PT0gdW5kZWZpbmVkKQoJICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICAgICAgICBleHAgPSBwMiA/IHBhcnNlSW50KHAyLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7CgkgICAgICAgICAgICB2YXIgYmFzZSA9IHAzID8gcGFyc2VJbnQocDMuc3Vic3RyKDEpKSA6IHVuZGVmaW5lZDsKCSAgICAgICAgICAgIHZhciB2YWw7CgkgICAgICAgICAgICBzd2l0Y2ggKHA0KSB7CgkgICAgICAgICAgICAgICAgY2FzZSAncyc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IGFyZ3NbaV07CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2MnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldWzBdOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdmJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0ZpeGVkKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvUHJlY2lzaW9uKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2UnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvRXhwb25lbnRpYWwoZXhwKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgY2FzZSAneCc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGFyZ3NbaV0pLnRvU3RyaW5nKGJhc2UgPyBiYXNlIDogMTYpOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdkJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChwYXJzZUludChhcmdzW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTsKCSAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi8KCSAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovCgkgICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpCgkgICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovCgkgICAgICAgICAgICByZXR1cm4gdmFsOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7CgkgICAgICAgIHJldHVybiBhcHBlbmQucmVwbGFjZShyZWdleCwgY2FsbGJhY2spOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRCeXRlcyA9IGZ1bmN0aW9uIChzdHIsIGVuY29kaW5nKSB7CgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5lbmNvZGUoc3RyLCBlbmNvZGluZyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIHRoZSBjaGFyY29kZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIGF0IGluZGV4IHplcm8uCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUgPSBmdW5jdGlvbiAoc3RyLCBpbmRleCkgewoJICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH0KCSAgICAgICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KGluZGV4KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgY2hhciBmb3IgZ2l2ZW4gY2hhcmNvZGUKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRDaGFyQXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpOwoJICAgIH07CgkgICAgU3RyaW5nVXRpbHMuU0hJRlRfSklTID0gQ2hhcmFjdGVyU2V0RUNJXzEkMS5kZWZhdWx0LlNKSVMuZ2V0TmFtZSgpOyAvLyAiU0pJUyIKCSAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJzsKCSAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSV8xJDEuZGVmYXVsdC5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyAiSVNPODg1OV8xIgoJICAgIFN0cmluZ1V0aWxzLkVVQ19KUCA9ICdFVUNfSlAnOwoJICAgIFN0cmluZ1V0aWxzLlVURjggPSBDaGFyYWN0ZXJTZXRFQ0lfMSQxLmRlZmF1bHQuVVRGOC5nZXROYW1lKCk7IC8vICJVVEY4IgoJICAgIFN0cmluZ1V0aWxzLlBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcgPSBTdHJpbmdVdGlscy5VVEY4OyAvLyAiVVRGOCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKCkKCSAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7CgkgICAgcmV0dXJuIFN0cmluZ1V0aWxzOwoJfSgpKTsKCVN0cmluZ1V0aWxzJDEuZGVmYXVsdCA9IFN0cmluZ1V0aWxzOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdCdWlsZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBTdHJpbmdVdGlsc18xJDEgPSBTdHJpbmdVdGlscyQxOwoJdmFyIFN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcih2YWx1ZSkgewoJICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9ICcnOyB9CgkgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKCSAgICB9CgkgICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZW5hYmxlRGVjb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gcy50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5jb2RpbmcpIHsKCSAgICAgICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZykKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nVXRpbHNfMSQxLmRlZmF1bHQuY2FzdEFzTm9uVXRmOENoYXIocywgdGhpcy5lbmNvZGluZyk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBjb3JyZWN0bHkgY29udmVydHMgZnJvbSBVVEYtOCwgYnV0IG5vdCBvdGhlciBlbmNvZGluZ3MKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZENoYXJzID0gZnVuY3Rpb24gKHN0ciwgb2Zmc2V0LCBsZW4pIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldDsgb2Zmc2V0IDwgb2Zmc2V0ICsgbGVuOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0cltpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNoYXJBdChuKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIHRoaXMudmFsdWUuc3Vic3RyaW5nKG4gKyAxKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldENoYXJBdCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgMSk7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJzdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAbm90ZSBoZWxwZXIgbWV0aG9kIGZvciBSU1MgRXhwYW5kZWQKCSAgICAgKi8KCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zZXRMZW5ndGhUb1plcm8gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgYy5sZW5ndGgpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0J1aWxkZXI7Cgl9KCkpOwoJU3RyaW5nQnVpbGRlciQxLmRlZmF1bHQgPSBTdHJpbmdCdWlsZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0TWF0cml4JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIEJpdEFycmF5XzEkMSA9IEJpdEFycmF5JDE7Cgl2YXIgU3lzdGVtXzEkMyA9IFN5c3RlbSQxOwoJdmFyIEFycmF5c18xID0gQXJyYXlzJDE7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDIgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNyA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgMkQgbWF0cml4IG9mIGJpdHMuIEluIGZ1bmN0aW9uIGFyZ3VtZW50cyBiZWxvdywgYW5kIHRocm91Z2hvdXQgdGhlIGNvbW1vbgoJICogbW9kdWxlLCB4IGlzIHRoZSBjb2x1bW4gcG9zaXRpb24sIGFuZCB5IGlzIHRoZSByb3cgcG9zaXRpb24uIFRoZSBvcmRlcmluZyBpcyBhbHdheXMgeCwgeS4KCSAqIFRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcC1sZWZ0LjwvcD4KCSAqCgkgKiA8cD5JbnRlcm5hbGx5IHRoZSBiaXRzIGFyZSByZXByZXNlbnRlZCBpbiBhIDEtRCBhcnJheSBvZiAzMi1iaXQgaW50cy4gSG93ZXZlciwgZWFjaCByb3cgYmVnaW5zCgkgKiB3aXRoIGEgbmV3IGludC4gVGhpcyBpcyBkb25lIGludGVudGlvbmFsbHkgc28gdGhhdCB3ZSBjYW4gY29weSBvdXQgYSByb3cgaW50byBhIEJpdEFycmF5IHZlcnkKCSAqIGVmZmljaWVudGx5LjwvcD4KCSAqCgkgKiA8cD5UaGUgb3JkZXJpbmcgb2YgYml0cyBpcyByb3ctbWFqb3IuIFdpdGhpbiBlYWNoIGludCwgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgYXJlIHVzZWQgZmlyc3QsCgkgKiBtZWFuaW5nIHRoZXkgcmVwcmVzZW50IGxvd2VyIHggdmFsdWVzLiBUaGlzIGlzIGNvbXBhdGlibGUgd2l0aCBCaXRBcnJheSdzIGltcGxlbWVudGF0aW9uLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpdE1hdHJpeCAvKmltcGxlbWVudHMgQ2xvbmVhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSBzcXVhcmUge0BsaW5rIEJpdE1hdHJpeH0uCgkgICAgICoKCSAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGhlaWdodCBhbmQgd2lkdGgKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoZGltZW5zaW9uOiBudW1iZXIgLyppbnQqLykgewoJICAgIC8vICAgdGhpcyhkaW1lbnNpb24sIGRpbWVuc2lvbikKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSB7QGxpbmsgQml0TWF0cml4fS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB3aWR0aCBiaXQgbWF0cml4IHdpZHRoCgkgICAgICogQHBhcmFtIGhlaWdodCBiaXQgbWF0cml4IGhlaWdodAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyIC8qaW50Ki8sIGhlaWdodDogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh3aWR0aCA8IDEgfHwgaGVpZ2h0IDwgMSkgewoJICAgIC8vICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpCgkgICAgLy8gICB9CgkgICAgLy8gICB0aGlzLndpZHRoID0gd2lkdGgKCSAgICAvLyAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkgICAgLy8gICB0aGlzLnJvd1NpemUgPSAod2lkdGggKyAzMSkgLyAzMgoJICAgIC8vICAgYml0cyA9IG5ldyBpbnRbcm93U2l6ZSAqIGhlaWdodF07CgkgICAgLy8gfQoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeCh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcm93U2l6ZSAvKmludCovLCBiaXRzKSB7CgkgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKCSAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CgkgICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGhlaWdodCB8fCBudWxsID09PSBoZWlnaHQpIHsKCSAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0JvdGggZGltZW5zaW9ucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcm93U2l6ZSB8fCBudWxsID09PSByb3dTaXplKSB7CgkgICAgICAgICAgICByb3dTaXplID0gTWF0aC5mbG9vcigod2lkdGggKyAzMSkgLyAzMik7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yb3dTaXplID0gcm93U2l6ZTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJvd1NpemUgKiB0aGlzLmhlaWdodCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgLyoqCgkgICAgICogSW50ZXJwcmV0cyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0sIHdoZXJlICJ0cnVlIiBtZWFucyBhbiAib24iIGJpdC4KCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBpbWFnZSBiaXRzIG9mIHRoZSBpbWFnZSwgYXMgYSByb3ctbWFqb3IgMkQgYXJyYXkuIEVsZW1lbnRzIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIHJvd3MKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCaXRNYXRyaXh9IHJlcHJlc2VudGF0aW9uIG9mIGltYWdlCgkgICAgICovCgkgICAgQml0TWF0cml4LnBhcnNlRnJvbUJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChpbWFnZSkgewoJICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2UubGVuZ3RoOwoJICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVswXS5sZW5ndGg7CgkgICAgICAgIHZhciBiaXRzID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGltYWdlSSA9IGltYWdlW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7CgkgICAgICAgICAgICAgICAgaWYgKGltYWdlSVtqXSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldChqLCBpKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBzdHJpbmdSZXByZXNlbnRhdGlvbgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcKCSAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZ1JlcHJlc2VudGF0aW9uLCBzZXRTdHJpbmcsIHVuc2V0U3RyaW5nKSB7CgkgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnc3RyaW5nUmVwcmVzZW50YXRpb24gY2Fubm90IGJlIG51bGwnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBBcnJheShzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpOwoJICAgICAgICB2YXIgYml0c1BvcyA9IDA7CgkgICAgICAgIHZhciByb3dTdGFydFBvcyA9IDA7CgkgICAgICAgIHZhciByb3dMZW5ndGggPSAtMTsKCSAgICAgICAgdmFyIG5Sb3dzID0gMDsKCSAgICAgICAgdmFyIHBvcyA9IDA7CgkgICAgICAgIHdoaWxlIChwb3MgPCBzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpIHsKCSAgICAgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5jaGFyQXQocG9zKSA9PT0gJ1xuJyB8fAoJICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXHInKSB7CgkgICAgICAgICAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgICAgICAgICBpZiAocm93TGVuZ3RoID09PSAtMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHNQb3MgLSByb3dTdGFydFBvcyAhPT0gcm93TGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICByb3dTdGFydFBvcyA9IGJpdHNQb3M7CgkgICAgICAgICAgICAgICAgICAgIG5Sb3dzKys7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHBvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcywgcG9zICsgc2V0U3RyaW5nLmxlbmd0aCkgPT09IHNldFN0cmluZykgewoJICAgICAgICAgICAgICAgIHBvcyArPSBzZXRTdHJpbmcubGVuZ3RoOwoJICAgICAgICAgICAgICAgIGJpdHNbYml0c1Bvc10gPSB0cnVlOwoJICAgICAgICAgICAgICAgIGJpdHNQb3MrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHVuc2V0U3RyaW5nLmxlbmd0aCkgPT09IHVuc2V0U3RyaW5nKSB7CgkgICAgICAgICAgICAgICAgcG9zICs9IHVuc2V0U3RyaW5nLmxlbmd0aDsKCSAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgYml0c1BvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnaWxsZWdhbCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQ6ICcgKyBzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zKSk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm8gRU9MIGF0IGVuZD8KCSAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICByb3dMZW5ndGggPSBiaXRzUG9zIC0gcm93U3RhcnRQb3M7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ3JvdyBsZW5ndGhzIGRvIG5vdCBtYXRjaCcpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgblJvd3MrKzsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeChyb3dMZW5ndGgsIG5Sb3dzKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzUG9zOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChiaXRzW2ldKSB7CgkgICAgICAgICAgICAgICAgbWF0cml4LnNldChNYXRoLmZsb29yKGkgJSByb3dMZW5ndGgpLCBNYXRoLmZsb29yKGkgLyByb3dMZW5ndGgpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbWF0cml4OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+R2V0cyB0aGUgcmVxdWVzdGVkIGJpdCwgd2hlcmUgdHJ1ZSBtZWFucyBibGFjay48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKQoJICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KQoJICAgICAqIEByZXR1cm4gdmFsdWUgb2YgZ2l2ZW4gYml0IGluIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7CgkgICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpOwoJICAgICAgICByZXR1cm4gKCh0aGlzLmJpdHNbb2Zmc2V0XSA+Pj4gKHggJiAweDFmKSkgJiAxKSAhPT0gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgdGhlIGdpdmVuIGJpdCB0byB0cnVlLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pCgkgICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIHw9ICgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRjsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdICY9IH4oKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkZsaXBzIHRoZSBnaXZlbiBiaXQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbikKCSAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdykKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmZsaXAgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIF49ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRXhjbHVzaXZlLW9yIChYT1IpOiBGbGlwIHRoZSBiaXQgaW4gdGhpcyB7QGNvZGUgQml0TWF0cml4fSBpZiB0aGUgY29ycmVzcG9uZGluZwoJICAgICAqIG1hc2sgYml0IGlzIHNldC4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBtYXNrIFhPUiBtYXNrCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAobWFzaykgewoJICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbWFzay5nZXRXaWR0aCgpIHx8IHRoaXMuaGVpZ2h0ICE9PSBtYXNrLmdldEhlaWdodCgpCgkgICAgICAgICAgICB8fCB0aGlzLnJvd1NpemUgIT09IG1hc2suZ2V0Um93U2l6ZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdpbnB1dCBtYXRyaXggZGltZW5zaW9ucyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcm93QXJyYXkgPSBuZXcgQml0QXJyYXlfMSQxLmRlZmF1bHQoTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMzIpICsgMSk7CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTsKCSAgICAgICAgICAgIHZhciByb3cgPSBtYXNrLmdldFJvdyh5LCByb3dBcnJheSkuZ2V0Qml0QXJyYXkoKTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93U2l6ZTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyB4XSBePSByb3dbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBtYXggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykgewoJICAgICAgICAgICAgYml0c1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgYSBzcXVhcmUgcmVnaW9uIG9mIHRoZSBiaXQgbWF0cml4IHRvIHRydWUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGxlZnQgVGhlIGhvcml6b250YWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB0byBiZWdpbiBhdCAoaW5jbHVzaXZlKQoJICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvbgoJICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSZWdpb24gPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHRvcCA8IDAgfHwgbGVmdCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0xlZnQgYW5kIHRvcCBtdXN0IGJlIG5vbm5lZ2F0aXZlJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGhlaWdodCA8IDEgfHwgd2lkdGggPCAxKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgYXQgbGVhc3QgMScpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDsKCSAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDsKCSAgICAgICAgaWYgKGJvdHRvbSA+IHRoaXMuaGVpZ2h0IHx8IHJpZ2h0ID4gdGhpcy53aWR0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnVGhlIHJlZ2lvbiBtdXN0IGZpdCBpbnNpZGUgdGhlIG1hdHJpeCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IHRvcDsgeSA8IGJvdHRvbTsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHsKCSAgICAgICAgICAgICAgICBiaXRzW29mZnNldCArIE1hdGguZmxvb3IoeCAvIDMyKV0gfD0gKCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEEgZmFzdCBtZXRob2QgdG8gcmV0cmlldmUgb25lIHJvdyBvZiBkYXRhIGZyb20gdGhlIG1hdHJpeCBhcyBhIEJpdEFycmF5LgoJICAgICAqCgkgICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byByZXRyaWV2ZQoJICAgICAqIEBwYXJhbSByb3cgQW4gb3B0aW9uYWwgY2FsbGVyLWFsbG9jYXRlZCBCaXRBcnJheSwgd2lsbCBiZSBhbGxvY2F0ZWQgaWYgbnVsbCBvciB0b28gc21hbGwKCSAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQml0QXJyYXkgLSB0aGlzIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHVzZWQgZXZlbiB3aGVuIHBhc3NpbmcKCSAgICAgKiAgICAgICAgIHlvdXIgb3duIHJvdwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIGlmIChyb3cgPT09IG51bGwgfHwgcm93ID09PSB1bmRlZmluZWQgfHwgcm93LmdldFNpemUoKSA8IHRoaXMud2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh0aGlzLndpZHRoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHJvdy5jbGVhcigpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykgewoJICAgICAgICAgICAgcm93LnNldEJ1bGsoeCAqIDMyLCBiaXRzW29mZnNldCArIHhdKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIHkgcm93IHRvIHNldAoJICAgICAqIEBwYXJhbSByb3cge0BsaW5rIEJpdEFycmF5fSB0byBjb3B5IGZyb20KCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLnNldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykgewoJICAgICAgICBTeXN0ZW1fMSQzLmRlZmF1bHQuYXJyYXljb3B5KHJvdy5nZXRCaXRBcnJheSgpLCAwLCB0aGlzLmJpdHMsIHkgKiB0aGlzLnJvd1NpemUsIHRoaXMucm93U2l6ZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBNb2RpZmllcyB0aGlzIHtAY29kZSBCaXRNYXRyaXh9IHRvIHJlcHJlc2VudCB0aGUgc2FtZSBidXQgcm90YXRlZCAxODAgZGVncmVlcwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUucm90YXRlMTgwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgdG9wUm93ID0gbmV3IEJpdEFycmF5XzEkMS5kZWZhdWx0KHdpZHRoKTsKCSAgICAgICAgdmFyIGJvdHRvbVJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh3aWR0aCk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IE1hdGguZmxvb3IoKGhlaWdodCArIDEpIC8gMik7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB0b3BSb3cgPSB0aGlzLmdldFJvdyhpLCB0b3BSb3cpOwoJICAgICAgICAgICAgYm90dG9tUm93ID0gdGhpcy5nZXRSb3coaGVpZ2h0IC0gMSAtIGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0b3BSb3cucmV2ZXJzZSgpOwoJICAgICAgICAgICAgYm90dG9tUm93LnJldmVyc2UoKTsKCSAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0aGlzLnNldFJvdyhoZWlnaHQgLSAxIC0gaSwgdG9wUm93KTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIHRoZSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBsZWZ0LHRvcCx3aWR0aCxoZWlnaHR9IGVuY2xvc2luZyByZWN0YW5nbGUgb2YgYWxsIDEgYml0cywgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEVuY2xvc2luZ1JlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0OwoJICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBsZWZ0ID0gd2lkdGg7CgkgICAgICAgIHZhciB0b3AgPSBoZWlnaHQ7CgkgICAgICAgIHZhciByaWdodCA9IC0xOwoJICAgICAgICB2YXIgYm90dG9tID0gLTE7CgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHgzMiA9IDA7IHgzMiA8IHJvd1NpemU7IHgzMisrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHRoZUJpdHMgPSBiaXRzW3kgKiByb3dTaXplICsgeDMyXTsKCSAgICAgICAgICAgICAgICBpZiAodGhlQml0cyAhPT0gMCkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA8IHRvcCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IGJvdHRvbSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHgzMiAqIDMyICsgYml0OwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGlmICh4MzIgKiAzMiArIDMxID4gcmlnaHQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSAzMTsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgodGhlQml0cyA+Pj4gYml0KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPiByaWdodCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0geDMyICogMzIgKyBiaXQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCB8fCBib3R0b20gPCB0b3ApIHsKCSAgICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2xlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0ICsgMSwgYm90dG9tIC0gdG9wICsgMV0pOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIGEgY29ybmVyIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSB4LHl9IGNvb3JkaW5hdGUgb2YgdG9wLWxlZnQtbW9zdCAxIGJpdCwgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFRvcExlZnRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IDA7CgkgICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0IDwgYml0cy5sZW5ndGggJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkgewoJICAgICAgICAgICAgYml0c09mZnNldCsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChiaXRzT2Zmc2V0ID09PSBiaXRzLmxlbmd0aCkgewoJICAgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHkgPSBiaXRzT2Zmc2V0IC8gcm93U2l6ZTsKCSAgICAgICAgdmFyIHggPSAoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDA7CgkgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgYml0Kys7CgkgICAgICAgIH0KCSAgICAgICAgeCArPSBiaXQ7CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW3gsIHldKTsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Qm90dG9tUmlnaHRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IGJpdHMubGVuZ3RoIC0gMTsKCSAgICAgICAgd2hpbGUgKGJpdHNPZmZzZXQgPj0gMCAmJiBiaXRzW2JpdHNPZmZzZXRdID09PSAwKSB7CgkgICAgICAgICAgICBiaXRzT2Zmc2V0LS07CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJpdHNPZmZzZXQgPCAwKSB7CgkgICAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoYml0c09mZnNldCAvIHJvd1NpemUpOwoJICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDMxOwoJICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHsKCSAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICB9CgkgICAgICAgIHggKz0gYml0OwoJICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSByb3cgc2l6ZSBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRSb3dTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yb3dTaXplOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdE1hdHJpeCkpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJiB0aGlzLnJvd1NpemUgPT09IG90aGVyLnJvd1NpemUgJiYKCSAgICAgICAgICAgIEFycmF5c18xLmRlZmF1bHQuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDsKCSAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0OwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzXzEuZGVmYXVsdC5oYXNoQ29kZSh0aGlzLmJpdHMpOwoJICAgICAgICByZXR1cm4gaGFzaDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHVzaW5nICJYIiBmb3Igc2V0IGFuZCAiICIgZm9yIHVuc2V0IGJpdHMKCSAgICAgKi8KCSAgICAvKkBPdmVycmlkZSovCgkgICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdG9TdHJpbmcoIjogIlgsICIgICIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgdG9TdHJpbmcoc2V0U3RyaW5nOiBzdHJpbmcgPSAiWCAiLCB1bnNldFN0cmluZzogc3RyaW5nID0gIiAgIik6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsICJcbiIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEBwYXJhbSBsaW5lU2VwYXJhdG9yIG5ld2xpbmUgY2hhcmFjdGVyIGluIHN0cmluZyByZXByZXNlbnRhdGlvbgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MgYW5kIGxpbmUgc2VwYXJhdG9yCgkgICAgICogQGRlcHJlY2F0ZWQgY2FsbCB7QGxpbmsgI3RvU3RyaW5nKFN0cmluZyxTdHJpbmcpfSBvbmx5LCB3aGljaCB1c2VzIFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5cwoJICAgICAqLwoJICAgIC8vIEBEZXByZWNhdGVkCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7CgkgICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9CgkgICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfQoJICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXG4nOyB9CgkgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcik7CgkgICAgfTsKCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmJ1aWxkVG9TdHJpbmcgPSBmdW5jdGlvbiAoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcikgewoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgLy8gcmVzdWx0LmFwcGVuZChsaW5lU2VwYXJhdG9yKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IHRoaXMud2lkdGg7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmdldCh4LCB5KSA/IHNldFN0cmluZyA6IHVuc2V0U3RyaW5nKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0TWF0cml4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJvd1NpemUsIHRoaXMuYml0cy5zbGljZSgpKTsKCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXg7Cgl9KCkpOwoJQml0TWF0cml4JDEuZGVmYXVsdCA9IEJpdE1hdHJpeDsKCgl2YXIgTm90Rm91bmRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RGb3VuZEV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZChOb3RGb3VuZEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBOb3RGb3VuZEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5raW5kID0gJ05vdEZvdW5kRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gTm90Rm91bmRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCkpOwoJTm90Rm91bmRFeGNlcHRpb24kMS5kZWZhdWx0ID0gTm90Rm91bmRFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovCgl2YXIgQmluYXJpemVyXzEgPSBCaW5hcml6ZXIkMTsKCXZhciBCaXRBcnJheV8xID0gQml0QXJyYXkkMTsKCXZhciBCaXRNYXRyaXhfMSQ1ID0gQml0TWF0cml4JDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQ2ID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qKgoJICogVGhpcyBCaW5hcml6ZXIgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUgb2xkIFpYaW5nIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guIEl0IGlzIHN1aXRhYmxlCgkgKiBmb3IgbG93LWVuZCBtb2JpbGUgZGV2aWNlcyB3aGljaCBkb24ndCBoYXZlIGVub3VnaCBDUFUgb3IgbWVtb3J5IHRvIHVzZSBhIGxvY2FsIHRocmVzaG9sZGluZwoJICogYWxnb3JpdGhtLiBIb3dldmVyLCBiZWNhdXNlIGl0IHBpY2tzIGEgZ2xvYmFsIGJsYWNrIHBvaW50LCBpdCBjYW5ub3QgaGFuZGxlIGRpZmZpY3VsdCBzaGFkb3dzCgkgKiBhbmQgZ3JhZGllbnRzLgoJICoKCSAqIEZhc3RlciBtb2JpbGUgZGV2aWNlcyBhbmQgYWxsIGRlc2t0b3AgYXBwbGljYXRpb25zIHNob3VsZCBwcm9iYWJseSB1c2UgSHlicmlkQmluYXJpemVyIGluc3RlYWQuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZOwoJICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLgoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xLmRlZmF1bHQod2lkdGgpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcm93LmNsZWFyKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5pbml0QXJyYXlzKHdpZHRoKTsKCSAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRSb3coeSwgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgdmFyIGxvY2FsQnVja2V0cyA9IHRoaXMuYnVja2V0czsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICBsb2NhbEJ1Y2tldHNbKGxvY2FsTHVtaW5hbmNlc1t4XSAmIDB4ZmYpID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7CgkgICAgICAgIGlmICh3aWR0aCA8IDMpIHsKCSAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdmVyeSBzbWFsbCBpbWFnZXMKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgICAgIGlmICgobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGxlZnQgPSBsb2NhbEx1bWluYW5jZXNbMF0gJiAweGZmOwoJICAgICAgICAgICAgdmFyIGNlbnRlciA9IGxvY2FsTHVtaW5hbmNlc1sxXSAmIDB4ZmY7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gbG9jYWxMdW1pbmFuY2VzW3ggKyAxXSAmIDB4ZmY7CgkgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgLTEgNCAtMSBib3ggZmlsdGVyIHdpdGggYSB3ZWlnaHQgb2YgMi4KCSAgICAgICAgICAgICAgICBpZiAoKChjZW50ZXIgKiA0KSAtIGxlZnQgLSByaWdodCkgLyAyIDwgYmxhY2tQb2ludCkgewoJICAgICAgICAgICAgICAgICAgICByb3cuc2V0KHgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBsZWZ0ID0gY2VudGVyOwoJICAgICAgICAgICAgICAgIGNlbnRlciA9IHJpZ2h0OwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByb3c7CgkgICAgfTsKCSAgICAvLyBEb2VzIG5vdCBzaGFycGVuIHRoZSBkYXRhLCBhcyB0aGlzIGNhbGwgaXMgaW50ZW5kZWQgdG8gb25seSBiZSB1c2VkIGJ5IDJEIFJlYWRlcnMuCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXhfMSQ1LmRlZmF1bHQod2lkdGgsIGhlaWdodCk7CgkgICAgICAgIC8vIFF1aWNrbHkgY2FsY3VsYXRlcyB0aGUgaGlzdG9ncmFtIGJ5IHNhbXBsaW5nIGZvdXIgcm93cyBmcm9tIHRoZSBpbWFnZS4gVGhpcyBwcm92ZWQgdG8gYmUKCSAgICAgICAgLy8gbW9yZSByb2J1c3Qgb24gdGhlIGJsYWNrYm94IHRlc3RzIHRoYW4gc2FtcGxpbmcgYSBkaWFnb25hbCBhcyB3ZSB1c2VkIHRvIGRvLgoJICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpOwoJICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB5ID0gMTsgeSA8IDU7IHkrKykgewoJICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoKGhlaWdodCAqIHkpIC8gNSk7CgkgICAgICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzXzEgPSBzb3VyY2UuZ2V0Um93KHJvdywgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgICAgIHZhciByaWdodCA9IE1hdGguZmxvb3IoKHdpZHRoICogNCkgLyA1KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSBNYXRoLmZsb29yKHdpZHRoIC8gNSk7IHggPCByaWdodDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzXzFbeF0gJiAweGZmOwoJICAgICAgICAgICAgICAgIGxvY2FsQnVja2V0c1twaXhlbCA+PiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUXSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBibGFja1BvaW50ID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludChsb2NhbEJ1Y2tldHMpOwoJICAgICAgICAvLyBXZSBkZWxheSByZWFkaW5nIHRoZSBlbnRpcmUgaW1hZ2UgbHVtaW5hbmNlIHVudGlsIHRoZSBibGFjayBwb2ludCBlc3RpbWF0aW9uIHN1Y2NlZWRzLgoJICAgICAgICAvLyBBbHRob3VnaCB3ZSBlbmQgdXAgcmVhZGluZyBmb3VyIHJvd3MgdHdpY2UsIGl0IGlzIGNvbnNpc3RlbnQgd2l0aCBvdXIgbW90dG8gb2YKCSAgICAgICAgLy8gImZhaWwgcXVpY2tseSIgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciBjb250aW51b3VzIHNjYW5uaW5nLgoJICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhmZjsKCSAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeCwgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBtYXRyaXg7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7CgkgICAgICAgIHJldHVybiBuZXcgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKHNvdXJjZSk7CgkgICAgfTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmluaXRBcnJheXMgPSBmdW5jdGlvbiAobHVtaW5hbmNlU2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmICh0aGlzLmx1bWluYW5jZXMubGVuZ3RoIDwgbHVtaW5hbmNlU2l6ZSkgewoJICAgICAgICAgICAgdGhpcy5sdW1pbmFuY2VzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGx1bWluYW5jZVNpemUpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQlVDS0VUUzsgeCsrKSB7CgkgICAgICAgICAgICBidWNrZXRzW3hdID0gMDsKCSAgICAgICAgfQoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludCA9IGZ1bmN0aW9uIChidWNrZXRzKSB7CgkgICAgICAgIC8vIEZpbmQgdGhlIHRhbGxlc3QgcGVhayBpbiB0aGUgaGlzdG9ncmFtLgoJICAgICAgICB2YXIgbnVtQnVja2V0cyA9IGJ1Y2tldHMubGVuZ3RoOwoJICAgICAgICB2YXIgbWF4QnVja2V0Q291bnQgPSAwOwoJICAgICAgICB2YXIgZmlyc3RQZWFrID0gMDsKCSAgICAgICAgdmFyIGZpcnN0UGVha1NpemUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgaWYgKGJ1Y2tldHNbeF0gPiBmaXJzdFBlYWtTaXplKSB7CgkgICAgICAgICAgICAgICAgZmlyc3RQZWFrID0geDsKCSAgICAgICAgICAgICAgICBmaXJzdFBlYWtTaXplID0gYnVja2V0c1t4XTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gbWF4QnVja2V0Q291bnQpIHsKCSAgICAgICAgICAgICAgICBtYXhCdWNrZXRDb3VudCA9IGJ1Y2tldHNbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCB0aGUgc2Vjb25kLXRhbGxlc3QgcGVhayB3aGljaCBpcyBzb21ld2hhdCBmYXIgZnJvbSB0aGUgdGFsbGVzdCBwZWFrLgoJICAgICAgICB2YXIgc2Vjb25kUGVhayA9IDA7CgkgICAgICAgIHZhciBzZWNvbmRQZWFrU2NvcmUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgdmFyIGRpc3RhbmNlVG9CaWdnZXN0ID0geCAtIGZpcnN0UGVhazsKCSAgICAgICAgICAgIC8vIEVuY291cmFnZSBtb3JlIGRpc3RhbnQgc2Vjb25kIHBlYWtzIGJ5IG11bHRpcGx5aW5nIGJ5IHNxdWFyZSBvZiBkaXN0YW5jZS4KCSAgICAgICAgICAgIHZhciBzY29yZSA9IGJ1Y2tldHNbeF0gKiBkaXN0YW5jZVRvQmlnZ2VzdCAqIGRpc3RhbmNlVG9CaWdnZXN0OwoJICAgICAgICAgICAgaWYgKHNjb3JlID4gc2Vjb25kUGVha1Njb3JlKSB7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVhayA9IHg7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVha1Njb3JlID0gc2NvcmU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTWFrZSBzdXJlIGZpcnN0UGVhayBjb3JyZXNwb25kcyB0byB0aGUgYmxhY2sgcGVhay4KCSAgICAgICAgaWYgKGZpcnN0UGVhayA+IHNlY29uZFBlYWspIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZmlyc3RQZWFrOwoJICAgICAgICAgICAgZmlyc3RQZWFrID0gc2Vjb25kUGVhazsKCSAgICAgICAgICAgIHNlY29uZFBlYWsgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHRoZXJlIGlzIHRvbyBsaXR0bGUgY29udHJhc3QgaW4gdGhlIGltYWdlIHRvIHBpY2sgYSBtZWFuaW5nZnVsIGJsYWNrIHBvaW50LCB0aHJvdyByYXRoZXIKCSAgICAgICAgLy8gdGhhbiB3YXN0ZSB0aW1lIHRyeWluZyB0byBkZWNvZGUgdGhlIGltYWdlLCBhbmQgcmlzayBmYWxzZSBwb3NpdGl2ZXMuCgkgICAgICAgIGlmIChzZWNvbmRQZWFrIC0gZmlyc3RQZWFrIDw9IG51bUJ1Y2tldHMgLyAxNikgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCBhIHZhbGxleSBiZXR3ZWVuIHRoZW0gdGhhdCBpcyBsb3cgYW5kIGNsb3NlciB0byB0aGUgd2hpdGUgcGVhay4KCSAgICAgICAgdmFyIGJlc3RWYWxsZXkgPSBzZWNvbmRQZWFrIC0gMTsKCSAgICAgICAgdmFyIGJlc3RWYWxsZXlTY29yZSA9IC0xOwoJICAgICAgICBmb3IgKHZhciB4ID0gc2Vjb25kUGVhayAtIDE7IHggPiBmaXJzdFBlYWs7IHgtLSkgewoJICAgICAgICAgICAgdmFyIGZyb21GaXJzdCA9IHggLSBmaXJzdFBlYWs7CgkgICAgICAgICAgICB2YXIgc2NvcmUgPSBmcm9tRmlyc3QgKiBmcm9tRmlyc3QgKiAoc2Vjb25kUGVhayAtIHgpICogKG1heEJ1Y2tldENvdW50IC0gYnVja2V0c1t4XSk7CgkgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0VmFsbGV5U2NvcmUpIHsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5ID0geDsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5U2NvcmUgPSBzY29yZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gYmVzdFZhbGxleSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUOwoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CSVRTID0gNTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUID0gOCAtIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFMgPSAxIDw8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuRU1QVFkgPSBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSk7CgkgICAgcmV0dXJuIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCX0oQmluYXJpemVyXzEuZGVmYXVsdCkpOwoJR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJDEuZGVmYXVsdCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyRiID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZEJpbmFyaXplciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyXzEgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMTsKCXZhciBCaXRNYXRyaXhfMSQ0ID0gQml0TWF0cml4JDE7CgkvKioKCSAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIGxvY2FsIHRocmVzaG9sZGluZyBhbGdvcml0aG0sIHdoaWNoIHdoaWxlIHNsb3dlciB0aGFuIHRoZQoJICogR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBpcyBmYWlybHkgZWZmaWNpZW50IGZvciB3aGF0IGl0IGRvZXMuIEl0IGlzIGRlc2lnbmVkIGZvcgoJICogaGlnaCBmcmVxdWVuY3kgaW1hZ2VzIG9mIGJhcmNvZGVzIHdpdGggYmxhY2sgZGF0YSBvbiB3aGl0ZSBiYWNrZ3JvdW5kcy4gRm9yIHRoaXMgYXBwbGljYXRpb24sCgkgKiBpdCBkb2VzIGEgbXVjaCBiZXR0ZXIgam9iIHRoYW4gYSBnbG9iYWwgYmxhY2twb2ludCB3aXRoIHNldmVyZSBzaGFkb3dzIGFuZCBncmFkaWVudHMuCgkgKiBIb3dldmVyIGl0IHRlbmRzIHRvIHByb2R1Y2UgYXJ0aWZhY3RzIG9uIGxvd2VyIGZyZXF1ZW5jeSBpbWFnZXMgYW5kIGlzIHRoZXJlZm9yZSBub3QKCSAqIGEgZ29vZCBnZW5lcmFsIHB1cnBvc2UgYmluYXJpemVyIGZvciB1c2VzIG91dHNpZGUgWlhpbmcuCgkgKgoJICogVGhpcyBjbGFzcyBleHRlbmRzIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgdXNpbmcgdGhlIG9sZGVyIGhpc3RvZ3JhbSBhcHByb2FjaCBmb3IgMUQgcmVhZGVycywKCSAqIGFuZCB0aGUgbmV3ZXIgbG9jYWwgYXBwcm9hY2ggZm9yIDJEIHJlYWRlcnMuIDFEIGRlY29kaW5nIHVzaW5nIGEgcGVyLXJvdyBoaXN0b2dyYW0gaXMgYWxyZWFkeQoJICogaW5oZXJlbnRseSBsb2NhbCwgYW5kIG9ubHkgZmFpbHMgZm9yIGhvcml6b250YWwgZ3JhZGllbnRzLiBXZSBjYW4gcmV2aXNpdCB0aGF0IHByb2JsZW0gbGF0ZXIsCgkgKiBidXQgZm9yIG5vdyBpdCB3YXMgbm90IGEgd2luIHRvIHVzZSBsb2NhbCBibG9ja3MgZm9yIDFELgoJICoKCSAqIFRoaXMgQmluYXJpemVyIGlzIHRoZSBkZWZhdWx0IGZvciB0aGUgdW5pdCB0ZXN0cyBhbmQgdGhlIHJlY29tbWVuZGVkIGNsYXNzIGZvciBsaWJyYXJ5IHVzZXJzLgoJICoKCSAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pCgkgKi8KCXZhciBIeWJyaWRCaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGIoSHlicmlkQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEh5YnJpZEJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tYXRyaXggPSBudWxsOwoJICAgICAgICByZXR1cm4gX3RoaXM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIENhbGN1bGF0ZXMgdGhlIGZpbmFsIEJpdE1hdHJpeCBvbmNlIGZvciBhbGwgcmVxdWVzdHMuIFRoaXMgY291bGQgYmUgY2FsbGVkIG9uY2UgZnJvbSB0aGUKCSAgICAgKiBjb25zdHJ1Y3RvciBpbnN0ZWFkLCBidXQgdGhlcmUgYXJlIHNvbWUgYWR2YW50YWdlcyB0byBkb2luZyBpdCBsYXppbHksIHN1Y2ggYXMgbWFraW5nCgkgICAgICogcHJvZmlsaW5nIGVhc2llciwgYW5kIG5vdCBkb2luZyBoZWF2eSBsaWZ0aW5nIHdoZW4gY2FsbGVycyBkb24ndCBleHBlY3QgaXQuCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLm1hdHJpeCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKHdpZHRoID49IEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiAmJiBoZWlnaHQgPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OKSB7CgkgICAgICAgICAgICB2YXIgbHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTsKCSAgICAgICAgICAgIHZhciBzdWJXaWR0aCA9IHdpZHRoID4+IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKCh3aWR0aCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViV2lkdGgrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciBzdWJIZWlnaHQgPSBoZWlnaHQgPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICBpZiAoKGhlaWdodCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViSGVpZ2h0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMobHVtaW5hbmNlcywgc3ViV2lkdGgsIHN1YkhlaWdodCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgICAgICB2YXIgbmV3TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDQuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBibGFja1BvaW50cywgbmV3TWF0cml4KTsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gbmV3TWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGlzIHRvbyBzbWFsbCwgZmFsbCBiYWNrIHRvIHRoZSBnbG9iYWwgaGlzdG9ncmFtIGFwcHJvYWNoLgoJICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBfc3VwZXIucHJvdG90eXBlLmdldEJsYWNrTWF0cml4LmNhbGwodGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkgewoJICAgICAgICByZXR1cm4gbmV3IEh5YnJpZEJpbmFyaXplcihzb3VyY2UpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRm9yIGVhY2ggYmxvY2sgaW4gdGhlIGltYWdlLCBjYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgYmxhY2sgcG9pbnQgdXNpbmcgYSA1eDUgZ3JpZAoJICAgICAqIG9mIHRoZSBibG9ja3MgYXJvdW5kIGl0LiBBbHNvIGhhbmRsZXMgdGhlIGNvcm5lciBjYXNlcyAoZnJhY3Rpb25hbCBibG9ja3MgYXJlIGNvbXB1dGVkIGJhc2VkCgkgICAgICogb24gdGhlIGxhc3QgcGl4ZWxzIGluIHRoZSByb3cvY29sdW1uIHdoaWNoIGFyZSBhbHNvIHVzZWQgaW4gdGhlIHByZXZpb3VzIGJsb2NrKS4KCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlVGhyZXNob2xkRm9yQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBibGFja1BvaW50cywgbWF0cml4KSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgdG9wXzEgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHksIDIsIHN1YkhlaWdodCAtIDMpOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdWJXaWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQgPSB4IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgICAgIGlmICh4b2Zmc2V0ID4gbWF4WE9mZnNldCkgewoJICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0gbWF4WE9mZnNldDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHgsIDIsIHN1YldpZHRoIC0gMyk7CgkgICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IC0yOyB6IDw9IDI7IHorKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tSb3cgPSBibGFja1BvaW50c1t0b3BfMSArIHpdOwoJICAgICAgICAgICAgICAgICAgICBzdW0gKz0gYmxhY2tSb3dbbGVmdCAtIDJdICsgYmxhY2tSb3dbbGVmdCAtIDFdICsgYmxhY2tSb3dbbGVmdF0gKyBibGFja1Jvd1tsZWZ0ICsgMV0gKyBibGFja1Jvd1tsZWZ0ICsgMl07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlID0gc3VtIC8gMjU7CgkgICAgICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrKGx1bWluYW5jZXMsIHhvZmZzZXQsIHlvZmZzZXQsIGF2ZXJhZ2UsIHdpZHRoLCBtYXRyaXgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FwID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG1pbiAvKmludCovLCBtYXggLyppbnQqLykgewoJICAgICAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbGllcyBhIHNpbmdsZSB0aHJlc2hvbGQgdG8gYSBibG9jayBvZiBwaXhlbHMuCgkgICAgICovCgkgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrID0gZnVuY3Rpb24gKGx1bWluYW5jZXMsIHhvZmZzZXQgLyppbnQqLywgeW9mZnNldCAvKmludCovLCB0aHJlc2hvbGQgLyppbnQqLywgc3RyaWRlIC8qaW50Ki8sIG1hdHJpeCkgewoJICAgICAgICBmb3IgKHZhciB5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHN0cmlkZSArIHhvZmZzZXQ7IHkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeSsrLCBvZmZzZXQgKz0gc3RyaWRlKSB7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB4KyspIHsKCSAgICAgICAgICAgICAgICAvLyBDb21wYXJpc29uIG5lZWRzIHRvIGJlIDw9IHNvIHRoYXQgYmxhY2sgPT0gMCBwaXhlbHMgYXJlIGJsYWNrIGV2ZW4gaWYgdGhlIHRocmVzaG9sZCBpcyAwLgoJICAgICAgICAgICAgICAgIGlmICgobHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4RkYpIDw9IHRocmVzaG9sZCkgewoJICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHhvZmZzZXQgKyB4LCB5b2Zmc2V0ICsgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDYWxjdWxhdGVzIGEgc2luZ2xlIGJsYWNrIHBvaW50IGZvciBlYWNoIGJsb2NrIG9mIHBpeGVscyBhbmQgc2F2ZXMgaXQgYXdheS4KCSAgICAgKiBTZWUgdGhlIGZvbGxvd2luZyB0aHJlYWQgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGlzIGFsZ29yaXRobToKCSAgICAgKiAgaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3p4aW5nL2Jyb3dzZV90aHJlYWQvdGhyZWFkL2QwNmVmYTJjMzVhN2RkYzAKCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOndoaXRlc3BhY2UKCSAgICAgICAgdmFyIGJsYWNrUG9pbnRzID0gbmV3IEFycmF5KHN1YkhlaWdodCk7IC8vIHN1YldpZHRoCgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3ViSGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldID0gbmV3IEludDMyQXJyYXkoc3ViV2lkdGgpOwoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0OwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDsKCSAgICAgICAgICAgICAgICB2YXIgbWluID0gMHhGRjsKCSAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciB5eSA9IDAsIG9mZnNldCA9IHlvZmZzZXQgKiB3aWR0aCArIHhvZmZzZXQ7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkgewoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwaXhlbDsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIGxvb2tpbmcgZm9yIGdvb2QgY29udHJhc3QKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhlbCA8IG1pbikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHBpeGVsOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsID4gbWF4KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGl4ZWw7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBtaW4vbWF4IHRlc3RzIG9uY2UgZHluYW1pYyByYW5nZSBpcyBtZXQKCSAgICAgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA+IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoZSByZXN0IG9mIHRoZSByb3dzIHF1aWNrbHkKCSAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeXkrKywgb2Zmc2V0ICs9IHdpZHRoOyB5eSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5eSsrLCBvZmZzZXQgKz0gd2lkdGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZXN0aW1hdGUgaXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHZhbHVlcyBpbiB0aGUgYmxvY2suCgkgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gPj4gKEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSICogMik7CgkgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA8PSBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gSWYgdmFyaWF0aW9uIHdpdGhpbiB0aGUgYmxvY2sgaXMgbG93LCBhc3N1bWUgdGhpcyBpcyBhIGJsb2NrIHdpdGggb25seSBsaWdodCBvciBvbmx5CgkgICAgICAgICAgICAgICAgICAgIC8vIGRhcmsgcGl4ZWxzLiBJbiB0aGF0IGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBhdmVyYWdlLCBhcyBpdCB3b3VsZCBkaXZpZGUgdGhpcwoJICAgICAgICAgICAgICAgICAgICAvLyBsb3cgY29udHJhc3QgYXJlYSBpbnRvIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMsIGVzc2VudGlhbGx5IGNyZWF0aW5nIGRhdGEgb3V0IG9mIG5vaXNlLgoJICAgICAgICAgICAgICAgICAgICAvLwoJICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGJsb2NrIGlzIGxpZ2h0L2JhY2tncm91bmQuIFNpbmNlIG5vIGVzdGltYXRlIGZvcgoJICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGV2ZWwgb2YgZGFyayBwaXhlbHMgZXhpc3RzIGxvY2FsbHksIHVzZSBoYWxmIHRoZSBtaW4gZm9yIHRoZSBibG9jay4KCSAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IG1pbiAvIDI7CgkgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCAmJiB4ID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgIndoaXRlIGJhY2tncm91bmQiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBpeGVscyBpbiB0aGlzIGJsb2NrIHRvIHRoZSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgYmxhY2sgcG9pbnRzLiBUaGlzIGlzIGJhc2VkIG9uCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IGRhcmsgYmFyY29kZSBzeW1ib2xvZ3kgaXMgYWx3YXlzIHN1cnJvdW5kZWQgYnkgc29tZSBhbW91bnQgb2YgbGlnaHQKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJvdW5kYXJpZXMgaXMgdXNlZCBmb3IgdGhlIGludGVyaW9yLgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIChtaW4gPCBicCkgaXMgYXJiaXRyYXJ5IGJ1dCB3b3JrcyBiZXR0ZXIgdGhhbiBvdGhlciBoZXVyaXN0aWNzIHRoYXQgd2VyZSB0cmllZC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50ID0gKGJsYWNrUG9pbnRzW3kgLSAxXVt4XSArICgyICogYmxhY2tQb2ludHNbeV1beCAtIDFdKSArIGJsYWNrUG9pbnRzW3kgLSAxXVt4IC0gMV0pIC8gNDsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IGF2ZXJhZ2VOZWlnaGJvckJsYWNrUG9pbnQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYmxhY2tQb2ludHNbeV1beF0gPSBhdmVyYWdlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBibGFja1BvaW50czsKCSAgICB9OwoJICAgIC8vIFRoaXMgY2xhc3MgdXNlcyA1eDUgYmxvY2tzIHRvIGNvbXB1dGUgbG9jYWwgbHVtaW5hbmNlLCB3aGVyZSBlYWNoIGJsb2NrIGlzIDh4OCBwaXhlbHMuCgkgICAgLy8gU28gdGhpcyBpcyB0aGUgc21hbGxlc3QgZGltZW5zaW9uIGluIGVhY2ggYXhpcyB3ZSBjYW4gYWNjZXB0LgoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSID0gMzsKCSAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSA9IDEgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7IC8vIC4uLjAxMDAuLi4wMAoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0sgPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAtIDE7IC8vIC4uLjAwMTEuLi4xMQoJICAgIEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiA9IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFICogNTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDsKCSAgICByZXR1cm4gSHlicmlkQmluYXJpemVyOwoJfShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXJfMS5kZWZhdWx0KSk7Cgl2YXIgX2RlZmF1bHQkMiA9IEh5YnJpZEJpbmFyaXplciQxLmRlZmF1bHQgPSBIeWJyaWRCaW5hcml6ZXI7CgoJdmFyIFJHQkx1bWluYW5jZVNvdXJjZSQxID0ge307CgoJdmFyIEludmVydGVkTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgl2YXIgTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJDE7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqLwoJLyoqCgkgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3MKCSAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlCgkgKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmUKCSAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGUKCSAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi4KCSAqCgkgKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKQoJICovCgl2YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLndpZHRoOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZQoJICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpCgkgICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpCgkgICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuCgkgICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjcm9wcGluZy4nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCByb3RhdGlvbiBieSA5MCBkZWdyZWVzLicpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgNDUgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLgoJICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLgoJICAgICAqCgkgICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC4KCSAgICAgKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQxLmRlZmF1bHQoKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7CgkgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7CgkgICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHsKCSAgICAgICAgICAgICAgICAgICAgYyA9ICcjJzsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkgewoJICAgICAgICAgICAgICAgICAgICBjID0gJysnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7CgkgICAgICAgICAgICAgICAgICAgIGMgPSAnLic7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICBjID0gJyAnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXG4nKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7CgkgICAgfTsKCSAgICByZXR1cm4gTHVtaW5hbmNlU291cmNlOwoJfSgpKTsKCUx1bWluYW5jZVNvdXJjZSQxLmRlZmF1bHQgPSBMdW1pbmFuY2VTb3VyY2U7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEkMSA9IEx1bWluYW5jZVNvdXJjZSQxOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzCgkgKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGEoSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UoZGVsZWdhdGUpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVsZWdhdGUuZ2V0V2lkdGgoKSwgZGVsZWdhdGUuZ2V0SGVpZ2h0KCkpIHx8IHRoaXM7CgkgICAgICAgIF90aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgdmFyIHNvdXJjZVJvdyA9IHRoaXMuZGVsZWdhdGUuZ2V0Um93KHksIHJvdyk7CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CgkgICAgICAgICAgICBzb3VyY2VSb3dbaV0gPSAvKihieXRlKSovICgyNTUgLSAoc291cmNlUm93W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBzb3VyY2VSb3c7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZGVsZWdhdGUuZ2V0TWF0cml4KCk7CgkgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgaW52ZXJ0ZWRNYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgaW52ZXJ0ZWRNYXRyaXhbaV0gPSAvKihieXRlKSovICgyNTUgLSAobWF0cml4W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBpbnZlcnRlZE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUuY3JvcChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmlzUm90YXRlU3VwcG9ydGVkKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG9yaWdpbmFsIGRlbGVnYXRlIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHNpbmNlIGludmVydCB1bmRvZXMgaXRzZWxmCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCkpOwoJICAgIH07CgkgICAgcmV0dXJuIEludmVydGVkTHVtaW5hbmNlU291cmNlOwoJfShMdW1pbmFuY2VTb3VyY2VfMSQxLmRlZmF1bHQpKTsKCUludmVydGVkTHVtaW5hbmNlU291cmNlJDEuZGVmYXVsdCA9IEludmVydGVkTHVtaW5hbmNlU291cmNlOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUkdCTHVtaW5hbmNlU291cmNlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMSA9IEludmVydGVkTHVtaW5hbmNlU291cmNlJDE7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEgPSBMdW1pbmFuY2VTb3VyY2UkMTsKCXZhciBTeXN0ZW1fMSQyID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNiA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaGVscCBkZWNvZGUgaW1hZ2VzIGZyb20gZmlsZXMgd2hpY2ggYXJyaXZlIGFzIFJHQiBkYXRhIGZyb20KCSAqIGFuIEFSR0IgcGl4ZWwgYXJyYXkuIEl0IGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24uCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgQmV0YW1pbm9zCgkgKi8KCXZhciBSR0JMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDkoUkdCTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIFJHQkx1bWluYW5jZVNvdXJjZShsdW1pbmFuY2VzLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgZGF0YVdpZHRoIC8qaW50Ki8sIGRhdGFIZWlnaHQgLyppbnQqLywgbGVmdCAvKmludCovLCB0b3AgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSBkYXRhV2lkdGg7CgkgICAgICAgIF90aGlzLmRhdGFIZWlnaHQgPSBkYXRhSGVpZ2h0OwoJICAgICAgICBfdGhpcy5sZWZ0ID0gbGVmdDsKCSAgICAgICAgX3RoaXMudG9wID0gdG9wOwoJICAgICAgICBpZiAobHVtaW5hbmNlcy5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkgeyAvLyBJbnQzMkFycmF5CgkgICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZHRoICogaGVpZ2h0OwoJICAgICAgICAgICAgdmFyIGx1bWluYW5jZXNVaW50OEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHNpemUpOwoJICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgc2l6ZTsgb2Zmc2V0KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsdW1pbmFuY2VzW29mZnNldF07CgkgICAgICAgICAgICAgICAgdmFyIHIgPSAocGl4ZWwgPj4gMTYpICYgMHhmZjsgLy8gcmVkCgkgICAgICAgICAgICAgICAgdmFyIGcyID0gKHBpeGVsID4+IDcpICYgMHgxZmU7IC8vIDIgKiBncmVlbgoJICAgICAgICAgICAgICAgIHZhciBiID0gcGl4ZWwgJiAweGZmOyAvLyBibHVlCgkgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdyZWVuLWZhdm91cmluZyBhdmVyYWdlIGNoZWFwbHkKCSAgICAgICAgICAgICAgICBsdW1pbmFuY2VzVWludDhBcnJheVtvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChyICsgZzIgKyBiKSAvIDQpICYgMHhGRjsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzVWludDhBcnJheTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRhdGFXaWR0aCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YVdpZHRoID0gd2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YUhlaWdodCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBsZWZ0KSB7CgkgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0b3ApIHsKCSAgICAgICAgICAgIF90aGlzLnRvcCA9IDA7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKF90aGlzLmxlZnQgKyB3aWR0aCA+IF90aGlzLmRhdGFXaWR0aCB8fCBfdGhpcy50b3AgKyBoZWlnaHQgPiBfdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNi5kZWZhdWx0KCdDcm9wIHJlY3RhbmdsZSBkb2VzIG5vdCBmaXQgd2l0aGluIGltYWdlIGRhdGEuJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCgnUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpOwoJICAgICAgICB9CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIFN5c3RlbV8xJDIuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5sdW1pbmFuY2VzLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpOwoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZQoJICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLgoJICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5sdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7CgkgICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7CgkgICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS4KCSAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkgewoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpOwoJICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICAgICAgfQoJICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLgoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpOwoJICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgUkdCTHVtaW5hbmNlU291cmNlKHRoaXMubHVtaW5hbmNlcywgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3ApOwoJICAgIH07CgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMS5kZWZhdWx0KHRoaXMpOwoJICAgIH07CgkgICAgcmV0dXJuIFJHQkx1bWluYW5jZVNvdXJjZTsKCX0oTHVtaW5hbmNlU291cmNlXzEuZGVmYXVsdCkpOwoJdmFyIF9kZWZhdWx0JDEgPSBSR0JMdW1pbmFuY2VTb3VyY2UkMS5kZWZhdWx0ID0gUkdCTHVtaW5hbmNlU291cmNlOwoKCXZhciBRUkNvZGVSZWFkZXIkMSA9IHt9OwoKCXZhciBCYXJjb2RlRm9ybWF0JDEgPSB7fTsKCgkvKgoJICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEgwoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFyY29kZUZvcm1hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogRW51bWVyYXRlcyBiYXJjb2RlIGZvcm1hdHMga25vd24gdG8gdGhpcyBwYWNrYWdlLiBQbGVhc2Uga2VlcCBhbHBoYWJldGl6ZWQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJhcmNvZGVGb3JtYXQ7CgkoZnVuY3Rpb24gKEJhcmNvZGVGb3JtYXQpIHsKCSAgICAvKiogQXp0ZWMgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJBWlRFQyJdID0gMF0gPSAiQVpURUMiOwoJICAgIC8qKiBDT0RBQkFSIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREFCQVIiXSA9IDFdID0gIkNPREFCQVIiOwoJICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfMzkiXSA9IDJdID0gIkNPREVfMzkiOwoJICAgIC8qKiBDb2RlIDkzIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfOTMiXSA9IDNdID0gIkNPREVfOTMiOwoJICAgIC8qKiBDb2RlIDEyOCAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJDT0RFXzEyOCJdID0gNF0gPSAiQ09ERV8xMjgiOwoJICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkRBVEFfTUFUUklYIl0gPSA1XSA9ICJEQVRBX01BVFJJWCI7CgkgICAgLyoqIEVBTi04IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkVBTl84Il0gPSA2XSA9ICJFQU5fOCI7CgkgICAgLyoqIEVBTi0xMyAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJFQU5fMTMiXSA9IDddID0gIkVBTl8xMyI7CgkgICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIklURiJdID0gOF0gPSAiSVRGIjsKCSAgICAvKiogTWF4aUNvZGUgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJNQVhJQ09ERSJdID0gOV0gPSAiTUFYSUNPREUiOwoJICAgIC8qKiBQREY0MTcgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUERGXzQxNyJdID0gMTBdID0gIlBERl80MTciOwoJICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUVJfQ09ERSJdID0gMTFdID0gIlFSX0NPREUiOwoJICAgIC8qKiBSU1MgMTQgKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlJTU18xNCJdID0gMTJdID0gIlJTU18xNCI7CgkgICAgLyoqIFJTUyBFWFBBTkRFRCAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUlNTX0VYUEFOREVEIl0gPSAxM10gPSAiUlNTX0VYUEFOREVEIjsKCSAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiVVBDX0EiXSA9IDE0XSA9ICJVUENfQSI7CgkgICAgLyoqIFVQQy1FIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FIl0gPSAxNV0gPSAiVVBDX0UiOwoJICAgIC8qKiBVUEMvRUFOIGV4dGVuc2lvbiBmb3JtYXQuIE5vdCBhIHN0YW5kLWFsb25lIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSAxNl0gPSAiVVBDX0VBTl9FWFRFTlNJT04iOwoJfSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7CglCYXJjb2RlRm9ybWF0JDEuZGVmYXVsdCA9IEJhcmNvZGVGb3JtYXQ7CgoJdmFyIFJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIFN5c3RlbV8xJDEgPSBTeXN0ZW0kMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsCgkgICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLAoJICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcywKCSAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LAoJICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsCgkgICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLAoJICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9CgkgICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsgfQoJICAgICAgICB0aGlzLnRleHQgPSB0ZXh0OwoJICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7CgkgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzOwoJICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDsKCSAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CgkgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7CgkgICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7CgkgICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwoJICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkgewoJICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZQoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGV4dDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH0KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0czsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50cwoJICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpcwoJICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLgoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkCgkgICAgICovCgkgICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZQoJICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLAoJICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi4KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTsKCSAgICB9OwoJICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHsKCSAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpOwoJICAgIH07CgkgICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkgewoJICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHsKCSAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHsKCSAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzOwoJICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50czsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgU3lzdGVtXzEkMS5kZWZhdWx0LmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7CgkgICAgICAgICAgICBTeXN0ZW1fMSQxLmRlZmF1bHQuYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRleHQ7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0OwoJfSgpKTsKCVJlc3VsdCQxLmRlZmF1bHQgPSBSZXN1bHQ7CgoJdmFyIFJlc3VsdE1ldGFkYXRhVHlwZSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHRNZXRhZGF0YVR5cGUkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogUmVwcmVzZW50cyBzb21lIHR5cGUgb2YgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3VsdCBvZiB0aGUgZGVjb2RpbmcgdGhhdCB0aGUgZGVjb2RlcgoJICogd2lzaGVzIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGNhbGxlci4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlOwoJKGZ1bmN0aW9uIChSZXN1bHRNZXRhZGF0YVR5cGUpIHsKCSAgICAvKioKCSAgICAgKiBVbnNwZWNpZmllZCwgYXBwbGljYXRpb24tc3BlY2lmaWMgbWV0YWRhdGEuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiT1RIRVIiXSA9IDBdID0gIk9USEVSIjsKCSAgICAvKioKCSAgICAgKiBEZW5vdGVzIHRoZSBsaWtlbHkgYXBwcm94aW1hdGUgb3JpZW50YXRpb24gb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGlzIHZhbHVlCgkgICAgICogaXMgZ2l2ZW4gYXMgZGVncmVlcyByb3RhdGVkIGNsb2Nrd2lzZSBmcm9tIHRoZSBub3JtYWwsIHVwcmlnaHQgb3JpZW50YXRpb24uCgkgICAgICogRm9yIGV4YW1wbGUgYSAxRCBiYXJjb2RlIHdoaWNoIHdhcyBmb3VuZCBieSByZWFkaW5nIHRvcC10by1ib3R0b20gd291bGQgYmUKCSAgICAgKiBzYWlkIHRvIGhhdmUgb3JpZW50YXRpb24gIjkwIi4gVGhpcyBrZXkgbWFwcyB0byBhbiB7QGxpbmsgSW50ZWdlcn0gd2hvc2UKCSAgICAgKiB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgWzAsMzYwKS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJPUklFTlRBVElPTiJdID0gMV0gPSAiT1JJRU5UQVRJT04iOwoJICAgIC8qKgoJICAgICAqIDxwPjJEIGJhcmNvZGUgZm9ybWF0cyB0eXBpY2FsbHkgZW5jb2RlIHRleHQsIGJ1dCBhbGxvdyBmb3IgYSBzb3J0IG9mICdieXRlIG1vZGUnCgkgICAgICogd2hpY2ggaXMgc29tZXRpbWVzIHVzZWQgdG8gZW5jb2RlIGJpbmFyeSBkYXRhLiBXaGlsZSB7QGxpbmsgUmVzdWx0fSBtYWtlcyBhdmFpbGFibGUKCSAgICAgKiB0aGUgY29tcGxldGUgcmF3IGJ5dGVzIGluIHRoZSBiYXJjb2RlIGZvciB0aGVzZSBmb3JtYXRzLCBpdCBkb2VzIG5vdCBvZmZlciB0aGUgYnl0ZXMKCSAgICAgKiBmcm9tIHRoZSBieXRlIHNlZ21lbnRzIGFsb25lLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWFwcyB0byBhIHtAbGluayBqYXZhLnV0aWwuTGlzdH0gb2YgYnl0ZSBhcnJheXMgY29ycmVzcG9uZGluZyB0byB0aGUKCSAgICAgKiByYXcgYnl0ZXMgaW4gdGhlIGJ5dGUgc2VnbWVudHMgaW4gdGhlIGJhcmNvZGUsIGluIG9yZGVyLjwvcD4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJCWVRFX1NFR01FTlRTIl0gPSAyXSA9ICJCWVRFX1NFR01FTlRTIjsKCSAgICAvKioKCSAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlCgkgICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiXSA9IDNdID0gIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHBlcmlvZGljYWxzLCBpbmRpY2F0ZXMgdGhlIGlzc3VlIG51bWJlciBhcyBhbiB7QGxpbmsgSW50ZWdlcn0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiSVNTVUVfTlVNQkVSIl0gPSA0XSA9ICJJU1NVRV9OVU1CRVIiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHByb2R1Y3RzLCBpbmRpY2F0ZXMgdGhlIHN1Z2dlc3RlZCByZXRhaWwgcHJpY2UgaW4gdGhlIGJhcmNvZGUgYXMgYQoJICAgICAqIGZvcm1hdHRlZCB7QGxpbmsgU3RyaW5nfS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJTVUdHRVNURURfUFJJQ0UiXSA9IDVdID0gIlNVR0dFU1RFRF9QUklDRSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlCgkgICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlICJVUy9DQSIuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUE9TU0lCTEVfQ09VTlRSWSJdID0gNl0gPSAiUE9TU0lCTEVfQ09VTlRSWSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dAoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSA3XSA9ICJVUENfRUFOX0VYVEVOU0lPTiI7CgkgICAgLyoqCgkgICAgICogUERGNDE3LXNwZWNpZmljIG1ldGFkYXRhCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUERGNDE3X0VYVFJBX01FVEFEQVRBIl0gPSA4XSA9ICJQREY0MTdfRVhUUkFfTUVUQURBVEEiOwoJICAgIC8qKgoJICAgICAqIElmIHRoZSBjb2RlIGZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIGFwcGVuZCBhbmQgdGhlIGN1cnJlbnQgc2Nhbm5lZCBjb2RlIGlzIHBhcnQgb2Ygb25lIHRoZW4gdGhlCgkgICAgICogc2VxdWVuY2UgbnVtYmVyIGlzIGdpdmVuIHdpdGggaXQuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UiXSA9IDldID0gIlNUUlVDVFVSRURfQVBQRU5EX1NFUVVFTkNFIjsKCSAgICAvKioKCSAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZQoJICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSJdID0gMTBdID0gIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSI7Cgl9KShSZXN1bHRNZXRhZGF0YVR5cGUgfHwgKFJlc3VsdE1ldGFkYXRhVHlwZSA9IHt9KSk7CglSZXN1bHRNZXRhZGF0YVR5cGUkMS5kZWZhdWx0ID0gUmVzdWx0TWV0YWRhdGFUeXBlOwoKCXZhciBEZWNvZGVyJDEgPSB7fTsKCgl2YXIgQ2hlY2tzdW1FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkOCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja3N1bUV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNCA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBDaGVja3N1bUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkOChDaGVja3N1bUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBDaGVja3N1bUV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5raW5kID0gJ0NoZWNrc3VtRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQ2hlY2tzdW1FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCkpOwoJQ2hlY2tzdW1FeGNlcHRpb24kMS5kZWZhdWx0ID0gQ2hlY2tzdW1FeGNlcHRpb247CgoJdmFyIEdlbmVyaWNHRiQxID0ge307CgoJdmFyIEdlbmVyaWNHRlBvbHkkMSA9IHt9OwoKCXZhciBBYnN0cmFjdEdlbmVyaWNHRiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEdlbmVyaWNHRiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyCgkgKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPgoJICoKCSAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9CgkgKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS4KCSAqIDwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBEYXZpZCBPbGl2aWVyCgkgKi8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpCgkgICAgICovCgkgICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSkKCSAgICAgKi8KCSAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykgewoJICAgICAgICBpZiAoYSA9PT0gMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYgoJICAgICAqLwoJICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIGEgXiBiOwoJICAgIH07CgkgICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGOwoJfSgpKTsKCUFic3RyYWN0R2VuZXJpY0dGJDEuZGVmYXVsdCA9IEFic3RyYWN0R2VuZXJpY0dGOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGUG9seSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRl8xJDEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIFN5c3RlbV8xID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNCA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuCgkgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZQoJICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zCgkgICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkCgkgICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSwKCSAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGEKCSAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsICIwIikKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBHZW5lcmljR0ZQb2x5KGZpZWxkLCBjb2VmZmljaWVudHMpIHsKCSAgICAgICAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHNMZW5ndGggPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHsKCSAgICAgICAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgIjAiCgkgICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gMTsKCSAgICAgICAgICAgIHdoaWxlIChmaXJzdE5vblplcm8gPCBjb2VmZmljaWVudHNMZW5ndGggJiYgY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVyb10gPT09IDApIHsKCSAgICAgICAgICAgICAgICBmaXJzdE5vblplcm8rKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gSW50MzJBcnJheS5mcm9tKFswXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGNvZWZmaWNpZW50c0xlbmd0aCAtIGZpcnN0Tm9uWmVybyk7CgkgICAgICAgICAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7CgkgICAgICAgIH0KCSAgICB9CgkgICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWwKCSAgICAgKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsICIwIgoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzWzBdID09PSAwOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBjb2VmZmljaWVudCBvZiB4XmRlZ3JlZSB0ZXJtIGluIHRoaXMgcG9seW5vbWlhbAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gZXZhbHVhdGlvbiBvZiB0aGlzIHBvbHlub21pYWwgYXQgYSBnaXZlbiBwb2ludAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmV2YWx1YXRlQXQgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgeF4wIGNvZWZmaWNpZW50CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciByZXN1bHQ7CgkgICAgICAgIGlmIChhID09PSAxKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50cwoJICAgICAgICAgICAgcmVzdWx0ID0gMDsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBjb2VmZmljaWVudHNbaV07CgkgICAgICAgICAgICAgICAgcmVzdWx0ID0gQWJzdHJhY3RHZW5lcmljR0ZfMSQxLmRlZmF1bHQuYWRkT3JTdWJ0cmFjdChyZXN1bHQsIGNvZWZmaWNpZW50KTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgICAgIH0KCSAgICAgICAgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdOwoJICAgICAgICB2YXIgc2l6ZSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KGZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIGNvZWZmaWNpZW50c1tpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiBvdGhlcjsKCSAgICAgICAgfQoJICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50czsKCSAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7CgkgICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7CgkgICAgICAgIHZhciBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICAvLyBDb3B5IGhpZ2gtb3JkZXIgdGVybXMgb25seSBmb3VuZCBpbiBoaWdoZXItZGVncmVlIHBvbHlub21pYWwncyBjb2VmZmljaWVudHMKCSAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkobGFyZ2VyQ29lZmZpY2llbnRzLCAwLCBzdW1EaWZmLCAwLCBsZW5ndGhEaWZmKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHN1bURpZmZbaV0gPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpOwoJICAgICAgICB9CgkgICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGFDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBiTGVuZ3RoID0gYkNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoYUxlbmd0aCArIGJMZW5ndGggLSAxKTsKCSAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBhQ29lZmYgPSBhQ29lZmZpY2llbnRzW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiTGVuZ3RoOyBqKyspIHsKCSAgICAgICAgICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IEFic3RyYWN0R2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocHJvZHVjdFtpICsgal0sIGZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseVNjYWxhciA9IGZ1bmN0aW9uIChzY2FsYXIgLyppbnQqLykgewoJICAgICAgICBpZiAoc2NhbGFyID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIHNjYWxhcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBwcm9kdWN0KTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5QnlNb25vbWlhbCA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLywgY29lZmZpY2llbnQgLyppbnQqLykgewoJICAgICAgICBpZiAoZGVncmVlIDwgMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIHNpemUgPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpOwoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJICAgICAgICAgICAgcHJvZHVjdFtpXSA9IGZpZWxkLm11bHRpcGx5KGNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdEaXZpZGUgYnkgMCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBxdW90aWVudCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXM7CgkgICAgICAgIHZhciBkZW5vbWluYXRvckxlYWRpbmdUZXJtID0gb3RoZXIuZ2V0Q29lZmZpY2llbnQob3RoZXIuZ2V0RGVncmVlKCkpOwoJICAgICAgICB2YXIgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICB3aGlsZSAocmVtYWluZGVyLmdldERlZ3JlZSgpID49IG90aGVyLmdldERlZ3JlZSgpICYmICFyZW1haW5kZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmZXJlbmNlID0gcmVtYWluZGVyLmdldERlZ3JlZSgpIC0gb3RoZXIuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICB2YXIgc2NhbGUgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICAgICAgdmFyIHRlcm0gPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpOwoJICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblF1b3RpZW50ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7CgkgICAgICAgICAgICBxdW90aWVudCA9IHF1b3RpZW50LmFkZE9yU3VidHJhY3QoaXRlcmF0aW9uUXVvdGllbnQpOwoJICAgICAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLmFkZE9yU3VidHJhY3QodGVybSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFtxdW90aWVudCwgcmVtYWluZGVyXTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwoJICAgICAgICBmb3IgKHZhciBkZWdyZWUgPSB0aGlzLmdldERlZ3JlZSgpOyBkZWdyZWUgPj0gMDsgZGVncmVlLS0pIHsKCSAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IHRoaXMuZ2V0Q29lZmZpY2llbnQoZGVncmVlKTsKCSAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA8IDApIHsKCSAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgLSAnOwoJICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgKyAnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDAgfHwgY29lZmZpY2llbnQgIT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGFscGhhUG93ZXIgPSB0aGlzLmZpZWxkLmxvZyhjb2VmZmljaWVudCk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYVBvd2VyID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzEnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFscGhhUG93ZXIgPT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnYSc7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2FeJzsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYVBvd2VyOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKGRlZ3JlZSA9PT0gMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICd4JzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneF4nOwoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGRlZ3JlZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIEdlbmVyaWNHRlBvbHk7Cgl9KCkpOwoJR2VuZXJpY0dGUG9seSQxLmRlZmF1bHQgPSBHZW5lcmljR0ZQb2x5OwoKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkMyA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcml0aG1ldGljRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ3KEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7CgkgICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCkpOwoJQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLmRlZmF1bHQgPSBBcml0aG1ldGljRXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqLwoJdmFyIEdlbmVyaWNHRlBvbHlfMSQxID0gR2VuZXJpY0dGUG9seSQxOwoJdmFyIEFic3RyYWN0R2VuZXJpY0dGXzEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIEludGVnZXJfMSQxID0gSW50ZWdlciQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDMgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uXzEgPSBBcml0aG1ldGljRXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgY29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIG92ZXIKCSAqIHRoZSBHYWxvaXMgRmllbGRzLiBPcGVyYXRpb25zIHVzZSBhIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsIGluIGNhbGN1bGF0aW9ucy48L3A+CgkgKgoJICogPHA+VGhyb3VnaG91dCB0aGlzIHBhY2thZ2UsIGVsZW1lbnRzIG9mIHRoZSBHRiBhcmUgcmVwcmVzZW50ZWQgYXMgYW4ge0Bjb2RlIGludH0KCSAqIGZvciBjb252ZW5pZW5jZSBhbmQgc3BlZWQgKGJ1dCBhdCB0aGUgY29zdCBvZiBtZW1vcnkpLgoJICogPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKiBAYXV0aG9yIERhdmlkIE9saXZpZXIKCSAqLwoJdmFyIEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkNihHZW5lcmljR0YsIF9zdXBlcik7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLgoJICAgICAqCgkgICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnkKCSAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50CgkgICAgICogIGNvZWZmaWNpZW50CgkgICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkCgkgICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZAoJICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS4KCSAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuCgkgICAgICovCgkgICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7CgkgICAgICAgIF90aGlzLnNpemUgPSBzaXplOwoJICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTsKCSAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciB4ID0gMTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDsKCSAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyCgkgICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7CgkgICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7CgkgICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlOwoJICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7CgkgICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpOwoJICAgICAgICB9CgkgICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7CgkgICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWQKCSAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7CgkgICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm9uZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlCgkgICAgICovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7CgkgICAgICAgIGlmIChkZWdyZWUgPCAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkMy5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTsKCSAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seV8xJDEuZGVmYXVsdCh0aGlzLCBjb2VmZmljaWVudHMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGEKCSAgICAgKi8KCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVt0aGlzLnNpemUgLSB0aGlzLmxvZ1RhYmxlW2FdIC0gMV07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHByb2R1Y3Qgb2YgYSBhbmQgYiBpbiBHRihzaXplKQoJICAgICAqLwoJICAgIEdlbmVyaWNHRi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDA7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbKHRoaXMubG9nVGFibGVbYV0gKyB0aGlzLmxvZ1RhYmxlW2JdKSAlICh0aGlzLnNpemUgLSAxKV07CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnNpemU7CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldEdlbmVyYXRvckJhc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRvckJhc2U7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICgnR0YoMHgnICsgSW50ZWdlcl8xJDEuZGVmYXVsdC50b0hleFN0cmluZyh0aGlzLnByaW1pdGl2ZSkgKyAnLCcgKyB0aGlzLnNpemUgKyAnKScpOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICByZXR1cm4gbyA9PT0gdGhpczsKCSAgICB9OwoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEyID0gbmV3IEdlbmVyaWNHRigweDEwNjksIDQwOTYsIDEpOyAvLyB4XjEyICsgeF42ICsgeF41ICsgeF4zICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEwID0gbmV3IEdlbmVyaWNHRigweDQwOSwgMTAyNCwgMSk7IC8vIHheMTAgKyB4XjMgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfNiA9IG5ldyBHZW5lcmljR0YoMHg0MywgNjQsIDEpOyAvLyB4XjYgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19QQVJBTSA9IG5ldyBHZW5lcmljR0YoMHgxMywgMTYsIDEpOyAvLyB4XjQgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5RUl9DT0RFX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTFkLCAyNTYsIDApOyAvLyB4XjggKyB4XjQgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTJkLCAyNTYsIDEpOyAvLyB4XjggKyB4XjUgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfOCA9IEdlbmVyaWNHRi5EQVRBX01BVFJJWF9GSUVMRF8yNTY7CgkgICAgR2VuZXJpY0dGLk1BWElDT0RFX0ZJRUxEXzY0ID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfNjsKCSAgICByZXR1cm4gR2VuZXJpY0dGOwoJfShBYnN0cmFjdEdlbmVyaWNHRl8xLmRlZmF1bHQpKTsKCUdlbmVyaWNHRiQxLmRlZmF1bHQgPSBHZW5lcmljR0Y7CgoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciQxID0ge307CgoJdmFyIFJlZWRTb2xvbW9uRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDUgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVlZFNvbG9tb25FeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDIgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDUoUmVlZFNvbG9tb25FeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gUmVlZFNvbG9tb25FeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgUmVlZFNvbG9tb25FeGNlcHRpb24ua2luZCA9ICdSZWVkU29sb21vbkV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQyLmRlZmF1bHQpKTsKCVJlZWRTb2xvbW9uRXhjZXB0aW9uJDEuZGVmYXVsdCA9IFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkNCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDEgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ0KElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLmtpbmQgPSAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gSWxsZWdhbFN0YXRlRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQxLmRlZmF1bHQpKTsKCUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWVkU29sb21vbkRlY29kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovCgl2YXIgR2VuZXJpY0dGXzEkMSA9IEdlbmVyaWNHRiQxOwoJdmFyIEdlbmVyaWNHRlBvbHlfMSA9IEdlbmVyaWNHRlBvbHkkMTsKCXZhciBSZWVkU29sb21vbkV4Y2VwdGlvbl8xID0gUmVlZFNvbG9tb25FeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMSA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+CgkgKgoJICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWwKCSAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPgoJICoKCSAqIDx1bD4KCSAqIDxsaT5CcnVjZSBNYWdncy4KCSAqIDxhIGhyZWY9Imh0dHA6Ly93d3cuY3MuY211LmVkdS9hZnMvY3MuY211LmVkdS9wcm9qZWN0L3BzY2ljby1ndXliL3JlYWx3b3JsZC93d3cvcnNfZGVjb2RlLnBzIj4KCSAqICJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXMiPC9hPiAoc2VlIGRpc2N1c3Npb24gb2YgRm9ybmV5J3MgRm9ybXVsYSk8L2xpPgoJICogPGxpPkouSS4gSGFsbC4gPGEgaHJlZj0id3d3Lm10aC5tc3UuZWR1L35qaGFsbC9jbGFzc2VzL2NvZGVub3Rlcy9HUlMucGRmIj4KCSAqICJDaGFwdGVyIDUuIEdlbmVyYWxpemVkIFJlZWQtU29sb21vbiBDb2RlcyI8L2E+CgkgKiAoc2VlIGRpc2N1c3Npb24gb2YgRXVjbGlkZWFuIGFsZ29yaXRobSk8L2xpPgoJICogPC91bD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgV2lsbGlhbSBSdWNrbGlkZ2UKCSAqIEBhdXRob3Igc2FuZm9yZHNxdWlyZXMKCSAqLwoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBSZWVkU29sb21vbkRlY29kZXIoZmllbGQpIHsKCSAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkOwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5EZWNvZGVzIGdpdmVuIHNldCBvZiByZWNlaXZlZCBjb2Rld29yZHMsIHdoaWNoIGluY2x1ZGUgYm90aCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uCgkgICAgICogY29kZXdvcmRzLiBSZWFsbHksIHRoaXMgbWVhbnMgaXQgdXNlcyBSZWVkLVNvbG9tb24gdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycywgaW4tcGxhY2UsCgkgICAgICogaW4gdGhlIGlucHV0LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByZWNlaXZlZCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcwoJICAgICAqIEBwYXJhbSB0d29TIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBhdmFpbGFibGUKCSAgICAgKiBAdGhyb3dzIFJlZWRTb2xvbW9uRXhjZXB0aW9uIGlmIGRlY29kaW5nIGZhaWxzIGZvciBhbnkgcmVhc29uCgkgICAgICovCgkgICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocmVjZWl2ZWQsIHR3b1MgLyppbnQqLykgewoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgcG9seSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgcmVjZWl2ZWQpOwoJICAgICAgICB2YXIgc3luZHJvbWVDb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheSh0d29TKTsKCSAgICAgICAgdmFyIG5vRXJyb3IgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR3b1M7IGkrKykgewoJICAgICAgICAgICAgdmFyIGV2YWxSZXN1bHQgPSBwb2x5LmV2YWx1YXRlQXQoZmllbGQuZXhwKGkgKyBmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkpKTsKCSAgICAgICAgICAgIHN5bmRyb21lQ29lZmZpY2llbnRzW3N5bmRyb21lQ29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBpXSA9IGV2YWxSZXN1bHQ7CgkgICAgICAgICAgICBpZiAoZXZhbFJlc3VsdCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIG5vRXJyb3IgPSBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAobm9FcnJvcikgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpOwoJICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTsKCSAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTsKCSAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTsKCSAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpOwoJICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pOwoJICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ0JhZCBlcnJvciBsb2NhdGlvbicpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVjZWl2ZWRbcG9zaXRpb25dID0gR2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocmVjZWl2ZWRbcG9zaXRpb25dLCBlcnJvck1hZ25pdHVkZXNbaV0pOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLnJ1bkV1Y2xpZGVhbkFsZ29yaXRobSA9IGZ1bmN0aW9uIChhLCBiLCBSIC8qaW50Ki8pIHsKCSAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzCgkgICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgdmFyIHRlbXAgPSBhOwoJICAgICAgICAgICAgYSA9IGI7CgkgICAgICAgICAgICBiID0gdGVtcDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgckxhc3QgPSBhOwoJICAgICAgICB2YXIgciA9IGI7CgkgICAgICAgIHZhciB0TGFzdCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHQgPSBmaWVsZC5nZXRPbmUoKTsKCSAgICAgICAgLy8gUnVuIEV1Y2xpZGVhbiBhbGdvcml0aG0gdW50aWwgcidzIGRlZ3JlZSBpcyBsZXNzIHRoYW4gUi8yCgkgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IChSIC8gMiB8IDApKSB7CgkgICAgICAgICAgICB2YXIgckxhc3RMYXN0ID0gckxhc3Q7CgkgICAgICAgICAgICB2YXIgdExhc3RMYXN0ID0gdExhc3Q7CgkgICAgICAgICAgICByTGFzdCA9IHI7CgkgICAgICAgICAgICB0TGFzdCA9IHQ7CgkgICAgICAgICAgICAvLyBEaXZpZGUgckxhc3RMYXN0IGJ5IHJMYXN0LCB3aXRoIHF1b3RpZW50IGluIHEgYW5kIHJlbWFpbmRlciBpbiByCgkgICAgICAgICAgICBpZiAockxhc3QuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgICAgICAvLyBPb3BzLCBFdWNsaWRlYW4gYWxnb3JpdGhtIGFscmVhZHkgdGVybWluYXRlZD8KCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb25fMS5kZWZhdWx0KCdyX3tpLTF9IHdhcyB6ZXJvJyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByID0gckxhc3RMYXN0OwoJICAgICAgICAgICAgdmFyIHEgPSBmaWVsZC5nZXRaZXJvKCk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTsKCSAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTsKCSAgICAgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IHJMYXN0LmdldERlZ3JlZSgpICYmICFyLmlzWmVybygpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZURpZmYgPSByLmdldERlZ3JlZSgpIC0gckxhc3QuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmdldERlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7CgkgICAgICAgICAgICAgICAgcSA9IHEuYWRkT3JTdWJ0cmFjdChmaWVsZC5idWlsZE1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7CgkgICAgICAgICAgICAgICAgciA9IHIuYWRkT3JTdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7CgkgICAgICAgICAgICBpZiAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMS5kZWZhdWx0KCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ3NpZ21hVGlsZGUoMCkgd2FzIHplcm8nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaW52ZXJzZSA9IGZpZWxkLmludmVyc2Uoc2lnbWFUaWxkZUF0WmVybyk7CgkgICAgICAgIHZhciBzaWdtYSA9IHQubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHZhciBvbWVnYSA9IHIubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHJldHVybiBbc2lnbWEsIG9tZWdhXTsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTG9jYXRpb25zID0gZnVuY3Rpb24gKGVycm9yTG9jYXRvcikgewoJICAgICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGFwcGxpY2F0aW9uIG9mIENoaWVuJ3Mgc2VhcmNoCgkgICAgICAgIHZhciBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZ2V0RGVncmVlKCk7CgkgICAgICAgIGlmIChudW1FcnJvcnMgPT09IDEpIHsgLy8gc2hvcnRjdXQKCSAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV0pOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShudW1FcnJvcnMpOwoJICAgICAgICB2YXIgZSA9IDA7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykgewoJICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gZmllbGQuaW52ZXJzZShpKTsKCSAgICAgICAgICAgICAgICBlKys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGUgIT09IG51bUVycm9ycykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IFJlZWRTb2xvbW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnRXJyb3IgbG9jYXRvciBkZWdyZWUgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHJvb3RzJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdGlvbnMpIHsKCSAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhCgkgICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeGlJbnZlcnNlID0gZmllbGQuaW52ZXJzZShlcnJvckxvY2F0aW9uc1tpXSk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSAxOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaikgewoJICAgICAgICAgICAgICAgICAgICAvLyBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLAoJICAgICAgICAgICAgICAgICAgICAvLyAgICBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdCgxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpCgkgICAgICAgICAgICAgICAgICAgIC8vIEFib3ZlIHNob3VsZCB3b3JrIGJ1dCBmYWlscyBvbiBzb21lIEFwcGxlIGFuZCBMaW51eCBKREtzIGR1ZSB0byBhIEhvdHNwb3QgYnVnLgoJICAgICAgICAgICAgICAgICAgICAvLyBCZWxvdyBpcyBhIGZ1bm55LWxvb2tpbmcgd29ya2Fyb3VuZCBmcm9tIFN0ZXZlbiBQYXJrZXMKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1QbHVzMSA9ICh0ZXJtICYgMHgxKSA9PT0gMCA/IHRlcm0gfCAxIDogdGVybSAmIH4xOwoJICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLCB0ZXJtUGx1czEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KGVycm9yRXZhbHVhdG9yLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSwgZmllbGQuaW52ZXJzZShkZW5vbWluYXRvcikpOwoJICAgICAgICAgICAgaWYgKGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSAhPT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KHJlc3VsdFtpXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRGVjb2RlcjsKCX0oKSk7CglSZWVkU29sb21vbkRlY29kZXIkMS5kZWZhdWx0ID0gUmVlZFNvbG9tb25EZWNvZGVyOwoKCXZhciBCaXRNYXRyaXhQYXJzZXIkMSA9IHt9OwoKCXZhciBWZXJzaW9uJDEgPSB7fTsKCgl2YXIgRm9ybWF0SW5mb3JtYXRpb24kMSA9IHt9OwoKCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IHt9OwoKCXZhciBBcmd1bWVudEV4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyQzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkMyhBcmd1bWVudEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBcmd1bWVudEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0FyZ3VtZW50RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQXJndW1lbnRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xLmRlZmF1bHQpKTsKCUFyZ3VtZW50RXhjZXB0aW9uJDEuZGVmYXVsdCA9IEFyZ3VtZW50RXhjZXB0aW9uOwoKCShmdW5jdGlvbiAoZXhwb3J0cykgewoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CglleHBvcnRzLkVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gdm9pZCAwOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbl8xID0gQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzOwoJKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykgewoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJMIl0gPSAwXSA9ICJMIjsKCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1siTSJdID0gMV0gPSAiTSI7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbIlEiXSA9IDJdID0gIlEiOwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJIIl0gPSAzXSA9ICJIIjsKCX0pKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyA9IHt9KSk7CgkvKioKCSAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi41LjEuIFRoaXMgZW51bSBlbmNhcHN1bGF0ZXMgdGhlIGZvdXIgZXJyb3IgY29ycmVjdGlvbiBsZXZlbHMKCSAqIGRlZmluZWQgYnkgdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb25MZXZlbCh2YWx1ZSwgc3RyaW5nVmFsdWUsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpOwoJICAgICAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIHN3aXRjaCAocykgewoJICAgICAgICAgICAgY2FzZSAnTCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5MOwoJICAgICAgICAgICAgY2FzZSAnTSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5NOwoJICAgICAgICAgICAgY2FzZSAnUSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5ROwoJICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5IOwoJICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uXzEuZGVmYXVsdChzICsgJ25vdCBhdmFpbGFibGUnKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG90aGVyID0gbzsKCSAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwKCSAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsCgkgICAgICovCgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuZ2V0KGJpdHMpOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFID0gbmV3IE1hcCgpOwoJICAgIC8qKiBMID0gfjclIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5MID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkwsICdMJywgMHgwMSk7CgkgICAgLyoqIE0gPSB+MTUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5NID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLk0sICdNJywgMHgwMCk7CgkgICAgLyoqIFEgPSB+MjUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5RID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLlEsICdRJywgMHgwMyk7CgkgICAgLyoqIEggPSB+MzAlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5IID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkgsICdIJywgMHgwMik7CgkgICAgcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQ29ycmVjdGlvbkxldmVsOwoKCX0oRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRm9ybWF0SW5mb3JtYXRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbF8xID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7Cgl2YXIgSW50ZWdlcl8xID0gSW50ZWdlciQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZAoJICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBzZWUgRGF0YU1hc2sKCSAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWwKCSAqLwoJdmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykgewoJICAgICAgICAvLyBCaXRzIDMsNAoJICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWxfMS5kZWZhdWx0LmZvckJpdHMoKGZvcm1hdEluZm8gPj4gMykgJiAweDAzKTsKCSAgICAgICAgLy8gQm90dG9tIDMgYml0cwoJICAgICAgICB0aGlzLmRhdGFNYXNrID0gLyooYnl0ZSkgKi8gKGZvcm1hdEluZm8gJiAweDA3KTsKCSAgICB9CgkgICAgRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gSW50ZWdlcl8xLmRlZmF1bHQuYml0Q291bnQoYSBeIGIpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8xIGZvcm1hdCBpbmZvIGluZGljYXRvciwgd2l0aCBtYXNrIHN0aWxsIGFwcGxpZWQKCSAgICAgKiBAcGFyYW0gbWFza2VkRm9ybWF0SW5mbzIgc2Vjb25kIGNvcHkgb2Ygc2FtZSBpbmZvOyBib3RoIGFyZSBjaGVja2VkIGF0IHRoZSBzYW1lIHRpbWUKCSAgICAgKiAgdG8gZXN0YWJsaXNoIGJlc3QgbWF0Y2gKCSAgICAgKiBAcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmb3JtYXQgaXQgc3BlY2lmaWVzLCBvciB7QGNvZGUgbnVsbH0KCSAgICAgKiAgaWYgZG9lc24ndCBzZWVtIHRvIG1hdGNoIGFueSBrbm93biBwYXR0ZXJuCgkgICAgICovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24uZGVjb2RlRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAobWFza2VkRm9ybWF0SW5mbzEgLyppbnQqLywgbWFza2VkRm9ybWF0SW5mbzIgLyppbnQqLykgewoJICAgICAgICB2YXIgZm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEsIG1hc2tlZEZvcm1hdEluZm8yKTsKCSAgICAgICAgaWYgKGZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiBmb3JtYXRJbmZvOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCwgYnV0LCBzb21lIFFSIGNvZGVzIGFwcGFyZW50bHkKCSAgICAgICAgLy8gZG8gbm90IG1hc2sgdGhpcyBpbmZvLiBUcnkgYWdhaW4gYnkgYWN0dWFsbHkgbWFza2luZyB0aGUgcGF0dGVybgoJICAgICAgICAvLyBmaXJzdAoJICAgICAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihtYXNrZWRGb3JtYXRJbmZvMSBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIsIG1hc2tlZEZvcm1hdEluZm8yIF4gRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUik7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGVfMSwgX2E7CgkgICAgICAgIC8vIEZpbmQgdGhlIGludCBpbiBGT1JNQVRfSU5GT19ERUNPREVfTE9PS1VQIHdpdGggZmV3ZXN0IGJpdHMgZGlmZmVyaW5nCgkgICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgICAgICB2YXIgYmVzdEZvcm1hdEluZm8gPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyQ2KEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVApLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlY29kZUluZm8gPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5mbyA9IGRlY29kZUluZm9bMF07CgkgICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8xIHx8IHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8yKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGV4YWN0IG1hdGNoCgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oZGVjb2RlSW5mb1sxXSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBiaXRzRGlmZmVyZW5jZSA9IEZvcm1hdEluZm9ybWF0aW9uLm51bUJpdHNEaWZmZXJpbmcobWFza2VkRm9ybWF0SW5mbzEsIHRhcmdldEluZm8pOwoJICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTsKCSAgICAgICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKG1hc2tlZEZvcm1hdEluZm8xICE9PSBtYXNrZWRGb3JtYXRJbmZvMikgewoJICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHRyeSB0aGUgb3RoZXIgb3B0aW9uCgkgICAgICAgICAgICAgICAgICAgIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMiwgdGFyZ2V0SW5mbyk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Rm9ybWF0SW5mbyA9IGRlY29kZUluZm9bMV07CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSGFtbWluZyBkaXN0YW5jZSBvZiB0aGUgMzIgbWFza2VkIGNvZGVzIGlzIDcsIGJ5IGNvbnN0cnVjdGlvbiwgc28gPD0gMyBiaXRzCgkgICAgICAgIC8vIGRpZmZlcmluZyBtZWFucyB3ZSBmb3VuZCBhIG1hdGNoCgkgICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7CgkgICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEluZm9ybWF0aW9uKGJlc3RGb3JtYXRJbmZvKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICB9OwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRFcnJvckNvcnJlY3Rpb25MZXZlbCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWw7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0RGF0YU1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFNYXNrOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsLmdldEJpdHMoKSA8PCAzKSB8IHRoaXMuZGF0YU1hc2s7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGb3JtYXRJbmZvcm1hdGlvbikpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbCA9PT0gb3RoZXIuZXJyb3JDb3JyZWN0aW9uTGV2ZWwgJiYKCSAgICAgICAgICAgIHRoaXMuZGF0YU1hc2sgPT09IG90aGVyLmRhdGFNYXNrOwoJICAgIH07CgkgICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUiA9IDB4NTQxMjsKCSAgICAvKioKCSAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIEFubmV4IEMsIFRhYmxlIEMuMQoJICAgICAqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVAgPSBbCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1NDEyLCAweDAwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1MTI1LCAweDAxXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1RTdDLCAweDAyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1QjRCLCAweDAzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0NUY5LCAweDA0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0MENFLCAweDA1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0Rjk3LCAweDA2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0QUEwLCAweDA3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3N0M0LCAweDA4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3MkYzLCAweDA5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3REFBLCAweDBBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3ODlELCAweDBCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2NjJGLCAweDBDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2MzE4LCAweDBEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2QzQxLCAweDBFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2OTc2LCAweDBGXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxNjg5LCAweDEwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxM0JFLCAweDExXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxQ0U3LCAweDEyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxOUQwLCAweDEzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwNzYyLCAweDE0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwMjU1LCAweDE1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwRDBDLCAweDE2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwODNCLCAweDE3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzNTVGLCAweDE4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzMDY4LCAweDE5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzRjMxLCAweDFBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzQTA2LCAweDFCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyNEI0LCAweDFDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyMTgzLCAweDFEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyRURBLCAweDFFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyQkVELCAweDFGXSksCgkgICAgXTsKCSAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb247Cgl9KCkpOwoJRm9ybWF0SW5mb3JtYXRpb24kMS5kZWZhdWx0ID0gRm9ybWF0SW5mb3JtYXRpb247CgoJdmFyIEVDQmxvY2tzJDEgPSB7fTsKCgl2YXIgX192YWx1ZXMkNSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0Jsb2NrcyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHNldCBvZiBlcnJvci1jb3JyZWN0aW9uIGJsb2NrcyBpbiBvbmUgc3ltYm9sIHZlcnNpb24uIE1vc3QgdmVyc2lvbnMgd2lsbAoJICogdXNlIGJsb2NrcyBvZiBkaWZmZXJpbmcgc2l6ZXMgd2l0aGluIG9uZSB2ZXJzaW9uLCBzbywgdGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yCgkgKiBlYWNoIHNldCBvZiBibG9ja3MuIEl0IGFsc28gaG9sZHMgdGhlIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBwZXIgYmxvY2sgc2luY2UgaXQKCSAqIHdpbGwgYmUgdGhlIHNhbWUgYWNyb3NzIGFsbCBibG9ja3Mgd2l0aGluIG9uZSB2ZXJzaW9uLjwvcD4KCSAqLwoJdmFyIEVDQmxvY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEVDQmxvY2tzKGVjQ29kZXdvcmRzUGVyQmxvY2sgLyppbnQqLykgewoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayA9IGVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrczsKCSAgICB9CgkgICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzUGVyQmxvY2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0TnVtQmxvY2tzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIHRvdGFsID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tzID0gdGhpcy5lY0Jsb2NrczsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tzXzEgPSBfX3ZhbHVlcyQ1KGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdG90YWw7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzOwoJICAgIH07CgkgICAgcmV0dXJuIEVDQmxvY2tzOwoJfSgpKTsKCUVDQmxvY2tzJDEuZGVmYXVsdCA9IEVDQmxvY2tzOwoKCXZhciBFQ0IkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4KCSAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlCgkgKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD4KCSAqLwoJdmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7CgkgICAgICAgIHRoaXMuY291bnQgPSBjb3VudDsKCSAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkczsKCSAgICB9CgkgICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7CgkgICAgfTsKCSAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICByZXR1cm4gRUNCOwoJfSgpKTsKCUVDQiQxLmRlZmF1bHQgPSBFQ0I7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX3ZhbHVlcyQ0ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBCaXRNYXRyaXhfMSQzID0gQml0TWF0cml4JDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSQxID0gRm9ybWF0SW5mb3JtYXRpb24kMTsKCXZhciBFQ0Jsb2Nrc18xID0gRUNCbG9ja3MkMTsKCXZhciBFQ0JfMSA9IEVDQiQxOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDIgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQyID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBECgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7CgkgICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczsKCSAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzOwoJICAgICAgICB2YXIgdG90YWwgPSAwOwoJICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMkNChlY2JBcnJheSksIGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpOyAhZWNiQXJyYXlfMV8xLmRvbmU7IGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY2JBcnJheV8xXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdG90YWwgKz0gZWNCbG9jay5nZXRDb3VudCgpICogKGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpICsgZWNDb2Rld29yZHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoZWNiQXJyYXlfMV8xICYmICFlY2JBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY2JBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNiQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy50b3RhbENvZGV3b3JkcyA9IHRvdGFsOwoJICAgIH0KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VG90YWxDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRvdGFsQ29kZXdvcmRzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDE3ICsgNCAqIHRoaXMudmVyc2lvbk51bWJlcjsKCSAgICB9OwoJICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEVDQmxvY2tzRm9yTGV2ZWwgPSBmdW5jdGlvbiAoZWNMZXZlbCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0Jsb2Nrc1tlY0xldmVsLmdldFZhbHVlKCldOwoJICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogb3JpZ2luYWwgd2FzIHVzaW5nIG9yZGluYWwsIGFuZCB1c2luZyB0aGUgb3JkZXIgb2YgbGV2ZWxzIGFzIGRlZmluZWQgaW4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZW51bSAoTE1RSCkKCSAgICAgICAgLy8gSSB3aWxsIHVzZSB0aGUgZGlyZWN0IHZhbHVlIGZyb20gRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgZW51bSB3aGljaCBpbiB0eXBlc2NyaXB0IGdvZXMgdG8gYSBudW1iZXIKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkRlZHVjZXMgdmVyc2lvbiBpbmZvcm1hdGlvbiBwdXJlbHkgZnJvbSBRUiBDb2RlIGRpbWVuc2lvbnMuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gaW4gbW9kdWxlcwoJICAgICAqIEByZXR1cm4gVmVyc2lvbiBmb3IgYSBRUiBDb2RlIG9mIHRoYXQgZGltZW5zaW9uCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCAxIG1vZCA0CgkgICAgICovCgkgICAgVmVyc2lvbi5nZXRQcm92aXNpb25hbFZlcnNpb25Gb3JEaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiAlIDQgIT09IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVyc2lvbkZvck51bWJlcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlciA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPCAxIHx8IHZlcnNpb25OdW1iZXIgPiA0MCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDIuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBWZXJzaW9uLlZFUlNJT05TW3ZlcnNpb25OdW1iZXIgLSAxXTsKCSAgICB9OwoJICAgIFZlcnNpb24uZGVjb2RlVmVyc2lvbkluZm9ybWF0aW9uID0gZnVuY3Rpb24gKHZlcnNpb25CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGJlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHZhciBiZXN0VmVyc2lvbiA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0VmVyc2lvbiA9IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GT1tpXTsKCSAgICAgICAgICAgIC8vIERvIHRoZSB2ZXJzaW9uIGluZm8gYml0cyBtYXRjaCBleGFjdGx5PyBkb25lLgoJICAgICAgICAgICAgaWYgKHRhcmdldFZlcnNpb24gPT09IHZlcnNpb25CaXRzKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihpICsgNyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VlIGlmIHRoaXMgaXMgdGhlIGNsb3Nlc3QgdG8gYSByZWFsIHZlcnNpb24gaW5mbyBiaXQgc3RyaW5nCgkgICAgICAgICAgICAvLyB3ZSBoYXZlIHNlZW4gc28gZmFyCgkgICAgICAgICAgICB2YXIgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbl8xJDEuZGVmYXVsdC5udW1CaXRzRGlmZmVyaW5nKHZlcnNpb25CaXRzLCB0YXJnZXRWZXJzaW9uKTsKCSAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgYmVzdFZlcnNpb24gPSBpICsgNzsKCSAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbAoJICAgICAgICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy4KCSAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHsKCSAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoYmVzdFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGEgY2xvc2UgZW5vdWdoIG1hdGNoLCBmYWlsCgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEUKCSAgICAgKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpOwoJICAgICAgICB2YXIgYml0TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDMuZGVmYXVsdChkaW1lbnNpb24pOwoJICAgICAgICAvLyBUb3AgbGVmdCBmaW5kZXIgcGF0dGVybiArIHNlcGFyYXRvciArIGZvcm1hdAoJICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDAsIDAsIDksIDkpOwoJICAgICAgICAvLyBUb3AgcmlnaHQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5KTsKCSAgICAgICAgLy8gQm90dG9tIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSA4LCA5LCA4KTsKCSAgICAgICAgLy8gQWxpZ25tZW50IHBhdHRlcm5zCgkgICAgICAgIHZhciBtYXggPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHgrKykgewoJICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzW3hdIC0gMjsKCSAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF4OyB5KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoKHggPT09IDAgJiYgKHkgPT09IDAgfHwgeSA9PT0gbWF4IC0gMSkpIHx8ICh4ID09PSBtYXggLSAxICYmIHkgPT09IDApKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE5vIGFsaWdubWVudCBwYXR0ZXJucyBuZWFyIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMKCSAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24odGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t5XSAtIDIsIGksIDUsIDUpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oNiwgOSwgMSwgZGltZW5zaW9uIC0gMTcpOwoJICAgICAgICAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEpOwoJICAgICAgICBpZiAodGhpcy52ZXJzaW9uTnVtYmVyID4gNikgewoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHQKCSAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gMTEsIDAsIDMsIDYpOwoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdAoJICAgICAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSAxMSwgNiwgMyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICcnICsgdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgQW5uZXggRC4KCSAgICAgICAqIEVsZW1lbnQgaSByZXByZXNlbnRzIHRoZSByYXcgdmVyc2lvbiBiaXRzIHRoYXQgc3BlY2lmeSB2ZXJzaW9uIGkgKyA3CgkgICAgICAgKi8KCSAgICBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk8gPSBJbnQzMkFycmF5LmZyb20oWwoJICAgICAgICAweDA3Qzk0LCAweDA4NUJDLCAweDA5QTk5LCAweDBBNEQzLCAweDBCQkY2LAoJICAgICAgICAweDBDNzYyLCAweDBEODQ3LCAweDBFNjBELCAweDBGOTI4LCAweDEwQjc4LAoJICAgICAgICAweDExNDVELCAweDEyQTE3LCAweDEzNTMyLCAweDE0OUE2LCAweDE1NjgzLAoJICAgICAgICAweDE2OEM5LCAweDE3N0VDLCAweDE4RUM0LCAweDE5MUUxLCAweDFBRkFCLAoJICAgICAgICAweDFCMDhFLCAweDFDQzFBLCAweDFEMzNGLCAweDFFRDc1LCAweDFGMjUwLAoJICAgICAgICAweDIwOUQ1LCAweDIxNkYwLCAweDIyOEJBLCAweDIzNzlGLCAweDI0QjBCLAoJICAgICAgICAweDI1NDJFLCAweDI2QTY0LCAweDI3NTQxLCAweDI4QzY5CgkgICAgXSk7CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgNi41LjEgVGFibGUgOQoJICAgICAgICovCgkgICAgVmVyc2lvbi5WRVJTSU9OUyA9IFsKCSAgICAgICAgbmV3IFZlcnNpb24oMSwgbmV3IEludDMyQXJyYXkoMCksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOSkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMiwgSW50MzJBcnJheS5mcm9tKFs2LCAxOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDEwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE1LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1NSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA4MCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA5KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCA0MykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTIpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDYsIEludDMyQXJyYXkuZnJvbShbNiwgMzRdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDcsIEludDMyQXJyYXkuZnJvbShbNiwgMjIsIDM4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDc4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDMxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNCkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNCwgNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMzgpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzOSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxOCksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE5KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDksIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAzNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDM3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDY4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxOSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDIwKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA4MSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDUxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTIsIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDkyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMzYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDEzLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2Ml0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMzcpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDEyLCAxMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDYsIDY2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA0MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDQxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDE3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDgsIDcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDg3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgODgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgNDEpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNiwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDk4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0NikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTkpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyMCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTcsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxMDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE4LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIwKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDQzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxOSwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1OCwgODZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTE0KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDQ0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDQ1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDE3LCAyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDE0KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMCwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDEwNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0MSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIxLCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDIpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDExMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIxKSwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1NCwgODAsIDEwNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTcpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMwLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE3KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyNSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMTA2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTA3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMjYsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzMsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI3LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTAsIDExOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDIsIDEyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTYpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjEsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgzNywgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCA0NyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjMsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjUsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxMywgMTE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQyLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDI4LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzIsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzUsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDM1LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNDQsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDEyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMiwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgNDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMjEpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDY0LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIzKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDI5LCA0NiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCA0NykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0OSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjQsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNDYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzIsIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ4LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjAsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCg0MCwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNjcsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxMTgpLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyMCwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCg2MSwgMTYpKSkKCSAgICBdOwoJICAgIHJldHVybiBWZXJzaW9uOwoJfSgpKTsKCVZlcnNpb24kMS5kZWZhdWx0ID0gVmVyc2lvbjsKCgl2YXIgRGF0YU1hc2sgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5EYXRhTWFza1ZhbHVlcyA9IHZvaWQgMDsKCXZhciBEYXRhTWFza1ZhbHVlczsKCShmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAwMCJdID0gMF0gPSAiREFUQV9NQVNLXzAwMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18wMDEiXSA9IDFdID0gIkRBVEFfTUFTS18wMDEiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMDEwIl0gPSAyXSA9ICJEQVRBX01BU0tfMDEwIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAxMSJdID0gM10gPSAiREFUQV9NQVNLXzAxMSI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMDAiXSA9IDRdID0gIkRBVEFfTUFTS18xMDAiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMTAxIl0gPSA1XSA9ICJEQVRBX01BU0tfMTAxIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzExMCJdID0gNl0gPSAiREFUQV9NQVNLXzExMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMTEiXSA9IDddID0gIkRBVEFfTUFTS18xMTEiOwoJfSkoRGF0YU1hc2tWYWx1ZXMgPSBleHBvcnRzLkRhdGFNYXNrVmFsdWVzIHx8IChleHBvcnRzLkRhdGFNYXNrVmFsdWVzID0ge30pKTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGRhdGEgbWFza3MgZm9yIHRoZSBkYXRhIGJpdHMgaW4gYSBRUiBjb2RlLCBwZXIgSVNPIDE4MDA0OjIwMDYgNi44LiBJbXBsZW1lbnRhdGlvbnMKCSAqIG9mIHRoaXMgY2xhc3MgY2FuIHVuLW1hc2sgYSByYXcgQml0TWF0cml4LiBGb3Igc2ltcGxpY2l0eSwgdGhleSB3aWxsIHVubWFzayB0aGUgZW50aXJlIEJpdE1hdHJpeCwKCSAqIGluY2x1ZGluZyBhcmVhcyB1c2VkIGZvciBmaW5kZXIgcGF0dGVybnMsIHRpbWluZyBwYXR0ZXJucywgZXRjLiBUaGVzZSBhcmVhcyBzaG91bGQgYmUgdW51c2VkCgkgKiBhZnRlciB0aGUgcG9pbnQgdGhleSBhcmUgdW5tYXNrZWQgYW55d2F5LjwvcD4KCSAqCgkgKiA8cD5Ob3RlIHRoYXQgdGhlIGRpYWdyYW0gaW4gc2VjdGlvbiA2LjguMSBpcyBtaXNsZWFkaW5nIHNpbmNlIGl0IGluZGljYXRlcyB0aGF0IGkgaXMgY29sdW1uIHBvc2l0aW9uCgkgKiBhbmQgaiBpcyByb3cgcG9zaXRpb24uIEluIGZhY3QsIGFzIHRoZSB0ZXh0IHNheXMsIGkgaXMgcm93IHBvc2l0aW9uIGFuZCBqIGlzIGNvbHVtbiBwb3NpdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFNYXNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIFNlZSBJU08gMTgwMDQ6MjAwNiA2LjguMQoJICAgIGZ1bmN0aW9uIERhdGFNYXNrKHZhbHVlLCBpc01hc2tlZCkgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuaXNNYXNrZWQgPSBpc01hc2tlZDsKCSAgICB9CgkgICAgLy8gRW5kIG9mIGVudW0gY29uc3RhbnRzLgoJICAgIC8qKgoJICAgICAqIDxwPkltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCByZXZlcnNlIHRoZSBkYXRhIG1hc2tpbmcgcHJvY2VzcyBhcHBsaWVkIHRvIGEgUVIgQ29kZSBhbmQKCSAgICAgKiBtYWtlIGl0cyBiaXRzIHJlYWR5IHRvIHJlYWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGJpdHMgcmVwcmVzZW50YXRpb24gb2YgUVIgQ29kZSBiaXRzCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gb2YgUVIgQ29kZSwgcmVwcmVzZW50ZWQgYnkgYml0cywgYmVpbmcgdW5tYXNrZWQKCSAgICAgKi8KCSAgICBEYXRhTWFzay5wcm90b3R5cGUudW5tYXNrQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGRpbWVuc2lvbiAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hc2tlZChpLCBqKSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLmZsaXAoaiwgaSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBEYXRhTWFzay52YWx1ZXMgPSBuZXcgTWFwKFsKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDAwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAyID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKGkgKyBqKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeCBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgJiAweDAxKSA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMDEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoIHkgbW9kIDMgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIGogJSAzID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHggKyB5KSBtb2QgMyA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgKyBqKSAlIDMgPT09IDA7IH0pXSwKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDEwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeC8yICsgeS8zKSBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChNYXRoLmZsb29yKGkgLyAyKSArIE1hdGguZmxvb3IoaiAvIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeHkgbW9kIDIgKyB4eSBtb2QgMyA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2ID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAqIGopICUgNiA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMTEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4eSBtb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2IDwgMwoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSAqIGopICUgNikgPCAzOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKCh4K3kpbW9kIDIgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKiBlcXVpdmFsZW50bHksIHN1Y2ggdGhhdCAoeCArIHkgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTExLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGogKyAoKGkgKiBqKSAlIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgXSk7CgkgICAgcmV0dXJuIERhdGFNYXNrOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYXNrOwoKCX0oRGF0YU1hc2spKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdE1hdHJpeFBhcnNlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgVmVyc2lvbl8xJDEgPSBWZXJzaW9uJDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSA9IEZvcm1hdEluZm9ybWF0aW9uJDE7Cgl2YXIgRGF0YU1hc2tfMSA9IERhdGFNYXNrOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCS8qKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJpdE1hdHJpeFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYml0TWF0cml4IHtAbGluayBCaXRNYXRyaXh9IHRvIHBhcnNlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCA+PSAyMSBhbmQgMSBtb2QgNAoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeFBhcnNlcihiaXRNYXRyaXgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiA8IDIxIHx8IChkaW1lbnNpb24gJiAweDAzKSAhPT0gMSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0TWF0cml4ID0gYml0TWF0cml4OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5SZWFkcyBmb3JtYXQgaW5mb3JtYXRpb24gZnJvbSBvbmUgb2YgaXRzIHR3byBsb2NhdGlvbnMgd2l0aGluIHRoZSBRUiBDb2RlLjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEZvcm1hdEluZm9ybWF0aW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBRUiBDb2RlJ3MgZm9ybWF0IGluZm8KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIGZvcm1hdCBpbmZvcm1hdGlvbiBsb2NhdGlvbnMgY2Fubm90IGJlIHBhcnNlZCBhcwoJICAgICAqIHRoZSB2YWxpZCBlbmNvZGluZyBvZiBmb3JtYXQgaW5mb3JtYXRpb24KCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyAhPT0gbnVsbCAmJiB0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRm9ybWF0SW5mbzsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRvcC1sZWZ0IGZvcm1hdCBpbmZvIGJpdHMKCSAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMSA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uCgkgICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg3LCA4LCBmb3JtYXRJbmZvQml0czEpOwoJICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDcsIGZvcm1hdEluZm9CaXRzMSk7CgkgICAgICAgIC8vIC4uIGFuZCBza2lwIGEgYml0IGluIHRoZSB0aW1pbmcgcGF0dGVybiAuLi4KCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRoZSB0b3AtcmlnaHQvYm90dG9tLWxlZnQgcGF0dGVybiB0b28KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgZm9ybWF0SW5mb0JpdHMyID0gMDsKCSAgICAgICAgdmFyIGpNaW4gPSBkaW1lbnNpb24gLSA3OwoJICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSBqTWluOyBqLS0pIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdCg4LCBqLCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIGZvciAodmFyIGkgPSBkaW1lbnNpb24gLSA4OyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdChpLCA4LCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uXzEuZGVmYXVsdC5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb24KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXMKCSAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvbgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikgewoJICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25fMSQxLmRlZmF1bHQuZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbAoJICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwOwoJICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTsKCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7CgkgICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbAoJICAgICAgICB2ZXJzaW9uQml0cyA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkgewoJICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopOwoJICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZQoJICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZQoJICAgICAqIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWQKCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTsKCSAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7CgkgICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZQoJICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC4KCSAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2tfMS5kZWZhdWx0LnZhbHVlcy5nZXQoZm9ybWF0SW5mby5nZXREYXRhTWFzaygpKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7CgkgICAgICAgIHZhciBmdW5jdGlvblBhdHRlcm4gPSB2ZXJzaW9uLmJ1aWxkRnVuY3Rpb25QYXR0ZXJuKCk7CgkgICAgICAgIHZhciByZWFkaW5nVXAgPSB0cnVlOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKTsKCSAgICAgICAgdmFyIHJlc3VsdE9mZnNldCA9IDA7CgkgICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7CgkgICAgICAgIHZhciBiaXRzUmVhZCA9IDA7CgkgICAgICAgIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0CgkgICAgICAgIGZvciAodmFyIGogPSBkaW1lbnNpb24gLSAxOyBqID4gMDsgaiAtPSAyKSB7CgkgICAgICAgICAgICBpZiAoaiA9PT0gNikgewoJICAgICAgICAgICAgICAgIC8vIFNraXAgd2hvbGUgY29sdW1uIHdpdGggdmVydGljYWwgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgICAgICAgICAgICAvLyBzYXZlcyB0aW1lIGFuZCBtYWtlcyB0aGUgb3RoZXIgY29kZSBwcm9jZWVkIG1vcmUgY2xlYW5seQoJICAgICAgICAgICAgICAgIGotLTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIFJlYWQgYWx0ZXJuYXRpbmdseSBmcm9tIGJvdHRvbSB0byB0b3AgdGhlbiB0b3AgdG8gYm90dG9tCgkgICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgZGltZW5zaW9uOyBjb3VudCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGkgPSByZWFkaW5nVXAgPyBkaW1lbnNpb24gLSAxIC0gY291bnQgOiBjb3VudDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCAyOyBjb2wrKykgewoJICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYml0cyBjb3ZlcmVkIGJ5IHRoZSBmdW5jdGlvbiBwYXR0ZXJuCgkgICAgICAgICAgICAgICAgICAgIGlmICghZnVuY3Rpb25QYXR0ZXJuLmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBhIGJpdAoJICAgICAgICAgICAgICAgICAgICAgICAgYml0c1JlYWQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0TWF0cml4LmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBtYWRlIGEgd2hvbGUgYnl0ZSwgc2F2ZSBpdCBvZmYKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzUmVhZCA9PT0gOCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSAvKihieXRlKSAqLyBjdXJyZW50Qnl0ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gcmVhZGluZ1VwIF49IHRydWU7IC8vIHJlYWRpbmdVcCA9ICFyZWFkaW5nVXA7IC8vIHN3aXRjaCBkaXJlY3Rpb25zCgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldmVydCB0aGUgbWFzayByZW1vdmFsIGRvbmUgd2hpbGUgcmVhZGluZyB0aGUgY29kZSB3b3Jkcy4gVGhlIGJpdCBtYXRyaXggc2hvdWxkIHJldmVydCB0byBpdHMgb3JpZ2luYWwgc3RhdGUuCgkgICAgICovCgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZW1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybjsgLy8gV2UgaGF2ZSBubyBmb3JtYXQgaW5mb3JtYXRpb24sIGFuZCBoYXZlIG5vIGRhdGEgbWFzawoJICAgICAgICB9CgkgICAgICAgIHZhciBkYXRhTWFzayA9IERhdGFNYXNrXzEuZGVmYXVsdC52YWx1ZXNbdGhpcy5wYXJzZWRGb3JtYXRJbmZvLmdldERhdGFNYXNrKCldOwoJICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7CgkgICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFByZXBhcmUgdGhlIHBhcnNlciBmb3IgYSBtaXJyb3JlZCBvcGVyYXRpb24uCgkgICAgICogVGhpcyBmbGFnIGhhcyBlZmZlY3Qgb25seSBvbiB0aGUge0BsaW5rICNyZWFkRm9ybWF0SW5mb3JtYXRpb24oKX0gYW5kIHRoZQoJICAgICAqIHtAbGluayAjcmVhZFZlcnNpb24oKX0uIEJlZm9yZSBwcm9jZWVkaW5nIHdpdGgge0BsaW5rICNyZWFkQ29kZXdvcmRzKCl9IHRoZQoJICAgICAqIHtAbGluayAjbWlycm9yKCl9IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLgoJICAgICAqCgkgICAgICogQHBhcmFtIG1pcnJvciBXaGV0aGVyIHRvIHJlYWQgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm9ybWF0aW9uIG1pcnJvcmVkLgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gKGlzTWlycm9yKSB7CgkgICAgICAgIHRoaXMucGFyc2VkVmVyc2lvbiA9IG51bGw7CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IG51bGw7CgkgICAgICAgIHRoaXMuaXNNaXJyb3IgPSBpc01pcnJvcjsKCSAgICB9OwoJICAgIC8qKiBNaXJyb3IgdGhlIGJpdCBtYXRyaXggaW4gb3JkZXIgdG8gYXR0ZW1wdCBhIHNlY29uZCByZWFkaW5nLiAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUubWlycm9yID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgYml0TWF0cml4ID0gdGhpcy5iaXRNYXRyaXg7CgkgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IGJpdE1hdHJpeC5nZXRXaWR0aCgpOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgeSA9IHggKyAxLCBoZWlnaHQgPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7IHkgPCBoZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHgsIHkpICE9PSBiaXRNYXRyaXguZ2V0KHksIHgpKSB7CgkgICAgICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5mbGlwKHksIHgpOwoJICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7Cgl9KCkpOwoJQml0TWF0cml4UGFyc2VyJDEuZGVmYXVsdCA9IEJpdE1hdHJpeFBhcnNlcjsKCgl2YXIgRGF0YUJsb2NrJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUJsb2NrJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQxID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIGJsb2NrIG9mIGRhdGEgd2l0aGluIGEgUVIgQ29kZS4gUVIgQ29kZXMgbWF5IHNwbGl0IHRoZWlyIGRhdGEgaW50bwoJICogbXVsdGlwbGUgYmxvY2tzLCBlYWNoIG9mIHdoaWNoIGlzIGEgdW5pdCBvZiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3Jkcy4gRWFjaAoJICogaXMgcmVwcmVzZW50ZWQgYnkgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEYXRhQmxvY2sobnVtRGF0YUNvZGV3b3JkcyAvKmludCovLCBjb2Rld29yZHMpIHsKCSAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkczsKCSAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIDxwPldoZW4gUVIgQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFyZSBhY3R1YWxseSBpbnRlcmxlYXZlZC4KCSAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpcwoJICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBRUiBDb2RlCgkgICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgUVIgQ29kZQoJICAgICAqIEBwYXJhbSBlY0xldmVsIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWwgb2YgdGhlIFFSIENvZGUKCSAgICAgKiBAcmV0dXJuIERhdGFCbG9ja3MgY29udGFpbmluZyBvcmlnaW5hbCBieXRlcywgImRlLWludGVybGVhdmVkIiBmcm9tIHJlcHJlc2VudGF0aW9uIGluIHRoZQoJICAgICAqICAgICAgICAgUVIgQ29kZQoJICAgICAqLwoJICAgIERhdGFCbG9jay5nZXREYXRhQmxvY2tzID0gZnVuY3Rpb24gKHJhd0NvZGV3b3JkcywgdmVyc2lvbiwgZWNMZXZlbCkgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgaWYgKHJhd0NvZGV3b3Jkcy5sZW5ndGggIT09IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvbiBhbmQKCSAgICAgICAgLy8gZXJyb3IgY29ycmVjdGlvbiBsZXZlbAoJICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzRm9yTGV2ZWwoZWNMZXZlbCk7CgkgICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzJDMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKTsgIWVjQmxvY2tBcnJheV8xXzEuZG9uZTsgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbEJsb2NrcyArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2NrQXJyYXlfMV8xICYmICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNCbG9ja0FycmF5XzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2NrQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGVzdGFibGlzaCBEYXRhQmxvY2tzIG9mIHRoZSBhcHByb3ByaWF0ZSBzaXplIGFuZCBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0b3RhbEJsb2Nrcyk7CgkgICAgICAgIHZhciBudW1SZXN1bHRCbG9ja3MgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzIgPSBfX3ZhbHVlcyQzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzOwoJICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG4KCSAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuCgkgICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmUKCSAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkgewoJICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoOwoJICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7CgkgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07CgkgICAgICAgIH0KCSAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrOwoJICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlcgoJICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmUKCSAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzCgkgICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzCgkgICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxOwoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzOwoJICAgIH07CgkgICAgcmV0dXJuIERhdGFCbG9jazsKCX0oKSk7CglEYXRhQmxvY2skMS5kZWZhdWx0ID0gRGF0YUJsb2NrOwoKCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEgPSB7fTsKCgl2YXIgQml0U291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki8KCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIHByb3ZpZGVzIGFuIGVhc3kgYWJzdHJhY3Rpb24gdG8gcmVhZCBiaXRzIGF0IGEgdGltZSBmcm9tIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIHdoZXJlIHRoZQoJICogbnVtYmVyIG9mIGJpdHMgcmVhZCBpcyBub3Qgb2Z0ZW4gYSBtdWx0aXBsZSBvZiA4LjwvcD4KCSAqCgkgKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50IC0tIHVubGVzcyB0aGUgY2FsbGVyIG1vZGlmaWVzIHRoZSBieXRlcyBhcnJheQoJICogaXQgcGFzc2VkIGluLCBpbiB3aGljaCBjYXNlIGFsbCBiZXRzIGFyZSBvZmYuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBCaXRTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJ5dGVzIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyB3aWxsIHJlYWQgYml0cy4gQml0cyB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgZmlyc3QgYnl0ZSBmaXJzdC4KCSAgICAgKiBCaXRzIGFyZSByZWFkIHdpdGhpbiBhIGJ5dGUgZnJvbSBtb3N0LXNpZ25pZmljYW50IHRvIGxlYXN0LXNpZ25pZmljYW50IGJpdC4KCSAgICAgKi8KCSAgICBmdW5jdGlvbiBCaXRTb3VyY2UoYnl0ZXMpIHsKCSAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzOwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwoJICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBiaXQgaW4gY3VycmVudCBieXRlIHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRPZmZzZXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgYnl0ZSBpbiBpbnB1dCBieXRlIGFycmF5IHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBudW1CaXRzIG51bWJlciBvZiBiaXRzIHRvIHJlYWQKCSAgICAgKiBAcmV0dXJuIGludCByZXByZXNlbnRpbmcgdGhlIGJpdHMgcmVhZC4gVGhlIGJpdHMgd2lsbCBhcHBlYXIgYXMgdGhlIGxlYXN0LXNpZ25pZmljYW50CgkgICAgICogICAgICAgICBiaXRzIG9mIHRoZSBpbnQKCSAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBudW1CaXRzIGlzbid0IGluIFsxLDMyXSBvciBtb3JlIHRoYW4gaXMgYXZhaWxhYmxlCgkgICAgICovCgkgICAgQml0U291cmNlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uIChudW1CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPCAxIHx8IG51bUJpdHMgPiAzMiB8fCBudW1CaXRzID4gdGhpcy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoJycgKyBudW1CaXRzKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVzdWx0ID0gMDsKCSAgICAgICAgdmFyIGJpdE9mZnNldCA9IHRoaXMuYml0T2Zmc2V0OwoJICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldDsKCSAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlczsKCSAgICAgICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlCgkgICAgICAgIGlmIChiaXRPZmZzZXQgPiAwKSB7CgkgICAgICAgICAgICB2YXIgYml0c0xlZnQgPSA4IC0gYml0T2Zmc2V0OwoJICAgICAgICAgICAgdmFyIHRvUmVhZCA9IG51bUJpdHMgPCBiaXRzTGVmdCA/IG51bUJpdHMgOiBiaXRzTGVmdDsKCSAgICAgICAgICAgIHZhciBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7CgkgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+ICg4IC0gdG9SZWFkKSkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgIHJlc3VsdCA9IChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7CgkgICAgICAgICAgICBudW1CaXRzIC09IHRvUmVhZDsKCSAgICAgICAgICAgIGJpdE9mZnNldCArPSB0b1JlYWQ7CgkgICAgICAgICAgICBpZiAoYml0T2Zmc2V0ID09PSA4KSB7CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0ID0gMDsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTmV4dCByZWFkIHdob2xlIGJ5dGVzCgkgICAgICAgIGlmIChudW1CaXRzID4gMCkgewoJICAgICAgICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgOCkgfCAoYnl0ZXNbYnl0ZU9mZnNldF0gJiAweEZGKTsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICAgICAgbnVtQml0cyAtPSA4OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gRmluYWxseSByZWFkIGEgcGFydGlhbCBieXRlCgkgICAgICAgICAgICBpZiAobnVtQml0cyA+IDApIHsKCSAgICAgICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IDggLSBudW1CaXRzOwoJICAgICAgICAgICAgICAgIHZhciBtYXNrID0gKDB4RkYgPj4gYml0c1RvTm90UmVhZCkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQpOwoJICAgICAgICAgICAgICAgIGJpdE9mZnNldCArPSBudW1CaXRzOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gYml0T2Zmc2V0OwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0OwoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBiZSByZWFkIHN1Y2Nlc3NmdWxseQoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDsKCSAgICB9OwoJICAgIHJldHVybiBCaXRTb3VyY2U7Cgl9KCkpOwoJQml0U291cmNlJDEuZGVmYXVsdCA9IEJpdFNvdXJjZTsKCgl2YXIgRGVjb2RlclJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVyUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBtYXRyaXggb2YgYml0cy4gVGhpcyB0eXBpY2FsbHkKCSAqIGFwcGxpZXMgdG8gMkQgYmFyY29kZSBmb3JtYXRzLiBGb3Igbm93IGl0IGNvbnRhaW5zIHRoZSByYXcgYnl0ZXMgb2J0YWluZWQsCgkgKiBhcyB3ZWxsIGFzIGEgU3RyaW5nIGludGVycHJldGF0aW9uIG9mIHRob3NlIGJ5dGVzLCBpZiBhcHBsaWNhYmxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocmF3Qnl0ZXM6IFVpbnQ4QXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIExpc3Q8VWludDhBcnJheT4gYnl0ZVNlZ21lbnRzLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlY0xldmVsKSB7CgkgICAgLy8gICB0aGlzKHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIC0xLCAtMSkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRGVjb2RlclJlc3VsdChyYXdCeXRlcywgdGV4dCwgYnl0ZVNlZ21lbnRzLCBlY0xldmVsLCBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIsIHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkpIHsKCSAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9PT0gdm9pZCAwKSB7IHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9IC0xOyB9CgkgICAgICAgIGlmIChzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IC0xOyB9CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDsKCSAgICAgICAgdGhpcy5ieXRlU2VnbWVudHMgPSBieXRlU2VnbWVudHM7CgkgICAgICAgIHRoaXMuZWNMZXZlbCA9IGVjTGV2ZWw7CgkgICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyOwoJICAgICAgICB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCB8fCByYXdCeXRlcyA9PT0gbnVsbCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiByYXcgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZQoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldE51bUJpdHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bUJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gbnVtQml0cyBvdmVycmlkZXMgdGhlIG51bWJlciBvZiBiaXRzIHRoYXQgYXJlIHZhbGlkIGluIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0KCSAgICAgKiBAc2luY2UgMy4zLjAKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXROdW1CaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLm51bUJpdHMgPSBudW1CaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZXN1bHQKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50ZXh0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBsaXN0IG9mIGJ5dGUgc2VnbWVudHMgaW4gdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0Qnl0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5ieXRlU2VnbWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZXJyb3IgY29ycmVjdGlvbiBsZXZlbCB1c2VkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJyb3JzIGNvcnJlY3RlZCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0RXJyb3JzQ29ycmVjdGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNDb3JyZWN0ZWQ7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JzQ29ycmVjdGVkIC8qSW50ZWdlciovKSB7CgkgICAgICAgIHRoaXMuZXJyb3JzQ29ycmVjdGVkID0gZXJyb3JzQ29ycmVjdGVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJhc3VyZXMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcmFzdXJlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJhc3VyZXM7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcmFzdXJlcyA9IGZ1bmN0aW9uIChlcmFzdXJlcyAvKkludGVnZXIqLykgewoJICAgICAgICB0aGlzLmVyYXN1cmVzID0gZXJhc3VyZXM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGFyYml0cmFyeSBhZGRpdGlvbmFsIG1ldGFkYXRhCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0T3RoZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuc2V0T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdGhpcy5vdGhlciA9IG90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuaGFzU3RydWN0dXJlZEFwcGVuZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA+PSAwICYmIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID49IDA7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlclJlc3VsdDsKCX0oKSk7CglEZWNvZGVyUmVzdWx0JDEuZGVmYXVsdCA9IERlY29kZXJSZXN1bHQ7CgoJdmFyIE1vZGUgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5Nb2RlVmFsdWVzID0gdm9pZCAwOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgTW9kZVZhbHVlczsKCShmdW5jdGlvbiAoTW9kZVZhbHVlcykgewoJICAgIE1vZGVWYWx1ZXNbTW9kZVZhbHVlc1siVEVSTUlOQVRPUiJdID0gMF0gPSAiVEVSTUlOQVRPUiI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJOVU1FUklDIl0gPSAxXSA9ICJOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkFMUEhBTlVNRVJJQyJdID0gMl0gPSAiQUxQSEFOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIlNUUlVDVFVSRURfQVBQRU5EIl0gPSAzXSA9ICJTVFJVQ1RVUkVEX0FQUEVORCI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJCWVRFIl0gPSA0XSA9ICJCWVRFIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkVDSSJdID0gNV0gPSAiRUNJIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIktBTkpJIl0gPSA2XSA9ICJLQU5KSSI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJGTkMxX0ZJUlNUX1BPU0lUSU9OIl0gPSA3XSA9ICJGTkMxX0ZJUlNUX1BPU0lUSU9OIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkZOQzFfU0VDT05EX1BPU0lUSU9OIl0gPSA4XSA9ICJGTkMxX1NFQ09ORF9QT1NJVElPTiI7CgkgICAgLyoqIFNlZSBHQlQgMTgyODQtMjAwMDsgIkhhbnppIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi8KCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkhBTlpJIl0gPSA5XSA9ICJIQU5aSSI7Cgl9KShNb2RlVmFsdWVzID0gZXhwb3J0cy5Nb2RlVmFsdWVzIHx8IChleHBvcnRzLk1vZGVWYWx1ZXMgPSB7fSkpOwoJLyoqCgkgKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC4xLCBUYWJsZXMgMiBhbmQgMy4gVGhpcyBlbnVtIGVuY2Fwc3VsYXRlcyB0aGUgdmFyaW91cyBtb2RlcyBpbiB3aGljaAoJICogZGF0YSBjYW4gYmUgZW5jb2RlZCB0byBiaXRzIGluIHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgTW9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBNb2RlKHZhbHVlLCBzdHJpbmdWYWx1ZSwgY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnMsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucyA9IGNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zOwoJICAgICAgICB0aGlzLmJpdHMgPSBiaXRzOwoJICAgICAgICBNb2RlLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTsKCSAgICAgICAgTW9kZS5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgZm91ciBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSBkYXRhIG1vZGUKCSAgICAgKiBAcmV0dXJuIE1vZGUgZW5jb2RlZCBieSB0aGVzZSBiaXRzCgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYml0cyBkbyBub3QgY29ycmVzcG9uZCB0byBhIGtub3duIG1vZGUKCSAgICAgKi8KCSAgICBNb2RlLmZvckJpdHMgPSBmdW5jdGlvbiAoYml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBtb2RlID0gTW9kZS5GT1JfQklUUy5nZXQoYml0cyk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1vZGUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1vZGU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIGluIHF1ZXN0aW9uCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB1c2VkLCBpbiB0aGlzIFFSIENvZGUgc3ltYm9sIHtAbGluayBWZXJzaW9ufSwgdG8gZW5jb2RlIHRoZQoJICAgICAqICAgICAgICAgY291bnQgb2YgY2hhcmFjdGVycyB0aGF0IHdpbGwgZm9sbG93IGVuY29kZWQgaW4gdGhpcyBNb2RlCgkgICAgICovCgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKTsKCSAgICAgICAgdmFyIG9mZnNldDsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPD0gOSkgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDI2KSB7CgkgICAgICAgICAgICBvZmZzZXQgPSAxOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9uc1tvZmZzZXRdOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBNb2RlKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIE1vZGUuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5URVJNSU5BVE9SID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5URVJNSU5BVE9SLCAnVEVSTUlOQVRPUicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAwKTsgLy8gTm90IHJlYWxseSBhIG1vZGUuLi4KCSAgICBNb2RlLk5VTUVSSUMgPSBuZXcgTW9kZShNb2RlVmFsdWVzLk5VTUVSSUMsICdOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFsxMCwgMTIsIDE0XSksIDB4MDEpOwoJICAgIE1vZGUuQUxQSEFOVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5BTFBIQU5VTUVSSUMsICdBTFBIQU5VTUVSSUMnLCBJbnQzMkFycmF5LmZyb20oWzksIDExLCAxM10pLCAweDAyKTsKCSAgICBNb2RlLlNUUlVDVFVSRURfQVBQRU5EID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5TVFJVQ1RVUkVEX0FQUEVORCwgJ1NUUlVDVFVSRURfQVBQRU5EJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDMpOyAvLyBOb3Qgc3VwcG9ydGVkCgkgICAgTW9kZS5CWVRFID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5CWVRFLCAnQllURScsIEludDMyQXJyYXkuZnJvbShbOCwgMTYsIDE2XSksIDB4MDQpOwoJICAgIE1vZGUuRUNJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5FQ0ksICdFQ0knLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNyk7IC8vIGNoYXJhY3RlciBjb3VudHMgZG9uJ3QgYXBwbHkKCSAgICBNb2RlLktBTkpJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5LQU5KSSwgJ0tBTkpJJywgSW50MzJBcnJheS5mcm9tKFs4LCAxMCwgMTJdKSwgMHgwOCk7CgkgICAgTW9kZS5GTkMxX0ZJUlNUX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX0ZJUlNUX1BPU0lUSU9OLCAnRk5DMV9GSVJTVF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA1KTsKCSAgICBNb2RlLkZOQzFfU0VDT05EX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX1NFQ09ORF9QT1NJVElPTiwgJ0ZOQzFfU0VDT05EX1BPU0lUSU9OJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDkpOwoJICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7ICJIYW56aSIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovCgkgICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpOwoJICAgIHJldHVybiBNb2RlOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IE1vZGU7CgoJfShNb2RlKSk7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovCgl2YXIgQml0U291cmNlXzEgPSBCaXRTb3VyY2UkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSA9IENoYXJhY3RlclNldEVDSTsKCXZhciBEZWNvZGVyUmVzdWx0XzEgPSBEZWNvZGVyUmVzdWx0JDE7Cgl2YXIgU3RyaW5nVXRpbHNfMSA9IFN0cmluZ1V0aWxzJDE7Cgl2YXIgRm9ybWF0RXhjZXB0aW9uXzEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBTdHJpbmdCdWlsZGVyXzEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgU3RyaW5nRW5jb2RpbmdfMSA9IFN0cmluZ0VuY29kaW5nJDE7Cgl2YXIgTW9kZV8xID0gTW9kZTsKCS8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2RlcwoJICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+CgkgKgoJICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7CgkgICAgfQoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykgewoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2VfMS5kZWZhdWx0KGJ5dGVzKTsKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyXzEuZGVmYXVsdCgpOwoJICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7IC8vIDEKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IEkgZG8gbm90IHVzZSBjb25zdHJ1Y3RvciB3aXRoIHNpemUgMSBhcyBpbiBvcmlnaW5hbCBKYXZhIG1lYW5zIGNhcGFjaXR5IGFuZCB0aGUgYXJyYXkgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3cKCSAgICAgICAgdmFyIHN5bWJvbFNlcXVlbmNlID0gLTE7CgkgICAgICAgIHZhciBwYXJpdHlEYXRhID0gLTE7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICB2YXIgY3VycmVudENoYXJhY3RlclNldEVDSSA9IG51bGw7CgkgICAgICAgICAgICB2YXIgZmMxSW5FZmZlY3QgPSBmYWxzZTsKCSAgICAgICAgICAgIHZhciBtb2RlID0gdm9pZCAwOwoJICAgICAgICAgICAgZG8gewoJICAgICAgICAgICAgICAgIC8vIFdoaWxlIHN0aWxsIGFub3RoZXIgc2VnbWVudCB0byByZWFkLi4uCgkgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE9LLCBhc3N1bWUgd2UncmUgZG9uZS4gUmVhbGx5LCBhIFRFUk1JTkFUT1IgbW9kZSBzaG91bGQgaGF2ZSBiZWVuIHJlY29yZGVkIGhlcmUKCSAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1vZGVfMS5kZWZhdWx0LlRFUk1JTkFUT1I7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpOwoJICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZV8xLmRlZmF1bHQuZm9yQml0cyhtb2RlQml0cyk7IC8vIG1vZGUgaXMgZW5jb2RlZCBieSA0IGJpdHMKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUjoKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkZOQzFfRklSU1RfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuRk5DMV9TRUNPTkRfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBsaXR0bGUgd2l0aCBGTkMxIGV4Y2VwdCBhbHRlciB0aGUgcGFyc2VkIHJlc3VsdCBhIGJpdCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMKCSAgICAgICAgICAgICAgICAgICAgICAgIGZjMUluRWZmZWN0ID0gdHJ1ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LlNUUlVDVFVSRURfQVBQRU5EOgoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxNikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZQoJICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5FQ0k6CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBkb2Vzbid0IGFwcGx5IHRvIEVDSQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlKGJpdHMpOwoJICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXJhY3RlclNldEVDSSA9IENoYXJhY3RlclNldEVDSV8xLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZSh2YWx1ZSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5IQU5aSToKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGhhbmRsZSBIYW56aSBtb2RlIHdoaWNoIGRvZXMgbm90IHN0YXJ0IHdpdGggY2hhcmFjdGVyIGNvdW50CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGluZXNlIG1vZGUgY29udGFpbnMgYSBzdWIgc2V0IGluZGljYXRvciByaWdodCBhZnRlciBtb2RlIGluZGljYXRvcgoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNldCA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRIYW56aSA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNldCA9PT0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudEhhbnppKTsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gIk5vcm1hbCIgUVIgY29kZSBtb2RlczoKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgd2lsbCBmb2xsb3csIGVuY29kZWQgaW4gdGhpcyBtb2RlPwoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0Lk5VTUVSSUM6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuQUxQSEFOVU1FUklDOgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgZmMxSW5FZmZlY3QpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkJZVEU6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgY3VycmVudENoYXJhY3RlclNldEVDSSwgYnl0ZVNlZ21lbnRzLCBoaW50cyk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuS0FOSkk6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSB3aGlsZSAobW9kZSAhPT0gTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUik7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlhZSAvKjogSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIGZyb20gcmVhZEJpdHMoKSBjYWxscwoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHRfMS5kZWZhdWx0KGJ5dGVzLCByZXN1bHQudG9TdHJpbmcoKSwgYnl0ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBieXRlU2VnbWVudHMsIGVjTGV2ZWwgPT09IG51bGwgPyBudWxsIDogZWNMZXZlbC50b1N0cmluZygpLCBzeW1ib2xTZXF1ZW5jZSwgcGFyaXR5RGF0YSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZWUgc3BlY2lmaWNhdGlvbiBHQlQgMTgyODQtMjAwMAoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlSGFuemlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykgewoJICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS4KCSAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhY2ggY2hhcmFjdGVyIHdpbGwgcmVxdWlyZSAyIGJ5dGVzLiBSZWFkIHRoZSBjaGFyYWN0ZXJzIGFzIDItYnl0ZSBwYWlycwoJICAgICAgICAvLyBhbmQgZGVjb2RlIGFzIEdCMjMxMiBhZnRlcndhcmRzCgkgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheSgyICogY291bnQpOwoJICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCSAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkgewoJICAgICAgICAgICAgLy8gRWFjaCAxMyBiaXRzIGVuY29kZXMgYSAyLWJ5dGUgY2hhcmFjdGVyCgkgICAgICAgICAgICB2YXIgdHdvQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDEzKTsKCSAgICAgICAgICAgIHZhciBhc3NlbWJsZWRUd29CeXRlcyA9ICgoKHR3b0J5dGVzIC8gMHgwNjApIDw8IDgpICYgMHhGRkZGRkZGRikgfCAodHdvQnl0ZXMgJSAweDA2MCk7CgkgICAgICAgICAgICBpZiAoYXNzZW1ibGVkVHdvQnl0ZXMgPCAweDAwM0JGKSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QTFBMSB0byAweEFBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBMUExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QjBBMSB0byAweEZBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBNkExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYnVmZmVyW29mZnNldF0gPSAvKihieXRlKSAqLyAoKGFzc2VtYmxlZFR3b0J5dGVzID4+IDgpICYgMHhGRik7CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAvKihieXRlKSAqLyAoYXNzZW1ibGVkVHdvQnl0ZXMgJiAweEZGKTsKCSAgICAgICAgICAgIG9mZnNldCArPSAyOwoJICAgICAgICAgICAgY291bnQtLTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHNfMS5kZWZhdWx0LkdCMjMxMikpOwoJICAgICAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IFRPRE86IGltcGxlbWVudCBHQjIzMTIgZGVjb2RlLiBTdHJpbmdWaWV3IGZyb20gTUROIGNvdWxkIGJlIGEgc3RhcnRpbmcgcG9pbnQKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVLYW5qaVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzCgkgICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHMKCSAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7CgkgICAgICAgIHZhciBvZmZzZXQgPSAwOwoJICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXIKCSAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpOwoJICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTsKCSAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTsKCSAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzOwoJICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CgkgICAgICAgICAgICBjb3VudC0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmdfMS5kZWZhdWx0LmRlY29kZShidWZmZXIsIFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5TSElGVF9KSVMpKTsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiBpbXBsZW1lbnQgU0hJRlRfSklTIGRlY29kZS4gU3RyaW5nVmlldyBmcm9tIE1ETiBjb3VsZCBiZSBhIHN0YXJ0aW5nIHBvaW50CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoaWdub3JlZCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVhZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY291bnQpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCSAgICAgICAgICAgIHJlYWRCeXRlc1tpXSA9IC8qKGJ5dGUpICovIGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVuY29kaW5nOwoJICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgLy8gVGhlIHNwZWMgaXNuJ3QgY2xlYXIgb24gdGhpcyBtb2RlOyBzZWUKCSAgICAgICAgICAgIC8vIHNlY3Rpb24gNi40LjU6IHQgZG9lcyBub3Qgc2F5IHdoaWNoIGVuY29kaW5nIHRvIGFzc3VtaW5nCgkgICAgICAgICAgICAvLyB1cG9uIGRlY29kaW5nLiBJIGhhdmUgc2VlbiBJU08tODg1OS0xIHVzZWQgYXMgd2VsbCBhcwoJICAgICAgICAgICAgLy8gU2hpZnRfSklTIC0tIHdpdGhvdXQgYW55dGhpbmcgbGlrZSBhbiBFQ0kgZGVzaWduYXRvciB0bwoJICAgICAgICAgICAgLy8gZ2l2ZSBhIGhpbnQuCgkgICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5ndWVzc0VuY29kaW5nKHJlYWRCeXRlcywgaGludHMpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgZW5jb2RpbmcgPSBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLmdldE5hbWUoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgICAgICBieXRlU2VnbWVudHMucHVzaChyZWFkQnl0ZXMpOwoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPj0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlMubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSU1t2YWx1ZV07CgkgICAgfTsKCSAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBmYzFJbkVmZmVjdCkgewoJICAgICAgICAvLyBSZWFkIHR3byBjaGFyYWN0ZXJzIGF0IGEgdGltZQoJICAgICAgICB2YXIgc3RhcnQgPSByZXN1bHQubGVuZ3RoKCk7CgkgICAgICAgIHdoaWxlIChjb3VudCA+IDEpIHsKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTEpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpOwoJICAgICAgICAgICAgY291bnQgLT0gMjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY291bnQgPT09IDEpIHsKCSAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0CgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihiaXRzLnJlYWRCaXRzKDYpKSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gU2VlIHNlY3Rpb24gNi40LjguMSwgNi40LjguMgoJICAgICAgICBpZiAoZmMxSW5FZmZlY3QpIHsKCSAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFzc2FnZSB0aGUgcmVzdWx0IGEgYml0IGlmIGluIGFuIEZOQzEgbW9kZToKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IHJlc3VsdC5sZW5ndGgoKTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFyQXQoaSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlc3VsdC5sZW5ndGgoKSAtIDEgJiYgcmVzdWx0LmNoYXJBdChpICsgMSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gJSUgaXMgcmVuZGVyZWQgYXMgJQoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlbGV0ZUNoYXJBdChpICsgMSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbHBoYSBtb2RlLCAlIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gRk5DMSBzZXBhcmF0b3IgMHgxRAoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldENoYXJBdChpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MUQpKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVOdW1lcmljU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgLy8gUmVhZCB0aHJlZSBkaWdpdHMgYXQgYSB0aW1lCgkgICAgICAgIHdoaWxlIChjb3VudCA+PSAzKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEwIGJpdHMgZW5jb2RlcyB0aHJlZSBkaWdpdHMKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTApIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIHRocmVlRGlnaXRzQml0cyA9IGJpdHMucmVhZEJpdHMoMTApOwoJICAgICAgICAgICAgaWYgKHRocmVlRGlnaXRzQml0cyA+PSAxMDAwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgICAgIGNvdW50IC09IDM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7CgkgICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0cwoJICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciB0d29EaWdpdHNCaXRzID0gYml0cy5yZWFkQml0cyg3KTsKCSAgICAgICAgICAgIGlmICh0d29EaWdpdHNCaXRzID49IDEwMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodHdvRGlnaXRzQml0cyAvIDEwKSkpOwoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcih0d29EaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkgewoJICAgICAgICAgICAgLy8gT25lIGRpZ2l0IGxlZnQgb3ZlciB0byByZWFkCgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoZGlnaXRCaXRzKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIucGFyc2VFQ0lWYWx1ZSA9IGZ1bmN0aW9uIChiaXRzKSB7CgkgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4ODApID09PSAwKSB7CgkgICAgICAgICAgICAvLyBqdXN0IG9uZSBieXRlCgkgICAgICAgICAgICByZXR1cm4gZmlyc3RCeXRlICYgMHg3RjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICAvLyB0d28gYnl0ZXMKCSAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gYml0cy5yZWFkQml0cyg4KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDNGKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kQnl0ZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4RTApID09PSAweEMwKSB7CgkgICAgICAgICAgICAvLyB0aHJlZSBieXRlcwoJICAgICAgICAgICAgdmFyIHNlY29uZFRoaXJkQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDE2KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDFGKSA8PCAxNikgJiAweEZGRkZGRkZGKSB8IHNlY29uZFRoaXJkQnl0ZXM7CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjQgVGFibGUgNQoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUxQSEFOVU1FUklDX0NIQVJTID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiAkJSorLS4vOic7CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUID0gMTsKCSAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjsKCX0oKSk7CglEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEuZGVmYXVsdCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXI7CgoJdmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRUkNvZGVEZWNvZGVyTWV0YURhdGEkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiBNZXRhLWRhdGEgY29udGFpbmVyIGZvciBRUiBDb2RlIGRlY29kaW5nLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBtYXkgYmUgdXNlZCB0byBjb252ZXkgaW5mb3JtYXRpb24gYmFjayB0byB0aGUKCSAqIGRlY29kaW5nIGNhbGxlci4gQ2FsbGVycyBhcmUgZXhwZWN0ZWQgdG8gcHJvY2VzcyB0aGlzLgoJICoKCSAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24uRGVjb2RlclJlc3VsdCNnZXRPdGhlcigpCgkgKi8KCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUVJDb2RlRGVjb2Rlck1ldGFEYXRhKG1pcnJvcmVkKSB7CgkgICAgICAgIHRoaXMubWlycm9yZWQgPSBtaXJyb3JlZDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBRUiBDb2RlIHdhcyBtaXJyb3JlZC4KCSAgICAgKi8KCSAgICBRUkNvZGVEZWNvZGVyTWV0YURhdGEucHJvdG90eXBlLmlzTWlycm9yZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm1pcnJvcmVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbHkgdGhlIHJlc3VsdCBwb2ludHMnIG9yZGVyIGNvcnJlY3Rpb24gZHVlIHRvIG1pcnJvcmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzIHRvIGFwcGx5IG1pcnJvciBjb3JyZWN0aW9uIHRvLgoJICAgICAqLwoJICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAocG9pbnRzKSB7CgkgICAgICAgIGlmICghdGhpcy5taXJyb3JlZCB8fCBwb2ludHMgPT09IG51bGwgfHwgcG9pbnRzLmxlbmd0aCA8IDMpIHsKCSAgICAgICAgICAgIHJldHVybjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1swXTsKCSAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzJdOwoJICAgICAgICBwb2ludHNbMl0gPSBib3R0b21MZWZ0OwoJICAgICAgICAvLyBObyBuZWVkIHRvICdmaXgnIHRvcC1sZWZ0IGFuZCBhbGlnbm1lbnQgcGF0dGVybi4KCSAgICB9OwoJICAgIHJldHVybiBRUkNvZGVEZWNvZGVyTWV0YURhdGE7Cgl9KCkpOwoJUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDEuZGVmYXVsdCA9IFFSQ29kZURlY29kZXJNZXRhRGF0YTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjb2RlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqLwoJdmFyIENoZWNrc3VtRXhjZXB0aW9uXzEgPSBDaGVja3N1bUV4Y2VwdGlvbiQxOwoJdmFyIEJpdE1hdHJpeF8xJDIgPSBCaXRNYXRyaXgkMTsKCXZhciBHZW5lcmljR0ZfMSA9IEdlbmVyaWNHRiQxOwoJdmFyIFJlZWRTb2xvbW9uRGVjb2Rlcl8xID0gUmVlZFNvbG9tb25EZWNvZGVyJDE7Cgl2YXIgQml0TWF0cml4UGFyc2VyXzEgPSBCaXRNYXRyaXhQYXJzZXIkMTsKCXZhciBEYXRhQmxvY2tfMSA9IERhdGFCbG9jayQxOwoJdmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXJfMSA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxID0gUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nCgkgKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEZWNvZGVyKCkgewoJICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXJfMS5kZWZhdWx0KEdlbmVyaWNHRl8xLmRlZmF1bHQuUVJfQ09ERV9GSUVMRF8yNTYpOwoJICAgIH0KCSAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBib29sZWFuW11bXSk6IERlY29kZXJSZXN1bHQgLyp0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGNhbiBkZWNvZGUgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEgMkQgYXJyYXkgb2YgYm9vbGVhbnMuCgkgICAgICogInRydWUiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXMKCSAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmcKCSAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWQKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXhfMSQyLmRlZmF1bHQucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpOwoJICAgIH07CgkgICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7CgkgICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciAidHJ1ZSIgaXMgdGFrZW4gdG8gbWVhbiBhIGJsYWNrIG1vZHVsZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0cyBib29sZWFucyByZXByZXNlbnRpbmcgd2hpdGUvYmxhY2sgUVIgQ29kZSBtb2R1bGVzCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kaW5nIGhpbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gaW5mbHVlbmNlIGRlY29kaW5nCgkgICAgICogQHJldHVybiB0ZXh0IGFuZCBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIENvbnN0cnVjdCBhIHBhcnNlciBhbmQgcmVhZCB2ZXJzaW9uLCBlcnJvci1jb3JyZWN0aW9uIGxldmVsCgkgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgQml0TWF0cml4UGFyc2VyXzEuZGVmYXVsdChiaXRzKTsKCSAgICAgICAgdmFyIGV4ID0gbnVsbDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKjogRm9ybWF0RXhjZXB0aW9uLCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICBleCA9IGU7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIC8vIFJldmVydCB0aGUgYml0IG1hdHJpeAoJICAgICAgICAgICAgcGFyc2VyLnJlbWFzaygpOwoJICAgICAgICAgICAgLy8gV2lsbCBiZSBhdHRlbXB0aW5nIGEgbWlycm9yZWQgcmVhZGluZyBvZiB0aGUgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm8uCgkgICAgICAgICAgICBwYXJzZXIuc2V0TWlycm9yKHRydWUpOwoJICAgICAgICAgICAgLy8gUHJlZW1wdGl2ZWx5IHJlYWQgdGhlIHZlcnNpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSBmb3JtYXQgaW5mb3JtYXRpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCk7CgkgICAgICAgICAgICAvKgoJICAgICAgICAgICAgICogU2luY2Ugd2UncmUgaGVyZSwgdGhpcyBtZWFucyB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBkZXRlY3RlZCBzb21lIGtpbmQKCSAgICAgICAgICAgICAqIG9mIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiB3aGVuIG1pcnJvcmVkLiBUaGlzIGlzIGEgZ29vZCBzaWduLAoJICAgICAgICAgICAgICogdGhhdCB0aGUgUVIgY29kZSBtYXkgYmUgbWlycm9yZWQsIGFuZCB3ZSBzaG91bGQgdHJ5IG9uY2UgbW9yZSB3aXRoIGEKCSAgICAgICAgICAgICAqIG1pcnJvcmVkIGNvbnRlbnQuCgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIFByZXBhcmUgZm9yIGEgbWlycm9yZWQgcmVhZGluZy4KCSAgICAgICAgICAgIHBhcnNlci5taXJyb3IoKTsKCSAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgICAgIC8vIFN1Y2Nlc3MhIE5vdGlmeSB0aGUgY2FsbGVyIHRoYXQgdGhlIGNvZGUgd2FzIG1pcnJvcmVkLgoJICAgICAgICAgICAgcmVzdWx0LnNldE90aGVyKG5ldyBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxLmRlZmF1bHQodHJ1ZSkpOwoJICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKkZvcm1hdEV4Y2VwdGlvbiB8IENoZWNrc3VtRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIFRocm93IHRoZSBleGNlcHRpb24gZnJvbSB0aGUgb3JpZ2luYWwgcmVhZGluZwoJICAgICAgICAgICAgaWYgKGV4ICE9PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgZXg7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0aHJvdyBlOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXhQYXJzZXIgPSBmdW5jdGlvbiAocGFyc2VyLCBoaW50cykgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCkuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKTsKCSAgICAgICAgLy8gUmVhZCBjb2Rld29yZHMKCSAgICAgICAgdmFyIGNvZGV3b3JkcyA9IHBhcnNlci5yZWFkQ29kZXdvcmRzKCk7CgkgICAgICAgIC8vIFNlcGFyYXRlIGludG8gZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIGRhdGFCbG9ja3MgPSBEYXRhQmxvY2tfMS5kZWZhdWx0LmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTsKCSAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXMKCSAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMkMihkYXRhQmxvY2tzKSwgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpOyAhZGF0YUJsb2Nrc18xXzEuZG9uZTsgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRhdGFCbG9jayA9IGRhdGFCbG9ja3NfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXMgKz0gZGF0YUJsb2NrLmdldE51bURhdGFDb2Rld29yZHMoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7CgkgICAgICAgIHZhciByZXN1bHRPZmZzZXQgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzCgkgICAgICAgICAgICBmb3IgKHZhciBkYXRhQmxvY2tzXzIgPSBfX3ZhbHVlcyQyKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCk7ICFkYXRhQmxvY2tzXzJfMS5kb25lOyBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZGF0YUJsb2NrID0gZGF0YUJsb2Nrc18yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7CgkgICAgICAgICAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSBkYXRhQmxvY2suZ2V0TnVtRGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdEVycm9ycyhjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzKTsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tyZXN1bHRPZmZzZXQrK10gPSBjb2Rld29yZEJ5dGVzW2ldOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMl8xICYmICFkYXRhQmxvY2tzXzJfMS5kb25lICYmIChfYiA9IGRhdGFCbG9ja3NfMi5yZXR1cm4pKSBfYi5jYWxsKGRhdGFCbG9ja3NfMik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRGVjb2RlIHRoZSBjb250ZW50cyBvZiB0aGF0IHN0cmVhbSBvZiBieXRlcwoJICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcl8xLmRlZmF1bHQuZGVjb2RlKHJlc3VsdEJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG8KCSAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UgdXNpbmcgUmVlZC1Tb2xvbW9uIGVycm9yIGNvcnJlY3Rpb24uPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGNvZGV3b3JkQnl0ZXMgZGF0YSBhbmQgZXJyb3IgY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgKiBAcGFyYW0gbnVtRGF0YUNvZGV3b3JkcyBudW1iZXIgb2YgY29kZXdvcmRzIHRoYXQgYXJlIGRhdGEgYnl0ZXMKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5jb3JyZWN0RXJyb3JzID0gZnVuY3Rpb24gKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMgLyppbnQqLykgewoJICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDsKCSAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHMKCSAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG5vdCByZWFseSBuZWNlc3NhcnkgdG8gdHJhbnNmb3JtIHRvIGludHM/IGNvdWxkIHJlZGVzaWduIGV2ZXJ5dGhpbmcgdG8gd29yayB3aXRoIHVuc2lnbmVkIGJ5dGVzPwoJICAgICAgICAvLyBjb25zdCBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKQoJICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNvZGV3b3JkczsgaSsrKSB7CgkgICAgICAgIC8vICAgY29kZXdvcmRzSW50c1tpXSA9IGNvZGV3b3JkQnl0ZXNbaV0gJiAweEZGCgkgICAgICAgIC8vIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHRoaXMucnNEZWNvZGVyLmRlY29kZShjb2Rld29yZHNJbnRzLCBjb2Rld29yZEJ5dGVzLmxlbmd0aCAtIG51bURhdGFDb2Rld29yZHMpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBSZWVkU29sb21vbkV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YQoJICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHsKCSAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldOwoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlcjsKCX0oKSk7CglEZWNvZGVyJDEuZGVmYXVsdCA9IERlY29kZXI7CgoJdmFyIERldGVjdG9yJDEgPSB7fTsKCgl2YXIgTWF0aFV0aWxzJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGhVdGlscyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki8KCS8qKgoJICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuCgkgKi8KCXZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHMKCSAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dAoJICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZQoJICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmQKCSAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH0KCSAgICAgKi8KCSAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE5hTiA9PT0gZCkKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikKCSAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjsKCSAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpCgkgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwOwoJICAgIH07CgkgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzCgkgICAgLyoqCgkgICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlCgkgICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQgoJICAgICAqLwoJICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7CgkgICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7CgkgICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7CgkgICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZQoJICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEIKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHsKCSAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWAoJICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZCgkgICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpOwoJICAgIC8vIH0KCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bQoJICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheQoJICAgICAqLwoJICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHsKCSAgICAgICAgdmFyIGNvdW50ID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldOwoJICAgICAgICAgICAgY291bnQgKz0gYTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY291bnQ7CgkgICAgfTsKCSAgICByZXR1cm4gTWF0aFV0aWxzOwoJfSgpKTsKCU1hdGhVdGlscyQxLmRlZmF1bHQgPSBNYXRoVXRpbHM7CgoJdmFyIERldGVjdG9yUmVzdWx0JDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERldGVjdG9yUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGV0ZWN0aW5nIGEgYmFyY29kZSBpbiBhbiBpbWFnZS4gVGhpcyBpbmNsdWRlcyB0aGUgcmF3CgkgKiBtYXRyaXggb2YgYmxhY2svd2hpdGUgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJhcmNvZGUsIGFuZCBwb3NzaWJseSBwb2ludHMgb2YgaW50ZXJlc3QKCSAqIGluIHRoZSBpbWFnZSwgbGlrZSB0aGUgbG9jYXRpb24gb2YgZmluZGVyIHBhdHRlcm5zIG9yIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGV0ZWN0b3JSZXN1bHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKSB7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwoJICAgIH0KCSAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIERldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnBvaW50czsKCSAgICB9OwoJICAgIHJldHVybiBEZXRlY3RvclJlc3VsdDsKCX0oKSk7CglEZXRlY3RvclJlc3VsdCQxLmRlZmF1bHQgPSBEZXRlY3RvclJlc3VsdDsKCgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSQxID0ge307CgoJdmFyIERlZmF1bHRHcmlkU2FtcGxlciQxID0ge307CgoJdmFyIEdyaWRTYW1wbGVyJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDUgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBJbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBjbGFzcyBjYW4sIGdpdmVuIGxvY2F0aW9ucyBvZiBmaW5kZXIgcGF0dGVybnMgZm9yIGEgUVIgY29kZSBpbiBhbgoJICogaW1hZ2UsIHNhbXBsZSB0aGUgcmlnaHQgcG9pbnRzIGluIHRoZSBpbWFnZSB0byByZWNvbnN0cnVjdCB0aGUgUVIgY29kZSwgYWNjb3VudGluZyBmb3IKCSAqIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIEl0IGlzIGFic3RyYWN0ZWQgc2luY2UgaXQgaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgYW5kIHNob3VsZCBiZSBhbGxvd2VkCgkgKiB0byB0YWtlIGFkdmFudGFnZSBvZiBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb25zLCBsaWtlIFN1bidzIEphdmEgQWR2YW5jZWQKCSAqIEltYWdpbmcgbGlicmFyeSwgYnV0IHdoaWNoIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIG90aGVyIGVudmlyb25tZW50cyBzdWNoIGFzIEoyTUUsIGFuZCB2aWNlCgkgKiB2ZXJzYS4KCSAqCgkgKiBUaGUgaW1wbGVtZW50YXRpb24gdXNlZCBjYW4gYmUgY29udHJvbGxlZCBieSBjYWxsaW5nIHtAbGluayAjc2V0R3JpZFNhbXBsZXIoR3JpZFNhbXBsZXIpfQoJICogd2l0aCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgdGhpcyBpbnRlcmZhY2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdyaWRTYW1wbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEdyaWRTYW1wbGVyKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5DaGVja3MgYSBzZXQgb2YgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIHRvIHNhbXBsZSBwb2ludHMgb24gYW4gaW1hZ2UgYWdhaW5zdAoJICAgICAqIHRoZSBpbWFnZSdzIGRpbWVuc2lvbnMgdG8gc2VlIGlmIHRoZSBwb2ludCBhcmUgZXZlbiB3aXRoaW4gdGhlIGltYWdlLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHdpbGwgYWN0dWFsbHkgIm51ZGdlIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmUKCSAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlcgoJICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+CgkgICAgICoKCSAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kCgkgICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwCgkgICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXMKCSAgICAgKi8KCSAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6CgkgICAgICAgIHZhciBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHsKCSAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7CgkgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTsKCSAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBudWRnZWQgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmICh4ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOgoJICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTsKCSAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pOwoJICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ1LmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlOwoJICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmICh5ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXI7Cgl9KCkpOwoJR3JpZFNhbXBsZXIkMS5kZWZhdWx0ID0gR3JpZFNhbXBsZXI7CgoJdmFyIFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyCgkgKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkCgkgKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyAiRGlnaXRhbCBJbWFnZSBXYXJwaW5nIjsgc2VlIHBhZ2VzIDU0LTU2LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVUcmFuc2Zvcm0oYTExIC8qZmxvYXQqLywgYTIxIC8qZmxvYXQqLywgYTMxIC8qZmxvYXQqLywgYTEyIC8qZmxvYXQqLywgYTIyIC8qZmxvYXQqLywgYTMyIC8qZmxvYXQqLywgYTEzIC8qZmxvYXQqLywgYTIzIC8qZmxvYXQqLywgYTMzIC8qZmxvYXQqLykgewoJICAgICAgICB0aGlzLmExMSA9IGExMTsKCSAgICAgICAgdGhpcy5hMjEgPSBhMjE7CgkgICAgICAgIHRoaXMuYTMxID0gYTMxOwoJICAgICAgICB0aGlzLmExMiA9IGExMjsKCSAgICAgICAgdGhpcy5hMjIgPSBhMjI7CgkgICAgICAgIHRoaXMuYTMyID0gYTMyOwoJICAgICAgICB0aGlzLmExMyA9IGExMzsKCSAgICAgICAgdGhpcy5hMjMgPSBhMjM7CgkgICAgICAgIHRoaXMuYTMzID0gYTMzOwoJICAgIH0KCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovLCB4MHAgLypmbG9hdCovLCB5MHAgLypmbG9hdCovLCB4MXAgLypmbG9hdCovLCB5MXAgLypmbG9hdCovLCB4MnAgLypmbG9hdCovLCB5MnAgLypmbG9hdCovLCB4M3AgLypmbG9hdCovLCB5M3AgLypmbG9hdCovKSB7CgkgICAgICAgIHZhciBxVG9TID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Myk7CgkgICAgICAgIHZhciBzVG9RID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwcCwgeTBwLCB4MXAsIHkxcCwgeDJwLCB5MnAsIHgzcCwgeTNwKTsKCSAgICAgICAgcmV0dXJuIHNUb1EudGltZXMocVRvUyk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykgewoJICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkgKz0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbaV07CgkgICAgICAgICAgICB2YXIgeSA9IHBvaW50c1tpICsgMV07CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBhMTMgKiB4ICsgYTIzICogeSArIGEzMzsKCSAgICAgICAgICAgIHBvaW50c1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHBvaW50c1tpICsgMV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHNXaXRoVmFsdWVzID0gZnVuY3Rpb24gKHhWYWx1ZXMsIHlWYWx1ZXMpIHsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgdmFyIG4gPSB4VmFsdWVzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB4ID0geFZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciB5ID0geVZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzOwoJICAgICAgICAgICAgeFZhbHVlc1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHlWYWx1ZXNbaV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnNxdWFyZVRvUXVhZHJpbGF0ZXJhbCA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgZHgzID0geDAgLSB4MSArIHgyIC0geDM7CgkgICAgICAgIHZhciBkeTMgPSB5MCAtIHkxICsgeTIgLSB5MzsKCSAgICAgICAgaWYgKGR4MyA9PT0gMC4wICYmIGR5MyA9PT0gMC4wKSB7CgkgICAgICAgICAgICAvLyBBZmZpbmUKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCwgeDIgLSB4MSwgeDAsIHkxIC0geTAsIHkyIC0geTEsIHkwLCAwLjAsIDAuMCwgMS4wKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHZhciBkeDEgPSB4MSAtIHgyOwoJICAgICAgICAgICAgdmFyIGR4MiA9IHgzIC0geDI7CgkgICAgICAgICAgICB2YXIgZHkxID0geTEgLSB5MjsKCSAgICAgICAgICAgIHZhciBkeTIgPSB5MyAtIHkyOwoJICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gZHgxICogZHkyIC0gZHgyICogZHkxOwoJICAgICAgICAgICAgdmFyIGExMyA9IChkeDMgKiBkeTIgLSBkeDIgKiBkeTMpIC8gZGVub21pbmF0b3I7CgkgICAgICAgICAgICB2YXIgYTIzID0gKGR4MSAqIGR5MyAtIGR4MyAqIGR5MSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCArIGExMyAqIHgxLCB4MyAtIHgwICsgYTIzICogeDMsIHgwLCB5MSAtIHkwICsgYTEzICogeTEsIHkzIC0geTAgKyBhMjMgKiB5MywgeTAsIGExMywgYTIzLCAxLjApOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8pIHsKCSAgICAgICAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOgoJICAgICAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykuYnVpbGRBZGpvaW50KCk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUuYnVpbGRBZGpvaW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBBZGpvaW50IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIGNvZmFjdG9yIG1hdHJpeDoKCSAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh0aGlzLmEyMiAqIHRoaXMuYTMzIC0gdGhpcy5hMjMgKiB0aGlzLmEzMiwgdGhpcy5hMjMgKiB0aGlzLmEzMSAtIHRoaXMuYTIxICogdGhpcy5hMzMsIHRoaXMuYTIxICogdGhpcy5hMzIgLSB0aGlzLmEyMiAqIHRoaXMuYTMxLCB0aGlzLmExMyAqIHRoaXMuYTMyIC0gdGhpcy5hMTIgKiB0aGlzLmEzMywgdGhpcy5hMTEgKiB0aGlzLmEzMyAtIHRoaXMuYTEzICogdGhpcy5hMzEsIHRoaXMuYTEyICogdGhpcy5hMzEgLSB0aGlzLmExMSAqIHRoaXMuYTMyLCB0aGlzLmExMiAqIHRoaXMuYTIzIC0gdGhpcy5hMTMgKiB0aGlzLmEyMiwgdGhpcy5hMTMgKiB0aGlzLmEyMSAtIHRoaXMuYTExICogdGhpcy5hMjMsIHRoaXMuYTExICogdGhpcy5hMjIgLSB0aGlzLmExMiAqIHRoaXMuYTIxKTsKCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50aW1lcyA9IGZ1bmN0aW9uIChvdGhlcikgewoJICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTExICogb3RoZXIuYTExICsgdGhpcy5hMjEgKiBvdGhlci5hMTIgKyB0aGlzLmEzMSAqIG90aGVyLmExMywgdGhpcy5hMTEgKiBvdGhlci5hMjEgKyB0aGlzLmEyMSAqIG90aGVyLmEyMiArIHRoaXMuYTMxICogb3RoZXIuYTIzLCB0aGlzLmExMSAqIG90aGVyLmEzMSArIHRoaXMuYTIxICogb3RoZXIuYTMyICsgdGhpcy5hMzEgKiBvdGhlci5hMzMsIHRoaXMuYTEyICogb3RoZXIuYTExICsgdGhpcy5hMjIgKiBvdGhlci5hMTIgKyB0aGlzLmEzMiAqIG90aGVyLmExMywgdGhpcy5hMTIgKiBvdGhlci5hMjEgKyB0aGlzLmEyMiAqIG90aGVyLmEyMiArIHRoaXMuYTMyICogb3RoZXIuYTIzLCB0aGlzLmExMiAqIG90aGVyLmEzMSArIHRoaXMuYTIyICogb3RoZXIuYTMyICsgdGhpcy5hMzIgKiBvdGhlci5hMzMsIHRoaXMuYTEzICogb3RoZXIuYTExICsgdGhpcy5hMjMgKiBvdGhlci5hMTIgKyB0aGlzLmEzMyAqIG90aGVyLmExMywgdGhpcy5hMTMgKiBvdGhlci5hMjEgKyB0aGlzLmEyMyAqIG90aGVyLmEyMiArIHRoaXMuYTMzICogb3RoZXIuYTIzLCB0aGlzLmExMyAqIG90aGVyLmEzMSArIHRoaXMuYTIzICogb3RoZXIuYTMyICsgdGhpcy5hMzMgKiBvdGhlci5hMzMpOwoJICAgIH07CgkgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoJfSgpKTsKCVBlcnNwZWN0aXZlVHJhbnNmb3JtJDEuZGVmYXVsdCA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEdyaWRTYW1wbGVyXzEgPSBHcmlkU2FtcGxlciQxOwoJdmFyIEJpdE1hdHJpeF8xJDEgPSBCaXRNYXRyaXgkMTsKCXZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybV8xJDEgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEkNCA9IE5vdEZvdW5kRXhjZXB0aW9uJDE7CgkvKioKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDIoRGVmYXVsdEdyaWRTYW1wbGVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIERlZmF1bHRHcmlkU2FtcGxlcigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgcDFUb1ggLypmbG9hdCovLCBwMVRvWSAvKmZsb2F0Ki8sIHAyVG9YIC8qZmxvYXQqLywgcDJUb1kgLypmbG9hdCovLCBwM1RvWCAvKmZsb2F0Ki8sIHAzVG9ZIC8qZmxvYXQqLywgcDRUb1ggLypmbG9hdCovLCBwNFRvWSAvKmZsb2F0Ki8sIHAxRnJvbVggLypmbG9hdCovLCBwMUZyb21ZIC8qZmxvYXQqLywgcDJGcm9tWCAvKmZsb2F0Ki8sIHAyRnJvbVkgLypmbG9hdCovLCBwM0Zyb21YIC8qZmxvYXQqLywgcDNGcm9tWSAvKmZsb2F0Ki8sIHA0RnJvbVggLypmbG9hdCovLCBwNEZyb21ZIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSQxLmRlZmF1bHQucXVhZHJpbGF0ZXJhbFRvUXVhZHJpbGF0ZXJhbChwMVRvWCwgcDFUb1ksIHAyVG9YLCBwMlRvWSwgcDNUb1gsIHAzVG9ZLCBwNFRvWCwgcDRUb1ksIHAxRnJvbVgsIHAxRnJvbVksIHAyRnJvbVgsIHAyRnJvbVksIHAzRnJvbVgsIHAzRnJvbVksIHA0RnJvbVgsIHA0RnJvbVkpOwoJICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uWCwgZGltZW5zaW9uWSwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBEZWZhdWx0R3JpZFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgdHJhbnNmb3JtKSB7CgkgICAgICAgIGlmIChkaW1lbnNpb25YIDw9IDAgfHwgZGltZW5zaW9uWSA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMSQxLmRlZmF1bHQoZGltZW5zaW9uWCwgZGltZW5zaW9uWSk7CgkgICAgICAgIHZhciBwb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBkaW1lbnNpb25YKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkaW1lbnNpb25ZOyB5KyspIHsKCSAgICAgICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoOwoJICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHkgKyAwLjU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heDsgeCArPSAyKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW3hdID0gKHggLyAyKSArIDAuNTsKCSAgICAgICAgICAgICAgICBwb2ludHNbeCArIDFdID0gaVZhbHVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhwb2ludHMpOwoJICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gc2VlIGlmIHBvaW50cyB0cmFuc2Zvcm1lZCB0byBzb21ldGhpbmcgaW5zaWRlIHRoZSBpbWFnZQoJICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBjaGVjayB0aGUgZW5kcG9pbnRzCgkgICAgICAgICAgICBHcmlkU2FtcGxlcl8xLmRlZmF1bHQuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsCgkgICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmcKCSAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyAidHdpc3RlZCIgc3VjaCB0aGF0IGl0IG1hcHMgYSBzdHJhaWdodCBsaW5lIG9mIHBvaW50cyB0byBhIHNldCBvZiBwb2ludHMKCSAgICAgICAgICAgICAgICAvLyB3aG9zZSBlbmRwb2ludHMgYXJlIGluIGJvdW5kcywgYnV0IG90aGVycyBhcmUgbm90LiBUaGVyZSBpcyBwcm9iYWJseSBzb21lIG1hdGhlbWF0aWNhbAoJICAgICAgICAgICAgICAgIC8vIHdheSB0byBkZXRlY3QgdGhpcyBhYm91dCB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCBJIGRvbid0IGtub3cgeWV0LgoJICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBhbiB1Z2x5IHJ1bnRpbWUgZXhjZXB0aW9uIGRlc3BpdGUgb3VyIGNsZXZlciBjaGVja3MgYWJvdmUgLS0gY2FuJ3QgaGF2ZQoJICAgICAgICAgICAgICAgIC8vIHRoYXQuIFdlIGNvdWxkIGNoZWNrIGVhY2ggcG9pbnQncyBjb29yZGluYXRlcyBidXQgdGhhdCBmZWVscyBkdXBsaWNhdGl2ZS4gV2Ugc2V0dGxlIGZvcgoJICAgICAgICAgICAgICAgIC8vIGNhdGNoaW5nIGFuZCB3cmFwcGluZyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uCgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNC5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICByZXR1cm4gRGVmYXVsdEdyaWRTYW1wbGVyOwoJfShHcmlkU2FtcGxlcl8xLmRlZmF1bHQpKTsKCURlZmF1bHRHcmlkU2FtcGxlciQxLmRlZmF1bHQgPSBEZWZhdWx0R3JpZFNhbXBsZXI7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVySW5zdGFuY2UkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIERlZmF1bHRHcmlkU2FtcGxlcl8xID0gRGVmYXVsdEdyaWRTYW1wbGVyJDE7Cgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsCgkgICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkCgkgICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnkKCSAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluCgkgICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikgewoJICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcl8xLmRlZmF1bHQoKTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXJJbnN0YW5jZTsKCX0oKSk7CglHcmlkU2FtcGxlckluc3RhbmNlJDEuZGVmYXVsdCA9IEdyaWRTYW1wbGVySW5zdGFuY2U7CgoJdmFyIFJlc3VsdFBvaW50JDEgPSB7fTsKCgl2YXIgRmxvYXQkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuCgkgKi8KCXZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBGbG9hdCgpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycywKCSAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuCgkgICAgICovCgkgICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikgewoJICAgICAgICByZXR1cm4gZjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuCgkgICAgICovCgkgICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgcmV0dXJuIEZsb2F0OwoJfSgpKTsKCUZsb2F0JDEuZGVmYXVsdCA9IEZsb2F0OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0UG9pbnQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCXZhciBNYXRoVXRpbHNfMSQxID0gTWF0aFV0aWxzJDE7Cgl2YXIgRmxvYXRfMSA9IEZsb2F0JDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXMKCSAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkgewoJICAgICAgICB0aGlzLnggPSB4OwoJICAgICAgICB0aGlzLnkgPSB5OwoJICAgIH0KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMueDsKCSAgICB9OwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy55OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHsKCSAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogRmxvYXRfMS5kZWZhdWx0LmZsb2F0VG9JbnRCaXRzKHRoaXMueCkgKyBGbG9hdF8xLmRlZmF1bHQuZmxvYXRUb0ludEJpdHModGhpcy55KTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiAnKCcgKyB0aGlzLnggKyAnLCcgKyB0aGlzLnkgKyAnKSc7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBPcmRlcnMgYW4gYXJyYXkgb2YgdGhyZWUgUmVzdWx0UG9pbnRzIGluIGFuIG9yZGVyIFtBLEIsQ10gc3VjaCB0aGF0IEFCIGlzIGxlc3MgdGhhbiBBQwoJICAgICAqIGFuZCBCQyBpcyBsZXNzIHRoYW4gQUMsIGFuZCB0aGUgYW5nbGUgYmV0d2VlbiBCQyBhbmQgQkEgaXMgbGVzcyB0aGFuIDE4MCBkZWdyZWVzLgoJICAgICAqCgkgICAgICogQHBhcmFtIHBhdHRlcm5zIGFycmF5IG9mIHRocmVlIHtAY29kZSBSZXN1bHRQb2ludH0gdG8gb3JkZXIKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5vcmRlckJlc3RQYXR0ZXJucyA9IGZ1bmN0aW9uIChwYXR0ZXJucykgewoJICAgICAgICAvLyBGaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHBhdHRlcm4gY2VudGVycwoJICAgICAgICB2YXIgemVyb09uZURpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMV0pOwoJICAgICAgICB2YXIgb25lVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzFdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciB6ZXJvVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzBdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciBwb2ludEE7CgkgICAgICAgIHZhciBwb2ludEI7CgkgICAgICAgIHZhciBwb2ludEM7CgkgICAgICAgIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdAoJICAgICAgICBpZiAob25lVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlICYmIG9uZVR3b0Rpc3RhbmNlID49IHplcm9Ud29EaXN0YW5jZSkgewoJICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMF07CgkgICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHplcm9Ud29EaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB6ZXJvVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlKSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMl07CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1syXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMV07CgkgICAgICAgIH0KCSAgICAgICAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIEEgYW5kIEMgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZC4KCSAgICAgICAgLy8gVGhpcyBhc2tzIHdoZXRoZXIgQkMgeCBCQSBoYXMgYSBwb3NpdGl2ZSB6IGNvbXBvbmVudCwgd2hpY2ggaXMgdGhlIGFycmFuZ2VtZW50CgkgICAgICAgIC8vIHdlIHdhbnQgZm9yIEEsIEIsIEMuIElmIGl0J3MgbmVnYXRpdmUsIHRoZW4gd2UndmUgZ290IGl0IGZsaXBwZWQgYXJvdW5kIGFuZAoJICAgICAgICAvLyBzaG91bGQgc3dhcCBBIGFuZCBDLgoJICAgICAgICBpZiAodGhpcy5jcm9zc1Byb2R1Y3RaKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIDwgMC4wKSB7CgkgICAgICAgICAgICB2YXIgdGVtcCA9IHBvaW50QTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBvaW50QzsKCSAgICAgICAgICAgIHBvaW50QyA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgcGF0dGVybnNbMF0gPSBwb2ludEE7CgkgICAgICAgIHBhdHRlcm5zWzFdID0gcG9pbnRCOwoJICAgICAgICBwYXR0ZXJuc1syXSA9IHBvaW50QzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBwYXR0ZXJuMSBmaXJzdCBwYXR0ZXJuCgkgICAgICogQHBhcmFtIHBhdHRlcm4yIHNlY29uZCBwYXR0ZXJuCgkgICAgICogQHJldHVybiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5kaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXR0ZXJuMSwgcGF0dGVybjIpIHsKCSAgICAgICAgcmV0dXJuIE1hdGhVdGlsc18xJDEuZGVmYXVsdC5kaXN0YW5jZShwYXR0ZXJuMS54LCBwYXR0ZXJuMS55LCBwYXR0ZXJuMi54LCBwYXR0ZXJuMi55KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHogY29tcG9uZW50IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdmVjdG9ycyBCQyBhbmQgQkEuCgkgICAgICovCgkgICAgUmVzdWx0UG9pbnQuY3Jvc3NQcm9kdWN0WiA9IGZ1bmN0aW9uIChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CgkgICAgICAgIHZhciBiWCA9IHBvaW50Qi54OwoJICAgICAgICB2YXIgYlkgPSBwb2ludEIueTsKCSAgICAgICAgcmV0dXJuICgocG9pbnRDLnggLSBiWCkgKiAocG9pbnRBLnkgLSBiWSkpIC0gKChwb2ludEMueSAtIGJZKSAqIChwb2ludEEueCAtIGJYKSk7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0UG9pbnQ7Cgl9KCkpOwoJUmVzdWx0UG9pbnQkMS5kZWZhdWx0ID0gUmVzdWx0UG9pbnQ7CgoJdmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIkMSA9IHt9OwoKCXZhciBBbGlnbm1lbnRQYXR0ZXJuJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyQxID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFsaWdubWVudFBhdHRlcm4kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgUmVzdWx0UG9pbnRfMSQzID0gUmVzdWx0UG9pbnQkMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGFuIGFsaWdubWVudCBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHNtYWxsZXIgc3F1YXJlIHBhdHRlcm5zIGZvdW5kIGluCgkgKiBhbGwgYnV0IHRoZSBzaW1wbGVzdCBRUiBDb2Rlcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEFsaWdubWVudFBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDEoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuICJhYm91dCBlcXVhbHMiIGFuIGFsaWdubWVudCBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhbiBhdmVyYWdlIG9mIHRoZSB0d28uCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmdldFgoKSArIGopIC8gMi4wOwoJICAgICAgICB2YXIgY29tYmluZWRZID0gKHRoaXMuZ2V0WSgpICsgaSkgLyAyLjA7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplICsgbmV3TW9kdWxlU2l6ZSkgLyAyLjA7CgkgICAgICAgIHJldHVybiBuZXcgQWxpZ25tZW50UGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplKTsKCSAgICB9OwoJICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuOwoJfShSZXN1bHRQb2ludF8xJDMuZGVmYXVsdCkpOwoJQWxpZ25tZW50UGF0dGVybiQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX192YWx1ZXMkMSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuXzEgPSBBbGlnbm1lbnRQYXR0ZXJuJDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQzID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBhbGlnbm1lbnQgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBBbGlnbm1lbnQgcGF0dGVybnMgbG9vayBsaWtlIGZpbmRlcgoJICogcGF0dGVybnMgYnV0IGFyZSBzbWFsbGVyIGFuZCBhcHBlYXIgYXQgcmVndWxhciBpbnRlcnZhbHMgdGhyb3VnaG91dCB0aGUgaW1hZ2UuPC9wPgoJICoKCSAqIDxwPkF0IHRoZSBtb21lbnQgdGhpcyBvbmx5IGxvb2tzIGZvciB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAqCgkgKiA8cD5UaGlzIGlzIG1vc3RseSBhIHNpbXBsaWZpZWQgY29weSBvZiB7QGxpbmsgRmluZGVyUGF0dGVybkZpbmRlcn0uIEl0IGlzIGNvcGllZCwKCSAqIHBhc3RlZCBhbmQgc3RyaXBwZWQgZG93biBoZXJlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlIGJ1dCBkb2VzIHVuZm9ydHVuYXRlbHkgZHVwbGljYXRlCgkgKiBzb21lIGNvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8qKgoJICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIGxvb2sgaW4gYSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBpbWFnZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIHN0YXJ0WCBsZWZ0IGNvbHVtbiBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSBzdGFydFkgdG9wIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSB3aWR0aCB3aWR0aCBvZiByZWdpb24gdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIGhlaWdodCBoZWlnaHQgb2YgcmVnaW9uIHRvIHNlYXJjaAoJICAgICAqIEBwYXJhbSBtb2R1bGVTaXplIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBzbyBmYXIKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyKGltYWdlLCBzdGFydFggLyppbnQqLywgc3RhcnRZIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBtb2R1bGVTaXplIC8qZmxvYXQqLywgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYOwoJICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTsKCSAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwoJICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgdGhpcy5tb2R1bGVTaXplID0gbW9kdWxlU2l6ZTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICAgICAgdGhpcy5wb3NzaWJsZUNlbnRlcnMgPSBbXTsgLy8gbmV3IEFycmF5PGFueT4oNSkpCgkgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBhcnJheSBpbml0aWFsaXphdGlvbiB3aXRob3V0IHNpemUgYXMgdGhlIGxlbmd0aCBpcyBjaGVja2VkIGJlbG93CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+VGhpcyBtZXRob2QgYXR0ZW1wdHMgdG8gZmluZCB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuIGluIHRoZSBpbWFnZS4gSXQgaXMgYSBiaXQgbWVzc3kgc2luY2UKCSAgICAgKiBpdCdzIHByZXR0eSBwZXJmb3JtYW5jZS1jcml0aWNhbCBhbmQgc28gaXMgd3JpdHRlbiB0byBiZSBmYXN0IGZvcmVtb3N0LjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBub3QgZm91bmQKCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5zdGFydFg7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIG1heEogPSBzdGFydFggKyB3aWR0aDsKCSAgICAgICAgdmFyIG1pZGRsZUkgPSB0aGlzLnN0YXJ0WSArIChoZWlnaHQgLyAyKTsKCSAgICAgICAgLy8gV2UgYXJlIGxvb2tpbmcgZm9yIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgaW4gMToxOjEgcmF0aW8KCSAgICAgICAgLy8gdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIHNlZW4gc28gZmFyCgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoMyk7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIGZvciAodmFyIGlHZW4gPSAwOyBpR2VuIDwgaGVpZ2h0OyBpR2VuKyspIHsKCSAgICAgICAgICAgIC8vIFNlYXJjaCBmcm9tIG1pZGRsZSBvdXR3YXJkcwoJICAgICAgICAgICAgdmFyIGkgPSBtaWRkbGVJICsgKChpR2VuICYgMHgwMSkgPT09IDAgPyBNYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSA6IC1NYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSk7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICB2YXIgaiA9IHN0YXJ0WDsKCSAgICAgICAgICAgIC8vIEJ1cm4gb2ZmIGxlYWRpbmcgd2hpdGUgcGl4ZWxzIGJlZm9yZSBhbnl0aGluZyBlbHNlOyBpZiB3ZSBzdGFydCBpbiB0aGUgbWlkZGxlIG9mCgkgICAgICAgICAgICAvLyBhIHdoaXRlIHJ1biwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGNvdW50IGl0cyBsZW5ndGgsIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgdGhlCgkgICAgICAgICAgICAvLyB3aGl0ZSBydW4gY29udGludWVkIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdGFydCBwb2ludAoJICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gMDsKCSAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4SikgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAyKSB7IC8vIEEgd2lubmVyPwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllcwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAodGhpcy5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSkgewoJICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIG1heEopOwoJICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgIT09IG51bGwpIHsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBub3RoaW5nIHdlIHNhdyB3YXMgb2JzZXJ2ZWQgYW5kIGNvbmZpcm1lZCB0d2ljZS4gSWYgd2UgaGFkCgkgICAgICAgIC8vIGFueSBndWVzcyBhdCBhbGwsIHJldHVybiBpdC4KCSAgICAgICAgaWYgKHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aCAhPT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzWzBdOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogR2l2ZW4gYSBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCBzZWVuIGFuZCBhbiBlbmQgcG9zaXRpb24sCgkgICAgICogZmlndXJlcyB0aGUgbG9jYXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGlzIGJsYWNrL3doaXRlL2JsYWNrIHJ1bi4KCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCwgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIChlbmQgLSBzdGF0ZUNvdW50WzJdKSAtIHN0YXRlQ291bnRbMV0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8xIHJhdGlvcwoJICAgICAqICAgICAgICAgdXNlZCBieSBhbGlnbm1lbnQgcGF0dGVybnMgdG8gYmUgY29uc2lkZXJlZCBhIG1hdGNoCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZTsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFtpXSkgPj0gbWF4VmFyaWFuY2UpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5BZnRlciBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvdGVudGlhbCBhbGlnbm1lbnQgcGF0dGVybiwgdGhpcyBtZXRob2QKCSAgICAgKiAiY3Jvc3MtY2hlY2tzIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZQoJICAgICAqIGFsaWdubWVudCBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGFuIGFsaWdubWVudCBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYW4gYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBhbGlnbm1lbnQgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlcgoJICAgICAgICB2YXIgaSA9IHN0YXJ0STsKCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKzsKCSAgICAgICAgICAgIGktLTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IHN0YXJ0SSArIDE7CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbMV0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzJdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMl0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGwKCSAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwgc2VlIGlmIHRoaXMgcGF0dGVybiBoYWQgYmVlbgoJICAgICAqIGZvdW5kIG9uIGEgcHJldmlvdXMgaG9yaXpvbnRhbCBzY2FuLiBJZiBzbywgd2UgY29uc2lkZXIgaXQgY29uZmlybWVkIGFuZCBjb25jbHVkZSB3ZSBoYXZlCgkgICAgICogZm91bmQgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhbgoJICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBhbGlnbm1lbnQgcGF0dGVybiBtYXkgYmUgZm91bmQKCSAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4gaW4gcm93CgkgICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgd2UgaGF2ZSBmb3VuZCB0aGUgc2FtZSBwYXR0ZXJuIHR3aWNlLCBvciBudWxsIGlmIG5vdAoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmhhbmRsZVBvc3NpYmxlQ2VudGVyID0gZnVuY3Rpb24gKHN0YXRlQ291bnQsIGkgLyppbnQqLywgaiAvKmludCovKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICB2YXIgY2VudGVySiA9IEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKTsKCSAgICAgICAgdmFyIGNlbnRlckkgPSB0aGlzLmNyb3NzQ2hlY2tWZXJ0aWNhbChpLCAvKihpbnQpICovIGNlbnRlckosIDIgKiBzdGF0ZUNvdW50WzFdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IChzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0pIC8gMy4wOwoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzJDEodGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYWJvdXQgdGhlIHNhbWUgY2VudGVyIGFuZCBtb2R1bGUgc2l6ZToKCSAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5hYm91dEVxdWFscyhlc3RpbWF0ZWRNb2R1bGVTaXplLCBjZW50ZXJJLCBjZW50ZXJKKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlci5jb21iaW5lRXN0aW1hdGUoY2VudGVySSwgY2VudGVySiwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBIYWRuJ3QgZm91bmQgdGhpcyBiZWZvcmU7IHNhdmUgaXQKCSAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBBbGlnbm1lbnRQYXR0ZXJuXzEuZGVmYXVsdChjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTsKCSAgICAgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpOwoJICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQocG9pbnQpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJQWxpZ25tZW50UGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyOwoKCXZhciBGaW5kZXJQYXR0ZXJuRmluZGVyJDEgPSB7fTsKCgl2YXIgRmluZGVyUGF0dGVybiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRmluZGVyUGF0dGVybiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki8KCXZhciBSZXN1bHRQb2ludF8xJDIgPSBSZXN1bHRQb2ludCQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBmaW5kZXIgcGF0dGVybiwgd2hpY2ggYXJlIHRoZSB0aHJlZSBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW4KCSAqIHRoZSBjb3JuZXJzIG9mIFFSIENvZGVzLiBJdCBhbHNvIGVuY2Fwc3VsYXRlcyBhIGNvdW50IG9mIHNpbWlsYXIgZmluZGVyIHBhdHRlcm5zLAoJICogYXMgYSBjb252ZW5pZW5jZSB0byB0aGUgZmluZGVyJ3MgYm9va2tlZXBpbmcuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBGaW5kZXJQYXR0ZXJuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyhGaW5kZXJQYXR0ZXJuLCBfc3VwZXIpOwoJICAgIC8vIEZpbmRlclBhdHRlcm4ocG9zWDogbnVtYmVyLypmbG9hdCovLCBwb3NZOiBudW1iZXIvKmZsb2F0Ki8sIGVzdGltYXRlZE1vZHVsZVNpemU6IG51bWJlci8qZmxvYXQqLykgewoJICAgIC8vICAgdGhpcyhwb3NYLCBwb3NZLCBlc3RpbWF0ZWRNb2R1bGVTaXplLCAxKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNvdW50KSB7CgkgICAgICAgICAgICBfdGhpcy5jb3VudCA9IDE7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvdW50OwoJICAgIH07CgkgICAgLyoKCSAgICB2b2lkIGluY3JlbWVudENvdW50KCkgewoJICAgICAgdGhpcy5jb3VudCsrCgkgICAgfQoJICAgICAqLwoJICAgIC8qKgoJICAgICAqIDxwPkRldGVybWluZXMgaWYgdGhpcyBmaW5kZXIgcGF0dGVybiAiYWJvdXQgZXF1YWxzIiBhIGZpbmRlciBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhIHdlaWdodGVkIGF2ZXJhZ2UKCSAgICAgKiBiYXNlZCBvbiBjb3VudC4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgY29tYmluZWRDb3VudCA9IHRoaXMuY291bnQgKyAxOwoJICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuY291bnQgKiB0aGlzLmdldFgoKSArIGopIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgdmFyIGNvbWJpbmVkWSA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRZKCkgKyBpKSAvIGNvbWJpbmVkQ291bnQ7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5jb3VudCAqIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSArIG5ld01vZHVsZVNpemUpIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUsIGNvbWJpbmVkQ291bnQpOwoJICAgIH07CgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm47Cgl9KFJlc3VsdFBvaW50XzEkMi5kZWZhdWx0KSk7CglGaW5kZXJQYXR0ZXJuJDEuZGVmYXVsdCA9IEZpbmRlclBhdHRlcm47CgoJdmFyIEZpbmRlclBhdHRlcm5JbmZvJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5JbmZvJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGluZm9ybWF0aW9uIGFib3V0IGZpbmRlciBwYXR0ZXJucyBpbiBhbiBpbWFnZSwgaW5jbHVkaW5nIHRoZSBsb2NhdGlvbiBvZgoJICogdGhlIHRocmVlIGZpbmRlciBwYXR0ZXJucywgYW5kIHRoZWlyIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5JbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5JbmZvKHBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHRoaXMuYm90dG9tTGVmdCA9IHBhdHRlcm5DZW50ZXJzWzBdOwoJICAgICAgICB0aGlzLnRvcExlZnQgPSBwYXR0ZXJuQ2VudGVyc1sxXTsKCSAgICAgICAgdGhpcy50b3BSaWdodCA9IHBhdHRlcm5DZW50ZXJzWzJdOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0Qm90dG9tTGVmdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tTGVmdDsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0OwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDsKCSAgICB9OwoJICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuSW5mbzsKCX0oKSk7CglGaW5kZXJQYXR0ZXJuSW5mbyQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuSW5mbzsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5GaW5kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQyID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBSZXN1bHRQb2ludF8xJDEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIEZpbmRlclBhdHRlcm5fMSA9IEZpbmRlclBhdHRlcm4kMTsKCXZhciBGaW5kZXJQYXR0ZXJuSW5mb18xID0gRmluZGVyUGF0dGVybkluZm8kMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDIgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBmaW5kZXIgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBGaW5kZXIgcGF0dGVybnMgYXJlIHRoZSBzcXVhcmUKCSAqIG1hcmtlcnMgYXQgdGhyZWUgY29ybmVycyBvZiBhIFFSIENvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBpbWFnZSBmb3IgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2gKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoaW1hZ2U6IEJpdE1hdHJpeCkgewoJICAgIC8vICAgdGhpcyhpbWFnZSwgbnVsbCkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRmluZGVyUGF0dGVybkZpbmRlcihpbWFnZSwgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7CgkgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzID0gW107CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSg1KTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICB9CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmltYWdlOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0UG9zc2libGVDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGhpbnRzKSB7CgkgICAgICAgIHZhciB0cnlIYXJkZXIgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQyLmRlZmF1bHQuVFJZX0hBUkRFUik7CgkgICAgICAgIHZhciBwdXJlQmFyY29kZSA9IChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkKSAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZV8xJDIuZGVmYXVsdC5QVVJFX0JBUkNPREUpOwoJICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlOwoJICAgICAgICB2YXIgbWF4SSA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7CgkgICAgICAgIC8vIFdlIGFyZSBsb29raW5nIGZvciBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIGluCgkgICAgICAgIC8vIDE6MTozOjE6MSByYXRpbzsgdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBzdWNoIG1vZHVsZXMgc2VlbiBzbyBmYXIKCSAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIG1heGltdW0gdmVyc2lvbiBRUiBDb2RlIHdlIHN1cHBvcnQgdGFrZXMgdXAgMS80IHRoZSBoZWlnaHQgb2YgdGhlCgkgICAgICAgIC8vIGltYWdlLCBhbmQgdGhlbiBhY2NvdW50IGZvciB0aGUgY2VudGVyIGJlaW5nIDMgbW9kdWxlcyBpbiBzaXplLiBUaGlzIGdpdmVzIHRoZSBzbWFsbGVzdAoJICAgICAgICAvLyBudW1iZXIgb2YgcGl4ZWxzIHRoZSBjZW50ZXIgY291bGQgYmUsIHNvIHNraXAgdGhpcyBvZnRlbi4gV2hlbiB0cnlpbmcgaGFyZGVyLCBsb29rIGZvciBhbGwKCSAgICAgICAgLy8gUVIgdmVyc2lvbnMgcmVnYXJkbGVzcyBvZiBob3cgZGVuc2UgdGhleSBhcmUuCgkgICAgICAgIHZhciBpU2tpcCA9IE1hdGguZmxvb3IoKDMgKiBtYXhJKSAvICg0ICogRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUykpOwoJICAgICAgICBpZiAoaVNraXAgPCBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQIHx8IHRyeUhhcmRlcikgewoJICAgICAgICAgICAgaVNraXAgPSBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkb25lID0gZmFsc2U7CgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7CgkgICAgICAgIGZvciAodmFyIGkgPSBpU2tpcCAtIDE7IGkgPCBtYXhJICYmICFkb25lOyBpICs9IGlTa2lwKSB7CgkgICAgICAgICAgICAvLyBHZXQgYSByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwOwoJICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IDA7CgkgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heEo7IGorKykgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMSkgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMCkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDQpIHsgLy8gQSB3aW5uZXI/CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGosIHB1cmVCYXJjb2RlKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZXhhbWluaW5nIGV2ZXJ5IG90aGVyIGxpbmUuIENoZWNraW5nIGVhY2ggbGluZSB0dXJuZWQgb3V0IHRvIGJlIHRvbwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwZW5zaXZlIGFuZCBkaWRuJ3QgaW1wcm92ZSBwZXJmb3JtYW5jZS4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlTa2lwID0gMjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQgPT09IHRydWUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93U2tpcCA9IHRoaXMuZmluZFJvd1NraXAoKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93U2tpcCA+IHN0YXRlQ291bnRbMl0pIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCByb3dzIGJldHdlZW4gcm93IG9mIGxvd2VyIGNvbmZpcm1lZCBjZW50ZXIKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRvcCBvZiBwcmVzdW1lZCB0aGlyZCBjb25maXJtZWQgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBiYWNrIHVwIGEgYml0IHRvIGdldCBhIGZ1bGwgY2hhbmNlIG9mIGRldGVjdGluZwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCwgZW50aXJlIHdpZHRoIG9mIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJ5IHJvd1NraXAsIGJ1dCBiYWNrIG9mZiBieSBzdGF0ZUNvdW50WzJdIChzaXplIG9mIGxhc3QgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHBhdHRlcm4gd2Ugc2F3KSB0byBiZSBjb25zZXJ2YXRpdmUsIGFuZCBhbHNvIGJhY2sgb2ZmIGJ5IGlTa2lwIHdoaWNoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGFib3V0IHRvIGJlIHJlLWFkZGVkCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gcm93U2tpcCAtIHN0YXRlQ291bnRbMl0gLSBpU2tpcDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IG1heEogLSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gc3RhdGVDb3VudFs0XTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAzOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc3RhdGUgdG8gc3RhcnQgbG9va2luZyBhZ2FpbgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBObywgc2hpZnQgY291bnRzIGJhY2sgYnkgdHdvCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gc3RhdGVDb3VudFszXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBtYXhKLCBwdXJlQmFyY29kZSk7CgkgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IHN0YXRlQ291bnRbMF07CgkgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGEgdGhpcmQgb25lCgkgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBhdHRlcm5JbmZvID0gdGhpcy5zZWxlY3RCZXN0UGF0dGVybnMoKTsKCSAgICAgICAgUmVzdWx0UG9pbnRfMSQxLmRlZmF1bHQub3JkZXJCZXN0UGF0dGVybnMocGF0dGVybkluZm8pOwoJICAgICAgICByZXR1cm4gbmV3IEZpbmRlclBhdHRlcm5JbmZvXzEuZGVmYXVsdChwYXR0ZXJuSW5mbyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbiwKCSAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3MKCSAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaAoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsKCSAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07CgkgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9ucwoJICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDsKCSAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jcm9zcy1jcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gZGlhZ29uYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhIGZpbmRlciBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYSBmaW5kZXIgcGF0dGVybgoJICAgICAqIEBwYXJhbSBtYXhDb3VudCBtYXhpbXVtIHJlYXNvbmFibGUgbnVtYmVyIG9mIG1vZHVsZXMgdGhhdCBzaG91bGQgYmUKCSAgICAgKiAgb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgVGhlIG9yaWdpbmFsIHN0YXRlIGNvdW50IHRvdGFsLgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBwcm9wb3J0aW9ucyBhcmUgd2l0aGluZyBleHBlY3RlZCBsaW1pdHMKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrRGlhZ29uYWwgPSBmdW5jdGlvbiAoc3RhcnRJIC8qaW50Ki8sIGNlbnRlckogLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykgewoJICAgICAgICB2YXIgc3RhdGVDb3VudCA9IHRoaXMuZ2V0Q3Jvc3NDaGVja1N0YXRlQ291bnQoKTsKCSAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAsIGxlZnQgZnJvbSBjZW50ZXIgZmluZGluZyBibGFjayBjZW50ZXIgbWFzcwoJICAgICAgICB2YXIgaSA9IDA7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgaW1hZ2UuZ2V0KGNlbnRlckogLSBpLCBzdGFydEkgLSBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgPCBpIHx8IGNlbnRlckogPCBpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyB3aGl0ZSBzcGFjZQoJICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmICFpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgYWxyZWFkeSB0b28gbWFueSBtb2R1bGVzIGluIHRoaXMgc3RhdGUgb3IgcmFuIG9mZiB0aGUgZWRnZToKCSAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyBibGFjayBib3JkZXIKCSAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biwgcmlnaHQgZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IDE7CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJhbiBvZmYgdGhlIGVkZ2U/CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgIWltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiYKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgbW9yZSB0aGFuIDEwMCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA8IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAmJgoJICAgICAgICAgICAgRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gdmVydGljYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXJ0SSByb3cgd2hlcmUgYSBmaW5kZXIgcGF0dGVybiB3YXMgZGV0ZWN0ZWQKCSAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGEgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIC8vIFN0YXJ0IGNvdW50aW5nIHVwIGZyb20gY2VudGVyCgkgICAgICAgIHZhciBpID0gc3RhcnRJOwoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biBmcm9tIGNlbnRlcgoJICAgICAgICBpID0gc3RhcnRJICsgMTsKCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJKSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGZpbmRlci1wYXR0ZXJuLWxpa2Ugc2VjdGlvbiwgYnV0IGl0cyBzaXplIGlzIG1vcmUgdGhhbiA0MCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF07CgkgICAgICAgIGlmICg1ICogTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpID49IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBpKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkxpa2Uge0BsaW5rICNjcm9zc0NoZWNrVmVydGljYWwoaW50LCBpbnQsIGludCwgaW50KX0sIGFuZCBpbiBmYWN0IGlzIGJhc2ljYWxseSBpZGVudGljYWwsCgkgICAgICogZXhjZXB0IGl0IHJlYWRzIGhvcml6b250YWxseSBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkuIFRoaXMgaXMgdXNlZCB0byBjcm9zcy1jcm9zcwoJICAgICAqIGNoZWNrIGEgdmVydGljYWwgY3Jvc3MgY2hlY2sgYW5kIGxvY2F0ZSB0aGUgcmVhbCBjZW50ZXIgb2YgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzdGFydEogLyppbnQqLywgY2VudGVySSAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIHZhciBqID0gc3RhcnRKOwoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmIGltYWdlLmdldChqLCBjZW50ZXJJKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgaiA9IHN0YXJ0SiArIDE7CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBjZW50ZXJJKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7CgkgICAgICAgICAgICBqKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCB0aGFuCgkgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgaXMgY2FsbGVkIHdoZW4gYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3NzaWJsZSBhbGlnbm1lbnQgcGF0dGVybi4gSXQgd2lsbAoJICAgICAqIGNyb3NzIGNoZWNrIHdpdGggYSB2ZXJ0aWNhbCBzY2FuLCBhbmQgaWYgc3VjY2Vzc2Z1bCwgd2lsbCwgYWgsIGNyb3NzLWNyb3NzLWNoZWNrCgkgICAgICogd2l0aCBhbm90aGVyIGhvcml6b250YWwgc2Nhbi4gVGhpcyBpcyBuZWVkZWQgcHJpbWFyaWx5IHRvIGxvY2F0ZSB0aGUgcmVhbCBob3Jpem9udGFsCgkgICAgICogY2VudGVyIG9mIHRoZSBwYXR0ZXJuIGluIGNhc2VzIG9mIGV4dHJlbWUgc2tldy4KCSAgICAgKiBBbmQgdGhlbiB3ZSBjcm9zcy1jcm9zcy1jcm9zcyBjaGVjayB3aXRoIGFub3RoZXIgZGlhZ29uYWwgc2Nhbi48L3A+CgkgICAgICoKCSAgICAgKiA8cD5JZiB0aGF0IHN1Y2NlZWRzIHRoZSBmaW5kZXIgcGF0dGVybiBsb2NhdGlvbiBpcyBhZGRlZCB0byBhIGxpc3QgdGhhdCB0cmFja3MKCSAgICAgKiB0aGUgbnVtYmVyIG9mIHRpbWVzIGVhY2ggbG9jYXRpb24gaGFzIGJlZW4gbmVhcmx5LW1hdGNoZWQgYXMgYSBmaW5kZXIgcGF0dGVybi4KCSAgICAgKiBFYWNoIGFkZGl0aW9uYWwgZmluZCBpcyBtb3JlIGV2aWRlbmNlIHRoYXQgdGhlIGxvY2F0aW9uIGlzIGluIGZhY3QgYSBmaW5kZXIKCSAgICAgKiBwYXR0ZXJuIGNlbnRlcgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXRlQ291bnQgcmVhZGluZyBzdGF0ZSBtb2R1bGUgY291bnRzIGZyb20gaG9yaXpvbnRhbCBzY2FuCgkgICAgICogQHBhcmFtIGkgcm93IHdoZXJlIGZpbmRlciBwYXR0ZXJuIG1heSBiZSBmb3VuZAoJICAgICAqIEBwYXJhbSBqIGVuZCBvZiBwb3NzaWJsZSBmaW5kZXIgcGF0dGVybiBpbiByb3cKCSAgICAgKiBAcGFyYW0gcHVyZUJhcmNvZGUgdHJ1ZSBpZiBpbiAicHVyZSBiYXJjb2RlIiBtb2RlCgkgICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWUKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHsKCSAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKwoJICAgICAgICAgICAgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7CgkgICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVjawoJICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7CgkgICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmCgkgICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDsKCSAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07CgkgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6CgkgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybl8xLmRlZmF1bHQoY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChwb2ludCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2Ygcm93cyB3ZSBjb3VsZCBzYWZlbHkgc2tpcCBkdXJpbmcgc2Nhbm5pbmcsIGJhc2VkIG9uIHRoZSBmaXJzdAoJICAgICAqICAgICAgICAgdHdvIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBsb2NhdGVkLiBJbiBzb21lIGNhc2VzIHRoZWlyIHBvc2l0aW9uIHdpbGwKCSAgICAgKiAgICAgICAgIGFsbG93IHVzIHRvIGluZmVyIHRoYXQgdGhlIHRoaXJkIHBhdHRlcm4gbXVzdCBsaWUgYmVsb3cgYSBjZXJ0YWluIHBvaW50IGZhcnRoZXIKCSAgICAgKiAgICAgICAgIGRvd24gaW4gdGhlIGltYWdlLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmRSb3dTa2lwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKG1heCA8PSAxKSB7CgkgICAgICAgICAgICByZXR1cm4gMDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBudWxsOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2MudmFsdWU7CgkgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25maXJtZWRDZW50ZXIgPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBjZW50ZXI7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHR3byBjb25maXJtZWQgY2VudGVycwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IGZhciBkb3duIGNhbiB3ZSBza2lwIGJlZm9yZSByZXN1bWluZyBsb29raW5nIGZvciB0aGUgbmV4dAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF0dGVybj8gSW4gdGhlIHdvcnN0IGNhc2UsIG9ubHkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIHggLyB5IGNvb3JkaW5hdGVzIG9mIHRoZSB0d28gY2VudGVycy4KCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlcmUgeW91IGZpbmQgdG9wIGxlZnQgbGFzdC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzU2tpcHBlZCA9IHRydWU7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyooaW50KSAqLyBNYXRoLmZsb29yKChNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRYKCkgLSBjZW50ZXIuZ2V0WCgpKSAtCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZmlyc3RDb25maXJtZWRDZW50ZXIuZ2V0WSgpIC0gY2VudGVyLmdldFkoKSkpIC8gMik7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZmYgd2UgaGF2ZSBmb3VuZCBhdCBsZWFzdCAzIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZAoJICAgICAqICAgICAgICAgYXQgbGVhc3Qge0BsaW5rICNDRU5URVJfUVVPUlVNfSB0aW1lcyBlYWNoLCBhbmQsIHRoZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgb2YgdGhlCgkgICAgICogICAgICAgICBjYW5kaWRhdGVzIGlzICJwcmV0dHkgc2ltaWxhciIKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjsKCSAgICAgICAgdmFyIGNvbmZpcm1lZENvdW50ID0gMDsKCSAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZC52YWx1ZTsKCSAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBjb25maXJtZWRDb3VudCsrOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvbmZpcm1lZENvdW50IDwgMykgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIE9LLCB3ZSBoYXZlIGF0IGxlYXN0IDMgY29uZmlybWVkIGNlbnRlcnMsIGJ1dCwgaXQncyBwb3NzaWJsZSB0aGF0IG9uZSBpcyBhICJmYWxzZSBwb3NpdGl2ZSIKCSAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplcwoJICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHMKCSAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC4KCSAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7CgkgICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSAiYmVzdCIgYXJlCgkgICAgICogICAgICAgICB0aG9zZSB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZCBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzLCBhbmQgd2hvc2UgbW9kdWxlCgkgICAgICogICAgICAgICBzaXplIGRpZmZlcnMgZnJvbSB0aGUgYXZlcmFnZSBhbW9uZyB0aG9zZSBwYXR0ZXJucyB0aGUgbGVhc3QKCSAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIDMgc3VjaCBmaW5kZXIgcGF0dGVybnMgZG8gbm90IGV4aXN0CgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuc2VsZWN0QmVzdFBhdHRlcm5zID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV80LCBfYSwgZV81LCBfYjsKCSAgICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKHN0YXJ0U2l6ZSA8IDMpIHsKCSAgICAgICAgICAgIC8vIENvdWxkbid0IGZpbmQgZW5vdWdoIGZpbmRlciBwYXR0ZXJucwoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBvc3NpYmxlQ2VudGVycyA9IHRoaXMucG9zc2libGVDZW50ZXJzOwoJICAgICAgICB2YXIgYXZlcmFnZTsKCSAgICAgICAgLy8gRmlsdGVyIG91dGxpZXIgcG9zc2liaWxpdGllcyB3aG9zZSBtb2R1bGUgc2l6ZSBpcyB0b28gZGlmZmVyZW50CgkgICAgICAgIGlmIChzdGFydFNpemUgPiAzKSB7CgkgICAgICAgICAgICAvLyBCdXQgd2UgY2FuIG9ubHkgYWZmb3JkIHRvIGRvIHNvIGlmIHdlIGhhdmUgYXQgbGVhc3QgNCBwb3NzaWJpbGl0aWVzIHRvIGNob29zZSBmcm9tCgkgICAgICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMC4wOwoJICAgICAgICAgICAgdmFyIHNxdWFyZSA9IDAuMDsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9kLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBzaXplOwoJICAgICAgICAgICAgICAgICAgICBzcXVhcmUgKz0gc2l6ZSAqIHNpemU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH0KCSAgICAgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYXZlcmFnZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIHN0YXJ0U2l6ZTsKCSAgICAgICAgICAgIHZhciBzdGREZXYgPSBNYXRoLnNxcnQoc3F1YXJlIC8gc3RhcnRTaXplIC0gYXZlcmFnZSAqIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoCgkgICAgICAgICAgICAvKioKCSAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSBmdXJ0aGVzdCBmcm9tIGF2ZXJhZ2U8L3A+CgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIEZ1cnRoZXN0RnJvbUF2ZXJhZ2VDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgICAgIHZhciBkQiA9IE1hdGguYWJzKGNlbnRlcjEuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAtMSA6IGRBID4gZEIgPyAxIDogMDsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5tYXgoMC4yICogYXZlcmFnZSwgc3RkRGV2KTsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2libGVDZW50ZXJzLmxlbmd0aCAmJiBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMzsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwb3NzaWJsZUNlbnRlcnNbaV07CgkgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSkgPiBsaW1pdCkgewoJICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKGksIDEpOwoJICAgICAgICAgICAgICAgICAgICBpLS07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMykgewoJICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBhbGwgYnV0IHRob3NlIGZpcnN0IHNpemUgY2FuZGlkYXRlIHBvaW50cyB3ZSBmb3VuZC4KCSAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlQ2VudGVyc18xID0gX192YWx1ZXMocG9zc2libGVDZW50ZXJzKSwgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKTsgIXBvc3NpYmxlQ2VudGVyc18xXzEuZG9uZTsgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXIgPSBwb3NzaWJsZUNlbnRlcnNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcG9zc2libGVDZW50ZXIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9CgkgICAgICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDZW50ZXJzXzFfMSAmJiAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lICYmIChfYiA9IHBvc3NpYmxlQ2VudGVyc18xLnJldHVybikpIF9iLmNhbGwocG9zc2libGVDZW50ZXJzXzEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gcG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zb3J0KAoJICAgICAgICAgICAgLyoqCgkgICAgICAgICAgICAgKiA8cD5PcmRlcnMgYnkge0BsaW5rIEZpbmRlclBhdHRlcm4jZ2V0Q291bnQoKX0sIGRlc2NlbmRpbmcuPC9wPgoJICAgICAgICAgICAgICovCgkgICAgICAgICAgICAvLyBDZW50ZXJDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICBpZiAoY2VudGVyMi5nZXRDb3VudCgpID09PSBjZW50ZXIxLmdldENvdW50KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRBID0gTWF0aC5hYnMoY2VudGVyMi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAxIDogZEEgPiBkQiA/IC0xIDogMDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXIyLmdldENvdW50KCkgLSBjZW50ZXIxLmdldENvdW50KCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKDMpOyAvLyB0aGlzIGlzIG5vdCByZWFseSBuZWNlc3NhcnkgYXMgd2Ugb25seSByZXR1cm4gZmlyc3QgMyBhbnl3YXkKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gWwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzBdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzFdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzJdCgkgICAgICAgIF07CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0gPSAyOwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuTUlOX1NLSVAgPSAzOyAvLyAxIHBpeGVsL21vZHVsZSB0aW1lcyAzIG1vZHVsZXMvY2VudGVyCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUyA9IDU3OyAvLyBzdXBwb3J0IHVwIHRvIHZlcnNpb24gMTAgZm9yIG1vYmlsZSBjbGllbnRzCgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJRmluZGVyUGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuRmluZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV0ZWN0b3IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIE1hdGhVdGlsc18xID0gTWF0aFV0aWxzJDE7Cgl2YXIgRGV0ZWN0b3JSZXN1bHRfMSA9IERldGVjdG9yUmVzdWx0JDE7CgkvLyBpbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVyJzsKCXZhciBHcmlkU2FtcGxlckluc3RhbmNlXzEgPSBHcmlkU2FtcGxlckluc3RhbmNlJDE7Cgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtJDE7Cgl2YXIgRGVjb2RlSGludFR5cGVfMSQxID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdFBvaW50XzEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIFZlcnNpb25fMSA9IFZlcnNpb24kMTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyXzEgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDE7Cgl2YXIgRmluZGVyUGF0dGVybkZpbmRlcl8xID0gRmluZGVyUGF0dGVybkZpbmRlciQxOwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUVIgQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgUVIgQ29kZQoJICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7CgkgICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKCSAgICB9CgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTsKCSAgICB9OwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBkZXRlY3QoKTogRGV0ZWN0b3JSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZXRlY3QobnVsbCkKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoaGludHMpIHsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gKGhpbnRzID09PSBudWxsIHx8IGhpbnRzID09PSB1bmRlZmluZWQpID8gbnVsbCA6CgkgICAgICAgICAgICAvKihSZXN1bHRQb2ludENhbGxiYWNrKSAqLyBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQxLmRlZmF1bHQuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spOwoJICAgICAgICB2YXIgZmluZGVyID0gbmV3IEZpbmRlclBhdHRlcm5GaW5kZXJfMS5kZWZhdWx0KHRoaXMuaW1hZ2UsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHZhciBpbmZvID0gZmluZGVyLmZpbmQoaGludHMpOwoJICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmluZGVyUGF0dGVybkluZm8oaW5mbyk7CgkgICAgfTsKCSAgICBEZXRlY3Rvci5wcm90b3R5cGUucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvID0gZnVuY3Rpb24gKGluZm8pIHsKCSAgICAgICAgdmFyIHRvcExlZnQgPSBpbmZvLmdldFRvcExlZnQoKTsKCSAgICAgICAgdmFyIHRvcFJpZ2h0ID0gaW5mby5nZXRUb3BSaWdodCgpOwoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGluZm8uZ2V0Qm90dG9tTGVmdCgpOwoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMuY2FsY3VsYXRlTW9kdWxlU2l6ZSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCk7CgkgICAgICAgIGlmIChtb2R1bGVTaXplIDwgMS4wKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ05vIHBhdHRlcm4gZm91bmQgaW4gcHJvY2Nlc3MgZmluZGVyLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkaW1lbnNpb24gPSBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHByb3Zpc2lvbmFsVmVyc2lvbiA9IFZlcnNpb25fMS5kZWZhdWx0LmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pOwoJICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNzsKCSAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsOwoJICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuCgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7CgkgICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhICJib3R0b20gcmlnaHQiIGZpbmRlciBwYXR0ZXJuIHdvdWxkIGhhdmUgYmVlbgoJICAgICAgICAgICAgdmFyIGJvdHRvbVJpZ2h0WCA9IHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpICsgYm90dG9tTGVmdC5nZXRYKCk7CgkgICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRZID0gdG9wUmlnaHQuZ2V0WSgpIC0gdG9wTGVmdC5nZXRZKCkgKyBib3R0b21MZWZ0LmdldFkoKTsKCSAgICAgICAgICAgIC8vIEVzdGltYXRlIHRoYXQgYWxpZ25tZW50IHBhdHRlcm4gaXMgY2xvc2VyIGJ5IDMgbW9kdWxlcwoJICAgICAgICAgICAgLy8gZnJvbSAiYm90dG9tIHJpZ2h0IiB0byBrbm93biB0b3AgbGVmdCBsb2NhdGlvbgoJICAgICAgICAgICAgdmFyIGNvcnJlY3Rpb25Ub1RvcExlZnQgPSAxLjAgLSAzLjAgLyBtb2R1bGVzQmV0d2VlbkZQQ2VudGVyczsKCSAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRYID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WCgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFggLSB0b3BMZWZ0LmdldFgoKSkpOwoJICAgICAgICAgICAgdmFyIGVzdEFsaWdubWVudFkgPSAvKihpbnQpICovIE1hdGguZmxvb3IodG9wTGVmdC5nZXRZKCkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0WSAtIHRvcExlZnQuZ2V0WSgpKSk7CgkgICAgICAgICAgICAvLyBLaW5kIG9mIGFyYml0cmFyeSAtLSBleHBhbmQgc2VhcmNoIHJhZGl1cyBiZWZvcmUgZ2l2aW5nIHVwCgkgICAgICAgICAgICBmb3IgKHZhciBpID0gNDsgaSA8PSAxNjsgaSA8PD0gMSkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudFBhdHRlcm4gPSB0aGlzLmZpbmRBbGlnbm1lbnRJblJlZ2lvbihtb2R1bGVTaXplLCBlc3RBbGlnbm1lbnRYLCBlc3RBbGlnbm1lbnRZLCBpKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGNhdGNoIChyZSAvKk5vdEZvdW5kRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCEocmUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIC8vIHRyeSBuZXh0IHJvdW5kCgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYWxpZ25tZW50IHBhdHRlcm4uLi4gd2VsbCB0cnkgYW55d2F5IHdpdGhvdXQgaXQKCSAgICAgICAgfQoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gRGV0ZWN0b3IuY3JlYXRlVHJhbnNmb3JtKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBhbGlnbm1lbnRQYXR0ZXJuLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgYml0cyA9IERldGVjdG9yLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgcG9pbnRzOwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgcG9pbnRzID0gW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCwgYWxpZ25tZW50UGF0dGVybl07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBEZXRlY3RvclJlc3VsdF8xLmRlZmF1bHQoYml0cywgcG9pbnRzKTsKCSAgICB9OwoJICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7CgkgICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqLwoJICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki8KCSAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovCgkgICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqLwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkgewoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7CgkgICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7CgkgICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludAoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpOwoJICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpOwoJICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtXzEuZGVmYXVsdC5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsKDMuNSwgMy41LCBkaW1NaW51c1RocmVlLCAzLjUsIHNvdXJjZUJvdHRvbVJpZ2h0WCwgc291cmNlQm90dG9tUmlnaHRZLCAzLjUsIGRpbU1pbnVzVGhyZWUsIHRvcExlZnQuZ2V0WCgpLCB0b3BMZWZ0LmdldFkoKSwgdG9wUmlnaHQuZ2V0WCgpLCB0b3BSaWdodC5nZXRZKCksIGJvdHRvbVJpZ2h0WCwgYm90dG9tUmlnaHRZLCBib3R0b21MZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRZKCkpOwoJICAgIH07CgkgICAgRGV0ZWN0b3Iuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24gLyppbnQqLykgewoJICAgICAgICB2YXIgc2FtcGxlciA9IEdyaWRTYW1wbGVySW5zdGFuY2VfMS5kZWZhdWx0LmdldEluc3RhbmNlKCk7CgkgICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkNvbXB1dGVzIHRoZSBkaW1lbnNpb24gKG51bWJlciBvZiBtb2R1bGVzIG9uIGEgc2l6ZSkgb2YgdGhlIFFSIENvZGUgYmFzZWQgb24gdGhlIHBvc2l0aW9uCgkgICAgICogb2YgdGhlIGZpbmRlciBwYXR0ZXJucyBhbmQgZXN0aW1hdGVkIG1vZHVsZSBzaXplLjwvcD4KCSAgICAgKi8KCSAgICBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uID0gZnVuY3Rpb24gKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdGx0ckNlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHNfMS5kZWZhdWx0LnJvdW5kKFJlc3VsdFBvaW50XzEuZGVmYXVsdC5kaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHRsYmxDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzXzEuZGVmYXVsdC5yb3VuZChSZXN1bHRQb2ludF8xLmRlZmF1bHQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3OwoJICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDQKCSAgICAgICAgICAgIGNhc2UgMDoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24rKzsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmcKCSAgICAgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBkaW1lbnNpb247CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnMKCSAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlcgoJICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemUKCSAgICAgKi8KCSAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkgewoJICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlCgkgICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArCgkgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlcwoJICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZQoJICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTsKCSAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7CgkgICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHsKCSAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7CgkgICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLAoJICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuCgkgICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2YKCSAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uCgkgICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uCgkgICAgICovCgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykgewoJICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7CgkgICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlCgkgICAgICAgIHZhciBzY2FsZSA9IDEuMDsKCSAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTsKCSAgICAgICAgICAgIG90aGVyVG9YID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHsKCSAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpOwoJICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7CgkgICAgICAgIHNjYWxlID0gMS4wOwoJICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTsKCSAgICAgICAgICAgIG90aGVyVG9ZID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7CgkgICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7CgkgICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpOwoJICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpOwoJICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDEKCSAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuCgkgICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uCgkgICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+CgkgICAgICoKCSAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7CgkgICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG0KCSAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG0KCSAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAoc3RlZXApIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7CgkgICAgICAgICAgICBmcm9tWCA9IGZyb21ZOwoJICAgICAgICAgICAgZnJvbVkgPSB0ZW1wOwoJICAgICAgICAgICAgdGVtcCA9IHRvWDsKCSAgICAgICAgICAgIHRvWCA9IHRvWTsKCSAgICAgICAgICAgIHRvWSA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7CgkgICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7CgkgICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xOwoJICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTsKCSAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuCgkgICAgICAgIHZhciBzdGF0ZSA9IDA7CgkgICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kCgkgICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDsKCSAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkgewoJICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDsKCSAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7CgkgICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/CgkgICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nCgkgICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5CgkgICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkgewoJICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikgewoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzXzEuZGVmYXVsdC5kaXN0YW5jZSh4LCB5LCBmcm9tWCwgZnJvbVkpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBzdGF0ZSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZXJyb3IgKz0gZHk7CgkgICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7CgkgICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkgewoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgeSArPSB5c3RlcDsKCSAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBGb3VuZCBibGFjay13aGl0ZS1ibGFjazsgZ2l2ZSB0aGUgYmVuZWZpdCBvZiB0aGUgZG91YnQgdGhhdCB0aGUgbmV4dCBwaXhlbCBvdXRzaWRlIHRoZSBpbWFnZQoJICAgICAgICAvLyBpcyAid2hpdGUiIHNvIHRoaXMgbGFzdCBwb2ludCBhdCAodG9YK3hTdGVwLHRvWSkgaXMgdGhlIHJpZ2h0IGVuZGluZy4gVGhpcyBpcyByZWFsbHkgYQoJICAgICAgICAvLyBzbWFsbCBhcHByb3hpbWF0aW9uOyAodG9YK3hTdGVwLHRvWSt5U3RlcCkgbWlnaHQgYmUgcmVhbGx5IGNvcnJlY3QuIElnbm9yZSB0aGlzLgoJICAgICAgICBpZiAoc3RhdGUgPT09IDIpIHsKCSAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHNfMS5kZWZhdWx0LmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGUKCSAgICAgICAgcmV0dXJuIE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMKCSAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyCgkgICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmUKCSAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlcgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZQoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvbgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykgewoJICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdAoJICAgICAgICAvLyBzaG91bGQgYmUKCSAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7CgkgICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTsKCSAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgnQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpOwoJICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMS5kZWZhdWx0KCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcl8xLmRlZmF1bHQodGhpcy5pbWFnZSwgYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhVG9wWSwgYWxpZ25tZW50QXJlYVJpZ2h0WCAtIGFsaWdubWVudEFyZWFMZWZ0WCwgYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSwgb3ZlcmFsbEVzdE1vZHVsZVNpemUsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHJldHVybiBhbGlnbm1lbnRGaW5kZXIuZmluZCgpOwoJICAgIH07CgkgICAgcmV0dXJuIERldGVjdG9yOwoJfSgpKTsKCURldGVjdG9yJDEuZGVmYXVsdCA9IERldGVjdG9yOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUVJDb2RlUmVhZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqLwoJdmFyIEJhcmNvZGVGb3JtYXRfMSA9IEJhcmNvZGVGb3JtYXQkMTsKCXZhciBCaXRNYXRyaXhfMSA9IEJpdE1hdHJpeCQxOwoJdmFyIERlY29kZUhpbnRUeXBlXzEgPSBEZWNvZGVIaW50VHlwZSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdF8xID0gUmVzdWx0JDE7Cgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlXzEgPSBSZXN1bHRNZXRhZGF0YVR5cGUkMTsKCS8vIGltcG9ydCBEZXRlY3RvclJlc3VsdCBmcm9tICcuLi9jb21tb24vRGV0ZWN0b3JSZXN1bHQnOwoJdmFyIERlY29kZXJfMSA9IERlY29kZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSA9IFFSQ29kZURlY29kZXJNZXRhRGF0YSQxOwoJdmFyIERldGVjdG9yXzEgPSBEZXRlY3RvciQxOwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki8KCS8qKgoJICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgUVIgQ29kZXMgaW4gYW4gaW1hZ2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBRUkNvZGVSZWFkZXIoKSB7CgkgICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBEZWNvZGVyXzEuZGVmYXVsdCgpOwoJICAgIH0KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmdldERlY29kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgUVIgY29kZSBpbiBhbiBpbWFnZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gYSByZXByZXNlbnRpbmc6IHN0cmluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBRUiBjb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFFSIGNvZGUgY2Fubm90IGJlIGZvdW5kCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIC8vIHB1YmxpYyBkZWNvZGUoaW1hZ2U6IEJpbmFyeUJpdG1hcCk6IFJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiAqLyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5kZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHsKCSAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7CgkgICAgICAgIHZhciBwb2ludHM7CgkgICAgICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkICYmIGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEuZGVmYXVsdC5QVVJFX0JBUkNPREUpKSB7CgkgICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7CgkgICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yXzEuZGVmYXVsdChpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoaGludHMpOwoJICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGVCaXRNYXRyaXgoZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB0aGUgY29kZSB3YXMgbWlycm9yZWQ6IHN3YXAgdGhlIGJvdHRvbS1sZWZ0IGFuZCB0aGUgdG9wLXJpZ2h0IHBvaW50cy4KCSAgICAgICAgaWYgKGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKSBpbnN0YW5jZW9mIFFSQ29kZURlY29kZXJNZXRhRGF0YV8xLmRlZmF1bHQpIHsKCSAgICAgICAgICAgIGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbihwb2ludHMpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0XzEuZGVmYXVsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdF8xLmRlZmF1bHQuUVJfQ09ERSwgdW5kZWZpbmVkKTsKCSAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IGRlY29kZXJSZXN1bHQuZ2V0Qnl0ZVNlZ21lbnRzKCk7CgkgICAgICAgIGlmIChieXRlU2VnbWVudHMgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTsKCSAgICAgICAgaWYgKGVjTGV2ZWwgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkgewoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UsIGRlY29kZXJSZXN1bHQuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyKCkpOwoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfUEFSSVRZLCBkZWNvZGVyUmVzdWx0LmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkoKSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBkbyBub3RoaW5nCgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBUaGlzIG1ldGhvZCBkZXRlY3RzIGEgY29kZSBpbiBhICJwdXJlIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2UKCSAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlcgoJICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWwKCSAgICAgKiBjYXNlLgoJICAgICAqCgkgICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KQoJICAgICAqLwoJICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHsKCSAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpOwoJICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTsKCSAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLm1vZHVsZVNpemUobGVmdFRvcEJsYWNrLCBpbWFnZSk7CgkgICAgICAgIHZhciB0b3AgPSBsZWZ0VG9wQmxhY2tbMV07CgkgICAgICAgIHZhciBib3R0b20gPSByaWdodEJvdHRvbUJsYWNrWzFdOwoJICAgICAgICB2YXIgbGVmdCA9IGxlZnRUb3BCbGFja1swXTsKCSAgICAgICAgdmFyIHJpZ2h0ID0gcmlnaHRCb3R0b21CbGFja1swXTsKCSAgICAgICAgLy8gU2FuaXR5IGNoZWNrIQoJICAgICAgICBpZiAobGVmdCA+PSByaWdodCB8fCB0b3AgPj0gYm90dG9tKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCAhPT0gcmlnaHQgLSBsZWZ0KSB7CgkgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UsIHdoZXJlIGJvdHRvbS1yaWdodCBtb2R1bGUgd2Fzbid0IGJsYWNrIHNvIHdlIGZvdW5kIHNvbWV0aGluZyBlbHNlIGluIHRoZSBsYXN0IHJvdwoJICAgICAgICAgICAgLy8gQXNzdW1lIGl0J3MgYSBzcXVhcmUsIHNvIHVzZSBoZWlnaHQgYXMgdGhlIHdpZHRoCgkgICAgICAgICAgICByaWdodCA9IGxlZnQgKyAoYm90dG9tIC0gdG9wKTsKCSAgICAgICAgICAgIGlmIChyaWdodCA+PSBpbWFnZS5nZXRXaWR0aCgpKSB7CgkgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhhdCB3b3VsZCBub3QgbWFrZSBzZW5zZSAtLSBvZmYgaW1hZ2UKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7CgkgICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG1hdHJpeEhlaWdodCAhPT0gbWF0cml4V2lkdGgpIHsKCSAgICAgICAgICAgIC8vIE9ubHkgcG9zc2libHkgZGVjb2RlIHNxdWFyZSByZWdpb25zCgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gUHVzaCBpbiB0aGUgImJvcmRlciIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnQKCSAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGEKCSAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci4KCSAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApOwoJICAgICAgICB0b3AgKz0gbnVkZ2U7CgkgICAgICAgIGxlZnQgKz0gbnVkZ2U7CgkgICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlCgkgICAgICAgIC8vICJyaWdodCIgaXMgdGhlIGZhcnRoZXN0LXJpZ2h0IHZhbGlkIHBpeGVsIGxvY2F0aW9uIC0tIHJpZ2h0KzEgaXMgbm90IG5lY2Vzc2FyaWx5CgkgICAgICAgIC8vIFRoaXMgaXMgcG9zaXRpdmUgYnkgaG93IG11Y2ggdGhlIGlubmVyIHggbG9vcCBiZWxvdyB3b3VsZCBiZSB0b28gbGFyZ2UKCSAgICAgICAgdmFyIG51ZGdlZFRvb0ZhclJpZ2h0ID0gbGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4V2lkdGggLSAxKSAqIG1vZHVsZVNpemUpIC0gcmlnaHQ7CgkgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IDApIHsKCSAgICAgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsZWZ0IC09IG51ZGdlZFRvb0ZhclJpZ2h0OwoJICAgICAgICB9CgkgICAgICAgIC8vIFNlZSBsb2dpYyBhYm92ZQoJICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyRG93biA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4SGVpZ2h0IC0gMSkgKiBtb2R1bGVTaXplKSAtIGJvdHRvbTsKCSAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiAwKSB7CgkgICAgICAgICAgICBpZiAobnVkZ2VkVG9vRmFyRG93biA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0cwoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMS5kZWZhdWx0KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih5ICogbW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hdHJpeFdpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGxlZnQgKyAvKihpbnQpICovIE1hdGguZmxvb3IoeCAqIG1vZHVsZVNpemUpLCBpT2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7CgkgICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHggPSBsZWZ0VG9wQmxhY2tbMF07CgkgICAgICAgIHZhciB5ID0gbGVmdFRvcEJsYWNrWzFdOwoJICAgICAgICB2YXIgaW5CbGFjayA9IHRydWU7CgkgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7CgkgICAgICAgIHdoaWxlICh4IDwgd2lkdGggJiYgeSA8IGhlaWdodCkgewoJICAgICAgICAgICAgaWYgKGluQmxhY2sgIT09IGltYWdlLmdldCh4LCB5KSkgewoJICAgICAgICAgICAgICAgIGlmICgrK3RyYW5zaXRpb25zID09PSA1KSB7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBpbkJsYWNrID0gIWluQmxhY2s7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB4Kys7CgkgICAgICAgICAgICB5Kys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHggPT09IHdpZHRoIHx8IHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiAoeCAtIGxlZnRUb3BCbGFja1swXSkgLyA3LjA7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTID0gbmV3IEFycmF5KCk7CgkgICAgcmV0dXJuIFFSQ29kZVJlYWRlcjsKCX0oKSk7Cgl2YXIgX2RlZmF1bHQgPSBRUkNvZGVSZWFkZXIkMS5kZWZhdWx0ID0gUVJDb2RlUmVhZGVyOwoKCXZhciB0b0dyYXlzY2FsZUJ1ZmZlciA9IGZ1bmN0aW9uIHRvR3JheXNjYWxlQnVmZmVyKGltYWdlQnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7CgkgIHZhciBncmF5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpOwoKCSAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBsZW5ndGhfMSA9IGltYWdlQnVmZmVyLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpICs9IDQsIGorKykgewoJICAgIHZhciBncmF5ID0gdm9pZCAwOwoJICAgIHZhciBhbHBoYSA9IGltYWdlQnVmZmVyW2kgKyAzXTsgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50CgkgICAgLy8gYmxhY2sgKDAgYWxwaGEsIGFuZCB0aGVuIDAgUkdCKS4gVGhleSBhcmUgb2Z0ZW4gdXNlZCwgb2YgY291cnNlIGFzIHRoZSAid2hpdGUiIGFyZWEgaW4gYQoJICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOgoKCSAgICBpZiAoYWxwaGEgPT09IDApIHsKCSAgICAgIGdyYXkgPSAweEZGOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07CgkgICAgICB2YXIgcGl4ZWxHID0gaW1hZ2VCdWZmZXJbaSArIDFdOwoJICAgICAgdmFyIHBpeGVsQiA9IGltYWdlQnVmZmVyW2kgKyAyXTsgLy8gLjI5OVIgKyAwLjU4N0cgKyAwLjExNEIgKFlVVi9ZSVEgZm9yIFBBTCBhbmQgTlRTQyksCgkgICAgICAvLyAoMzA2KlIpID4+IDEwIGlzIGFwcHJveGltYXRlbHkgZXF1YWwgdG8gUiowLjI5OSwgYW5kIHNvIG9uLgoJICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLgoKCSAgICAgIGdyYXkgPSAzMDYgKiBwaXhlbFIgKyA2MDEgKiBwaXhlbEcgKyAxMTcgKiBwaXhlbEIgKyAweDIwMCA+PiAxMDsKCSAgICB9CgoJICAgIGdyYXlzY2FsZUJ1ZmZlcltqXSA9IGdyYXk7CgkgIH0KCgkgIHJldHVybiBncmF5c2NhbGVCdWZmZXI7Cgl9OwoKCXZhciByZWFkZXIgPSBuZXcgX2RlZmF1bHQoKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CgkgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCgkgIHRyeSB7CgkgICAgdmFyIGx1bWluYW5jZXMgPSB0b0dyYXlzY2FsZUJ1ZmZlcihlLmRhdGEuZGF0YSwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgbHVtaW5hbmNlU291cmNlID0gbmV3IF9kZWZhdWx0JDEobHVtaW5hbmNlcywgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgaHlicmlkQmluYXJpemVyID0gbmV3IF9kZWZhdWx0JDIobHVtaW5hbmNlU291cmNlKTsKCSAgICB2YXIgYmluYXJ5Qml0bWFwID0gbmV3IF9kZWZhdWx0JDMoaHlicmlkQmluYXJpemVyKTsKCSAgICB2YXIgZGVjb2RlZCA9IHJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwKTsKCSAgICBwb3N0TWVzc2FnZShkZWNvZGVkKTsKCSAgfSBjYXRjaCAoZXJyKSB7CgkgICAgcG9zdE1lc3NhZ2UobnVsbCk7CgkgIH0KCX0pOwoKfSkoKTsKCg==",null,!1),O=["constraints","onError","onLoad","onScan","resolution","qrArea"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(){return new j},$=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().forEach((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().forEach((function(t){e.removeTrack(t),t.stop()}))):e.stop())},ee=function(e){var t=e.constraints,r=e.onError,a=e.onLoad,i=e.onScan,l=e.resolution,g=e.qrArea,c=d(e,O),u=n.useRef(null),I=n.useRef(null),C=n.useRef(document.createElement("canvas")),m=n.useRef(null),p=n.useRef(),A=s(n.useState(null),2),h=A[0],b=A[1],f=n.useRef(!1),v=n.useRef();n.useEffect((function(){v.current=_();var e=v.current;return e.onmessage=function(e){i&&i(e.data?q(q({},e.data),{},{canvas:C.current}):null),f.current=!1},function(){e.terminate()}}),[i]);var y=JSON.stringify(g),Z=n.useCallback((function(){var e=JSON.parse(y),t=v.current,n=I.current&&I.current.readyState===I.current.HAVE_ENOUGH_DATA;if(!f.current&&n){f.current=!0;var o,r=I.current.videoWidth,a=I.current.videoHeight,i=r>a?r:a,g=Math.floor(l/i*100)/100;a=Math.floor(g*a),r=Math.floor(g*r),C.current.width=r,C.current.height=a,m.current=C.current.getContext("2d"),m.current.drawImage(I.current,0,0,r,a),o=e&&2===e.length&&e[0]>0&&e[1]>0?m.current.getImageData(Math.floor((r-e[0])/2),Math.floor((a-e[1])/2),e[0],e[1]):m.current.getImageData(0,0,r,a),t.postMessage(o)}p.current=requestAnimationFrame(Z)}),[l,y]),G=JSON.stringify(t);return n.useEffect((function(){var e=JSON.parse(G),t=!0;return navigator.mediaDevices.getUserMedia(e).then((function(e){if(t){u.current=e;try{I.current&&(I.current.srcObject=e,I.current.setAttribute("playsinline",!0))}catch(n){b(window.URL.createObjectURL(e))}a&&a(),p.current=requestAnimationFrame(Z)}else $(e)})).catch((function(e){return t?r(e):null})),function(){cancelAnimationFrame(p.current),t=!1,$(u.current),h&&window.URL.revokeObjectURL(h)}}),[Z,G,r,a,h]),n.createElement("video",o({autoPlay:!0,playsInline:!0,src:h,ref:I},c))};return ee.propTypes={constraints:D.object,onError:D.func.isRequired,onLoad:D.func,onScan:D.func.isRequired,resolution:D.number,qrArea:D.array},ee.defaultProps={constraints:{audio:!1,video:!0},resolution:640,qrArea:[]},ee}(n(791))},374:function(e,t,n){"use strict";var o=n(791),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var o,a={},c=null,s=null;for(o in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(s=t.ref),t)i.call(t,o)&&!g.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:r,type:e,key:c,ref:s,props:a,_owner:l.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),g=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),I=Symbol.iterator;var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,p={};function A(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||C}function h(){}function b(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||C}A.prototype.isReactComponent={},A.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},A.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},h.prototype=A.prototype;var f=b.prototype=new h;f.constructor=b,m(f,A.prototype),f.isPureReactComponent=!0;var v=Array.isArray,y=Object.prototype.hasOwnProperty,Z={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,o){var r,a={},i=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)y.call(t,r)&&!G.hasOwnProperty(r)&&(a[r]=t[r]);var g=arguments.length-2;if(1===g)a.children=o;else if(1<g){for(var c=Array(g),s=0;s<g;s++)c[s]=arguments[s+2];a.children=c}if(e&&e.defaultProps)for(r in g=e.defaultProps)void 0===a[r]&&(a[r]=g[r]);return{$$typeof:n,type:e,key:i,ref:l,props:a,_owner:Z.current}}function B(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function V(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function W(e,t,r,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var g=!1;if(null===e)g=!0;else switch(l){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case n:case o:g=!0}}if(g)return i=i(g=e),e=""===a?"."+V(g,0):a,v(i)?(r="",null!=e&&(r=e.replace(k,"$&/")+"/"),W(i,t,r,"",(function(e){return e}))):null!=i&&(B(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||g&&g.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+e)),t.push(i)),1;if(g=0,a=""===a?".":a+":",v(e))for(var c=0;c<e.length;c++){var s=a+V(l=e[c],c);g+=W(l,t,r,s,i)}else if(s=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}(e),"function"===typeof s)for(e=s.call(e),c=0;!(l=e.next()).done;)g+=W(l=l.value,t,r,s=a+V(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function w(e,t,n){if(null==e)return e;var o=[],r=0;return W(e,o,"","",(function(e){return t.call(n,e,r++)})),o}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var X={current:null},J={transition:null},x={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:J,ReactCurrentOwner:Z};t.Children={map:w,forEach:function(e,t,n){w(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return w(e,(function(){t++})),t},toArray:function(e){return w(e,(function(e){return e}))||[]},only:function(e){if(!B(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=A,t.Fragment=r,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=s,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x,t.cloneElement=function(e,t,o){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=Z.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(c in t)y.call(t,c)&&!G.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==g?g[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=o;else if(1<c){g=Array(c);for(var s=0;s<c;s++)g[s]=arguments[s+2];r.children=g}return{$$typeof:n,type:e.type,key:a,ref:i,props:r,_owner:l}},t.createContext=function(e){return(e={$$typeof:g,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=B,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=J.transition;J.transition={};try{e()}finally{J.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return X.current.useCallback(e,t)},t.useContext=function(e){return X.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return X.current.useDeferredValue(e)},t.useEffect=function(e,t){return X.current.useEffect(e,t)},t.useId=function(){return X.current.useId()},t.useImperativeHandle=function(e,t,n){return X.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return X.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return X.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return X.current.useMemo(e,t)},t.useReducer=function(e,t,n){return X.current.useReducer(e,t,n)},t.useRef=function(e){return X.current.useRef(e)},t.useState=function(e){return X.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return X.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return X.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,r=e[o];if(!(0<a(r,t)))break e;e[o]=t,e[n]=r,n=o}}function o(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,r=e.length,i=r>>>1;o<i;){var l=2*(o+1)-1,g=e[l],c=l+1,s=e[c];if(0>a(g,n))c<r&&0>a(s,g)?(e[o]=s,e[c]=n,o=c):(e[o]=g,e[l]=n,o=l);else{if(!(c<r&&0>a(s,n)))break e;e[o]=s,e[c]=n,o=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,g=l.now();t.unstable_now=function(){return l.now()-g}}var c=[],s=[],u=1,d=null,I=3,C=!1,m=!1,p=!1,A="function"===typeof setTimeout?setTimeout:null,h="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function f(e){for(var t=o(s);null!==t;){if(null===t.callback)r(s);else{if(!(t.startTime<=e))break;r(s),t.sortIndex=t.expirationTime,n(c,t)}t=o(s)}}function v(e){if(p=!1,f(e),!m)if(null!==o(c))m=!0,J(y);else{var t=o(s);null!==t&&x(v,t.startTime-e)}}function y(e,n){m=!1,p&&(p=!1,h(B),B=-1),C=!0;var a=I;try{for(f(n),d=o(c);null!==d&&(!(d.expirationTime>n)||e&&!W());){var i=d.callback;if("function"===typeof i){d.callback=null,I=d.priorityLevel;var l=i(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?d.callback=l:d===o(c)&&r(c),f(n)}else r(c);d=o(c)}if(null!==d)var g=!0;else{var u=o(s);null!==u&&x(v,u.startTime-n),g=!1}return g}finally{d=null,I=a,C=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Z,G=!1,S=null,B=-1,k=5,V=-1;function W(){return!(t.unstable_now()-V<k)}function w(){if(null!==S){var e=t.unstable_now();V=e;var n=!0;try{n=S(!0,e)}finally{n?Z():(G=!1,S=null)}}else G=!1}if("function"===typeof b)Z=function(){b(w)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,X=R.port2;R.port1.onmessage=w,Z=function(){X.postMessage(null)}}else Z=function(){A(w,0)};function J(e){S=e,G||(G=!0,Z())}function x(e,n){B=A((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||C||(m=!0,J(y))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return o(c)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,r,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(e.sortIndex=a,n(s,e),null===o(c)&&e===o(s)&&(p?(h(B),B=-1):p=!0,x(v,a-i))):(e.sortIndex=l,n(c,e),m||C||(m=!0,J(y))),e},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},830:function(e,t,n){var o=n(690).default,r=n(728).default,a=n(588).default,i=n(808).default,l=n(655).default,g=n(389).default,c=n(515).default,s=n(278).default,u=n(861).default;e.exports=function(){"use strict";function e(e,t){return d(e,n(e,t,"get"))}function t(e,t,o){return I(e,n(e,t,"set"),o),o}function n(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function d(e,t){return t.get?t.get.call(e):t.value}function I(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function C(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function m(e,t,n){C(e,t),t.set(e,n)}var p=100,A={},h=function(){A.previousActiveElement instanceof HTMLElement?(A.previousActiveElement.focus(),A.previousActiveElement=null):document.body&&document.body.focus()},b=function(e){return new Promise((function(t){if(!e)return t();var n=window.scrollX,o=window.scrollY;A.restoreFocusTimeout=setTimeout((function(){h(),t()}),p),window.scrollTo(n,o)}))},f="swal2-",v=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((function(e,t){return e[t]=f+t,e}),{}),y=["success","warning","info","question","error"].reduce((function(e,t){return e[t]=f+t,e}),{}),Z="SweetAlert2:",G=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},S=function(e){console.warn("".concat(Z," ").concat("object"===typeof e?e.join(" "):e))},B=function(e){console.error("".concat(Z," ").concat(e))},k=[],V=function(e){k.includes(e)||(k.push(e),S(e))},W=function(e,t){V('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},w=function(e){return"function"===typeof e?e():e},R=function(e){return e&&"function"===typeof e.toPromise},X=function(e){return R(e)?e.toPromise():Promise.resolve(e)},J=function(e){return e&&Promise.resolve(e)===e},x=function(){return document.body.querySelector(".".concat(v.container))},H=function(e){var t=x();return t?t.querySelector(e):null},Y=function(e){return H(".".concat(e))},N=function(){return Y(v.popup)},F=function(){return Y(v.icon)},E=function(){return Y(v["icon-content"])},K=function(){return Y(v.title)},M=function(){return Y(v["html-container"])},L=function(){return Y(v.image)},z=function(){return Y(v["progress-steps"])},D=function(){return Y(v["validation-message"])},T=function(){return H(".".concat(v.actions," .").concat(v.confirm))},U=function(){return H(".".concat(v.actions," .").concat(v.cancel))},Q=function(){return H(".".concat(v.actions," .").concat(v.deny))},j=function(){return Y(v["input-label"])},O=function(){return H(".".concat(v.loader))},P=function(){return Y(v.actions)},q=function(){return Y(v.footer)},_=function(){return Y(v["timer-progress-bar"])},$=function(){return Y(v.close)},ee='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',te=function(){var e=N();if(!e)return[];var t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((function(e,t){var n=parseInt(e.getAttribute("tabindex")||"0"),o=parseInt(t.getAttribute("tabindex")||"0");return n>o?1:n<o?-1:0})),o=e.querySelectorAll(ee),r=Array.from(o).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return u(new Set(n.concat(r))).filter((function(e){return fe(e)}))},ne=function(){return ie(document.body,v.shown)&&!ie(document.body,v["toast-shown"])&&!ie(document.body,v["no-backdrop"])},oe=function(){var e=N();return!!e&&ie(e,v.toast)},re=function(){var e=N();return!!e&&e.hasAttribute("data-loading")},ae=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html"),o=n.querySelector("head");o&&Array.from(o.childNodes).forEach((function(t){e.appendChild(t)}));var r=n.querySelector("body");r&&Array.from(r.childNodes).forEach((function(t){t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},ie=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),o=0;o<n.length;o++)if(!e.classList.contains(n[o]))return!1;return!0},le=function(e,t){Array.from(e.classList).forEach((function(n){Object.values(v).includes(n)||Object.values(y).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)}))},ge=function(e,t,n){if(le(e,t),t.customClass&&t.customClass[n]){if("string"!==typeof t.customClass[n]&&!t.customClass[n].forEach)return void S("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof t.customClass[n],'"'));de(e,t.customClass[n])}},ce=function(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(v.popup," > .").concat(v[t]));case"checkbox":return e.querySelector(".".concat(v.popup," > .").concat(v.checkbox," input"));case"radio":return e.querySelector(".".concat(v.popup," > .").concat(v.radio," input:checked"))||e.querySelector(".".concat(v.popup," > .").concat(v.radio," input:first-child"));case"range":return e.querySelector(".".concat(v.popup," > .").concat(v.range," input"));default:return e.querySelector(".".concat(v.popup," > .").concat(v.input))}},se=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},ue=function(e,t,n){e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},de=function(e,t){ue(e,t,!0)},Ie=function(e,t){ue(e,t,!1)},Ce=function(e,t){for(var n=Array.from(e.children),o=0;o<n.length;o++){var r=n[o];if(r instanceof HTMLElement&&ie(r,t))return r}},me=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"===typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},Ae=function(e){e&&(e.style.display="none")},he=function(e,t,n,o){var r=e.querySelector(t);r&&(r.style[n]=o)},be=function(e,t){t?pe(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Ae(e)},fe=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},ve=function(){return!fe(T())&&!fe(Q())&&!fe(U())},ye=function(e){return!!(e.scrollHeight>e.clientHeight)},Ze=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),o=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||o>0},Ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=_();n&&fe(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},Se=function(){var e=_();if(e){var t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width="".concat(n,"%")}},Be=function(){return"undefined"===typeof window||"undefined"===typeof document},ke='\n <div aria-labelledby="'.concat(v.title,'" aria-describedby="').concat(v["html-container"],'" class="').concat(v.popup,'" tabindex="-1">\n   <button type="button" class="').concat(v.close,'"></button>\n   <ul class="').concat(v["progress-steps"],'"></ul>\n   <div class="').concat(v.icon,'"></div>\n   <img class="').concat(v.image,'" />\n   <h2 class="').concat(v.title,'" id="').concat(v.title,'"></h2>\n   <div class="').concat(v["html-container"],'" id="').concat(v["html-container"],'"></div>\n   <input class="').concat(v.input,'" id="').concat(v.input,'" />\n   <input type="file" class="').concat(v.file,'" />\n   <div class="').concat(v.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(v.select,'" id="').concat(v.select,'"></select>\n   <div class="').concat(v.radio,'"></div>\n   <label class="').concat(v.checkbox,'">\n     <input type="checkbox" id="').concat(v.checkbox,'" />\n     <span class="').concat(v.label,'"></span>\n   </label>\n   <textarea class="').concat(v.textarea,'" id="').concat(v.textarea,'"></textarea>\n   <div class="').concat(v["validation-message"],'" id="').concat(v["validation-message"],'"></div>\n   <div class="').concat(v.actions,'">\n     <div class="').concat(v.loader,'"></div>\n     <button type="button" class="').concat(v.confirm,'"></button>\n     <button type="button" class="').concat(v.deny,'"></button>\n     <button type="button" class="').concat(v.cancel,'"></button>\n   </div>\n   <div class="').concat(v.footer,'"></div>\n   <div class="').concat(v["timer-progress-bar-container"],'">\n     <div class="').concat(v["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Ve=function(){var e=x();return!!e&&(e.remove(),Ie([document.documentElement,document.body],[v["no-backdrop"],v["toast-shown"],v["has-column"]]),!0)},We=function(){A.currentInstance.resetValidationMessage()},we=function(){var e=N(),t=Ce(e,v.input),n=Ce(e,v.file),o=e.querySelector(".".concat(v.range," input")),r=e.querySelector(".".concat(v.range," output")),a=Ce(e,v.select),i=e.querySelector(".".concat(v.checkbox," input")),l=Ce(e,v.textarea);t.oninput=We,n.onchange=We,a.onchange=We,i.onchange=We,l.oninput=We,o.oninput=function(){We(),r.value=o.value},o.onchange=function(){We(),r.value=o.value}},Re=function(e){return"string"===typeof e?document.querySelector(e):e},Xe=function(e){var t=N();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Je=function(e){"rtl"===window.getComputedStyle(e).direction&&de(x(),v.rtl)},xe=function(e){var t=Ve();if(Be())B("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=v.container,t&&de(n,v["no-transition"]),ae(n,ke);var o=Re(e.target);o.appendChild(n),Xe(e),Je(o),we()}},He=function(e,t){e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?Ye(e,t):e&&ae(t,e)},Ye=function(e,t){e.jquery?Ne(t,e):ae(t,e.toString())},Ne=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Fe=function(){if(Be())return!1;var e=document.createElement("div");return"undefined"!==typeof e.style.webkitAnimation?"webkitAnimationEnd":"undefined"!==typeof e.style.animation&&"animationend"}(),Ee=function(e,t){var n=P(),o=O();n&&o&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?pe(n):Ae(n),ge(n,t,"actions"),Ke(n,o,t),ae(o,t.loaderHtml||""),ge(o,t,"loader"))};function Ke(e,t,n){var o=T(),r=Q(),a=U();o&&r&&a&&(Le(o,"confirm",n),Le(r,"deny",n),Le(a,"cancel",n),Me(o,r,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,o),e.insertBefore(r,o)):(e.insertBefore(a,t),e.insertBefore(r,t),e.insertBefore(o,t))))}function Me(e,t,n,o){o.buttonsStyling?(de([e,t,n],v.styled),o.confirmButtonColor&&(e.style.backgroundColor=o.confirmButtonColor,de(e,v["default-outline"])),o.denyButtonColor&&(t.style.backgroundColor=o.denyButtonColor,de(t,v["default-outline"])),o.cancelButtonColor&&(n.style.backgroundColor=o.cancelButtonColor,de(n,v["default-outline"]))):Ie([e,t,n],v.styled)}function Le(e,t,n){var o=G(t);be(e,n["show".concat(o,"Button")],"inline-block"),ae(e,n["".concat(t,"ButtonText")]||""),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]||""),e.className=v[t],ge(e,n,"".concat(t,"Button"))}var ze=function(e,t){var n=$();n&&(ae(n,t.closeButtonHtml||""),ge(n,t,"closeButton"),be(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},De=function(e,t){var n=x();n&&(Te(n,t.backdrop),Ue(n,t.position),Qe(n,t.grow),ge(n,t,"container"))};function Te(e,t){"string"===typeof t?e.style.background=t:t||de([document.documentElement,document.body],v["no-backdrop"])}function Ue(e,t){t&&(t in v?de(e,v[t]):(S('The "position" parameter is not valid, defaulting to "center"'),de(e,v.center)))}function Qe(e,t){t&&de(e,v["grow-".concat(t)])}var je={innerParams:new WeakMap,domCache:new WeakMap},Oe=["input","file","range","select","radio","checkbox","textarea"],Pe=function(e,t){var n=N();if(n){var o=je.innerParams.get(e),r=!o||t.input!==o.input;Oe.forEach((function(e){var o=Ce(n,v[e]);o&&($e(e,t.inputAttributes),o.className=v[e],r&&Ae(o))})),t.input&&(r&&qe(t),et(t))}},qe=function(e){if(e.input)if(at[e.input]){var t=ot(e.input),n=at[e.input](t,e);pe(t),e.inputAutoFocus&&setTimeout((function(){se(n)}))}else B('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'))},_e=function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},$e=function(e,t){var n=ce(N(),e);if(n)for(var o in _e(n),t)n.setAttribute(o,t[o])},et=function(e){var t=ot(e.input);"object"===typeof e.customClass&&de(t,e.customClass.input)},tt=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},nt=function(e,t,n){if(n.inputLabel){var o=document.createElement("label"),r=v["input-label"];o.setAttribute("for",e.id),o.className=r,"object"===typeof n.customClass&&de(o,n.customClass.inputLabel),o.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",o)}},ot=function(e){return Ce(N(),v[e]||v.input)},rt=function(e,t){["string","number"].includes(typeof t)?e.value="".concat(t):J(t)||S('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},at={};at.text=at.email=at.password=at.number=at.tel=at.url=function(e,t){return rt(e,t.inputValue),nt(e,e,t),tt(e,t),e.type=t.input,e},at.file=function(e,t){return nt(e,e,t),tt(e,t),e},at.range=function(e,t){var n=e.querySelector("input"),o=e.querySelector("output");return rt(n,t.inputValue),n.type=t.input,rt(o,t.inputValue),nt(n,e,t),e},at.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");ae(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return nt(e,e,t),e},at.radio=function(e){return e.textContent="",e},at.checkbox=function(e,t){var n=ce(N(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);var o=e.querySelector("span");return ae(o,t.inputPlaceholder),n},at.textarea=function(e,t){rt(e,t.inputValue),tt(e,t),nt(e,e,t);var n=function(e){return parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight)};return setTimeout((function(){if("MutationObserver"in window){var o=parseInt(window.getComputedStyle(N()).width);new MutationObserver((function(){if(document.body.contains(e)){var r=e.offsetWidth+n(e);r>o?N().style.width="".concat(r,"px"):me(N(),"width",t.width)}})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};var it=function(e,t){var n=M();n&&(ge(n,t,"htmlContainer"),t.html?(He(t.html,n),pe(n,"block")):t.text?(n.textContent=t.text,pe(n,"block")):Ae(n),Pe(e,t))},lt=function(e,t){var n=q();n&&(be(n,t.footer,"block"),t.footer&&He(t.footer,n),ge(n,t,"footer"))},gt=function(e,t){var n=je.innerParams.get(e),o=F();if(o){if(n&&t.icon===n.icon)return It(o,t),void ct(o,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(y).indexOf(t.icon))return B('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void Ae(o);pe(o),It(o,t),ct(o,t),de(o,t.showClass&&t.showClass.icon)}else Ae(o)}},ct=function(e,t){for(var n=0,o=Object.entries(y);n<o.length;n++){var r=s(o[n],2),a=r[0],i=r[1];t.icon!==a&&Ie(e,i)}de(e,t.icon&&y[t.icon]),Ct(e,t),st(),ge(e,t,"icon")},st=function(){var e=N();if(e)for(var t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),o=0;o<n.length;o++)n[o].style.backgroundColor=t},ut='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',dt='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',It=function(e,t){if(t.icon||t.iconHtml){var n=e.innerHTML,o="";t.iconHtml?o=mt(t.iconHtml):"success"===t.icon?(o=ut,n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?o=dt:t.icon&&(o=mt({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==o.trim()&&ae(e,o)}},Ct=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,o=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<o.length;n++){var r=o[n];he(e,r,"backgroundColor",t.iconColor)}he(e,".swal2-success-ring","borderColor",t.iconColor)}},mt=function(e){return'<div class="'.concat(v["icon-content"],'">').concat(e,"</div>")},pt=function(e,t){var n=L();n&&(t.imageUrl?(pe(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),me(n,"width",t.imageWidth),me(n,"height",t.imageHeight),n.className=v.image,ge(n,t,"image")):Ae(n))},At=function(e,t){var n=x(),o=N();if(n&&o){if(t.toast){me(n,"width",t.width),o.style.width="100%";var r=O();r&&o.insertBefore(r,F())}else me(o,"width",t.width);me(o,"padding",t.padding),t.color&&(o.style.color=t.color),t.background&&(o.style.background=t.background),Ae(D()),ht(o,t)}},ht=function(e,t){var n=t.showClass||{};e.className="".concat(v.popup," ").concat(fe(e)?n.popup:""),t.toast?(de([document.documentElement,document.body],v["toast-shown"]),de(e,v.toast)):de(e,v.modal),ge(e,t,"popup"),"string"===typeof t.customClass&&de(e,t.customClass),t.icon&&de(e,v["icon-".concat(t.icon)])},bt=function(e,t){var n=z();if(n){var o=t.progressSteps,r=t.currentProgressStep;o&&0!==o.length&&void 0!==r?(pe(n),n.textContent="",r>=o.length&&S("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.forEach((function(e,a){var i=ft(e);if(n.appendChild(i),a===r&&de(i,v["active-progress-step"]),a!==o.length-1){var l=vt(t);n.appendChild(l)}}))):Ae(n)}},ft=function(e){var t=document.createElement("li");return de(t,v["progress-step"]),ae(t,e),t},vt=function(e){var t=document.createElement("li");return de(t,v["progress-step-line"]),e.progressStepsDistance&&me(t,"width",e.progressStepsDistance),t},yt=function(e,t){var n=K();n&&(be(n,t.title||t.titleText,"block"),t.title&&He(t.title,n),t.titleText&&(n.innerText=t.titleText),ge(n,t,"title"))},Zt=function(e,t){At(e,t),De(e,t),bt(e,t),gt(e,t),pt(e,t),yt(e,t),ze(e,t),it(e,t),Ee(e,t),lt(e,t);var n=N();"function"===typeof t.didRender&&n&&t.didRender(n)},Gt=function(){return fe(N())},St=function(){var e;return null===(e=T())||void 0===e?void 0:e.click()},Bt=function(){var e;return null===(e=Q())||void 0===e?void 0:e.click()},kt=function(){var e;return null===(e=U())||void 0===e?void 0:e.click()},Vt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Wt=function(e){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},wt=function(e,t,n){Wt(e),t.toast||(e.keydownHandler=function(e){return xt(t,e,n)},e.keydownTarget=t.keydownListenerCapture?window:N(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Rt=function(e,t){var n,o=te();if(o.length)return(e+=t)===o.length?e=0:-1===e&&(e=o.length-1),void o[e].focus();null===(n=N())||void 0===n||n.focus()},Xt=["ArrowRight","ArrowDown"],Jt=["ArrowLeft","ArrowUp"],xt=function(e,t,n){e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Ht(t,e):"Tab"===t.key?Yt(t):[].concat(Xt,Jt).includes(t.key)?Nt(t.key):"Escape"===t.key&&Ft(t,e,n)))},Ht=function(e,t){if(w(t.allowEnterKey)){var n=ce(N(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;St(),e.preventDefault()}}},Yt=function(e){for(var t=e.target,n=te(),o=-1,r=0;r<n.length;r++)if(t===n[r]){o=r;break}e.shiftKey?Rt(o,-1):Rt(o,1),e.stopPropagation(),e.preventDefault()},Nt=function(e){var t=P(),n=T(),o=Q(),r=U();if(t&&n&&o&&r){var a=[n,o,r];if(!(document.activeElement instanceof HTMLElement)||a.includes(document.activeElement)){var i=Xt.includes(e)?"nextElementSibling":"previousElementSibling",l=document.activeElement;if(l){for(var g=0;g<t.children.length;g++){if(!(l=l[i]))return;if(l instanceof HTMLButtonElement&&fe(l))break}l instanceof HTMLButtonElement&&l.focus()}}}},Ft=function(e,t,n){w(t.allowEscapeKey)&&(e.preventDefault(),n(Vt.esc))},Et={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Kt=function(){Array.from(document.body.children).forEach((function(e){e===x()||e.contains(x())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))}))},Mt=function(){Array.from(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},Lt="undefined"!==typeof window&&!!window.GestureEvent,zt=function(){if(Lt&&!ie(document.body,v.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),de(document.body,v.iosfix),Dt()}},Dt=function(){var e,t=x();t&&(t.ontouchstart=function(t){e=Tt(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())})},Tt=function(e){var t=e.target,n=x(),o=M();return!(!n||!o)&&!Ut(e)&&!Qt(e)&&(t===n||!ye(n)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&(!ye(o)||!o.contains(t)))},Ut=function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType},Qt=function(e){return e.touches&&e.touches.length>1},jt=function(){if(ie(document.body,v.iosfix)){var e=parseInt(document.body.style.top,10);Ie(document.body,v.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Ot=function(){var e=document.createElement("div");e.className=v["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},Pt=null,qt=function(e){null===Pt&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(Pt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Pt+Ot(),"px"))},_t=function(){null!==Pt&&(document.body.style.paddingRight="".concat(Pt,"px"),Pt=null)};function $t(e,t,n,o){oe()?cn(e,o):(b(n).then((function(){return cn(e,o)})),Wt(A)),Lt?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),ne()&&(_t(),jt(),Mt()),en()}function en(){Ie([document.documentElement,document.body],[v.shown,v["height-auto"],v["no-backdrop"],v["toast-shown"]])}function tn(e){e=an(e);var t=Et.swalPromiseResolve.get(this),n=nn(this);this.isAwaitingPromise?e.isDismissed||(rn(this),t(e)):n&&t(e)}var nn=function(e){var t=N();if(!t)return!1;var n=je.innerParams.get(e);if(!n||ie(t,n.hideClass.popup))return!1;Ie(t,n.showClass.popup),de(t,n.hideClass.popup);var o=x();return Ie(o,n.showClass.backdrop),de(o,n.hideClass.backdrop),ln(e,t,n),!0};function on(e){var t=Et.swalPromiseReject.get(this);rn(this),t&&t(e)}var rn=function(e){e.isAwaitingPromise&&(delete e.isAwaitingPromise,je.innerParams.get(e)||e._destroy())},an=function(e){return"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},ln=function(e,t,n){var o=x(),r=Fe&&Ze(t);"function"===typeof n.willClose&&n.willClose(t),r?gn(e,t,o,n.returnFocus,n.didClose):$t(e,o,n.returnFocus,n.didClose)},gn=function(e,t,n,o,r){Fe&&(A.swalCloseEventFinishedCallback=$t.bind(null,e,n,o,r),t.addEventListener(Fe,(function(e){e.target===t&&(A.swalCloseEventFinishedCallback(),delete A.swalCloseEventFinishedCallback)})))},cn=function(e,t){setTimeout((function(){"function"===typeof t&&t.bind(e.params)(),e._destroy&&e._destroy()}))},sn=function(e){var t=N();if(t||new ur,t=N()){var n=O();oe()?Ae(F()):un(t,e),pe(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()}},un=function(e,t){var n=P(),o=O();n&&o&&(!t&&fe(T())&&(t=T()),pe(n),t&&(Ae(t),o.setAttribute("data-button-to-replace",t.className),n.insertBefore(o,t)),de([e,n],v.loading))},dn=function(e,t){"select"===t.input||"radio"===t.input?An(e,t):["text","email","number","tel","textarea"].some((function(e){return e===t.input}))&&(R(t.inputValue)||J(t.inputValue))&&(sn(T()),hn(e,t))},In=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return Cn(n);case"radio":return mn(n);case"file":return pn(n);default:return t.inputAutoTrim?n.value.trim():n.value}},Cn=function(e){return e.checked?1:0},mn=function(e){return e.checked?e.value:null},pn=function(e){return e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},An=function(e,t){var n=N();if(n){var o=function(e){"select"===t.input?bn(n,vn(e),t):"radio"===t.input&&fn(n,vn(e),t)};R(t.inputOptions)||J(t.inputOptions)?(sn(T()),X(t.inputOptions).then((function(t){e.hideLoading(),o(t)}))):"object"===typeof t.inputOptions?o(t.inputOptions):B("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))}},hn=function(e,t){var n=e.getInput();n&&(Ae(n),X(t.inputValue).then((function(o){n.value="number"===t.input?"".concat(parseFloat(o)||0):"".concat(o),pe(n),n.focus(),e.hideLoading()})).catch((function(t){B("Error in inputValue promise: ".concat(t)),n.value="",pe(n),n.focus(),e.hideLoading()})))};function bn(e,t,n){var o=Ce(e,v.select);if(o){var r=function(e,t,o){var r=document.createElement("option");r.value=o,ae(r,t),r.selected=yn(o,n.inputValue),e.appendChild(r)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var a=document.createElement("optgroup");a.label=t,a.disabled=!1,o.appendChild(a),n.forEach((function(e){return r(a,e[1],e[0])}))}else r(o,n,t)})),o.focus()}}function fn(e,t,n){var o=Ce(e,v.radio);if(o){t.forEach((function(e){var t=e[0],r=e[1],a=document.createElement("input"),i=document.createElement("label");a.type="radio",a.name=v.radio,a.value=t,yn(t,n.inputValue)&&(a.checked=!0);var l=document.createElement("span");ae(l,r),l.className=v.label,i.appendChild(a),i.appendChild(l),o.appendChild(i)}));var r=o.querySelectorAll("input");r.length&&r[0].focus()}}var vn=function e(t){var n=[];return t instanceof Map?t.forEach((function(t,o){var r=t;"object"===typeof r&&(r=e(r)),n.push([o,r])})):Object.keys(t).forEach((function(o){var r=t[o];"object"===typeof r&&(r=e(r)),n.push([o,r])})),n},yn=function(e,t){return!!t&&t.toString()===e.toString()},Zn=function(e){var t=je.innerParams.get(e);e.disableButtons(),t.input?Bn(e,"confirm"):Rn(e,!0)},Gn=function(e){var t=je.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?Bn(e,"deny"):Vn(e,!1)},Sn=function(e,t){e.disableButtons(),t(Vt.cancel)},Bn=function(e,t){var n=je.innerParams.get(e);if(n.input){var o=e.getInput(),r=In(e,n);n.inputValidator?kn(e,r,t):o&&!o.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage)):"deny"===t?Vn(e,r):Rn(e,r)}else B('The "input" parameter is needed to be set when using returnInputValueOn'.concat(G(t)))},kn=function(e,t,n){var o=je.innerParams.get(e);e.disableInput(),Promise.resolve().then((function(){return X(o.inputValidator(t,o.validationMessage))})).then((function(o){e.enableButtons(),e.enableInput(),o?e.showValidationMessage(o):"deny"===n?Vn(e,t):Rn(e,t)}))},Vn=function(e,t){var n=je.innerParams.get(e||void 0);n.showLoaderOnDeny&&sn(Q()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then((function(){return X(n.preDeny(t,n.validationMessage))})).then((function(n){!1===n?(e.hideLoading(),rn(e)):e.close({isDenied:!0,value:"undefined"===typeof n?t:n})})).catch((function(t){return wn(e||void 0,t)}))):e.close({isDenied:!0,value:t})},Wn=function(e,t){e.close({isConfirmed:!0,value:t})},wn=function(e,t){e.rejectPromise(t)},Rn=function(e,t){var n=je.innerParams.get(e||void 0);n.showLoaderOnConfirm&&sn(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then((function(){return X(n.preConfirm(t,n.validationMessage))})).then((function(n){fe(D())||!1===n?(e.hideLoading(),rn(e)):Wn(e,"undefined"===typeof n?t:n)})).catch((function(t){return wn(e||void 0,t)}))):Wn(e,t)};function Xn(){var e=je.innerParams.get(this);if(e){var t=je.domCache.get(this);Ae(t.loader),oe()?e.icon&&pe(F()):Jn(t),Ie([t.popup,t.actions],v.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var Jn=function(e){var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?pe(t[0],"inline-block"):ve()&&Ae(e.actions)};function xn(){var e=je.innerParams.get(this),t=je.domCache.get(this);return t?ce(t.popup,e.input):null}function Hn(e,t,n){var o=je.domCache.get(e);t.forEach((function(e){o[e].disabled=n}))}function Yn(e,t){var n=N();if(n&&e)if("radio"===e.type)for(var o=n.querySelectorAll('[name="'.concat(v.radio,'"]')),r=0;r<o.length;r++)o[r].disabled=t;else e.disabled=t}function Nn(){Hn(this,["confirmButton","denyButton","cancelButton"],!1)}function Fn(){Hn(this,["confirmButton","denyButton","cancelButton"],!0)}function En(){Yn(this.getInput(),!1)}function Kn(){Yn(this.getInput(),!0)}function Mn(e){var t=je.domCache.get(this),n=je.innerParams.get(this);ae(t.validationMessage,e),t.validationMessage.className=v["validation-message"],n.customClass&&n.customClass.validationMessage&&de(t.validationMessage,n.customClass.validationMessage),pe(t.validationMessage);var o=this.getInput();o&&(o.setAttribute("aria-invalid","true"),o.setAttribute("aria-describedby",v["validation-message"]),se(o),de(o,v.inputerror))}function Ln(){var e=je.domCache.get(this);e.validationMessage&&Ae(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Ie(t,v.inputerror))}var zn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Dn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Tn={},Un=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Qn=function(e){return Object.prototype.hasOwnProperty.call(zn,e)},jn=function(e){return-1!==Dn.indexOf(e)},On=function(e){return Tn[e]},Pn=function(e){Qn(e)||S('Unknown parameter "'.concat(e,'"'))},qn=function(e){Un.includes(e)&&S('The parameter "'.concat(e,'" is incompatible with toasts'))},_n=function(e){var t=On(e);t&&W(e,t)},$n=function(e){for(var t in!1===e.backdrop&&e.allowOutsideClick&&S('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)Pn(t),e.toast&&qn(t),_n(t)};function eo(e){var t=N(),n=je.innerParams.get(this);if(t&&!ie(t,n.hideClass.popup)){var o=to(e),r=Object.assign({},n,o);Zt(this,r),je.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}else S("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var to=function(e){var t={};return Object.keys(e).forEach((function(n){jn(n)?t[n]=e[n]:S("Invalid parameter to update: ".concat(n))})),t};function no(){var e=je.domCache.get(this),t=je.innerParams.get(this);t?(e.popup&&A.swalCloseEventFinishedCallback&&(A.swalCloseEventFinishedCallback(),delete A.swalCloseEventFinishedCallback),"function"===typeof t.didDestroy&&t.didDestroy(),oo(this)):ro(this)}var oo=function(e){ro(e),delete e.params,delete A.keydownHandler,delete A.keydownTarget,delete A.currentInstance},ro=function(e){e.isAwaitingPromise?(ao(je,e),e.isAwaitingPromise=!0):(ao(Et,e),ao(je,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},ao=function(e,t){for(var n in e)e[n].delete(t)},io=Object.freeze({__proto__:null,_destroy:no,close:tn,closeModal:tn,closePopup:tn,closeToast:tn,disableButtons:Fn,disableInput:Kn,disableLoading:Xn,enableButtons:Nn,enableInput:En,getInput:xn,handleAwaitingPromise:rn,hideLoading:Xn,rejectPromise:on,resetValidationMessage:Ln,showValidationMessage:Mn,update:eo}),lo=function(e,t,n){e.toast?go(e,t,n):(uo(t),Io(t),Co(e,t,n))},go=function(e,t,n){t.popup.onclick=function(){e&&(co(e)||e.timer||e.input)||n(Vt.close)}},co=function(e){return e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton},so=!1,uo=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(so=!0)}}},Io=function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(so=!0)}}},Co=function(e,t,n){t.container.onclick=function(o){so?so=!1:o.target===t.container&&w(e.allowOutsideClick)&&n(Vt.backdrop)}},mo=function(e){return"object"===typeof e&&e.jquery},po=function(e){return e instanceof Element||mo(e)},Ao=function(e){var t={};return"object"!==typeof e[0]||po(e[0])?["title","html","icon"].forEach((function(n,o){var r=e[o];"string"===typeof r||po(r)?t[n]=r:void 0!==r&&B("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof r))})):Object.assign(t,e[0]),t};function ho(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return c(e,n)}function bo(e){var t=function(t){l(c,t);var n=g(c);function c(){return o(this,c),n.apply(this,arguments)}return r(c,[{key:"_main",value:function(t,n){return a(i(c.prototype),"_main",this).call(this,t,Object.assign({},e,n))}}]),c}(this);return t}var fo=function(){return A.timeout&&A.timeout.getTimerLeft()},vo=function(){if(A.timeout)return Se(),A.timeout.stop()},yo=function(){if(A.timeout){var e=A.timeout.start();return Ge(e),e}},Zo=function(){var e=A.timeout;return e&&(e.running?vo():yo())},Go=function(e){if(A.timeout){var t=A.timeout.increase(e);return Ge(t,!0),t}},So=function(){return!(!A.timeout||!A.timeout.isRunning())},Bo=!1,ko={};function Vo(){ko[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Bo||(document.body.addEventListener("click",wo),Bo=!0)}var Wo,wo=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in ko){var o=t.getAttribute(n);if(o)return void ko[n].fire({template:o})}},Ro=Object.freeze({__proto__:null,argsToParams:Ao,bindClickHandler:Vo,clickCancel:kt,clickConfirm:St,clickDeny:Bt,enableLoading:sn,fire:ho,getActions:P,getCancelButton:U,getCloseButton:$,getConfirmButton:T,getContainer:x,getDenyButton:Q,getFocusableElements:te,getFooter:q,getHtmlContainer:M,getIcon:F,getIconContent:E,getImage:L,getInputLabel:j,getLoader:O,getPopup:N,getProgressSteps:z,getTimerLeft:fo,getTimerProgressBar:_,getTitle:K,getValidationMessage:D,increaseTimer:Go,isDeprecatedParameter:On,isLoading:re,isTimerRunning:So,isUpdatableParameter:jn,isValidParameter:Qn,isVisible:Gt,mixin:bo,resumeTimer:yo,showLoading:sn,stopTimer:vo,toggleTimer:Zo}),Xo=function(){function e(t,n){o(this,e),this.callback=t,this.remaining=n,this.running=!1,this.start()}return r(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),Jo=["swal-title","swal-html","swal-footer"],xo=function(e){var t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};var n=t.content;return Lo(n),Object.assign(Ho(n),Yo(n),No(n),Fo(n),Eo(n),Ko(n),Mo(n,Jo))},Ho=function(e){var t={};return Array.from(e.querySelectorAll("swal-param")).forEach((function(e){zo(e,["name","value"]);var n=e.getAttribute("name"),o=e.getAttribute("value");"boolean"===typeof zn[n]?t[n]="false"!==o:"object"===typeof zn[n]?t[n]=JSON.parse(o):t[n]=o})),t},Yo=function(e){var t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((function(e){var n=e.getAttribute("name"),o=e.getAttribute("value");t[n]=new Function("return ".concat(o))()})),t},No=function(e){var t={};return Array.from(e.querySelectorAll("swal-button")).forEach((function(e){zo(e,["type","color","aria-label"]);var n=e.getAttribute("type");t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(G(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t},Fo=function(e){var t={},n=e.querySelector("swal-image");return n&&(zo(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Eo=function(e){var t={},n=e.querySelector("swal-icon");return n&&(zo(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Ko=function(e){var t={},n=e.querySelector("swal-input");n&&(zo(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));var o=Array.from(e.querySelectorAll("swal-input-option"));return o.length&&(t.inputOptions={},o.forEach((function(e){zo(e,["value"]);var n=e.getAttribute("value"),o=e.innerHTML;t.inputOptions[n]=o}))),t},Mo=function(e,t){var n={};for(var o in t){var r=t[o],a=e.querySelector(r);a&&(zo(a,[]),n[r.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},Lo=function(e){var t=Jo.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((function(e){var n=e.tagName.toLowerCase();t.includes(n)||S("Unrecognized element <".concat(n,">"))}))},zo=function(e,t){Array.from(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&S(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},Do=10,To=function(e){var t=x(),n=N();"function"===typeof e.willOpen&&e.willOpen(n);var o=window.getComputedStyle(document.body).overflowY;Oo(t,n,e),setTimeout((function(){Qo(t,n)}),Do),ne()&&(jo(t,e.scrollbarPadding,o),Kt()),oe()||A.previousActiveElement||(A.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout((function(){return e.didOpen(n)})),Ie(t,v["no-transition"])},Uo=function e(t){var n=N();if(t.target===n&&Fe){var o=x();n.removeEventListener(Fe,e),o.style.overflowY="auto"}},Qo=function(e,t){Fe&&Ze(t)?(e.style.overflowY="hidden",t.addEventListener(Fe,Uo)):e.style.overflowY="auto"},jo=function(e,t,n){zt(),t&&"hidden"!==n&&qt(n),setTimeout((function(){e.scrollTop=0}))},Oo=function(e,t,n){de(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),pe(t,"grid"),setTimeout((function(){de(t,n.showClass.popup),t.style.removeProperty("opacity")}),Do),de([document.documentElement,document.body],v.shown),n.heightAuto&&n.backdrop&&!n.toast&&de([document.documentElement,document.body],v["height-auto"])},Po={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function qo(e){e.inputValidator||("email"===e.input&&(e.inputValidator=Po.email),"url"===e.input&&(e.inputValidator=Po.url))}function _o(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(S('Target parameter is not valid, defaulting to "body"'),e.target="body")}function $o(e){qo(e),e.showLoaderOnConfirm&&!e.preConfirm&&S("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),_o(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),xe(e)}var er=new WeakMap,tr=function(){function n(){if(o(this,n),m(this,er,{writable:!0,value:void 0}),"undefined"!==typeof window){Wo=this;for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var i=Object.freeze(this.constructor.argsToParams(r));this.params=i,this.isAwaitingPromise=!1,t(this,er,this._main(Wo.params))}}return r(n,[{key:"_main",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$n(Object.assign({},t,e)),A.currentInstance&&(A.currentInstance._destroy(),ne()&&Mt()),A.currentInstance=Wo;var n=or(e,t);$o(n),Object.freeze(n),A.timeout&&(A.timeout.stop(),delete A.timeout),clearTimeout(A.restoreFocusTimeout);var o=rr(Wo);return Zt(Wo,n),je.innerParams.set(Wo,n),nr(Wo,o,n)}},{key:"then",value:function(t){return e(this,er).then(t)}},{key:"finally",value:function(t){return e(this,er).finally(t)}}]),n}(),nr=function(e,t,n){return new Promise((function(o,r){var a=function(t){e.close({isDismissed:!0,dismiss:t})};Et.swalPromiseResolve.set(e,o),Et.swalPromiseReject.set(e,r),t.confirmButton.onclick=function(){Zn(e)},t.denyButton.onclick=function(){Gn(e)},t.cancelButton.onclick=function(){Sn(e,a)},t.closeButton.onclick=function(){a(Vt.close)},lo(n,t,a),wt(A,n,a),dn(e,n),To(n),ar(A,n,a),ir(t,n),setTimeout((function(){t.container.scrollTop=0}))}))},or=function(e,t){var n=xo(e),o=Object.assign({},zn,t,n,e);return o.showClass=Object.assign({},zn.showClass,o.showClass),o.hideClass=Object.assign({},zn.hideClass,o.hideClass),o},rr=function(e){var t={popup:N(),container:x(),actions:P(),confirmButton:T(),denyButton:Q(),cancelButton:U(),loader:O(),closeButton:$(),validationMessage:D(),progressSteps:z()};return je.domCache.set(e,t),t},ar=function(e,t,n){var o=_();Ae(o),t.timer&&(e.timeout=new Xo((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(pe(o),ge(o,t,"timerProgressBar"),setTimeout((function(){e.timeout&&e.timeout.running&&Ge(t.timer)}))))},ir=function(e,t){t.toast||(w(t.allowEnterKey)?lr(e,t)||Rt(-1,1):gr())},lr=function(e,t){return t.focusDeny&&fe(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&fe(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!fe(e.confirmButton))&&(e.confirmButton.focus(),!0)},gr=function(){document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!==typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var cr=new Date,sr=localStorage.getItem("swal-initiation");sr?(cr.getTime()-Date.parse(sr))/864e5>3&&setTimeout((function(){document.body.style.pointerEvents="none";var e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((function(){e.play().catch((function(){}))}),2500)}),500):localStorage.setItem("swal-initiation","".concat(cr))}tr.prototype.disableButtons=Fn,tr.prototype.enableButtons=Nn,tr.prototype.getInput=xn,tr.prototype.disableInput=Kn,tr.prototype.enableInput=En,tr.prototype.hideLoading=Xn,tr.prototype.disableLoading=Xn,tr.prototype.showValidationMessage=Mn,tr.prototype.resetValidationMessage=Ln,tr.prototype.close=tn,tr.prototype.closePopup=tn,tr.prototype.closeModal=tn,tr.prototype.closeToast=tn,tr.prototype.rejectPromise=on,tr.prototype.update=eo,tr.prototype._destroy=no,Object.assign(tr,Ro),Object.keys(io).forEach((function(e){tr[e]=function(){var t;return Wo&&Wo[e]?(t=Wo)[e].apply(t,arguments):null}})),tr.DismissReason=Vt,tr.version="11.7.28";var ur=tr;return ur.default=ur,ur}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o},e.exports.__esModule=!0,e.exports.default=e.exports},372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},405:function(e,t,n){var o=n(897);e.exports=function(e){if(Array.isArray(e))return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},515:function(e,t,n){var o=n(15),r=n(617);function a(t,n,i){return r()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&o(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},728:function(e,t,n){var o=n(62);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t,n){var o=n(808),r=n(617),a=n(993);e.exports=function(e){var t=r();return function(){var n,r=o(e);if(t){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},588:function(e,t,n){var o=n(753);function r(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=r=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=r=function(e,t,n){var r=o(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},655:function(e,t,n){var o=n(15);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a,i,l=[],g=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;g=!1}else for(;!(g=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);g=!0);}catch(e){c=!0,r=e}finally{try{if(!g&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}},e.exports.__esModule=!0,e.exports.default=e.exports},218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},993:function(e,t,n){var o=n(698).default,r=n(115);e.exports=function(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},15:function(e){function t(n,o){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,o)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},278:function(e,t,n){var o=n(372),r=n(872),a=n(116),i=n(218);e.exports=function(e,t){return o(e)||r(e,t)||a(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},753:function(e,t,n){var o=n(808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var o=n(405),r=n(498),a=n(116),i=n(281);e.exports=function(e){return o(e)||r(e)||a(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},36:function(e,t,n){var o=n(698).default;e.exports=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},62:function(e,t,n){var o=n(698).default,r=n(36);e.exports=function(e){var t=r(e,"string");return"symbol"===o(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t,n){var o=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&o;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){i[e]=function(){return o[e]}}));return i.default=function(){return o},n.d(a,i),a}}(),n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".12944412.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="frontend-tiolucho:";n.l=function(o,r,a,i){if(e[o])e[o].push(r);else{var l,g;if(void 0!==a)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var u=c[s];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+a){l=u;break}}l||(g=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+a),l.src=o),e[o]=[r];var d=function(t,n){l.onerror=l.onload=null,clearTimeout(I);var r=e[o];if(delete e[o],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((function(e){return e(n)})),t)return t(n)},I=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),g&&document.head.appendChild(l)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=a);var i=n.p+n.u(t),l=new Error;n.l(i,(function(o){if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,r[1](l)}}),"chunk-"+t,t)}};var t=function(t,o){var r,a,i=o[0],l=o[1],g=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(g)g(n)}for(t&&t(o);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},o=self.webpackChunkfrontend_tiolucho=self.webpackChunkfrontend_tiolucho||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}(),function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){t=function(){return o};var n,o={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},g=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",s=l.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(n){u=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var r=t&&t.prototype instanceof b?t:b,a=Object.create(r.prototype),l=new X(o||[]);return i(a,"_invoke",{value:V(e,n,l)}),a}function I(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}o.wrap=d;var C="suspendedStart",m="suspendedYield",p="executing",A="completed",h={};function b(){}function f(){}function v(){}var y={};u(y,g,(function(){return this}));var Z=Object.getPrototypeOf,G=Z&&Z(Z(J([])));G&&G!==r&&a.call(G,g)&&(y=G);var S=v.prototype=b.prototype=Object.create(y);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(t,n){function o(r,i,l,g){var c=I(t[r],t,i);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==e(u)&&a.call(u,"__await")?n.resolve(u.__await).then((function(e){o("next",e,l,g)}),(function(e){o("throw",e,l,g)})):n.resolve(u).then((function(e){s.value=e,l(s)}),(function(e){return o("throw",e,l,g)}))}g(c.arg)}var r;i(this,"_invoke",{value:function(e,t){function a(){return new n((function(n,r){o(e,t,n,r)}))}return r=r?r.then(a,a):a()}})}function V(e,t,o){var r=C;return function(a,i){if(r===p)throw new Error("Generator is already running");if(r===A){if("throw"===a)throw i;return{value:n,done:!0}}for(o.method=a,o.arg=i;;){var l=o.delegate;if(l){var g=W(l,o);if(g){if(g===h)continue;return g}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===C)throw r=A,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=p;var c=I(e,t,o);if("normal"===c.type){if(r=o.done?A:m,c.arg===h)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=A,o.method="throw",o.arg=c.arg)}}}function W(e,t){var o=t.method,r=e.iterator[o];if(r===n)return t.delegate=null,"throw"===o&&e.iterator.return&&(t.method="return",t.arg=n,W(e,t),"throw"===t.method)||"return"!==o&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+o+"' method")),h;var a=I(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function X(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function J(t){if(t||""===t){var o=t[g];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}throw new TypeError(e(t)+" is not iterable")}return f.prototype=v,i(S,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:f,configurable:!0}),f.displayName=u(v,s,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},o.awrap=function(e){return{__await:e}},B(k.prototype),u(k.prototype,c,(function(){return this})),o.AsyncIterator=k,o.async=function(e,t,n,r,a){void 0===a&&(a=Promise);var i=new k(d(e,t,n,r),a);return o.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(S),u(S,s,"Generator"),u(S,g,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),o.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},o.values=J,X.prototype={constructor:X,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(o,r){return l.type="throw",l.arg=e,t.next=o,r&&(t.method="next",t.arg=n),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var g=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(g&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(g){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;R(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:J(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=n),h}},o}function o(e,t,n,o,r,a,i){try{var l=e[a](i),g=l.value}catch(c){return void n(c)}l.done?t(g):Promise.resolve(g).then(o,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){o(i,r,a,l,g,"next",e)}function g(e){o(i,r,a,l,g,"throw",e)}l(void 0)}))}}var a,i=n(791),l=n.t(i,2),g=n(250);function c(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){return c(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a,i,l=[],g=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;g=!1}else for(;!(g=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);g=!0);}catch(e){c=!0,r=e}finally{try{if(!g&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}(e,t)||u(e,t)||d()}function C(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){return function(e){if(Array.isArray(e))return s(e)}(e)||C(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,n||"default");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"===e(n)?n:String(n)}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,A(o.key),o)}}function b(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function Z(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(t){var n=Z();return function(){var o,r=y(t);if(n){var a=y(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return function(t,n){if(n&&("object"===e(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return G(t)}(this,o)}}function B(e,t,n){return B=Z()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&f(r,n.prototype),r},B.apply(null,arguments)}function k(e){var t="function"===typeof Map?new Map:void 0;return k=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return B(e,arguments,y(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),f(o,e)},k(e)}function V(e){return c(e)||C(e)||u(e)||d()}function W(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},w.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));var R,X="popstate";function J(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function H(e,t){return{usr:e.state,key:e.key,idx:t}}function Y(e,t,n,o){return void 0===n&&(n=null),w({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||o||Math.random().toString(36).substr(2,8)})}function N(e){var t=e.pathname,n=void 0===t?"/":t,o=e.search,r=void 0===o?"":o,a=e.hash,i=void 0===a?"":a;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}function F(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function E(e,t,n,o){void 0===o&&(o={});var r=o,i=r.window,l=void 0===i?document.defaultView:i,g=r.v5Compat,c=void 0!==g&&g,s=l.history,u=a.Pop,d=null,I=C();function C(){return(s.state||{idx:null}).idx}function m(){u=a.Pop;var e=C(),t=null==e?null:e-I;I=e,d&&d({action:u,location:A.location,delta:t})}function p(e){var t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:N(e);return J(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==I&&(I=0,s.replaceState(w({},s.state,{idx:I}),""));var A={get action(){return u},get location(){return e(l,s)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(X,m),d=e,function(){l.removeEventListener(X,m),d=null}},createHref:function(e){return t(l,e)},createURL:p,encodeLocation:function(e){var t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=a.Push;var o=Y(A.location,e,t);n&&n(o,e);var r=H(o,I=C()+1),i=A.createHref(o);try{s.pushState(r,"",i)}catch(g){if(g instanceof DOMException&&"DataCloneError"===g.name)throw g;l.location.assign(i)}c&&d&&d({action:u,location:A.location,delta:1})},replace:function(e,t){u=a.Replace;var o=Y(A.location,e,t);n&&n(o,e);var r=H(o,I=C()),i=A.createHref(o);s.replaceState(r,"",i),c&&d&&d({action:u,location:A.location,delta:0})},go:function(e){return s.go(e)}};return A}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(R||(R={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function K(e,t,n){void 0===n&&(n="/");var o=ee(("string"===typeof t?F(t):t).pathname||"/",n);if(null==o)return null;var r=M(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(r);for(var a=null,i=0;null==a&&i<r.length;++i)a=q(r[i],$(o));return a}function M(e,t,n,o){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===o&&(o="");var r=function(e,r,a){var i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(J(i.relativePath.startsWith(o),'Absolute route path "'+i.relativePath+'" nested under path "'+o+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(o.length));var l=re([o,i.relativePath]),g=n.concat(i);e.children&&e.children.length>0&&(J(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),M(e.children,t,g,l)),(null!=e.path||e.index)&&t.push({path:l,score:P(l,e.index),routesMeta:g})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var o,a=W(L(e.path));try{for(a.s();!(o=a.n()).done;){var i=o.value;r(e,t,i)}}catch(l){a.e(l)}finally{a.f()}}else r(e,t)})),t}function L(e){var t=e.split("/");if(0===t.length)return[];var n=V(t),o=n[0],r=n.slice(1),a=o.endsWith("?"),i=o.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];var l=L(r.join("/")),g=[];return g.push.apply(g,m(l.map((function(e){return""===e?i:[i,e].join("/")})))),a&&g.push.apply(g,m(l)),g.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var z=/^:\w+$/,D=3,T=2,U=1,Q=10,j=-2,O=function(e){return"*"===e};function P(e,t){var n=e.split("/"),o=n.length;return n.some(O)&&(o+=j),t&&(o+=T),n.filter((function(e){return!O(e)})).reduce((function(e,t){return e+(z.test(t)?D:""===t?U:Q)}),o)}function q(e,t){for(var n=e.routesMeta,o={},r="/",a=[],i=0;i<n.length;++i){var l=n[i],g=i===n.length-1,c="/"===r?t:t.slice(r.length)||"/",s=_({path:l.relativePath,caseSensitive:l.caseSensitive,end:g},c);if(!s)return null;Object.assign(o,s.params);var u=l.route;a.push({params:o,pathname:re([r,s.pathname]),pathnameBase:ae(re([r,s.pathnameBase])),route:u}),"/"!==s.pathnameBase&&(r=re([r,s.pathnameBase]))}return a}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var o=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return o.push(t),"/([^\\/]+)"}));e.endsWith("*")?(o.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");var a=new RegExp(r,t?void 0:"i");return[a,o]}(e.path,e.caseSensitive,e.end),o=I(n,2),r=o[0],a=o[1],i=t.match(r);if(!i)return null;var l=i[0],g=l.replace(/(.)\/+$/,"$1"),c=i.slice(1),s=a.reduce((function(e,t,n){if("*"===t){var o=c[n]||"";g=l.slice(0,l.length-o.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return x(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{});return{params:s,pathname:l,pathnameBase:g,pattern:e}}function $(e){try{return decodeURI(e)}catch(t){return x(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ee(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&"/"!==o?null:e.slice(n)||"/"}function te(e,t,n,o){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ne(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function oe(e,t,n,o){var r;void 0===o&&(o=!1),"string"===typeof e?r=F(e):(J(!(r=w({},e)).pathname||!r.pathname.includes("?"),te("?","pathname","search",r)),J(!r.pathname||!r.pathname.includes("#"),te("#","pathname","hash",r)),J(!r.search||!r.search.includes("#"),te("#","search","hash",r)));var a,i=""===e||""===r.pathname,l=i?"/":r.pathname;if(o||null==l)a=n;else{var g=t.length-1;if(l.startsWith("..")){for(var c=l.split("/");".."===c[0];)c.shift(),g-=1;r.pathname=c.join("/")}a=g>=0?t[g]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?F(e):e,o=n.pathname,r=n.search,a=void 0===r?"":r,i=n.hash,l=void 0===i?"":i,g=o?o.startsWith("/")?o:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(o,t):t;return{pathname:g,search:ie(a),hash:le(l)}}(r,a),u=l&&"/"!==l&&l.endsWith("/"),d=(i||"."===l)&&n.endsWith("/");return s.pathname.endsWith("/")||!u&&!d||(s.pathname+="/"),s}var re=function(e){return e.join("/").replace(/\/\/+/g,"/")},ae=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},le=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ge=function(e){v(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return b(n)}(k(Error));function ce(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["post","put","patch","delete"],ue=(new Set(se),["get"].concat(se));new Set(ue),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},de.apply(this,arguments)}var Ie=i.createContext(null);var Ce=i.createContext(null);var me=i.createContext(null);var pe=i.createContext(null);var Ae=i.createContext(null);var he=i.createContext({outlet:null,matches:[],isDataRoute:!1});var be=i.createContext(null);function fe(){return null!=i.useContext(Ae)}function ve(){return fe()||J(!1),i.useContext(Ae).location}function ye(e){i.useContext(pe).static||i.useLayoutEffect(e)}function Ze(){return i.useContext(he).isDataRoute?function(){var e=He(Je.UseNavigateStable).router,t=Ne(xe.UseNavigateStable),n=i.useRef(!1);ye((function(){n.current=!0}));var o=i.useCallback((function(o,r){void 0===r&&(r={}),n.current&&("number"===typeof o?e.navigate(o):e.navigate(o,de({fromRouteId:t},r)))}),[e,t]);return o}():function(){fe()||J(!1);var e=i.useContext(Ie),t=i.useContext(pe),n=t.basename,o=t.navigator,r=i.useContext(he).matches,a=ve().pathname,l=JSON.stringify(ne(r).map((function(e){return e.pathnameBase}))),g=i.useRef(!1);ye((function(){g.current=!0}));var c=i.useCallback((function(t,r){if(void 0===r&&(r={}),g.current)if("number"!==typeof t){var i=oe(t,JSON.parse(l),a,"path"===r.relative);null==e&&"/"!==n&&(i.pathname="/"===i.pathname?n:re([n,i.pathname])),(r.replace?o.replace:o.push)(i,r.state,r)}else o.go(t)}),[n,o,l,a,e]);return c}()}var Ge=i.createContext(null);function Se(){var e=i.useContext(he).matches,t=e[e.length-1];return t?t.params:{}}function Be(e,t){var n=(void 0===t?{}:t).relative,o=i.useContext(he).matches,r=ve().pathname,a=JSON.stringify(ne(o).map((function(e){return e.pathnameBase})));return i.useMemo((function(){return oe(e,JSON.parse(a),r,"path"===n)}),[e,a,r,n])}function ke(e,t,n){fe()||J(!1);var o,r=i.useContext(pe).navigator,l=i.useContext(he).matches,g=l[l.length-1],c=g?g.params:{},s=(g&&g.pathname,g?g.pathnameBase:"/"),u=(g&&g.route,ve());if(t){var d,I="string"===typeof t?F(t):t;"/"===s||(null==(d=I.pathname)?void 0:d.startsWith(s))||J(!1),o=I}else o=u;var C=o.pathname||"/",m=K(e,{pathname:"/"===s?C:C.slice(s.length)||"/"});var p=Xe(m&&m.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:re([s,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:re([s,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),l,n);return t&&p?i.createElement(Ae.Provider,{value:{location:de({pathname:"/",search:"",hash:"",state:null,key:"default"},o),navigationType:a.Pop}},p):p}function Ve(){var e=function(){var e,t=i.useContext(be),n=Ye(xe.UseRouteError),o=Ne(xe.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[o]}(),t=ce(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:o};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:r},n):null,null)}var We=i.createElement(Ve,null),we=function(e){v(n,e);var t=S(n);function n(e){var o;return p(this,n),(o=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},o}return b(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?i.createElement(he.Provider,{value:this.props.routeContext},i.createElement(be.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(i.Component);function Re(e){var t=e.routeContext,n=e.match,o=e.children,r=i.useContext(Ie);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(he.Provider,{value:t},o)}function Xe(e,t,n){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var r;if(null==(r=n)||!r.errors)return null;e=n.matches}var a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){var g=a.findIndex((function(e){return e.route.id&&(null==l?void 0:l[e.route.id])}));g>=0||J(!1),a=a.slice(0,Math.min(a.length,g+1))}return a.reduceRight((function(e,o,r){var g=o.route.id?null==l?void 0:l[o.route.id]:null,c=null;n&&(c=o.route.errorElement||We);var s=t.concat(a.slice(0,r+1)),u=function(){var t;return t=g?c:o.route.Component?i.createElement(o.route.Component,null):o.route.element?o.route.element:e,i.createElement(Re,{match:o,routeContext:{outlet:e,matches:s,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===r)?i.createElement(we,{location:n.location,revalidation:n.revalidation,component:c,error:g,children:u(),routeContext:{outlet:null,matches:s,isDataRoute:!0}}):u()}),null)}var Je=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Je||{}),xe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xe||{});function He(e){var t=i.useContext(Ie);return t||J(!1),t}function Ye(e){var t=i.useContext(Ce);return t||J(!1),t}function Ne(e){var t=function(e){var t=i.useContext(he);return t||J(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||J(!1),n.route.id}l.startTransition;function Fe(e){var t=e.to,n=e.replace,o=e.state,r=e.relative;fe()||J(!1);var a=i.useContext(he).matches,l=ve().pathname,g=Ze(),c=oe(t,ne(a).map((function(e){return e.pathnameBase})),l,"path"===r),s=JSON.stringify(c);return i.useEffect((function(){return g(JSON.parse(s),{replace:n,state:o,relative:r})}),[g,s,r,n,o]),null}function Ee(e){return function(e){var t=i.useContext(he).outlet;return t?i.createElement(Ge.Provider,{value:e},t):t}(e.context)}function Ke(e){J(!1)}function Me(e){var t=e.basename,n=void 0===t?"/":t,o=e.children,r=void 0===o?null:o,l=e.location,g=e.navigationType,c=void 0===g?a.Pop:g,s=e.navigator,u=e.static,d=void 0!==u&&u;fe()&&J(!1);var I=n.replace(/^\/*/,"/"),C=i.useMemo((function(){return{basename:I,navigator:s,static:d}}),[I,s,d]);"string"===typeof l&&(l=F(l));var m=l,p=m.pathname,A=void 0===p?"/":p,h=m.search,b=void 0===h?"":h,f=m.hash,v=void 0===f?"":f,y=m.state,Z=void 0===y?null:y,G=m.key,S=void 0===G?"default":G,B=i.useMemo((function(){var e=ee(A,I);return null==e?null:{location:{pathname:e,search:b,hash:v,state:Z,key:S},navigationType:c}}),[I,A,b,v,Z,S,c]);return null==B?null:i.createElement(pe.Provider,{value:C},i.createElement(Ae.Provider,{children:r,value:B}))}function Le(e){var t=e.children,n=e.location;return ke(Te(t),n)}var ze=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(ze||{}),De=new Promise((function(){}));i.Component;function Te(e,t){void 0===t&&(t=[]);var n=[];return i.Children.forEach(e,(function(e,o){if(i.isValidElement(e)){var r=[].concat(m(t),[o]);if(e.type!==i.Fragment){e.type!==Ke&&J(!1),e.props.index&&e.props.children&&J(!1);var a={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Te(e.props.children,r)),n.push(a)}else n.push.apply(n,Te(e.props.children,r))}})),n}function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ue.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var Oe=l.startTransition;function Pe(e){var t=e.basename,n=e.children,o=e.future,r=e.window,a=i.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),E((function(e,t){var n=F(e.location.hash.substr(1)),o=n.pathname,r=void 0===o?"/":o,a=n.search,i=void 0===a?"":a,l=n.hash,g=void 0===l?"":l;return r.startsWith("/")||r.startsWith(".")||(r="/"+r),Y("",{pathname:r,search:i,hash:g},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),o="";if(n&&n.getAttribute("href")){var r=e.location.href,a=r.indexOf("#");o=-1===a?r:r.slice(0,a)}return o+"#"+("string"===typeof t?t:N(t))}),(function(e,t){x("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}({window:r,v5Compat:!0}));var l=a.current,g=I(i.useState({action:l.action,location:l.location}),2),c=g[0],s=g[1],u=(o||{}).v7_startTransition,d=i.useCallback((function(e){u&&Oe?Oe((function(){return s(e)})):s(e)}),[s,u]);return i.useLayoutEffect((function(){return l.listen(d)}),[l,d]),i.createElement(Me,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l})}var qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=i.forwardRef((function(e,t){var n,o=e.onClick,r=e.relative,a=e.reloadDocument,l=e.replace,g=e.state,c=e.target,s=e.to,u=e.preventScrollReset,d=Qe(e,je),I=i.useContext(pe).basename,C=!1;if("string"===typeof s&&_e.test(s)&&(n=s,qe))try{var m=new URL(window.location.href),p=s.startsWith("//")?new URL(m.protocol+s):new URL(s),A=ee(p.pathname,I);p.origin===m.origin&&null!=A?s=A+p.search+p.hash:C=!0}catch(f){}var h=function(e,t){var n=(void 0===t?{}:t).relative;fe()||J(!1);var o=i.useContext(pe),r=o.basename,a=o.navigator,l=Be(e,{relative:n}),g=l.hash,c=l.pathname,s=l.search,u=c;return"/"!==r&&(u="/"===c?r:re([r,c])),a.createHref({pathname:u,search:s,hash:g})}(s,{relative:r}),b=function(e,t){var n=void 0===t?{}:t,o=n.target,r=n.replace,a=n.state,l=n.preventScrollReset,g=n.relative,c=Ze(),s=ve(),u=Be(e,{relative:g});return i.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,o)){t.preventDefault();var n=void 0!==r?r:N(s)===N(u);c(e,{replace:n,state:a,preventScrollReset:l,relative:g})}}),[s,c,u,r,a,o,e,l,g])}(s,{replace:l,state:g,target:c,preventScrollReset:u,relative:r});return i.createElement("a",Ue({},d,{href:n||h,onClick:C||a?o:function(e){o&&o(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var et,tt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(et||(et={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(tt||(tt={}));var nt=n(184);function ot(e){var t=e.children;return(0,nt.jsx)("main",{className:"page_content",children:t})}var rt=n.p+"static/media/Logo.2e6fecf689aad6dc077d.png";function at(){return(0,nt.jsxs)("div",{className:"spinner_wrap",children:[(0,nt.jsx)("img",{className:"spinner_image",src:rt,alt:"Logotipo de El Piloncito",draggable:"false",width:"150px"}),(0,nt.jsx)("div",{className:"spinner_item",children:(0,nt.jsxs)("div",{className:"item",children:[(0,nt.jsx)("div",{className:"dot dot1"}),(0,nt.jsx)("div",{className:"dot dot2"}),(0,nt.jsx)("div",{className:"dot dot3"}),(0,nt.jsx)("div",{className:"dot dot4"}),(0,nt.jsx)("div",{className:"dot dot5"})]})})]})}function it(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function st(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=st(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}var ut=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=st(e))&&(o&&(o+=" "),o+=t);return o},dt=["theme","type"],It=["delay","staleId"],Ct=function(e){return"number"==typeof e&&!isNaN(e)},mt=function(e){return"string"==typeof e},pt=function(e){return"function"==typeof e},At=function(e){return mt(e)||pt(e)?e:null},ht=function(e){return(0,i.isValidElement)(e)||mt(e)||pt(e)||Ct(e)};function bt(e){var t=e.enter,n=e.exit,o=e.appendPosition,r=void 0!==o&&o,a=e.collapse,l=void 0===a||a,g=e.collapseDuration,c=void 0===g?300:g;return function(e){var o=e.children,a=e.position,g=e.preventExitTransition,s=e.done,u=e.nodeRef,d=e.isIn,I=r?"".concat(t,"--").concat(a):t,C=r?"".concat(n,"--").concat(a):n,p=(0,i.useRef)(0);return(0,i.useLayoutEffect)((function(){var e,t=u.current,n=I.split(" "),o=function e(o){var r;o.target===u.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===p.current&&"animationcancel"!==o.type&&(r=t.classList).remove.apply(r,m(n)))};(e=t.classList).add.apply(e,m(n)),t.addEventListener("animationend",o),t.addEventListener("animationcancel",o)}),[]),(0,i.useEffect)((function(){var e=u.current,t=function t(){e.removeEventListener("animationend",t),l?function(e,t,n){void 0===n&&(n=300);var o=e.scrollHeight,r=e.style;requestAnimationFrame((function(){r.minHeight="initial",r.height=o+"px",r.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)}))}))}(e,s,c):s()};d||(g?t():(p.current=1,e.className+=" ".concat(C),e.addEventListener("animationend",t)))}),[d]),i.createElement(i.Fragment,null,o)}}function ft(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}var vt={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(o){var r=setTimeout((function(){o.apply(void 0,m([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(r)}))}},yt=function(e){var t=e.theme,n=e.type,o=ct(e,dt);return i.createElement("svg",gt({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},o))},Zt={info:function(e){return i.createElement(yt,gt({},e),i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.createElement(yt,gt({},e),i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.createElement(yt,gt({},e),i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.createElement(yt,gt({},e),i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}};function Gt(e){var t=(0,i.useReducer)((function(e){return e+1}),0),n=I(t,2)[1],o=I((0,i.useState)([]),2),r=o[0],a=o[1],l=(0,i.useRef)(null),g=(0,i.useRef)(new Map).current,c=function(e){return-1!==r.indexOf(e)},s=(0,i.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(e){return g.get(e)}}).current;function u(e){var t=e.containerId;!s.props.limit||t&&s.containerId!==t||(s.count-=s.queue.length,s.queue=[])}function d(e){a((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function C(){var e=s.queue.shift();A(e.toastContent,e.toastProps,e.staleId)}function p(e,t){var o=t.delay,r=t.staleId,a=ct(t,It);if(ht(e)&&!function(e){return!l.current||s.props.enableMultiContainer&&e.containerId!==s.props.containerId||g.has(e.toastId)&&null==e.updateId}(a)){var c=a.toastId,u=a.updateId,m=a.data,p=s.props,h=function(){return d(c)},b=null==u;b&&s.count++;var f,v,y=gt(gt(gt({},p),{},{style:p.toastStyle,key:s.toastKey++},Object.fromEntries(Object.entries(a).filter((function(e){var t=I(e,2);t[0];return null!=t[1]})))),{},{toastId:c,updateId:u,data:m,closeToast:h,isIn:!1,className:At(a.className||p.toastClassName),bodyClassName:At(a.bodyClassName||p.bodyClassName),progressClassName:At(a.progressClassName||p.progressClassName),autoClose:!a.isLoading&&(f=a.autoClose,v=p.autoClose,!1===f||Ct(f)&&f>0?f:v),deleteToast:function(){var e=ft(g.get(c),"removed");g.delete(c),vt.emit(4,e);var t=s.queue.length;if(s.count=null==c?s.count-s.displayedToast:s.count-1,s.count<0&&(s.count=0),t>0){var o=null==c?s.props.limit:1;if(1===t||1===o)s.displayedToast++,C();else{var r=o>t?t:o;s.displayedToast=r;for(var a=0;a<r;a++)C()}}else n()}});y.iconOut=function(e){var t=e.theme,n=e.type,o=e.isLoading,r=e.icon,a=null,l={theme:t,type:n};return!1===r||(pt(r)?a=r(l):(0,i.isValidElement)(r)?a=(0,i.cloneElement)(r,l):mt(r)||Ct(r)?a=r:o?a=Zt.spinner():function(e){return e in Zt}(n)&&(a=Zt[n](l))),a}(y),pt(a.onOpen)&&(y.onOpen=a.onOpen),pt(a.onClose)&&(y.onClose=a.onClose),y.closeButton=p.closeButton,!1===a.closeButton||ht(a.closeButton)?y.closeButton=a.closeButton:!0===a.closeButton&&(y.closeButton=!ht(p.closeButton)||p.closeButton);var Z=e;(0,i.isValidElement)(e)&&!mt(e.type)?Z=(0,i.cloneElement)(e,{closeToast:h,toastProps:y,data:m}):pt(e)&&(Z=e({closeToast:h,toastProps:y,data:m})),p.limit&&p.limit>0&&s.count>p.limit&&b?s.queue.push({toastContent:Z,toastProps:y,staleId:r}):Ct(o)?setTimeout((function(){A(Z,y,r)}),o):A(Z,y,r)}}function A(e,t,n){var o=t.toastId;n&&g.delete(n);var r={content:e,props:t};g.set(o,r),a((function(e){return[].concat(m(e),[o]).filter((function(e){return e!==n}))})),vt.emit(4,ft(r,null==r.props.updateId?"added":"updated"))}return(0,i.useEffect)((function(){return s.containerId=e.containerId,vt.cancelEmit(3).on(0,p).on(1,(function(e){return l.current&&d(e)})).on(5,u).emit(2,s),function(){g.clear(),vt.emit(3,s)}}),[]),(0,i.useEffect)((function(){s.props=e,s.isToastActive=c,s.displayedToast=r.length})),{getToastToRender:function(t){var n=new Map,o=Array.from(g.values());return e.newestOnTop&&o.reverse(),o.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:l,isToastActive:c}}function St(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Bt(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function kt(e){var t=I((0,i.useState)(!1),2),n=t[0],o=t[1],r=I((0,i.useState)(!1),2),a=r[0],l=r[1],g=(0,i.useRef)(null),c=(0,i.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,s=(0,i.useRef)(e),u=e.autoClose,d=e.pauseOnHover,C=e.closeToast,m=e.onClick,p=e.closeOnClick;function A(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),c.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",v),document.addEventListener("touchend",y);var n=g.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=St(t.nativeEvent),c.y=Bt(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function h(t){if(c.boundingRect){var n=c.boundingRect,o=n.top,r=n.bottom,a=n.left,i=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&c.x>=a&&c.x<=i&&c.y>=o&&c.y<=r?f():b()}}function b(){o(!0)}function f(){o(!1)}function v(t){var o=g.current;c.canDrag&&o&&(c.didMove=!0,n&&f(),c.x=St(t),c.y=Bt(t),c.delta="x"===e.draggableDirection?c.x-c.start:c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),o.style.transform="translate".concat(e.draggableDirection,"(").concat(c.delta,"px)"),o.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function y(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",y);var t=g.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return l(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,i.useEffect)((function(){s.current=e})),(0,i.useEffect)((function(){return g.current&&g.current.addEventListener("d",b,{once:!0}),pt(e.onOpen)&&e.onOpen((0,i.isValidElement)(e.children)&&e.children.props),function(){var e=s.current;pt(e.onClose)&&e.onClose((0,i.isValidElement)(e.children)&&e.children.props)}}),[]),(0,i.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||f(),window.addEventListener("focus",b),window.addEventListener("blur",f)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",f))}}),[e.pauseOnFocusLoss]);var Z={onMouseDown:A,onTouchStart:A,onMouseUp:h,onTouchEnd:h};return u&&d&&(Z.onMouseEnter=f,Z.onMouseLeave=b),p&&(Z.onClick=function(e){m&&m(e),c.canCloseOnClick&&C()}),{playToast:b,pauseToast:f,isRunning:n,preventExitTransition:a,toastRef:g,eventHandlers:Z}}function Vt(e){var t=e.closeToast,n=e.theme,o=e.ariaLabel,r=void 0===o?"close":o;return i.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":r},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Wt(e){var t=e.delay,n=e.isRunning,o=e.closeToast,r=e.type,a=void 0===r?"default":r,l=e.hide,g=e.className,c=e.style,s=e.controlledProgress,u=e.progress,d=e.rtl,I=e.isIn,C=e.theme,m=l||s&&0===u,p=gt(gt({},c),{},{animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:m?0:1});s&&(p.transform="scaleX(".concat(u,")"));var A=ut("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(C),"Toastify__progress-bar--".concat(a),{"Toastify__progress-bar--rtl":d}),h=pt(g)?g({rtl:d,type:a,defaultClassName:A}):ut(A,g);return i.createElement("div",it({role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:h,style:p},s&&u>=1?"onTransitionEnd":"onAnimationEnd",s&&u<1?null:function(){I&&o()}))}var wt=function(e){var t=kt(e),n=t.isRunning,o=t.preventExitTransition,r=t.toastRef,a=t.eventHandlers,l=e.closeButton,g=e.children,c=e.autoClose,s=e.onClick,u=e.type,d=e.hideProgressBar,I=e.closeToast,C=e.transition,m=e.position,p=e.className,A=e.style,h=e.bodyClassName,b=e.bodyStyle,f=e.progressClassName,v=e.progressStyle,y=e.updateId,Z=e.role,G=e.progress,S=e.rtl,B=e.toastId,k=e.deleteToast,V=e.isIn,W=e.isLoading,w=e.iconOut,R=e.closeOnClick,X=e.theme,J=ut("Toastify__toast","Toastify__toast-theme--".concat(X),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":R}),x=pt(p)?p({rtl:S,position:m,type:u,defaultClassName:J}):ut(J,p),H=!!G||!c,Y={closeToast:I,type:u,theme:X},N=null;return!1===l||(N=pt(l)?l(Y):(0,i.isValidElement)(l)?(0,i.cloneElement)(l,Y):Vt(Y)),i.createElement(C,{isIn:V,done:k,position:m,preventExitTransition:o,nodeRef:r},i.createElement("div",gt(gt({id:B,onClick:s,className:x},a),{},{style:A,ref:r}),i.createElement("div",gt(gt({},V&&{role:Z}),{},{className:pt(h)?h({type:u}):ut("Toastify__toast-body",h),style:b}),null!=w&&i.createElement("div",{className:ut("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!W})},w),i.createElement("div",null,g)),N,i.createElement(Wt,gt(gt({},y&&!H?{key:"pb-".concat(y)}:{}),{},{rtl:S,theme:X,delay:c,isRunning:n,isIn:V,closeToast:I,hide:d,type:u,style:v,className:f,controlledProgress:H,progress:G||0}))))},Rt=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Xt=bt(Rt("bounce",!0)),Jt=(bt(Rt("slide",!0)),bt(Rt("zoom")),bt(Rt("flip")),(0,i.forwardRef)((function(e,t){var n=Gt(e),o=n.getToastToRender,r=n.containerRef,a=n.isToastActive,l=e.className,g=e.style,c=e.rtl,s=e.containerId;function u(e){var t=ut("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":c});return pt(l)?l({position:e,rtl:c,defaultClassName:t}):ut(t,At(l))}return(0,i.useEffect)((function(){t&&(t.current=r.current)}),[]),i.createElement("div",{ref:r,className:"Toastify",id:s},o((function(e,t){var n=t.length?gt({},g):gt(gt({},g),{},{pointerEvents:"none"});return i.createElement("div",{className:u(e),style:n,key:"container-".concat(e)},t.map((function(e,n){var o=e.content,r=e.props;return i.createElement(wt,gt(gt({},r),{},{isIn:a(r.toastId),style:gt(gt({},r.style),{},{"--nth":n+1,"--len":t.length}),key:"toast-".concat(r.key)}),o)})))})))})));Jt.displayName="ToastContainer",Jt.defaultProps={position:"top-right",transition:Xt,autoClose:5e3,closeButton:Vt,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var xt,Ht=new Map,Yt=[],Nt=1;function Ft(){return""+Nt++}function Et(e){return e&&(mt(e.toastId)||Ct(e.toastId))?e.toastId:Ft()}function Kt(e,t){return Ht.size>0?vt.emit(0,e,t):Yt.push({content:e,options:t}),t.toastId}function Mt(e,t){return gt(gt({},t),{},{type:t&&t.type||e,toastId:Et(t)})}function Lt(e){return function(t,n){return Kt(t,Mt(e,n))}}function zt(e,t){return Kt(e,Mt("default",t))}zt.loading=function(e,t){return Kt(e,Mt("default",gt({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},zt.promise=function(e,t,n){var o,r=t.pending,a=t.error,i=t.success;r&&(o=mt(r)?zt.loading(r,n):zt.loading(r.render,gt(gt({},n),r)));var l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=function(e,t,r){if(null!=t){var a=gt(gt(gt({type:e},l),n),{},{data:r}),i=mt(t)?{render:t}:t;return o?zt.update(o,gt(gt({},a),i)):zt(i.render,gt(gt({},a),i)),r}zt.dismiss(o)},c=pt(e)?e():e;return c.then((function(e){return g("success",i,e)})).catch((function(e){return g("error",a,e)})),c},zt.success=Lt("success"),zt.info=Lt("info"),zt.error=Lt("error"),zt.warning=Lt("warning"),zt.warn=zt.warning,zt.dark=function(e,t){return Kt(e,Mt("default",gt({theme:"dark"},t)))},zt.dismiss=function(e){Ht.size>0?vt.emit(1,e):Yt=Yt.filter((function(t){return null!=e&&t.options.toastId!==e}))},zt.clearWaitingQueue=function(e){return void 0===e&&(e={}),vt.emit(5,e)},zt.isActive=function(e){var t=!1;return Ht.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},zt.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,o=Ht.get(n||xt);return o&&o.getToast(e)}(e,t);if(n){var o=n.props,r=n.content,a=gt(gt(gt({delay:100},o),t),{},{toastId:t.toastId||e,updateId:Ft()});a.toastId!==e&&(a.staleId=e);var i=a.render||r;delete a.render,Kt(i,a)}}),0)},zt.done=function(e){zt.update(e,{progress:1})},zt.onChange=function(e){return vt.on(4,e),function(){vt.off(4,e)}},zt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},zt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},vt.on(2,(function(e){xt=e.containerId||e,Ht.set(xt,e),Yt.forEach((function(e){vt.emit(0,e.content,e.options)})),Yt=[]})).on(3,(function(e){Ht.delete(e.containerId||e),0===Ht.size&&vt.off(0).off(1).off(5)}));var Dt,Tt={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},Ut=new Uint8Array(16);function Qt(){if(!Dt&&!(Dt="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dt(Ut)}for(var jt=[],Ot=0;Ot<256;++Ot)jt.push((Ot+256).toString(16).slice(1));function Pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return jt[e[t+0]]+jt[e[t+1]]+jt[e[t+2]]+jt[e[t+3]]+"-"+jt[e[t+4]]+jt[e[t+5]]+"-"+jt[e[t+6]]+jt[e[t+7]]+"-"+jt[e[t+8]]+jt[e[t+9]]+"-"+jt[e[t+10]]+jt[e[t+11]]+jt[e[t+12]]+jt[e[t+13]]+jt[e[t+14]]+jt[e[t+15]]}var qt=function(e,t,n){if(Tt.randomUUID&&!t&&!e)return Tt.randomUUID();var o=(e=e||{}).random||(e.rng||Qt)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=o[r];return t}return Pt(o)},_t=n(164),$t=n.t(_t,2),en=function(e,t){return en=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},en(e,t)};function tn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}en(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var nn=function(){return nn=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},nn.apply(this,arguments)};function on(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function rn(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{g(o.next(e))}catch(t){a(t)}}function l(e){try{g(o.throw(e))}catch(t){a(t)}}function g(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}g((o=o.apply(e,t||[])).next())}))}function an(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(l){a=[6,l],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function ln(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gn=function(e,t,n,o,r,a,i,l){if(!e){var g;if(void 0===t)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,r,a,i,l],s=0;(g=new Error(t.replace(/%s/g,(function(){return c[s++]})))).name="Invariant Violation"}throw g.framesToPop=1,g}},cn=ln(gn),sn=(0,i.createContext)(null);function un(e,t,n,o){var r,a,i={};return r=e,a=function(e,r){var a=n[r];a!==t[r]&&(i[r]=a,e(o,a))},Object.keys(r).forEach((function(e){return a(r[e],e)})),i}function dn(e,t,n){var o,r,a,i=(o=n,r=function(n,o,r){return"function"===typeof e[r]&&n.push(google.maps.event.addListener(t,o,e[r])),n},a=[],Object.keys(o).reduce((function(e,t){return r(e,o[t],t)}),a));return i}function In(e){google.maps.event.removeListener(e)}function Cn(e){void 0===e&&(e=[]),e.forEach(In)}function mn(e){var t=e.updaterMap,n=e.eventMap,o=e.prevProps,r=e.nextProps,a=e.instance,i=dn(r,a,n);return un(t,o,r,a),i}var pn={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},An={extraMapTypes:function(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center:function(e,t){e.setCenter(t)},clickableIcons:function(e,t){e.setClickableIcons(t)},heading:function(e,t){e.setHeading(t)},mapTypeId:function(e,t){e.setMapTypeId(t)},options:function(e,t){e.setOptions(t)},streetView:function(e,t){e.setStreetView(t)},tilt:function(e,t){e.setTilt(t)},zoom:function(e,t){e.setZoom(t)}};(0,i.memo)((function(e){var t=e.children,n=e.options,o=e.id,r=e.mapContainerStyle,a=e.mapContainerClassName,l=e.center,g=e.onClick,c=e.onDblClick,s=e.onDrag,u=e.onDragEnd,d=e.onDragStart,I=e.onMouseMove,C=e.onMouseOut,m=e.onMouseOver,p=e.onMouseDown,A=e.onMouseUp,h=e.onRightClick,b=e.onCenterChanged,f=e.onLoad,v=e.onUnmount,y=(0,i.useState)(null),Z=y[0],G=y[1],S=(0,i.useRef)(null),B=(0,i.useState)(null),k=B[0],V=B[1],W=(0,i.useState)(null),w=W[0],R=W[1],X=(0,i.useState)(null),J=X[0],x=X[1],H=(0,i.useState)(null),Y=H[0],N=H[1],F=(0,i.useState)(null),E=F[0],K=F[1],M=(0,i.useState)(null),L=M[0],z=M[1],D=(0,i.useState)(null),T=D[0],U=D[1],Q=(0,i.useState)(null),j=Q[0],O=Q[1],P=(0,i.useState)(null),q=P[0],_=P[1],$=(0,i.useState)(null),ee=$[0],te=$[1],ne=(0,i.useState)(null),oe=ne[0],re=ne[1],ae=(0,i.useState)(null),ie=ae[0],le=ae[1];return(0,i.useEffect)((function(){n&&null!==Z&&Z.setOptions(n)}),[Z,n]),(0,i.useEffect)((function(){null!==Z&&"undefined"!==typeof l&&Z.setCenter(l)}),[Z,l]),(0,i.useEffect)((function(){Z&&c&&(null!==w&&google.maps.event.removeListener(w),R(google.maps.event.addListener(Z,"dblclick",c)))}),[c]),(0,i.useEffect)((function(){Z&&u&&(null!==J&&google.maps.event.removeListener(J),x(google.maps.event.addListener(Z,"dragend",u)))}),[u]),(0,i.useEffect)((function(){Z&&d&&(null!==Y&&google.maps.event.removeListener(Y),N(google.maps.event.addListener(Z,"dragstart",d)))}),[d]),(0,i.useEffect)((function(){Z&&p&&(null!==E&&google.maps.event.removeListener(E),K(google.maps.event.addListener(Z,"mousedown",p)))}),[p]),(0,i.useEffect)((function(){Z&&I&&(null!==L&&google.maps.event.removeListener(L),z(google.maps.event.addListener(Z,"mousemove",I)))}),[I]),(0,i.useEffect)((function(){Z&&C&&(null!==T&&google.maps.event.removeListener(T),U(google.maps.event.addListener(Z,"mouseout",C)))}),[C]),(0,i.useEffect)((function(){Z&&m&&(null!==j&&google.maps.event.removeListener(j),O(google.maps.event.addListener(Z,"mouseover",m)))}),[m]),(0,i.useEffect)((function(){Z&&A&&(null!==q&&google.maps.event.removeListener(q),_(google.maps.event.addListener(Z,"mouseup",A)))}),[A]),(0,i.useEffect)((function(){Z&&h&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(Z,"rightclick",h)))}),[h]),(0,i.useEffect)((function(){Z&&g&&(null!==oe&&google.maps.event.removeListener(oe),re(google.maps.event.addListener(Z,"click",g)))}),[g]),(0,i.useEffect)((function(){Z&&s&&(null!==ie&&google.maps.event.removeListener(ie),le(google.maps.event.addListener(Z,"drag",s)))}),[s]),(0,i.useEffect)((function(){Z&&b&&(null!==k&&google.maps.event.removeListener(k),V(google.maps.event.addListener(Z,"center_changed",b)))}),[g]),(0,i.useEffect)((function(){var e=null===S.current?null:new google.maps.Map(S.current,n);return G(e),null!==e&&f&&f(e),function(){null!==e&&v&&v(e)}}),[]),(0,nt.jsx)("div",{id:o,ref:S,style:r,className:a,children:(0,nt.jsx)(sn.Provider,{value:Z,children:null!==Z?t:(0,nt.jsx)(nt.Fragment,{})})})}));var hn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={map:null},t.registeredEvents=[],t.mapRef=null,t.getInstance=function(){return null===t.mapRef?null:new google.maps.Map(t.mapRef,t.props.options)},t.panTo=function(e){var n=t.getInstance();n&&n.panTo(e)},t.setMapCallback=function(){null!==t.state.map&&t.props.onLoad&&t.props.onLoad(t.state.map)},t.getRef=function(e){t.mapRef=e},t}return tn(t,e),t.prototype.componentDidMount=function(){var e=this.getInstance();this.registeredEvents=mn({updaterMap:An,eventMap:pn,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.map&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:An,eventMap:pn,prevProps:e,nextProps:this.props,instance:this.state.map}))},t.prototype.componentWillUnmount=function(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Cn(this.registeredEvents))},t.prototype.render=function(){return(0,nt.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,nt.jsx)(sn.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:(0,nt.jsx)(nt.Fragment,{})})})},t}(i.PureComponent),bn="undefined"!==typeof document;function fn(e){var t=e.url,n=e.id,o=e.nonce;return bn?new Promise((function(e,r){var a=document.getElementById(n),i=window;if(a){var l=a.getAttribute("data-state");if(a.src===t&&"error"!==l){if("ready"===l)return e(n);var g=i.initMap,c=a.onerror;return i.initMap=function(){g&&g(),e(n)},void(a.onerror=function(e){c&&c(e),r(e)})}a.remove()}var s=document.createElement("script");s.type="text/javascript",s.src=t,s.id=n,s.async=!0,s.nonce=o||"",s.onerror=function(e){s.setAttribute("data-state","error"),r(e)},i.initMap=function(){s.setAttribute("data-state","ready"),e(n)},document.head.appendChild(s)})).catch((function(e){throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function vn(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function yn(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,o){return vn(n)||Reflect.apply(t,e,[n,o]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return vn(t)||Reflect.apply(n,e,[t]),t}}}function Zn(e){var t=e.googleMapsApiKey,n=e.googleMapsClientId,o=e.version,r=void 0===o?"weekly":o,a=e.language,i=e.region,l=e.libraries,g=e.channel,c=e.mapIds,s=e.authReferrerPolicy,u=[];return cn(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?u.push("key=".concat(t)):n&&u.push("client=".concat(n)),r&&u.push("v=".concat(r)),a&&u.push("language=".concat(a)),i&&u.push("region=".concat(i)),l&&l.length&&u.push("libraries=".concat(l.sort().join(","))),g&&u.push("channel=".concat(g)),c&&c.length&&u.push("map_ids=".concat(c.join(","))),s&&u.push("auth_referrer_policy=".concat(s)),u.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(u.join("&"))}var Gn=!1;function Sn(){return(0,nt.jsx)("div",{children:"Loading..."})}var Bn,kn={id:"script-loader",version:"weekly"};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.check=(0,i.createRef)(),t.state={loaded:!1},t.cleanupCallback=function(){delete window.google.maps,t.injectScript()},t.isCleaningUp=function(){return rn(t,void 0,void 0,(function(){function e(e){if(Gn){if(bn)var t=window.setInterval((function(){Gn||(window.clearInterval(t),e())}),1)}else e()}return an(this,(function(t){return[2,new Promise(e)]}))}))},t.cleanup=function(){Gn=!0;var e=document.getElementById(t.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},t.injectScript=function(){t.props.preventGoogleFontsLoading&&yn(),cn(!!t.props.id,'LoadScript requires "id" prop to be a string: %s',t.props.id),fn({id:t.props.id,nonce:t.props.nonce,url:Zn(t.props)}).then((function(){t.props.onLoad&&t.props.onLoad(),t.setState((function(){return{loaded:!0}}))})).catch((function(e){t.props.onError&&t.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(t.props.googleMapsApiKey||"-",") or Client ID (").concat(t.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))},t}tn(t,e),t.prototype.componentDidMount=function(){if(bn){if(window.google&&window.google.maps&&!Gn)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}},t.prototype.componentDidUpdate=function(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),bn&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))},t.prototype.componentWillUnmount=function(){var e=this;if(bn){this.cleanup();window.setTimeout((function(){e.check.current||(delete window.google,Gn=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}},t.prototype.render=function(){return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||(0,nt.jsx)(Sn,{})]})},t.defaultProps=kn}(i.PureComponent);var Vn=(0,nt.jsx)(Sn,{});(0,i.memo)((function(e){var t=e.loadingElement,n=e.onLoad,o=e.onError,r=e.onUnmount,a=e.children,l=function(e){var t=e.id,n=void 0===t?kn.id:t,o=e.version,r=void 0===o?kn.version:o,a=e.nonce,l=e.googleMapsApiKey,g=e.googleMapsClientId,c=e.language,s=e.region,u=e.libraries,d=e.preventGoogleFontsLoading,I=e.channel,C=e.mapIds,m=e.authReferrerPolicy,p=(0,i.useRef)(!1),A=(0,i.useState)(!1),h=A[0],b=A[1],f=(0,i.useState)(void 0),v=f[0],y=f[1];(0,i.useEffect)((function(){return p.current=!0,function(){p.current=!1}}),[]),(0,i.useEffect)((function(){bn&&d&&yn()}),[d]),(0,i.useEffect)((function(){h&&cn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[h]);var Z=Zn({version:r,googleMapsApiKey:l,googleMapsClientId:g,language:c,region:s,libraries:u,channel:I,mapIds:C,authReferrerPolicy:m});(0,i.useEffect)((function(){function e(){p.current&&(b(!0),Bn=Z)}bn&&(window.google&&window.google.maps&&Bn===Z?e():fn({id:n,url:Z,nonce:a}).then(e).catch((function(e){p.current&&y(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(l||"-",") or Client ID (").concat(g||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[n,Z,a]);var G=(0,i.useRef)();return(0,i.useEffect)((function(){G.current&&u!==G.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),G.current=u}),[u]),{isLoaded:h,loadError:v,url:Z}}(on(e,["loadingElement","onLoad","onError","onUnmount","children"])),g=l.isLoaded,c=l.loadError;return(0,i.useEffect)((function(){g&&"function"===typeof n&&n()}),[g,n]),(0,i.useEffect)((function(){c&&"function"===typeof o&&o(c)}),[c,o]),(0,i.useEffect)((function(){return function(){r&&r()}}),[r]),g?a:t||Vn}));function Wn(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{g(o.next(e))}catch(t){a(t)}}function l(e){try{g(o.throw(e))}catch(t){a(t)}}function g(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}g((o=o.apply(e,t||[])).next())}))}var wn,Rn=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,r,a;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(r=o;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=o;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=o;0!==r--;){var i=a[r];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n},Xn="__googleMapsScriptId";!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(wn||(wn={}));var Jn=function(){function e(t){var n=t.apiKey,o=t.authReferrerPolicy,r=t.channel,a=t.client,i=t.id,l=void 0===i?Xn:i,g=t.language,c=t.libraries,s=void 0===c?[]:c,u=t.mapIds,d=t.nonce,I=t.region,C=t.retries,m=void 0===C?3:C,A=t.url,h=void 0===A?"https://maps.googleapis.com/maps/api/js":A,b=t.version;if(p(this,e),this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=o,this.channel=r,this.client=a,this.id=l||Xn,this.language=g,this.libraries=s,this.mapIds=u,this.nonce=d,this.region=I,this.retries=m,this.url=h,this.version=b,e.instance){if(!Rn(this.options,e.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(e.instance.options)));return e.instance}e.instance=this}return b(e,[{key:"options",get:function(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}},{key:"status",get:function(){return this.errors.length?wn.FAILURE:this.done?wn.SUCCESS:this.loading?wn.LOADING:wn.INITIALIZED}},{key:"failed",get:function(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}},{key:"createUrl",value:function(){var e=this.url;return e+="?callback=__googleMapsCallback",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}},{key:"deleteScript",value:function(){var e=document.getElementById(this.id);e&&e.remove()}},{key:"load",value:function(){return this.loadPromise()}},{key:"loadPromise",value:function(){var e=this;return new Promise((function(t,n){e.loadCallback((function(e){e?n(e.error):t(window.google)}))}))}},{key:"importLibrary",value:function(e){return this.execute(),google.maps.importLibrary(e)}},{key:"loadCallback",value:function(e){this.callbacks.push(e),this.execute()}},{key:"setScript",value:function(){var e,n,o=this;if(document.getElementById(this.id))this.callback();else{var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach((function(e){return!r[e]&&delete r[e]})),(null===(n=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===n?void 0:n.importLibrary)||function(e){var n,r,a,i="The Google Maps JavaScript API",l="google",g="importLibrary",c="__ib__",s=document,u=window,d=(u=u[l]||(u[l]={})).maps||(u.maps={}),I=new Set,C=new URLSearchParams;d[g]?console.warn(i+" only loads once. Ignoring:",e):d[g]=function(u){for(var p=arguments.length,A=new Array(p>1?p-1:0),h=1;h<p;h++)A[h-1]=arguments[h];return I.add(u)&&(n||(n=new Promise((function(g,u){return Wn(o,void 0,void 0,t().mark((function o(){var p;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r=s.createElement("script");case 2:for(a in r.id=this.id,C.set("libraries",m(I)+""),e)C.set(a.replace(/[A-Z]/g,(function(e){return"_"+e[0].toLowerCase()})),e[a]);C.set("callback",l+".maps."+c),r.src=this.url+"?"+C,d[c]=g,r.onerror=function(){return n=u(Error(i+" could not load."))},r.nonce=this.nonce||(null===(p=s.querySelector("script[nonce]"))||void 0===p?void 0:p.nonce)||"",s.head.append(r);case 11:case"end":return t.stop()}}),o,this)})))})))).then((function(){return d[g].apply(d,[u].concat(A))}))}}(r);var a=this.libraries.map((function(e){return o.importLibrary(e)}));a.length||a.push(this.importLibrary("core")),Promise.all(a).then((function(){return o.callback()}),(function(e){var t=new ErrorEvent("error",{error:e});o.loadErrorCallback(t)}))}}},{key:"reset",value:function(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}},{key:"resetIfRetryingFailed",value:function(){this.failed&&this.reset()}},{key:"loadErrorCallback",value:function(e){var t=this;if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout((function(){t.deleteScript(),t.setScript()}),n)}else this.onerrorEvent=e,this.callback()}},{key:"callback",value:function(){var e=this;this.done=!0,this.loading=!1,this.callbacks.forEach((function(t){t(e.onerrorEvent)})),this.callbacks=[]}},{key:"execute",value:function(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setScript())}}}]),e}(),xn=["maps"];var Hn={},Yn={options:function(e,t){e.setOptions(t)}};(0,i.memo)((function(e){var t=e.options,n=e.onLoad,o=e.onUnmount,r=(0,i.useContext)(sn),a=(0,i.useState)(null),l=a[0],g=a[1];return(0,i.useEffect)((function(){null!==l&&l.setMap(r)}),[r]),(0,i.useEffect)((function(){t&&null!==l&&l.setOptions(t)}),[l,t]),(0,i.useEffect)((function(){var e=new google.maps.TrafficLayer(nn(nn({},t||{}),{map:r}));return g(e),n&&n(e),function(){null!==l&&(o&&o(l),l.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={trafficLayer:null},t.setTrafficLayerCallback=function(){null!==t.state.trafficLayer&&t.props.onLoad&&t.props.onLoad(t.state.trafficLayer)},t.registeredEvents=[],t}tn(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TrafficLayer(nn(nn({},this.props.options||{}),{map:this.context}));this.registeredEvents=mn({updaterMap:Yn,eventMap:Hn,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.trafficLayer&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:Yn,eventMap:Hn,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Cn(this.registeredEvents),this.state.trafficLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent);(0,i.memo)((function(e){var t=e.onLoad,n=e.onUnmount,o=(0,i.useContext)(sn),r=(0,i.useState)(null),a=r[0],l=r[1];return(0,i.useEffect)((function(){null!==a&&a.setMap(o)}),[o]),(0,i.useEffect)((function(){var e=new google.maps.BicyclingLayer;return l(e),e.setMap(o),t&&t(e),function(){null!==e&&(n&&n(e),e.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bicyclingLayer:null},t.setBicyclingLayerCallback=function(){null!==t.state.bicyclingLayer&&(t.state.bicyclingLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.bicyclingLayer))},t}tn(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.BicyclingLayer;this.setState((function(){return{bicyclingLayer:e}}),this.setBicyclingLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent);(0,i.memo)((function(e){var t=e.onLoad,n=e.onUnmount,o=(0,i.useContext)(sn),r=(0,i.useState)(null),a=r[0],l=r[1];return(0,i.useEffect)((function(){null!==a&&a.setMap(o)}),[o]),(0,i.useEffect)((function(){var e=new google.maps.TransitLayer;return l(e),e.setMap(o),t&&t(e),function(){null!==a&&(n&&n(a),a.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={transitLayer:null},t.setTransitLayerCallback=function(){null!==t.state.transitLayer&&(t.state.transitLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.transitLayer))},t}tn(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent);var Nn={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Fn={drawingMode:function(e,t){e.setDrawingMode(t)},options:function(e,t){e.setOptions(t)}};(0,i.memo)((function(e){var t=e.options,n=e.drawingMode,o=e.onCircleComplete,r=e.onMarkerComplete,a=e.onOverlayComplete,l=e.onPolygonComplete,g=e.onPolylineComplete,c=e.onRectangleComplete,s=e.onLoad,u=e.onUnmount,d=(0,i.useContext)(sn),I=(0,i.useState)(null),C=I[0],m=I[1],p=(0,i.useState)(null),A=p[0],h=p[1],b=(0,i.useState)(null),f=b[0],v=b[1],y=(0,i.useState)(null),Z=y[0],G=y[1],S=(0,i.useState)(null),B=S[0],k=S[1],V=(0,i.useState)(null),W=V[0],w=V[1],R=(0,i.useState)(null),X=R[0],J=R[1];return(0,i.useEffect)((function(){null!==C&&C.setMap(d)}),[d]),(0,i.useEffect)((function(){t&&null!==C&&C.setOptions(t)}),[C,t]),(0,i.useEffect)((function(){n&&null!==C&&C.setDrawingMode(n)}),[C,n]),(0,i.useEffect)((function(){C&&o&&(null!==A&&google.maps.event.removeListener(A),h(google.maps.event.addListener(C,"circlecomplete",o)))}),[C,o]),(0,i.useEffect)((function(){C&&r&&(null!==f&&google.maps.event.removeListener(f),v(google.maps.event.addListener(C,"markercomplete",r)))}),[C,r]),(0,i.useEffect)((function(){C&&a&&(null!==Z&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(C,"overlaycomplete",a)))}),[C,a]),(0,i.useEffect)((function(){C&&l&&(null!==B&&google.maps.event.removeListener(B),k(google.maps.event.addListener(C,"polygoncomplete",l)))}),[C,l]),(0,i.useEffect)((function(){C&&g&&(null!==W&&google.maps.event.removeListener(W),w(google.maps.event.addListener(C,"polylinecomplete",g)))}),[C,g]),(0,i.useEffect)((function(){C&&c&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(C,"rectanglecomplete",c)))}),[C,c]),(0,i.useEffect)((function(){cn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(nn(nn({},t||{}),{map:d}));return n&&e.setDrawingMode(n),o&&h(google.maps.event.addListener(e,"circlecomplete",o)),r&&v(google.maps.event.addListener(e,"markercomplete",r)),a&&G(google.maps.event.addListener(e,"overlaycomplete",a)),l&&k(google.maps.event.addListener(e,"polygoncomplete",l)),g&&w(google.maps.event.addListener(e,"polylinecomplete",g)),c&&J(google.maps.event.addListener(e,"rectanglecomplete",c)),m(e),s&&s(e),function(){null!==C&&(A&&google.maps.event.removeListener(A),f&&google.maps.event.removeListener(f),Z&&google.maps.event.removeListener(Z),B&&google.maps.event.removeListener(B),W&&google.maps.event.removeListener(W),X&&google.maps.event.removeListener(X),u&&u(C),C.setMap(null))}}),[]),null})),function(e){function t(t){var n=e.call(this,t)||this;return n.registeredEvents=[],n.state={drawingManager:null},n.setDrawingManagerCallback=function(){null!==n.state.drawingManager&&n.props.onLoad&&n.props.onLoad(n.state.drawingManager)},cn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),n}tn(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.drawing.DrawingManager(nn(nn({},this.props.options||{}),{map:this.context}));this.registeredEvents=mn({updaterMap:Fn,eventMap:Nn,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.drawingManager&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:Fn,eventMap:Nn,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))},t.prototype.componentWillUnmount=function(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Cn(this.registeredEvents),this.state.drawingManager.setMap(null))},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent);var En={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Kn={animation:function(e,t){e.setAnimation(t)},clickable:function(e,t){e.setClickable(t)},cursor:function(e,t){e.setCursor(t)},draggable:function(e,t){e.setDraggable(t)},icon:function(e,t){e.setIcon(t)},label:function(e,t){e.setLabel(t)},map:function(e,t){e.setMap(t)},opacity:function(e,t){e.setOpacity(t)},options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},shape:function(e,t){e.setShape(t)},title:function(e,t){e.setTitle(t)},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},Mn={};(0,i.memo)((function(e){var t=e.position,n=e.options,o=e.clusterer,r=e.noClustererRedraw,a=e.children,l=e.draggable,g=e.visible,c=e.animation,s=e.clickable,u=e.cursor,d=e.icon,I=e.label,C=e.opacity,m=e.shape,p=e.title,A=e.zIndex,h=e.onClick,b=e.onDblClick,f=e.onDrag,v=e.onDragEnd,y=e.onDragStart,Z=e.onMouseOut,G=e.onMouseOver,S=e.onMouseUp,B=e.onMouseDown,k=e.onRightClick,V=e.onClickableChanged,W=e.onCursorChanged,w=e.onAnimationChanged,R=e.onDraggableChanged,X=e.onFlatChanged,J=e.onIconChanged,x=e.onPositionChanged,H=e.onShapeChanged,Y=e.onTitleChanged,N=e.onVisibleChanged,F=e.onZindexChanged,E=e.onLoad,K=e.onUnmount,M=(0,i.useContext)(sn),L=(0,i.useState)(null),z=L[0],D=L[1],T=(0,i.useState)(null),U=T[0],Q=T[1],j=(0,i.useState)(null),O=j[0],P=j[1],q=(0,i.useState)(null),_=q[0],$=q[1],ee=(0,i.useState)(null),te=ee[0],ne=ee[1],oe=(0,i.useState)(null),re=oe[0],ae=oe[1],ie=(0,i.useState)(null),le=ie[0],ge=ie[1],ce=(0,i.useState)(null),se=ce[0],ue=ce[1],de=(0,i.useState)(null),Ie=de[0],Ce=de[1],me=(0,i.useState)(null),pe=me[0],Ae=me[1],he=(0,i.useState)(null),be=he[0],fe=he[1],ve=(0,i.useState)(null),ye=ve[0],Ze=ve[1],Ge=(0,i.useState)(null),Se=Ge[0],Be=Ge[1],ke=(0,i.useState)(null),Ve=ke[0],We=ke[1],we=(0,i.useState)(null),Re=we[0],Xe=we[1],Je=(0,i.useState)(null),xe=Je[0],He=Je[1],Ye=(0,i.useState)(null),Ne=Ye[0],Fe=Ye[1],Ee=(0,i.useState)(null),Ke=Ee[0],Me=Ee[1],Le=(0,i.useState)(null),ze=Le[0],De=Le[1],Te=(0,i.useState)(null),Ue=Te[0],Qe=Te[1],je=(0,i.useState)(null),Oe=je[0],Pe=je[1],qe=(0,i.useState)(null),_e=qe[0],$e=qe[1];(0,i.useEffect)((function(){null!==z&&z.setMap(M)}),[M]),(0,i.useEffect)((function(){"undefined"!==typeof n&&null!==z&&z.setOptions(n)}),[z,n]),(0,i.useEffect)((function(){"undefined"!==typeof l&&null!==z&&z.setDraggable(l)}),[z,l]),(0,i.useEffect)((function(){t&&null!==z&&z.setPosition(t)}),[z,t]),(0,i.useEffect)((function(){"undefined"!==typeof g&&null!==z&&z.setVisible(g)}),[z,g]),(0,i.useEffect)((function(){null===z||void 0===z||z.setAnimation(c)}),[z,c]),(0,i.useEffect)((function(){z&&b&&(null!==U&&google.maps.event.removeListener(U),Q(google.maps.event.addListener(z,"dblclick",b)))}),[b]),(0,i.useEffect)((function(){z&&v&&(null!==O&&google.maps.event.removeListener(O),P(google.maps.event.addListener(z,"dragend",v)))}),[v]),(0,i.useEffect)((function(){z&&y&&(null!==_&&google.maps.event.removeListener(_),$(google.maps.event.addListener(z,"dragstart",y)))}),[y]),(0,i.useEffect)((function(){z&&B&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(z,"mousedown",B)))}),[B]),(0,i.useEffect)((function(){z&&Z&&(null!==re&&google.maps.event.removeListener(re),ae(google.maps.event.addListener(z,"mouseout",Z)))}),[Z]),(0,i.useEffect)((function(){z&&G&&(null!==le&&google.maps.event.removeListener(le),ge(google.maps.event.addListener(z,"mouseover",G)))}),[G]),(0,i.useEffect)((function(){z&&S&&(null!==se&&google.maps.event.removeListener(se),ue(google.maps.event.addListener(z,"mouseup",S)))}),[S]),(0,i.useEffect)((function(){z&&k&&(null!==Ie&&google.maps.event.removeListener(Ie),Ce(google.maps.event.addListener(z,"rightclick",k)))}),[k]),(0,i.useEffect)((function(){z&&h&&(null!==pe&&google.maps.event.removeListener(pe),Ae(google.maps.event.addListener(z,"click",h)))}),[h]),(0,i.useEffect)((function(){z&&f&&(null!==be&&google.maps.event.removeListener(be),fe(google.maps.event.addListener(z,"drag",f)))}),[f]),(0,i.useEffect)((function(){z&&V&&(null!==ye&&google.maps.event.removeListener(ye),Ze(google.maps.event.addListener(z,"clickable_changed",V)))}),[V]),(0,i.useEffect)((function(){z&&W&&(null!==Se&&google.maps.event.removeListener(Se),Be(google.maps.event.addListener(z,"cursor_changed",W)))}),[W]),(0,i.useEffect)((function(){z&&w&&(null!==Ve&&google.maps.event.removeListener(Ve),We(google.maps.event.addListener(z,"animation_changed",w)))}),[w]),(0,i.useEffect)((function(){z&&R&&(null!==Re&&google.maps.event.removeListener(Re),Xe(google.maps.event.addListener(z,"draggable_changed",R)))}),[R]),(0,i.useEffect)((function(){z&&X&&(null!==xe&&google.maps.event.removeListener(xe),He(google.maps.event.addListener(z,"flat_changed",X)))}),[X]),(0,i.useEffect)((function(){z&&J&&(null!==Ne&&google.maps.event.removeListener(Ne),Fe(google.maps.event.addListener(z,"icon_changed",J)))}),[J]),(0,i.useEffect)((function(){z&&x&&(null!==Ke&&google.maps.event.removeListener(Ke),Me(google.maps.event.addListener(z,"position_changed",x)))}),[x]),(0,i.useEffect)((function(){z&&H&&(null!==ze&&google.maps.event.removeListener(ze),De(google.maps.event.addListener(z,"shape_changed",H)))}),[H]),(0,i.useEffect)((function(){z&&Y&&(null!==Ue&&google.maps.event.removeListener(Ue),Qe(google.maps.event.addListener(z,"title_changed",Y)))}),[Y]),(0,i.useEffect)((function(){z&&N&&(null!==Oe&&google.maps.event.removeListener(Oe),Pe(google.maps.event.addListener(z,"visible_changed",N)))}),[N]),(0,i.useEffect)((function(){z&&F&&(null!==_e&&google.maps.event.removeListener(_e),$e(google.maps.event.addListener(z,"zindex_changed",F)))}),[F]),(0,i.useEffect)((function(){var e=nn(nn(nn({},n||Mn),o?Mn:{map:M}),{position:t}),a=new google.maps.Marker(e);return o?o.addMarker(a,!!r):a.setMap(M),t&&a.setPosition(t),"undefined"!==typeof g&&a.setVisible(g),"undefined"!==typeof l&&a.setDraggable(l),"undefined"!==typeof s&&a.setClickable(s),"string"===typeof u&&a.setCursor(u),d&&a.setIcon(d),"undefined"!==typeof I&&a.setLabel(I),"undefined"!==typeof C&&a.setOpacity(C),m&&a.setShape(m),"string"===typeof p&&a.setTitle(p),"number"===typeof A&&a.setZIndex(A),b&&Q(google.maps.event.addListener(a,"dblclick",b)),v&&P(google.maps.event.addListener(a,"dragend",v)),y&&$(google.maps.event.addListener(a,"dragstart",y)),B&&ne(google.maps.event.addListener(a,"mousedown",B)),Z&&ae(google.maps.event.addListener(a,"mouseout",Z)),G&&ge(google.maps.event.addListener(a,"mouseover",G)),S&&ue(google.maps.event.addListener(a,"mouseup",S)),k&&Ce(google.maps.event.addListener(a,"rightclick",k)),h&&Ae(google.maps.event.addListener(a,"click",h)),f&&fe(google.maps.event.addListener(a,"drag",f)),V&&Ze(google.maps.event.addListener(a,"clickable_changed",V)),W&&Be(google.maps.event.addListener(a,"cursor_changed",W)),w&&We(google.maps.event.addListener(a,"animation_changed",w)),R&&Xe(google.maps.event.addListener(a,"draggable_changed",R)),X&&He(google.maps.event.addListener(a,"flat_changed",X)),J&&Fe(google.maps.event.addListener(a,"icon_changed",J)),x&&Me(google.maps.event.addListener(a,"position_changed",x)),H&&De(google.maps.event.addListener(a,"shape_changed",H)),Y&&Qe(google.maps.event.addListener(a,"title_changed",Y)),N&&Pe(google.maps.event.addListener(a,"visible_changed",N)),F&&$e(google.maps.event.addListener(a,"zindex_changed",F)),D(a),E&&E(a),function(){null!==U&&google.maps.event.removeListener(U),null!==O&&google.maps.event.removeListener(O),null!==_&&google.maps.event.removeListener(_),null!==te&&google.maps.event.removeListener(te),null!==re&&google.maps.event.removeListener(re),null!==le&&google.maps.event.removeListener(le),null!==se&&google.maps.event.removeListener(se),null!==Ie&&google.maps.event.removeListener(Ie),null!==pe&&google.maps.event.removeListener(pe),null!==ye&&google.maps.event.removeListener(ye),null!==Se&&google.maps.event.removeListener(Se),null!==Ve&&google.maps.event.removeListener(Ve),null!==Re&&google.maps.event.removeListener(Re),null!==xe&&google.maps.event.removeListener(xe),null!==Ne&&google.maps.event.removeListener(Ne),null!==Ke&&google.maps.event.removeListener(Ke),null!==Ue&&google.maps.event.removeListener(Ue),null!==Oe&&google.maps.event.removeListener(Oe),null!==_e&&google.maps.event.removeListener(_e),K&&K(a),o?o.removeMarker(a,!!r):a&&a.setMap(null)}}),[]);var et=(0,i.useMemo)((function(){return a?i.Children.map(a,(function(e){if(!(0,i.isValidElement)(e))return e;var t=e;return(0,i.cloneElement)(t,{anchor:z})})):null}),[a,z]);return(0,nt.jsx)(nt.Fragment,{children:et})||null}));var Ln=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t}return tn(t,e),t.prototype.componentDidMount=function(){var e=nn(nn(nn({},this.props.options||Mn),this.props.clusterer?Mn:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=mn({updaterMap:Kn,eventMap:En,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},t.prototype.componentDidUpdate=function(e){this.marker&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:Kn,eventMap:En,prevProps:e,nextProps:this.props,instance:this.marker}))},t.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Cn(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},t.prototype.render=function(){var e=this,t=null;return this.props.children&&(t=i.Children.map(this.props.children,(function(t){if(!(0,i.isValidElement)(t))return t;var n=t;return(0,i.cloneElement)(n,{anchor:e.marker})}))),t||null},t.contextType=sn,t}(i.PureComponent),zn=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),o=this.cluster.getBounds(),r=t.getMap();null!==r&&"fitBounds"in r&&r.fitBounds(o),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(o);var r=e.getZoom()||0;null!==n&&r>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,o,r,a;if(this.div&&this.center){var i=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),g=parseInt((null===(e=l[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=l[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),s=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==s?"".concat(s.y,"px"):"0","; left: ").concat(null!==s?"".concat(s.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var u=document.createElement("img");u.alt=i,u.src=this.url,u.width=this.width,u.height=this.height,u.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(g,"px")),this.cluster.getClusterer().enableRetinaIcons||(u.style.clip="rect(-".concat(c,"px, -").concat(g+this.width,"px, -").concat(c+this.height,", -").concat(g,")"));var d=document.createElement("div");d.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(d.innerText="".concat(null===(o=this.sums)||void 0===o?void 0:o.text)),(null===(r=this.sums)||void 0===r?void 0:r.html)&&(d.innerHTML="".concat(null===(a=this.sums)||void 0===a?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(u),this.div.appendChild(d),this.div.title=i,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),Dn=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new zn(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var o=n[t].getPosition();o&&e.extend(o)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+n.lat())/o,(this.center.lng()*(o-1)+n.lng())/o),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var r=this.markers.length,a=this.markerClusterer.getMaxZoom(),i=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==a&&"undefined"!==typeof i&&i>a)e.getMap()!==this.map&&e.setMap(this.map);else if(r<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(r===this.minClusterSize)for(var l=0,g=this.markers;l<g.length;l++){g[l].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),o=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof o&&o>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function Tn(e,t){var n=e.length,o=n.toString().length,r=Math.min(o,t);return{text:n.toString(),index:r,title:""}}var Un=[53,56,66,78,90],Qn=function(){function e(t,n,o){void 0===n&&(n=[]),void 0===o&&(o={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=o.gridSize||60,this.minClusterSize=o.minimumClusterSize||2,this.maxZoom=o.maxZoom||null,this.styles=o.styles||[],this.title=o.title||"",this.zoomOnClick=!0,void 0!==o.zoomOnClick&&(this.zoomOnClick=o.zoomOnClick),this.averageCenter=!1,void 0!==o.averageCenter&&(this.averageCenter=o.averageCenter),this.ignoreHidden=!1,void 0!==o.ignoreHidden&&(this.ignoreHidden=o.ignoreHidden),this.enableRetinaIcons=!1,void 0!==o.enableRetinaIcons&&(this.enableRetinaIcons=o.enableRetinaIcons),this.imagePath=o.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=o.imageExtension||"png",this.imageSizes=o.imageSizes||Un,this.calculator=o.calculator||Tn,this.batchSize=o.batchSize||2e3,this.batchSizeIE=o.batchSizeIE||500,this.clusterClass=o.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var o=0,r=this.clusters;o<r.length;o++){r[o].remove()}this.clusters=[];for(var a=0,i=this.listeners;a<i.length;a++){var l=i[a];google.maps.event.removeListener(l)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,o=e;n<o.length;n++){var r=o[n].getPosition();r&&t.extend(r)}var a=this.getMap();null!==a&&"fitBounds"in a&&a.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=e[n];o&&this.pushMarkerTo(o)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,o=0,r=e;o<r.length;o++){var a=r[o];n=n||this.removeMarker_(a)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var o=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==o&&(o.x-=this.gridSize,o.y+=this.gridSize),null!==n){var r=t.fromDivPixelToLatLng(n);null!==r&&e.extend(r)}if(null!==o){var a=t.fromDivPixelToLatLng(o);null!==a&&e.extend(a)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var o=0,r=this.markers;o<r.length;o++){var a=r[o];a.isAdded=!1,e&&a.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,o=(t.lng()-e.lng())*Math.PI/180,r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,o=null,r=0,a=this.clusters;r<a.length;r++){var i=(t=a[r]).getCenter(),l=e.getPosition();if(i&&l){var g=this.distanceBetweenPoints(i,l);g<n&&(n=g,o=t)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):((t=new Dn(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),o=(null!==n&&"getBounds"in n?n.getBounds():null),r=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===o||void 0===o?void 0:o.getSouthWest(),null===o||void 0===o?void 0:o.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(r),i=Math.min(e+this.batchSize,this.markers.length),l=e;l<i;l++){var g=this.markers[l];g&&!g.isAdded&&this.isMarkerInBounds(g,a)&&(!this.ignoreHidden||this.ignoreHidden&&g.getVisible())&&this.addToClosestCluster(g)}if(i<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(i)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,s=this.clusters;c<s.length;c++){s[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}(),jn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},On={averageCenter:function(e,t){e.setAverageCenter(t)},batchSizeIE:function(e,t){e.setBatchSizeIE(t)},calculator:function(e,t){e.setCalculator(t)},clusterClass:function(e,t){e.setClusterClass(t)},enableRetinaIcons:function(e,t){e.setEnableRetinaIcons(t)},gridSize:function(e,t){e.setGridSize(t)},ignoreHidden:function(e,t){e.setIgnoreHidden(t)},imageExtension:function(e,t){e.setImageExtension(t)},imagePath:function(e,t){e.setImagePath(t)},imageSizes:function(e,t){e.setImageSizes(t)},maxZoom:function(e,t){e.setMaxZoom(t)},minimumClusterSize:function(e,t){e.setMinimumClusterSize(t)},styles:function(e,t){e.setStyles(t)},title:function(e,t){e.setTitle(t)},zoomOnClick:function(e,t){e.setZoomOnClick(t)}},Pn={};(0,i.memo)((function(e){var t=e.children,n=e.options,o=e.averageCenter,r=e.batchSizeIE,a=e.calculator,l=e.clusterClass,g=e.enableRetinaIcons,c=e.gridSize,s=e.ignoreHidden,u=e.imageExtension,d=e.imagePath,I=e.imageSizes,C=e.maxZoom,m=e.minimumClusterSize,p=e.styles,A=e.title,h=e.zoomOnClick,b=e.onClick,f=e.onClusteringBegin,v=e.onClusteringEnd,y=e.onMouseOver,Z=e.onMouseOut,G=e.onLoad,S=e.onUnmount,B=(0,i.useState)(null),k=B[0],V=B[1],W=(0,i.useContext)(sn),w=(0,i.useState)(null),R=w[0],X=w[1],J=(0,i.useState)(null),x=J[0],H=J[1],Y=(0,i.useState)(null),N=Y[0],F=Y[1],E=(0,i.useState)(null),K=E[0],M=E[1],L=(0,i.useState)(null),z=L[0],D=L[1];return(0,i.useEffect)((function(){k&&Z&&(null!==K&&google.maps.event.removeListener(K),M(google.maps.event.addListener(k,jn.onMouseOut,Z)))}),[Z]),(0,i.useEffect)((function(){k&&y&&(null!==z&&google.maps.event.removeListener(z),D(google.maps.event.addListener(k,jn.onMouseOver,y)))}),[y]),(0,i.useEffect)((function(){k&&b&&(null!==R&&google.maps.event.removeListener(R),X(google.maps.event.addListener(k,jn.onClick,b)))}),[b]),(0,i.useEffect)((function(){k&&f&&(null!==x&&google.maps.event.removeListener(x),H(google.maps.event.addListener(k,jn.onClusteringBegin,f)))}),[f]),(0,i.useEffect)((function(){k&&v&&(null!==N&&google.maps.event.removeListener(N),H(google.maps.event.addListener(k,jn.onClusteringEnd,v)))}),[v]),(0,i.useEffect)((function(){"undefined"!==typeof o&&null!==k&&On.averageCenter(k,o)}),[k,o]),(0,i.useEffect)((function(){"undefined"!==typeof r&&null!==k&&On.batchSizeIE(k,r)}),[k,r]),(0,i.useEffect)((function(){"undefined"!==typeof a&&null!==k&&On.calculator(k,a)}),[k,a]),(0,i.useEffect)((function(){"undefined"!==typeof l&&null!==k&&On.clusterClass(k,l)}),[k,l]),(0,i.useEffect)((function(){"undefined"!==typeof g&&null!==k&&On.enableRetinaIcons(k,g)}),[k,g]),(0,i.useEffect)((function(){"undefined"!==typeof c&&null!==k&&On.gridSize(k,c)}),[k,c]),(0,i.useEffect)((function(){"undefined"!==typeof s&&null!==k&&On.ignoreHidden(k,s)}),[k,s]),(0,i.useEffect)((function(){"undefined"!==typeof u&&null!==k&&On.imageExtension(k,u)}),[k,u]),(0,i.useEffect)((function(){"undefined"!==typeof d&&null!==k&&On.imagePath(k,d)}),[k,d]),(0,i.useEffect)((function(){"undefined"!==typeof I&&null!==k&&On.imageSizes(k,I)}),[k,I]),(0,i.useEffect)((function(){"undefined"!==typeof C&&null!==k&&On.maxZoom(k,C)}),[k,C]),(0,i.useEffect)((function(){"undefined"!==typeof m&&null!==k&&On.minimumClusterSize(k,m)}),[k,m]),(0,i.useEffect)((function(){"undefined"!==typeof p&&null!==k&&On.styles(k,p)}),[k,p]),(0,i.useEffect)((function(){"undefined"!==typeof A&&null!==k&&On.title(k,A)}),[k,A]),(0,i.useEffect)((function(){"undefined"!==typeof h&&null!==k&&On.zoomOnClick(k,h)}),[k,h]),(0,i.useEffect)((function(){if(W){var e=nn({},n||Pn),t=new Qn(W,[],e);return o&&On.averageCenter(t,o),r&&On.batchSizeIE(t,r),a&&On.calculator(t,a),l&&On.clusterClass(t,l),g&&On.enableRetinaIcons(t,g),c&&On.gridSize(t,c),s&&On.ignoreHidden(t,s),u&&On.imageExtension(t,u),d&&On.imagePath(t,d),I&&On.imageSizes(t,I),C&&On.maxZoom(t,C),m&&On.minimumClusterSize(t,m),p&&On.styles(t,p),A&&On.title(t,A),h&&On.zoomOnClick(t,h),Z&&M(google.maps.event.addListener(t,jn.onMouseOut,Z)),y&&D(google.maps.event.addListener(t,jn.onMouseOver,y)),b&&X(google.maps.event.addListener(t,jn.onClick,b)),f&&H(google.maps.event.addListener(t,jn.onClusteringBegin,f)),v&&F(google.maps.event.addListener(t,jn.onClusteringEnd,v)),V(t),G&&G(t),function(){null!==K&&google.maps.event.removeListener(K),null!==z&&google.maps.event.removeListener(z),null!==R&&google.maps.event.removeListener(R),null!==x&&google.maps.event.removeListener(x),null!==N&&google.maps.event.removeListener(N),S&&S(t)}}}),[]),null!==k&&t(k)||null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={markerClusterer:null},t.setClustererCallback=function(){null!==t.state.markerClusterer&&t.props.onLoad&&t.props.onLoad(t.state.markerClusterer)},t}tn(t,e),t.prototype.componentDidMount=function(){if(this.context){var e=new Qn(this.context,[],this.props.options);this.registeredEvents=mn({updaterMap:On,eventMap:jn,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{markerClusterer:e}}),this.setClustererCallback)}},t.prototype.componentDidUpdate=function(e){this.state.markerClusterer&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:On,eventMap:jn,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))},t.prototype.componentWillUnmount=function(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Cn(this.registeredEvents),this.state.markerClusterer.setMap(null))},t.prototype.render=function(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null},t.contextType=sn}(i.PureComponent);function qn(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var _n=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=0,r=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];o<r.length;o++){var a=r[o];this.eventListeners.push(google.maps.event.addListener(this.div,a,qn))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||qn(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,o=0,r=t.getBounds();r&&!r.contains(this.position)&&t.setCenter(this.position);var a=t.getDiv(),i=a.offsetWidth,l=a.offsetHeight,g=this.pixelOffset.width,c=this.pixelOffset.height,s=this.div.offsetWidth,u=this.div.offsetHeight,d=this.infoBoxClearance.width,I=this.infoBoxClearance.height,C=this.getProjection().fromLatLngToContainerPixel(this.position);null!==C&&(C.x<-g+d?n=C.x+g-d:C.x+s+g+d>i&&(n=C.x+s+g+d-i),this.alignBottom?C.y<-c+I+u?o=C.y+c-I-u:C.y+c+I>l&&(o=C.y+c+I-l):C.y<-c+I?o=C.y+c-I:C.y+u+c+I>l&&(o=C.y+u+c+I-l)),0===n&&0===o||t.panBy(n,o)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),$n={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},eo={options:function(e,t){e.setOptions(t)},position:function(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},to={};(0,i.memo)((function(e){var t=e.children,n=e.anchor,o=e.options,r=e.position,a=e.zIndex,l=e.onCloseClick,g=e.onDomReady,c=e.onContentChanged,s=e.onPositionChanged,u=e.onZindexChanged,d=e.onLoad,I=e.onUnmount,C=(0,i.useContext)(sn),m=(0,i.useState)(null),p=m[0],A=m[1],h=(0,i.useState)(null),b=h[0],f=h[1],v=(0,i.useState)(null),y=v[0],Z=v[1],G=(0,i.useState)(null),S=G[0],B=G[1],k=(0,i.useState)(null),V=k[0],W=k[1],w=(0,i.useState)(null),R=w[0],X=w[1],J=(0,i.useRef)(null);return(0,i.useEffect)((function(){C&&null!==p&&(p.close(),n?p.open(C,n):p.getPosition()&&p.open(C))}),[C,p,n]),(0,i.useEffect)((function(){o&&null!==p&&p.setOptions(o)}),[p,o]),(0,i.useEffect)((function(){if(r&&null!==p){var e=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);p.setPosition(e)}}),[r]),(0,i.useEffect)((function(){"number"===typeof a&&null!==p&&p.setZIndex(a)}),[a]),(0,i.useEffect)((function(){p&&l&&(null!==b&&google.maps.event.removeListener(b),f(google.maps.event.addListener(p,"closeclick",l)))}),[l]),(0,i.useEffect)((function(){p&&g&&(null!==y&&google.maps.event.removeListener(y),Z(google.maps.event.addListener(p,"domready",g)))}),[g]),(0,i.useEffect)((function(){p&&c&&(null!==S&&google.maps.event.removeListener(S),B(google.maps.event.addListener(p,"content_changed",c)))}),[c]),(0,i.useEffect)((function(){p&&s&&(null!==V&&google.maps.event.removeListener(V),W(google.maps.event.addListener(p,"position_changed",s)))}),[s]),(0,i.useEffect)((function(){p&&u&&(null!==R&&google.maps.event.removeListener(R),X(google.maps.event.addListener(p,"zindex_changed",u)))}),[u]),(0,i.useEffect)((function(){if(C){var e=o||to,t=e.position,r=on(e,["position"]),a=void 0;!t||t instanceof google.maps.LatLng||(a=new google.maps.LatLng(t.lat,t.lng));var i=new _n(nn(nn({},r),a?{position:a}:{}));J.current=document.createElement("div"),A(i),l&&f(google.maps.event.addListener(i,"closeclick",l)),g&&Z(google.maps.event.addListener(i,"domready",g)),c&&B(google.maps.event.addListener(i,"content_changed",c)),s&&W(google.maps.event.addListener(i,"position_changed",s)),u&&X(google.maps.event.addListener(i,"zindex_changed",u)),i.setContent(J.current),n?i.open(C,n):i.getPosition()?i.open(C):cn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(i)}return function(){null!==p&&(b&&google.maps.event.removeListener(b),S&&google.maps.event.removeListener(S),y&&google.maps.event.removeListener(y),V&&google.maps.event.removeListener(V),R&&google.maps.event.removeListener(R),I&&I(p),p.close())}}),[]),J.current?(0,_t.createPortal)(i.Children.only(t),J.current):null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoBox:null},t.open=function(e,n){n?null!==t.context&&e.open(t.context,n):e.getPosition()?null!==t.context&&e.open(t.context):cn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},t.setInfoBoxCallback=function(){null!==t.state.infoBox&&null!==t.containerElement&&(t.state.infoBox.setContent(t.containerElement),t.open(t.state.infoBox,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoBox))},t}tn(t,e),t.prototype.componentDidMount=function(){var e,t=this.props.options||{},n=t.position,o=on(t,["position"]);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var r=new _n(nn(nn({},o),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=mn({updaterMap:eo,eventMap:$n,prevProps:{},nextProps:this.props,instance:r}),this.setState({infoBox:r},this.setInfoBoxCallback)},t.prototype.componentDidUpdate=function(e){var t=this.state.infoBox;null!==t&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:eo,eventMap:$n,prevProps:e,nextProps:this.props,instance:t}))},t.prototype.componentWillUnmount=function(){var e=this.props.onUnmount,t=this.state.infoBox;null!==t&&(e&&e(t),Cn(this.registeredEvents),t.close())},t.prototype.render=function(){return this.containerElement?(0,_t.createPortal)(i.Children.only(this.props.children),this.containerElement):null},t.contextType=sn}(i.PureComponent);var no=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,r,a;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(r=o;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=o;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=o;0!==r--;){var i=a[r];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n},oo=ln(no),ro=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ao=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(p(this,e),isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=o,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var a=ro.indexOf(this.ArrayType),i=2*t*this.ArrayType.BYTES_PER_ELEMENT,l=t*this.IndexArrayType.BYTES_PER_ELEMENT,g=(8-l%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(o,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+l+g,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+i+l+g),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+l+g,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+a]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t)}return b(e,[{key:"add",value:function(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}},{key:"finish",value:function(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return io(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}},{key:"range",value:function(e,t,n,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var r=this.ids,a=this.coords,i=this.nodeSize,l=[0,r.length-1,0],g=[];l.length;){var c=l.pop()||0,s=l.pop()||0,u=l.pop()||0;if(s-u<=i)for(var d=u;d<=s;d++){var I=a[2*d],C=a[2*d+1];I>=e&&I<=n&&C>=t&&C<=o&&g.push(r[d])}else{var m=u+s>>1,p=a[2*m],A=a[2*m+1];p>=e&&p<=n&&A>=t&&A<=o&&g.push(r[m]),(0===c?e<=p:t<=A)&&(l.push(u),l.push(m-1),l.push(1-c)),(0===c?n>=p:o>=A)&&(l.push(m+1),l.push(s),l.push(1-c))}}return g}},{key:"within",value:function(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var o=this.ids,r=this.coords,a=this.nodeSize,i=[0,o.length-1,0],l=[],g=n*n;i.length;){var c=i.pop()||0,s=i.pop()||0,u=i.pop()||0;if(s-u<=a)for(var d=u;d<=s;d++)so(r[2*d],r[2*d+1],e,t)<=g&&l.push(o[d]);else{var I=u+s>>1,C=r[2*I],m=r[2*I+1];so(C,m,e,t)<=g&&l.push(o[I]),(0===c?e-n<=C:t-n<=m)&&(i.push(u),i.push(I-1),i.push(1-c)),(0===c?e+n>=C:t+n>=m)&&(i.push(I+1),i.push(s),i.push(1-c))}}return l}}],[{key:"from",value:function(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var n=I(new Uint8Array(t,0,2),2),o=n[0],r=n[1];if(219!==o)throw new Error("Data does not appear to be in a KDBush format.");var a=r>>4;if(1!==a)throw new Error("Got v".concat(a," data when expected v").concat(1,"."));var i=ro[15&r];if(!i)throw new Error("Unrecognized array type.");var l=I(new Uint16Array(t,2,1),1)[0];return new e(I(new Uint32Array(t,4,1),1)[0],l,i,t)}}]),e}();function io(e,t,n,o,r,a){if(!(r-o<=n)){var i=o+r>>1;lo(e,t,i,o,r,a),io(e,t,n,o,i-1,1-a),io(e,t,n,i+1,r,1-a)}}function lo(e,t,n,o,r,a){for(;r>o;){if(r-o>600){var i=r-o+1,l=n-o+1,g=Math.log(i),c=.5*Math.exp(2*g/3),s=.5*Math.sqrt(g*c*(i-c)/i)*(l-i/2<0?-1:1);lo(e,t,n,Math.max(o,Math.floor(n-l*c/i+s)),Math.min(r,Math.floor(n+(i-l)*c/i+s)),a)}var u=t[2*n+a],d=o,I=r;for(go(e,t,o,n),t[2*r+a]>u&&go(e,t,o,r);d<I;){for(go(e,t,d,I),d++,I--;t[2*d+a]<u;)d++;for(;t[2*I+a]>u;)I--}t[2*o+a]===u?go(e,t,o,I):go(e,t,++I,r),I<=n&&(o=I+1),n<=I&&(r=I-1)}}function go(e,t,n,o){co(e,n,o),co(t,2*n,2*o),co(t,2*n+1,2*o+1)}function co(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function so(e,t,n,o){var r=e-n,a=t-o;return r*r+a*a}var uo,Io={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},Co=Math.fround||(uo=new Float32Array(1),function(e){return uo[0]=+e,uo[0]}),mo=3,po=5,Ao=6,ho=function(){function e(t){p(this,e),this.options=Object.assign(Object.create(Io),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}return b(e,[{key:"load",value:function(e){var t=this.options,n=t.log,o=t.minZoom,r=t.maxZoom;n&&console.time("total time");var a="prepare ".concat(e.length," points");n&&console.time(a),this.points=e;for(var i=[],l=0;l<e.length;l++){var g=e[l];if(g.geometry){var c=I(g.geometry.coordinates,2),s=c[0],u=c[1],d=Co(vo(s)),C=Co(yo(u));i.push(d,C,1/0,l,-1,1),this.options.reduce&&i.push(0)}}var m=this.trees[r+1]=this._createTree(i);n&&console.timeEnd(a);for(var p=r;p>=o;p--){var A=+Date.now();m=this.trees[p]=this._createTree(this._cluster(m,p)),n&&console.log("z%d: %d clusters in %dms",p,m.numItems,+Date.now()-A)}return n&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var n=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),r=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){var i=this.getClusters([n,o,180,a],t),l=this.getClusters([-180,o,r,a],t);return i.concat(l)}var g,c=this.trees[this._limitZoom(t)],s=c.range(vo(n),yo(a),vo(r),yo(o)),u=c.data,d=[],I=W(s);try{for(I.s();!(g=I.n()).done;){var C=g.value,m=this.stride*C;d.push(u[m+po]>1?bo(u,m,this.clusterProps):this.points[u[m+mo]])}}catch(p){I.e(p)}finally{I.f()}return d}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),o="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(o);var a=r.data;if(t*this.stride>=a.length)throw new Error(o);var i,l=this.options.radius/(this.options.extent*Math.pow(2,n-1)),g=a[t*this.stride],c=a[t*this.stride+1],s=[],u=W(r.within(g,c,l));try{for(u.s();!(i=u.n()).done;){var d=i.value*this.stride;a[d+4]===e&&s.push(a[d+po]>1?bo(a,d,this.clusterProps):this.points[a[d+mo]])}}catch(I){u.e(I)}finally{u.f()}if(0===s.length)throw new Error(o);return s}},{key:"getLeaves",value:function(e,t,n){t=t||10,n=n||0;var o=[];return this._appendLeaves(o,e,t,n,0),o}},{key:"getTile",value:function(e,t,n){var o=this.trees[this._limitZoom(e)],r=Math.pow(2,e),a=this.options,i=a.extent,l=a.radius/i,g=(n-l)/r,c=(n+1+l)/r,s={features:[]};return this._addTileFeatures(o.range((t-l)/r,g,(t+1+l)/r,c),o.data,t,n,r,s),0===t&&this._addTileFeatures(o.range(1-l/r,g,1,c),o.data,r,n,r,s),t===r-1&&this._addTileFeatures(o.range(0,g,l/r,c),o.data,-1,n,r,s),s.features.length?s:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,n,o,r){var a,i=W(this.getChildren(t));try{for(i.s();!(a=i.n()).done;){var l=a.value,g=l.properties;if(g&&g.cluster?r+g.point_count<=o?r+=g.point_count:r=this._appendLeaves(e,g.cluster_id,n,o,r):r<o?r++:e.push(l),e.length===n)break}}catch(c){i.e(c)}finally{i.f()}return r}},{key:"_createTree",value:function(e){for(var t=new ao(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}},{key:"_addTileFeatures",value:function(e,t,n,o,r,a){var i,l=W(e);try{for(l.s();!(i=l.n()).done;){var g=i.value*this.stride,c=t[g+po]>1,s=void 0,u=void 0,d=void 0;if(c)s=fo(t,g,this.clusterProps),u=t[g],d=t[g+1];else{var C=this.points[t[g+mo]];s=C.properties;var m=I(C.geometry.coordinates,2),p=m[0],A=m[1];u=vo(p),d=yo(A)}var h={type:1,geometry:[[Math.round(this.options.extent*(u*r-n)),Math.round(this.options.extent*(d*r-o))]],tags:s},b=void 0;void 0!==(b=c||this.options.generateId?t[g+mo]:this.points[t[g+mo]].id)&&(h.id=b),a.features.push(h)}}catch(f){l.e(f)}finally{l.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var n=this.options,o=n.radius,r=n.extent,a=n.reduce,i=n.minPoints,l=o/(r*Math.pow(2,t)),g=e.data,c=[],s=this.stride,u=0;u<g.length;u+=s)if(!(g[u+2]<=t)){g[u+2]=t;var d,I=g[u],C=g[u+1],m=e.within(g[u],g[u+1],l),p=g[u+po],A=p,h=W(m);try{for(h.s();!(d=h.n()).done;){var b=d.value*s;g[b+2]>t&&(A+=g[b+po])}}catch(H){h.e(H)}finally{h.f()}if(A>p&&A>=i){var f,v=I*p,y=C*p,Z=void 0,G=-1,S=((u/s|0)<<5)+(t+1)+this.points.length,B=W(m);try{for(B.s();!(f=B.n()).done;){var k=f.value*s;if(!(g[k+2]<=t)){g[k+2]=t;var V=g[k+po];v+=g[k]*V,y+=g[k+1]*V,g[k+4]=S,a&&(Z||(Z=this._map(g,u,!0),G=this.clusterProps.length,this.clusterProps.push(Z)),a(Z,this._map(g,k)))}}}catch(H){B.e(H)}finally{B.f()}g[u+4]=S,c.push(v/A,y/A,1/0,S,-1,A),a&&c.push(G)}else{for(var w=0;w<s;w++)c.push(g[u+w]);if(A>1){var R,X=W(m);try{for(X.s();!(R=X.n()).done;){var J=R.value*s;if(!(g[J+2]<=t)){g[J+2]=t;for(var x=0;x<s;x++)c.push(g[J+x])}}}catch(H){X.e(H)}finally{X.f()}}}}return c}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t,n){if(e[t+po]>1){var o=this.clusterProps[e[t+Ao]];return n?Object.assign({},o):o}var r=this.points[e[t+mo]].properties,a=this.options.map(r);return n&&a===r?Object.assign({},a):a}}]),e}();function bo(e,t,n){return{type:"Feature",id:e[t+mo],properties:fo(e,t,n),geometry:{type:"Point",coordinates:[Zo(e[t]),Go(e[t+1])]}}}function fo(e,t,n){var o=e[t+po],r=o>=1e4?"".concat(Math.round(o/1e3),"k"):o>=1e3?"".concat(Math.round(o/100)/10,"k"):o,a=e[t+Ao],i=-1===a?{}:Object.assign({},n[a]);return Object.assign(i,{cluster:!0,cluster_id:e[t+mo],point_count:o,point_count_abbreviated:r})}function vo(e){return e/360+.5}function yo(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Zo(e){return 360*(e-.5)}function Go(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function So(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}var Bo=function(){function e(){p(this,e)}return b(e,null,[{key:"isAdvancedMarkerAvailable",value:function(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}},{key:"isAdvancedMarker",value:function(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}},{key:"setMap",value:function(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}},{key:"getPosition",value:function(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}},{key:"getVisible",value:function(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}]),e}(),ko=function(){function e(t){var n=t.markers,o=t.position;p(this,e),this.markers=n,o&&(o instanceof google.maps.LatLng?this._position=o:this._position=new google.maps.LatLng(o))}return b(e,[{key:"bounds",get:function(){if(0!==this.markers.length||this._position){var e,t=new google.maps.LatLngBounds(this._position,this._position),n=W(this.markers);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.extend(Bo.getPosition(o))}}catch(r){n.e(r)}finally{n.f()}return t}}},{key:"position",get:function(){return this._position||this.bounds.getCenter()}},{key:"count",get:function(){return this.markers.filter((function(e){return Bo.getVisible(e)})).length}},{key:"push",value:function(e){this.markers.push(e)}},{key:"delete",value:function(){this.marker&&(Bo.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}]),e}(),Vo=function(){function e(t){var n=t.maxZoom,o=void 0===n?16:n;p(this,e),this.maxZoom=o}return b(e,[{key:"noop",value:function(e){var t=e.markers;return Wo(t)}}]),e}(),Wo=function(e){return e.map((function(e){return new ko({position:Bo.getPosition(e),markers:[e]})}))},wo=function(e){v(n,e);var t=S(n);function n(e){var o;p(this,n);var r=e.maxZoom,a=e.radius,i=void 0===a?60:a,l=So(e,["maxZoom","radius"]);return(o=t.call(this,{maxZoom:r})).state={zoom:-1},o.superCluster=new ho(Object.assign({maxZoom:o.maxZoom,radius:i},l)),o}return b(n,[{key:"calculate",value:function(e){var t=!1,n={zoom:e.map.getZoom()};if(!oo(e.markers,this.markers)){t=!0,this.markers=m(e.markers);var o=this.markers.map((function(e){var t=Bo.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(o)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!oo(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}},{key:"cluster",value:function(e){var t=this,n=e.map;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map((function(e){return t.transformCluster(e)}))}},{key:"transformCluster",value:function(e){var t=I(e.geometry.coordinates,2),n=t[0],o=t[1],r=e.properties;if(r.cluster)return new ko({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((function(e){return e.properties.marker})),position:{lat:o,lng:n}});var a=r.marker;return new ko({markers:[a],position:Bo.getPosition(a)})}}]),n}(Vo),Ro=b((function e(t,n){p(this,e),this.markers={sum:t.length};var o=n.map((function(e){return e.count})),r=o.reduce((function(e,t){return e+t}),0);this.clusters={count:n.length,markers:{mean:r/n.length,sum:r,min:Math.min.apply(Math,m(o)),max:Math.max.apply(Math,m(o))}}})),Xo=function(){function e(){p(this,e)}return b(e,[{key:"render",value:function(e,t,n){var o=e.count,r=e.position,a=o>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",i='<svg fill="'.concat(a,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(o,"</text>\n</svg>"),l="Cluster of ".concat(o," markers"),g=Number(google.maps.Marker.MAX_ZINDEX)+o;if(Bo.isAdvancedMarkerAvailable(n)){var c=document.createElement("div");c.innerHTML=i;var s=c.firstElementChild;s.setAttribute("transform","translate(0 25)");var u={map:n,position:r,zIndex:g,title:l,content:s};return new google.maps.marker.AdvancedMarkerElement(u)}var d={position:r,zIndex:g,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(i)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}]),e}();var Jo,xo=b((function e(){p(this,e),function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(e,google.maps.OverlayView)}));!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(Jo||(Jo={}));var Ho=function(e,t,n){n.fitBounds(t.bounds)},Yo=function(e){v(n,e);var t=S(n);function n(e){var o,r=e.map,a=e.markers,i=void 0===a?[]:a,l=e.algorithmOptions,g=void 0===l?{}:l,c=e.algorithm,s=void 0===c?new wo(g):c,u=e.renderer,d=void 0===u?new Xo:u,I=e.onClusterClick,C=void 0===I?Ho:I;return p(this,n),(o=t.call(this)).markers=m(i),o.clusters=[],o.algorithm=s,o.renderer=d,o.onClusterClick=C,r&&o.setMap(r),o}return b(n,[{key:"addMarker",value:function(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}},{key:"addMarkers",value:function(e,t){var n=this;e.forEach((function(e){n.addMarker(e,!0)})),t||this.render()}},{key:"removeMarker",value:function(e,t){var n=this.markers.indexOf(e);return-1!==n&&(Bo.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}},{key:"removeMarkers",value:function(e,t){var n=this,o=!1;return e.forEach((function(e){o=n.removeMarker(e,!0)||o})),o&&!t&&this.render(),o}},{key:"clearMarkers",value:function(e){this.markers.length=0,e||this.render()}},{key:"render",value:function(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Jo.CLUSTERING_BEGIN,this);var t=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()}),n=t.clusters,o=t.changed;if(o||void 0==o){var r,a=new Set,i=W(n);try{for(i.s();!(r=i.n()).done;){var l=r.value;1==l.markers.length&&a.add(l.markers[0])}}catch(d){i.e(d)}finally{i.f()}var g,c=[],s=W(this.clusters);try{for(s.s();!(g=s.n()).done;){var u=g.value;null!=u.marker&&(1==u.markers.length?a.has(u.marker)||Bo.setMap(u.marker,null):c.push(u.marker))}}catch(d){s.e(d)}finally{s.f()}this.clusters=n,this.renderClusters(),requestAnimationFrame((function(){return c.forEach((function(e){return Bo.setMap(e,null)}))}))}google.maps.event.trigger(this,Jo.CLUSTERING_END,this)}}},{key:"onAdd",value:function(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}},{key:"onRemove",value:function(){google.maps.event.removeListener(this.idleListener),this.reset()}},{key:"reset",value:function(){this.markers.forEach((function(e){return Bo.setMap(e,null)})),this.clusters.forEach((function(e){return e.delete()})),this.clusters=[]}},{key:"renderClusters",value:function(){var e=this,t=new Ro(this.markers,this.clusters),n=this.getMap();this.clusters.forEach((function(o){1===o.markers.length?o.marker=o.markers[0]:(o.marker=e.renderer.render(o,t,n),o.markers.forEach((function(e){return Bo.setMap(e,null)})),e.onClusterClick&&o.marker.addListener("click",(function(t){google.maps.event.trigger(e,Jo.CLUSTER_CLICK,o),e.onClusterClick(t,o,n)}))),Bo.setMap(o.marker,n)}))}}]),n}(xo);function No(e){var t=function(){cn(!!i.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,i.useContext)(sn);return cn(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),n=(0,i.useState)(null),o=n[0],r=n[1];return(0,i.useEffect)((function(){if(t&&null===o){var n=new Yo(nn(nn({},e),{map:t}));r(n)}}),[t]),o}(0,i.memo)((function(e){var t=e.children,n=No(e.options);return null!==n?t(n):null}));var Fo={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Eo={options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},zIndex:function(e,t){e.setZIndex(t)}};(0,i.memo)((function(e){var t=e.children,n=e.anchor,o=e.options,r=e.position,a=e.zIndex,l=e.onCloseClick,g=e.onDomReady,c=e.onContentChanged,s=e.onPositionChanged,u=e.onZindexChanged,d=e.onLoad,I=e.onUnmount,C=(0,i.useContext)(sn),m=(0,i.useState)(null),p=m[0],A=m[1],h=(0,i.useState)(null),b=h[0],f=h[1],v=(0,i.useState)(null),y=v[0],Z=v[1],G=(0,i.useState)(null),S=G[0],B=G[1],k=(0,i.useState)(null),V=k[0],W=k[1],w=(0,i.useState)(null),R=w[0],X=w[1],J=(0,i.useRef)(null);return(0,i.useEffect)((function(){null!==p&&(p.close(),n?p.open(C,n):p.getPosition()&&p.open(C))}),[C,p,n]),(0,i.useEffect)((function(){o&&null!==p&&p.setOptions(o)}),[p,o]),(0,i.useEffect)((function(){r&&null!==p&&p.setPosition(r)}),[r]),(0,i.useEffect)((function(){"number"===typeof a&&null!==p&&p.setZIndex(a)}),[a]),(0,i.useEffect)((function(){p&&l&&(null!==b&&google.maps.event.removeListener(b),f(google.maps.event.addListener(p,"closeclick",l)))}),[l]),(0,i.useEffect)((function(){p&&g&&(null!==y&&google.maps.event.removeListener(y),Z(google.maps.event.addListener(p,"domready",g)))}),[g]),(0,i.useEffect)((function(){p&&c&&(null!==S&&google.maps.event.removeListener(S),B(google.maps.event.addListener(p,"content_changed",c)))}),[c]),(0,i.useEffect)((function(){p&&s&&(null!==V&&google.maps.event.removeListener(V),W(google.maps.event.addListener(p,"position_changed",s)))}),[s]),(0,i.useEffect)((function(){p&&u&&(null!==R&&google.maps.event.removeListener(R),X(google.maps.event.addListener(p,"zindex_changed",u)))}),[u]),(0,i.useEffect)((function(){var e=new google.maps.InfoWindow(nn({},o||{}));return A(e),J.current=document.createElement("div"),l&&f(google.maps.event.addListener(e,"closeclick",l)),g&&Z(google.maps.event.addListener(e,"domready",g)),c&&B(google.maps.event.addListener(e,"content_changed",c)),s&&W(google.maps.event.addListener(e,"position_changed",s)),u&&X(google.maps.event.addListener(e,"zindex_changed",u)),e.setContent(J.current),r&&e.setPosition(r),a&&e.setZIndex(a),n?e.open(C,n):e.getPosition()?e.open(C):cn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(e),function(){b&&google.maps.event.removeListener(b),S&&google.maps.event.removeListener(S),y&&google.maps.event.removeListener(y),V&&google.maps.event.removeListener(V),R&&google.maps.event.removeListener(R),I&&I(e),e.close()}}),[]),J.current?(0,_t.createPortal)(i.Children.only(t),J.current):null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoWindow:null},t.open=function(e,n){n?e.open(t.context,n):e.getPosition()?e.open(t.context):cn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},t.setInfoWindowCallback=function(){null!==t.state.infoWindow&&null!==t.containerElement&&(t.state.infoWindow.setContent(t.containerElement),t.open(t.state.infoWindow,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoWindow))},t}tn(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.InfoWindow(nn({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=mn({updaterMap:Eo,eventMap:Fo,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{infoWindow:e}}),this.setInfoWindowCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.infoWindow&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:Eo,eventMap:Fo,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))},t.prototype.componentWillUnmount=function(){null!==this.state.infoWindow&&(Cn(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},t.prototype.render=function(){return this.containerElement?(0,_t.createPortal)(i.Children.only(this.props.children),this.containerElement):null},t.contextType=sn}(i.PureComponent);var Ko={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Mo={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},visible:function(e,t){e.setVisible(t)}},Lo={};(0,i.memo)((function(e){var t=e.options,n=e.draggable,o=e.editable,r=e.visible,a=e.path,l=e.onDblClick,g=e.onDragEnd,c=e.onDragStart,s=e.onMouseDown,u=e.onMouseMove,d=e.onMouseOut,I=e.onMouseOver,C=e.onMouseUp,m=e.onRightClick,p=e.onClick,A=e.onDrag,h=e.onLoad,b=e.onUnmount,f=(0,i.useContext)(sn),v=(0,i.useState)(null),y=v[0],Z=v[1],G=(0,i.useState)(null),S=G[0],B=G[1],k=(0,i.useState)(null),V=k[0],W=k[1],w=(0,i.useState)(null),R=w[0],X=w[1],J=(0,i.useState)(null),x=J[0],H=J[1],Y=(0,i.useState)(null),N=Y[0],F=Y[1],E=(0,i.useState)(null),K=E[0],M=E[1],L=(0,i.useState)(null),z=L[0],D=L[1],T=(0,i.useState)(null),U=T[0],Q=T[1],j=(0,i.useState)(null),O=j[0],P=j[1],q=(0,i.useState)(null),_=q[0],$=q[1],ee=(0,i.useState)(null),te=ee[0],ne=ee[1];return(0,i.useEffect)((function(){null!==y&&y.setMap(f)}),[f]),(0,i.useEffect)((function(){"undefined"!==typeof t&&null!==y&&y.setOptions(t)}),[y,t]),(0,i.useEffect)((function(){"undefined"!==typeof n&&null!==y&&y.setDraggable(n)}),[y,n]),(0,i.useEffect)((function(){"undefined"!==typeof o&&null!==y&&y.setEditable(o)}),[y,o]),(0,i.useEffect)((function(){"undefined"!==typeof r&&null!==y&&y.setVisible(r)}),[y,r]),(0,i.useEffect)((function(){"undefined"!==typeof a&&null!==y&&y.setPath(a)}),[y,a]),(0,i.useEffect)((function(){y&&l&&(null!==S&&google.maps.event.removeListener(S),B(google.maps.event.addListener(y,"dblclick",l)))}),[l]),(0,i.useEffect)((function(){y&&g&&(null!==V&&google.maps.event.removeListener(V),W(google.maps.event.addListener(y,"dragend",g)))}),[g]),(0,i.useEffect)((function(){y&&c&&(null!==R&&google.maps.event.removeListener(R),X(google.maps.event.addListener(y,"dragstart",c)))}),[c]),(0,i.useEffect)((function(){y&&s&&(null!==x&&google.maps.event.removeListener(x),H(google.maps.event.addListener(y,"mousedown",s)))}),[s]),(0,i.useEffect)((function(){y&&u&&(null!==N&&google.maps.event.removeListener(N),F(google.maps.event.addListener(y,"mousemove",u)))}),[u]),(0,i.useEffect)((function(){y&&d&&(null!==K&&google.maps.event.removeListener(K),M(google.maps.event.addListener(y,"mouseout",d)))}),[d]),(0,i.useEffect)((function(){y&&I&&(null!==z&&google.maps.event.removeListener(z),D(google.maps.event.addListener(y,"mouseover",I)))}),[I]),(0,i.useEffect)((function(){y&&C&&(null!==U&&google.maps.event.removeListener(U),Q(google.maps.event.addListener(y,"mouseup",C)))}),[C]),(0,i.useEffect)((function(){y&&m&&(null!==O&&google.maps.event.removeListener(O),P(google.maps.event.addListener(y,"rightclick",m)))}),[m]),(0,i.useEffect)((function(){y&&p&&(null!==_&&google.maps.event.removeListener(_),$(google.maps.event.addListener(y,"click",p)))}),[p]),(0,i.useEffect)((function(){y&&A&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(y,"drag",A)))}),[A]),(0,i.useEffect)((function(){var e=new google.maps.Polyline(nn(nn({},t||Lo),{map:f}));return a&&e.setPath(a),"undefined"!==typeof r&&e.setVisible(r),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof n&&e.setDraggable(n),l&&B(google.maps.event.addListener(e,"dblclick",l)),g&&W(google.maps.event.addListener(e,"dragend",g)),c&&X(google.maps.event.addListener(e,"dragstart",c)),s&&H(google.maps.event.addListener(e,"mousedown",s)),u&&F(google.maps.event.addListener(e,"mousemove",u)),d&&M(google.maps.event.addListener(e,"mouseout",d)),I&&D(google.maps.event.addListener(e,"mouseover",I)),C&&Q(google.maps.event.addListener(e,"mouseup",C)),m&&P(google.maps.event.addListener(e,"rightclick",m)),p&&$(google.maps.event.addListener(e,"click",p)),A&&ne(google.maps.event.addListener(e,"drag",A)),Z(e),h&&h(e),function(){null!==S&&google.maps.event.removeListener(S),null!==V&&google.maps.event.removeListener(V),null!==R&&google.maps.event.removeListener(R),null!==x&&google.maps.event.removeListener(x),null!==N&&google.maps.event.removeListener(N),null!==K&&google.maps.event.removeListener(K),null!==z&&google.maps.event.removeListener(z),null!==U&&google.maps.event.removeListener(U),null!==O&&google.maps.event.removeListener(O),null!==_&&google.maps.event.removeListener(_),b&&b(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polyline:null},t.setPolylineCallback=function(){null!==t.state.polyline&&t.props.onLoad&&t.props.onLoad(t.state.polyline)},t}tn(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polyline(nn(nn({},this.props.options||{}),{map:this.context}));this.registeredEvents=mn({updaterMap:Mo,eventMap:Ko,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polyline&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:Mo,eventMap:Ko,prevProps:e,nextProps:this.props,instance:this.state.polyline}))},t.prototype.componentWillUnmount=function(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Cn(this.registeredEvents),this.state.polyline.setMap(null))},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent);var zo={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Do={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},paths:function(e,t){e.setPaths(t)},visible:function(e,t){e.setVisible(t)}};(0,i.memo)((function(e){var t=e.options,n=e.draggable,o=e.editable,r=e.visible,a=e.path,l=e.paths,g=e.onDblClick,c=e.onDragEnd,s=e.onDragStart,u=e.onMouseDown,d=e.onMouseMove,I=e.onMouseOut,C=e.onMouseOver,m=e.onMouseUp,p=e.onRightClick,A=e.onClick,h=e.onDrag,b=e.onLoad,f=e.onUnmount,v=(0,i.useContext)(sn),y=(0,i.useState)(null),Z=y[0],G=y[1],S=(0,i.useState)(null),B=S[0],k=S[1],V=(0,i.useState)(null),W=V[0],w=V[1],R=(0,i.useState)(null),X=R[0],J=R[1],x=(0,i.useState)(null),H=x[0],Y=x[1],N=(0,i.useState)(null),F=N[0],E=N[1],K=(0,i.useState)(null),M=K[0],L=K[1],z=(0,i.useState)(null),D=z[0],T=z[1],U=(0,i.useState)(null),Q=U[0],j=U[1],O=(0,i.useState)(null),P=O[0],q=O[1],_=(0,i.useState)(null),$=_[0],ee=_[1],te=(0,i.useState)(null),ne=te[0],oe=te[1];return(0,i.useEffect)((function(){null!==Z&&Z.setMap(v)}),[v]),(0,i.useEffect)((function(){"undefined"!==typeof t&&null!==Z&&Z.setOptions(t)}),[Z,t]),(0,i.useEffect)((function(){"undefined"!==typeof n&&null!==Z&&Z.setDraggable(n)}),[Z,n]),(0,i.useEffect)((function(){"undefined"!==typeof o&&null!==Z&&Z.setEditable(o)}),[Z,o]),(0,i.useEffect)((function(){"undefined"!==typeof r&&null!==Z&&Z.setVisible(r)}),[Z,r]),(0,i.useEffect)((function(){"undefined"!==typeof a&&null!==Z&&Z.setPath(a)}),[Z,a]),(0,i.useEffect)((function(){"undefined"!==typeof l&&null!==Z&&Z.setPaths(l)}),[Z,l]),(0,i.useEffect)((function(){Z&&g&&(null!==B&&google.maps.event.removeListener(B),k(google.maps.event.addListener(Z,"dblclick",g)))}),[g]),(0,i.useEffect)((function(){Z&&c&&(null!==W&&google.maps.event.removeListener(W),w(google.maps.event.addListener(Z,"dragend",c)))}),[c]),(0,i.useEffect)((function(){Z&&s&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(Z,"dragstart",s)))}),[s]),(0,i.useEffect)((function(){Z&&u&&(null!==H&&google.maps.event.removeListener(H),Y(google.maps.event.addListener(Z,"mousedown",u)))}),[u]),(0,i.useEffect)((function(){Z&&d&&(null!==F&&google.maps.event.removeListener(F),E(google.maps.event.addListener(Z,"mousemove",d)))}),[d]),(0,i.useEffect)((function(){Z&&I&&(null!==M&&google.maps.event.removeListener(M),L(google.maps.event.addListener(Z,"mouseout",I)))}),[I]),(0,i.useEffect)((function(){Z&&C&&(null!==D&&google.maps.event.removeListener(D),T(google.maps.event.addListener(Z,"mouseover",C)))}),[C]),(0,i.useEffect)((function(){Z&&m&&(null!==Q&&google.maps.event.removeListener(Q),j(google.maps.event.addListener(Z,"mouseup",m)))}),[m]),(0,i.useEffect)((function(){Z&&p&&(null!==P&&google.maps.event.removeListener(P),q(google.maps.event.addListener(Z,"rightclick",p)))}),[p]),(0,i.useEffect)((function(){Z&&A&&(null!==$&&google.maps.event.removeListener($),ee(google.maps.event.addListener(Z,"click",A)))}),[A]),(0,i.useEffect)((function(){Z&&h&&(null!==ne&&google.maps.event.removeListener(ne),oe(google.maps.event.addListener(Z,"drag",h)))}),[h]),(0,i.useEffect)((function(){var e=new google.maps.Polygon(nn(nn({},t||{}),{map:v}));return a&&e.setPath(a),l&&e.setPaths(l),"undefined"!==typeof r&&e.setVisible(r),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof n&&e.setDraggable(n),g&&k(google.maps.event.addListener(e,"dblclick",g)),c&&w(google.maps.event.addListener(e,"dragend",c)),s&&J(google.maps.event.addListener(e,"dragstart",s)),u&&Y(google.maps.event.addListener(e,"mousedown",u)),d&&E(google.maps.event.addListener(e,"mousemove",d)),I&&L(google.maps.event.addListener(e,"mouseout",I)),C&&T(google.maps.event.addListener(e,"mouseover",C)),m&&j(google.maps.event.addListener(e,"mouseup",m)),p&&q(google.maps.event.addListener(e,"rightclick",p)),A&&ee(google.maps.event.addListener(e,"click",A)),h&&oe(google.maps.event.addListener(e,"drag",h)),G(e),b&&b(e),function(){null!==B&&google.maps.event.removeListener(B),null!==W&&google.maps.event.removeListener(W),null!==X&&google.maps.event.removeListener(X),null!==H&&google.maps.event.removeListener(H),null!==F&&google.maps.event.removeListener(F),null!==M&&google.maps.event.removeListener(M),null!==D&&google.maps.event.removeListener(D),null!==Q&&google.maps.event.removeListener(Q),null!==P&&google.maps.event.removeListener(P),null!==$&&google.maps.event.removeListener($),f&&f(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polygon:null},t.setPolygonCallback=function(){null!==t.state.polygon&&t.props.onLoad&&t.props.onLoad(t.state.polygon)},t}tn(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polygon(nn(nn({},this.props.options||{}),{map:this.context}));this.registeredEvents=mn({updaterMap:Do,eventMap:zo,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polygon:e}}),this.setPolygonCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polygon&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:Do,eventMap:zo,prevProps:e,nextProps:this.props,instance:this.state.polygon}))},t.prototype.componentWillUnmount=function(){null!==this.state.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),Cn(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent);var To={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Uo={bounds:function(e,t){e.setBounds(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},visible:function(e,t){e.setVisible(t)}};(0,i.memo)((function(e){var t=e.options,n=e.bounds,o=e.draggable,r=e.editable,a=e.visible,l=e.onDblClick,g=e.onDragEnd,c=e.onDragStart,s=e.onMouseDown,u=e.onMouseMove,d=e.onMouseOut,I=e.onMouseOver,C=e.onMouseUp,m=e.onRightClick,p=e.onClick,A=e.onDrag,h=e.onBoundsChanged,b=e.onLoad,f=e.onUnmount,v=(0,i.useContext)(sn),y=(0,i.useState)(null),Z=y[0],G=y[1],S=(0,i.useState)(null),B=S[0],k=S[1],V=(0,i.useState)(null),W=V[0],w=V[1],R=(0,i.useState)(null),X=R[0],J=R[1],x=(0,i.useState)(null),H=x[0],Y=x[1],N=(0,i.useState)(null),F=N[0],E=N[1],K=(0,i.useState)(null),M=K[0],L=K[1],z=(0,i.useState)(null),D=z[0],T=z[1],U=(0,i.useState)(null),Q=U[0],j=U[1],O=(0,i.useState)(null),P=O[0],q=O[1],_=(0,i.useState)(null),$=_[0],ee=_[1],te=(0,i.useState)(null),ne=te[0],oe=te[1],re=(0,i.useState)(null),ae=re[0],ie=re[1];return(0,i.useEffect)((function(){null!==Z&&Z.setMap(v)}),[v]),(0,i.useEffect)((function(){"undefined"!==typeof t&&null!==Z&&Z.setOptions(t)}),[Z,t]),(0,i.useEffect)((function(){"undefined"!==typeof o&&null!==Z&&Z.setDraggable(o)}),[Z,o]),(0,i.useEffect)((function(){"undefined"!==typeof r&&null!==Z&&Z.setEditable(r)}),[Z,r]),(0,i.useEffect)((function(){"undefined"!==typeof a&&null!==Z&&Z.setVisible(a)}),[Z,a]),(0,i.useEffect)((function(){"undefined"!==typeof n&&null!==Z&&Z.setBounds(n)}),[Z,n]),(0,i.useEffect)((function(){Z&&l&&(null!==B&&google.maps.event.removeListener(B),k(google.maps.event.addListener(Z,"dblclick",l)))}),[l]),(0,i.useEffect)((function(){Z&&g&&(null!==W&&google.maps.event.removeListener(W),w(google.maps.event.addListener(Z,"dragend",g)))}),[g]),(0,i.useEffect)((function(){Z&&c&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(Z,"dragstart",c)))}),[c]),(0,i.useEffect)((function(){Z&&s&&(null!==H&&google.maps.event.removeListener(H),Y(google.maps.event.addListener(Z,"mousedown",s)))}),[s]),(0,i.useEffect)((function(){Z&&u&&(null!==F&&google.maps.event.removeListener(F),E(google.maps.event.addListener(Z,"mousemove",u)))}),[u]),(0,i.useEffect)((function(){Z&&d&&(null!==M&&google.maps.event.removeListener(M),L(google.maps.event.addListener(Z,"mouseout",d)))}),[d]),(0,i.useEffect)((function(){Z&&I&&(null!==D&&google.maps.event.removeListener(D),T(google.maps.event.addListener(Z,"mouseover",I)))}),[I]),(0,i.useEffect)((function(){Z&&C&&(null!==Q&&google.maps.event.removeListener(Q),j(google.maps.event.addListener(Z,"mouseup",C)))}),[C]),(0,i.useEffect)((function(){Z&&m&&(null!==P&&google.maps.event.removeListener(P),q(google.maps.event.addListener(Z,"rightclick",m)))}),[m]),(0,i.useEffect)((function(){Z&&p&&(null!==$&&google.maps.event.removeListener($),ee(google.maps.event.addListener(Z,"click",p)))}),[p]),(0,i.useEffect)((function(){Z&&A&&(null!==ne&&google.maps.event.removeListener(ne),oe(google.maps.event.addListener(Z,"drag",A)))}),[A]),(0,i.useEffect)((function(){Z&&h&&(null!==ae&&google.maps.event.removeListener(ae),ie(google.maps.event.addListener(Z,"bounds_changed",h)))}),[h]),(0,i.useEffect)((function(){var e=new google.maps.Rectangle(nn(nn({},t||{}),{map:v}));return"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof r&&e.setEditable(r),"undefined"!==typeof o&&e.setDraggable(o),"undefined"!==typeof n&&e.setBounds(n),l&&k(google.maps.event.addListener(e,"dblclick",l)),g&&w(google.maps.event.addListener(e,"dragend",g)),c&&J(google.maps.event.addListener(e,"dragstart",c)),s&&Y(google.maps.event.addListener(e,"mousedown",s)),u&&E(google.maps.event.addListener(e,"mousemove",u)),d&&L(google.maps.event.addListener(e,"mouseout",d)),I&&T(google.maps.event.addListener(e,"mouseover",I)),C&&j(google.maps.event.addListener(e,"mouseup",C)),m&&q(google.maps.event.addListener(e,"rightclick",m)),p&&ee(google.maps.event.addListener(e,"click",p)),A&&oe(google.maps.event.addListener(e,"drag",A)),h&&ie(google.maps.event.addListener(e,"bounds_changed",h)),G(e),b&&b(e),function(){null!==B&&google.maps.event.removeListener(B),null!==W&&google.maps.event.removeListener(W),null!==X&&google.maps.event.removeListener(X),null!==H&&google.maps.event.removeListener(H),null!==F&&google.maps.event.removeListener(F),null!==M&&google.maps.event.removeListener(M),null!==D&&google.maps.event.removeListener(D),null!==Q&&google.maps.event.removeListener(Q),null!==P&&google.maps.event.removeListener(P),null!==$&&google.maps.event.removeListener($),null!==ne&&google.maps.event.removeListener(ne),null!==ae&&google.maps.event.removeListener(ae),f&&f(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={rectangle:null},t.setRectangleCallback=function(){null!==t.state.rectangle&&t.props.onLoad&&t.props.onLoad(t.state.rectangle)},t}tn(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Rectangle(nn(nn({},this.props.options||{}),{map:this.context}));this.registeredEvents=mn({updaterMap:Uo,eventMap:To,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.rectangle&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:Uo,eventMap:To,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))},t.prototype.componentWillUnmount=function(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Cn(this.registeredEvents),this.state.rectangle.setMap(null))},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent);var Qo={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},jo={center:function(e,t){e.setCenter(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},radius:function(e,t){e.setRadius(t)},visible:function(e,t){e.setVisible(t)}},Oo={};(0,i.memo)((function(e){var t=e.options,n=e.center,o=e.radius,r=e.draggable,a=e.editable,l=e.visible,g=e.onDblClick,c=e.onDragEnd,s=e.onDragStart,u=e.onMouseDown,d=e.onMouseMove,I=e.onMouseOut,C=e.onMouseOver,m=e.onMouseUp,p=e.onRightClick,A=e.onClick,h=e.onDrag,b=e.onCenterChanged,f=e.onRadiusChanged,v=e.onLoad,y=e.onUnmount,Z=(0,i.useContext)(sn),G=(0,i.useState)(null),S=G[0],B=G[1],k=(0,i.useState)(null),V=k[0],W=k[1],w=(0,i.useState)(null),R=w[0],X=w[1],J=(0,i.useState)(null),x=J[0],H=J[1],Y=(0,i.useState)(null),N=Y[0],F=Y[1],E=(0,i.useState)(null),K=E[0],M=E[1],L=(0,i.useState)(null),z=L[0],D=L[1],T=(0,i.useState)(null),U=T[0],Q=T[1],j=(0,i.useState)(null),O=j[0],P=j[1],q=(0,i.useState)(null),_=q[0],$=q[1],ee=(0,i.useState)(null),te=ee[0],ne=ee[1],oe=(0,i.useState)(null),re=oe[0],ae=oe[1],ie=(0,i.useState)(null),le=ie[0],ge=ie[1],ce=(0,i.useState)(null),se=ce[0],ue=ce[1];return(0,i.useEffect)((function(){null!==S&&S.setMap(Z)}),[Z]),(0,i.useEffect)((function(){"undefined"!==typeof t&&null!==S&&S.setOptions(t)}),[S,t]),(0,i.useEffect)((function(){"undefined"!==typeof r&&null!==S&&S.setDraggable(r)}),[S,r]),(0,i.useEffect)((function(){"undefined"!==typeof a&&null!==S&&S.setEditable(a)}),[S,a]),(0,i.useEffect)((function(){"undefined"!==typeof l&&null!==S&&S.setVisible(l)}),[S,l]),(0,i.useEffect)((function(){"number"===typeof o&&null!==S&&S.setRadius(o)}),[S,o]),(0,i.useEffect)((function(){"undefined"!==typeof n&&null!==S&&S.setCenter(n)}),[S,n]),(0,i.useEffect)((function(){S&&g&&(null!==V&&google.maps.event.removeListener(V),W(google.maps.event.addListener(S,"dblclick",g)))}),[g]),(0,i.useEffect)((function(){S&&c&&(null!==R&&google.maps.event.removeListener(R),X(google.maps.event.addListener(S,"dragend",c)))}),[c]),(0,i.useEffect)((function(){S&&s&&(null!==x&&google.maps.event.removeListener(x),H(google.maps.event.addListener(S,"dragstart",s)))}),[s]),(0,i.useEffect)((function(){S&&u&&(null!==N&&google.maps.event.removeListener(N),F(google.maps.event.addListener(S,"mousedown",u)))}),[u]),(0,i.useEffect)((function(){S&&d&&(null!==K&&google.maps.event.removeListener(K),M(google.maps.event.addListener(S,"mousemove",d)))}),[d]),(0,i.useEffect)((function(){S&&I&&(null!==z&&google.maps.event.removeListener(z),D(google.maps.event.addListener(S,"mouseout",I)))}),[I]),(0,i.useEffect)((function(){S&&C&&(null!==U&&google.maps.event.removeListener(U),Q(google.maps.event.addListener(S,"mouseover",C)))}),[C]),(0,i.useEffect)((function(){S&&m&&(null!==O&&google.maps.event.removeListener(O),P(google.maps.event.addListener(S,"mouseup",m)))}),[m]),(0,i.useEffect)((function(){S&&p&&(null!==_&&google.maps.event.removeListener(_),$(google.maps.event.addListener(S,"rightclick",p)))}),[p]),(0,i.useEffect)((function(){S&&A&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(S,"click",A)))}),[A]),(0,i.useEffect)((function(){S&&h&&(null!==re&&google.maps.event.removeListener(re),ae(google.maps.event.addListener(S,"drag",h)))}),[h]),(0,i.useEffect)((function(){S&&b&&(null!==le&&google.maps.event.removeListener(le),ge(google.maps.event.addListener(S,"center_changed",b)))}),[A]),(0,i.useEffect)((function(){S&&f&&(null!==se&&google.maps.event.removeListener(se),ue(google.maps.event.addListener(S,"radius_changed",f)))}),[f]),(0,i.useEffect)((function(){var e=new google.maps.Circle(nn(nn({},t||Oo),{map:Z}));return"number"===typeof o&&e.setRadius(o),"undefined"!==typeof n&&e.setCenter(n),"number"===typeof o&&e.setRadius(o),"undefined"!==typeof l&&e.setVisible(l),"undefined"!==typeof a&&e.setEditable(a),"undefined"!==typeof r&&e.setDraggable(r),g&&W(google.maps.event.addListener(e,"dblclick",g)),c&&X(google.maps.event.addListener(e,"dragend",c)),s&&H(google.maps.event.addListener(e,"dragstart",s)),u&&F(google.maps.event.addListener(e,"mousedown",u)),d&&M(google.maps.event.addListener(e,"mousemove",d)),I&&D(google.maps.event.addListener(e,"mouseout",I)),C&&Q(google.maps.event.addListener(e,"mouseover",C)),m&&P(google.maps.event.addListener(e,"mouseup",m)),p&&$(google.maps.event.addListener(e,"rightclick",p)),A&&ne(google.maps.event.addListener(e,"click",A)),h&&ae(google.maps.event.addListener(e,"drag",h)),b&&ge(google.maps.event.addListener(e,"center_changed",b)),f&&ue(google.maps.event.addListener(e,"radius_changed",f)),B(e),v&&v(e),function(){null!==V&&google.maps.event.removeListener(V),null!==R&&google.maps.event.removeListener(R),null!==x&&google.maps.event.removeListener(x),null!==N&&google.maps.event.removeListener(N),null!==K&&google.maps.event.removeListener(K),null!==z&&google.maps.event.removeListener(z),null!==U&&google.maps.event.removeListener(U),null!==O&&google.maps.event.removeListener(O),null!==_&&google.maps.event.removeListener(_),null!==te&&google.maps.event.removeListener(te),null!==le&&google.maps.event.removeListener(le),null!==se&&google.maps.event.removeListener(se),y&&y(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={circle:null},t.setCircleCallback=function(){null!==t.state.circle&&t.props.onLoad&&t.props.onLoad(t.state.circle)},t}tn(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Circle(nn(nn({},this.props.options||{}),{map:this.context}));this.registeredEvents=mn({updaterMap:jo,eventMap:Qo,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.circle&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:jo,eventMap:Qo,prevProps:e,nextProps:this.props,instance:this.state.circle}))},t.prototype.componentWillUnmount=function(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),Cn(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent);var Po={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},qo={add:function(e,t){e.add(t)},addgeojson:function(e,t,n){e.addGeoJson(t,n)},contains:function(e,t){e.contains(t)},foreach:function(e,t){e.forEach(t)},loadgeojson:function(e,t,n,o){e.loadGeoJson(t,n,o)},overridestyle:function(e,t,n){e.overrideStyle(t,n)},remove:function(e,t){e.remove(t)},revertstyle:function(e,t){e.revertStyle(t)},controlposition:function(e,t){e.setControlPosition(t)},controls:function(e,t){e.setControls(t)},drawingmode:function(e,t){e.setDrawingMode(t)},map:function(e,t){e.setMap(t)},style:function(e,t){e.setStyle(t)},togeojson:function(e,t){e.toGeoJson(t)}};(0,i.memo)((function(e){var t=e.options,n=e.onClick,o=e.onDblClick,r=e.onMouseDown,a=e.onMouseMove,l=e.onMouseOut,g=e.onMouseOver,c=e.onMouseUp,s=e.onRightClick,u=e.onAddFeature,d=e.onRemoveFeature,I=e.onRemoveProperty,C=e.onSetGeometry,m=e.onSetProperty,p=e.onLoad,A=e.onUnmount,h=(0,i.useContext)(sn),b=(0,i.useState)(null),f=b[0],v=b[1],y=(0,i.useState)(null),Z=y[0],G=y[1],S=(0,i.useState)(null),B=S[0],k=S[1],V=(0,i.useState)(null),W=V[0],w=V[1],R=(0,i.useState)(null),X=R[0],J=R[1],x=(0,i.useState)(null),H=x[0],Y=x[1],N=(0,i.useState)(null),F=N[0],E=N[1],K=(0,i.useState)(null),M=K[0],L=K[1],z=(0,i.useState)(null),D=z[0],T=z[1],U=(0,i.useState)(null),Q=U[0],j=U[1],O=(0,i.useState)(null),P=O[0],q=O[1],_=(0,i.useState)(null),$=_[0],ee=_[1],te=(0,i.useState)(null),ne=te[0],oe=te[1],re=(0,i.useState)(null),ae=re[0],ie=re[1];return(0,i.useEffect)((function(){null!==f&&f.setMap(h)}),[h]),(0,i.useEffect)((function(){f&&o&&(null!==Z&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(f,"dblclick",o)))}),[o]),(0,i.useEffect)((function(){f&&r&&(null!==B&&google.maps.event.removeListener(B),k(google.maps.event.addListener(f,"mousedown",r)))}),[r]),(0,i.useEffect)((function(){f&&a&&(null!==W&&google.maps.event.removeListener(W),w(google.maps.event.addListener(f,"mousemove",a)))}),[a]),(0,i.useEffect)((function(){f&&l&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(f,"mouseout",l)))}),[l]),(0,i.useEffect)((function(){f&&g&&(null!==H&&google.maps.event.removeListener(H),Y(google.maps.event.addListener(f,"mouseover",g)))}),[g]),(0,i.useEffect)((function(){f&&c&&(null!==F&&google.maps.event.removeListener(F),E(google.maps.event.addListener(f,"mouseup",c)))}),[c]),(0,i.useEffect)((function(){f&&s&&(null!==M&&google.maps.event.removeListener(M),L(google.maps.event.addListener(f,"rightclick",s)))}),[s]),(0,i.useEffect)((function(){f&&n&&(null!==D&&google.maps.event.removeListener(D),T(google.maps.event.addListener(f,"click",n)))}),[n]),(0,i.useEffect)((function(){f&&u&&(null!==Q&&google.maps.event.removeListener(Q),j(google.maps.event.addListener(f,"addfeature",u)))}),[u]),(0,i.useEffect)((function(){f&&d&&(null!==P&&google.maps.event.removeListener(P),q(google.maps.event.addListener(f,"removefeature",d)))}),[d]),(0,i.useEffect)((function(){f&&I&&(null!==$&&google.maps.event.removeListener($),ee(google.maps.event.addListener(f,"removeproperty",I)))}),[I]),(0,i.useEffect)((function(){f&&C&&(null!==ne&&google.maps.event.removeListener(ne),oe(google.maps.event.addListener(f,"setgeometry",C)))}),[C]),(0,i.useEffect)((function(){f&&m&&(null!==ae&&google.maps.event.removeListener(ae),ie(google.maps.event.addListener(f,"setproperty",m)))}),[m]),(0,i.useEffect)((function(){if(null!==h){var e=new google.maps.Data(nn(nn({},t||{}),{map:h}));o&&G(google.maps.event.addListener(e,"dblclick",o)),r&&k(google.maps.event.addListener(e,"mousedown",r)),a&&w(google.maps.event.addListener(e,"mousemove",a)),l&&J(google.maps.event.addListener(e,"mouseout",l)),g&&Y(google.maps.event.addListener(e,"mouseover",g)),c&&E(google.maps.event.addListener(e,"mouseup",c)),s&&L(google.maps.event.addListener(e,"rightclick",s)),n&&T(google.maps.event.addListener(e,"click",n)),u&&j(google.maps.event.addListener(e,"addfeature",u)),d&&q(google.maps.event.addListener(e,"removefeature",d)),I&&ee(google.maps.event.addListener(e,"removeproperty",I)),C&&oe(google.maps.event.addListener(e,"setgeometry",C)),m&&ie(google.maps.event.addListener(e,"setproperty",m)),v(e),p&&p(e)}return function(){f&&(null!==Z&&google.maps.event.removeListener(Z),null!==B&&google.maps.event.removeListener(B),null!==W&&google.maps.event.removeListener(W),null!==X&&google.maps.event.removeListener(X),null!==H&&google.maps.event.removeListener(H),null!==F&&google.maps.event.removeListener(F),null!==M&&google.maps.event.removeListener(M),null!==D&&google.maps.event.removeListener(D),null!==Q&&google.maps.event.removeListener(Q),null!==P&&google.maps.event.removeListener(P),null!==$&&google.maps.event.removeListener($),null!==ne&&google.maps.event.removeListener(ne),null!==ae&&google.maps.event.removeListener(ae),A&&A(f),f.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={data:null},t.setDataCallback=function(){null!==t.state.data&&t.props.onLoad&&t.props.onLoad(t.state.data)},t}tn(t,e),t.prototype.componentDidMount=function(){if(null!==this.context){var e=new google.maps.Data(nn(nn({},this.props.options||{}),{map:this.context}));this.registeredEvents=mn({updaterMap:qo,eventMap:Po,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{data:e}}),this.setDataCallback)}},t.prototype.componentDidUpdate=function(e){null!==this.state.data&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:qo,eventMap:Po,prevProps:e,nextProps:this.props,instance:this.state.data}))},t.prototype.componentWillUnmount=function(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Cn(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent);var _o={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},$o={options:function(e,t){e.setOptions(t)},url:function(e,t){e.setUrl(t)},zIndex:function(e,t){e.setZIndex(t)}};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={kmlLayer:null},t.setKmlLayerCallback=function(){null!==t.state.kmlLayer&&t.props.onLoad&&t.props.onLoad(t.state.kmlLayer)},t}tn(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.KmlLayer(nn(nn({},this.props.options),{map:this.context}));this.registeredEvents=mn({updaterMap:$o,eventMap:_o,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.kmlLayer&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:$o,eventMap:_o,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Cn(this.registeredEvents),this.state.kmlLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent);function er(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function tr(e,t){return new t(e.lat,e.lng)}function nr(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function or(e,t,n,o){return void 0!==n?function(e,t,n){var o=e&&e.fromLatLngToDivPixel(n.getNorthEast()),r=e&&e.fromLatLngToDivPixel(n.getSouthWest());return o&&r?{left:"".concat(r.x+t.x,"px"),top:"".concat(o.y+t.y,"px"),width:"".concat(o.x-r.x-t.x,"px"),height:"".concat(r.y-o.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(n,google.maps.LatLngBounds,nr)):function(e,t,n){var o=e&&e.fromLatLngToDivPixel(n);if(o){var r=o.x,a=o.y;return{left:"".concat(r+t.x,"px"),top:"".concat(a+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(o,google.maps.LatLng,tr))}function rr(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function ar(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}(0,i.memo)((function(e){var t=e.position,n=e.bounds,o=e.mapPaneName,r=e.zIndex,a=e.onLoad,l=e.onUnmount,g=e.getPixelPositionOffset,c=e.children,s=(0,i.useContext)(sn),u=(0,i.useMemo)((function(){var e=document.createElement("div");return e.style.position="absolute",e}),[]),d=(0,i.useMemo)((function(){return function(e,t,n,o,r){var a=function(e){function t(t,n,o,r){var a=e.call(this)||this;return a.container=t,a.pane=n,a.position=o,a.bounds=r,a}return tn(t,e),t.prototype.onAdd=function(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)},t.prototype.draw=function(){for(var e=or(this.getProjection(),nn({},this.container?er(this.container,r):{x:0,y:0}),this.bounds,this.position),t=0,n=Object.entries(e);t<n.length;t++){var o=n[t],a=o[0],i=o[1];this.container.style[a]=i}},t.prototype.onRemove=function(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)},t}(google.maps.OverlayView);return new a(e,t,n,o)}(u,o,t,n,g)}),[u,o,t,n]);return(0,i.useEffect)((function(){return null===a||void 0===a||a(d),null===d||void 0===d||d.setMap(s),function(){null===l||void 0===l||l(d),null===d||void 0===d||d.setMap(null)}}),[s,d]),(0,i.useEffect)((function(){u.style.zIndex="".concat(r)}),[r,u]),_t.createPortal(c,u)})),function(e){function t(t){var n=e.call(this,t)||this;n.state={paneEl:null,containerStyle:{position:"absolute"}},n.updatePane=function(){var e=n.props.mapPaneName,t=n.overlayView.getPanes();cn(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?n.setState({paneEl:t[e]}):n.setState({paneEl:null})},n.onAdd=function(){var e,t;n.updatePane(),null===(t=(e=n.props).onLoad)||void 0===t||t.call(e,n.overlayView)},n.onPositionElement=function(){var e,t,o,r=or(n.overlayView.getProjection(),nn({x:0,y:0},n.containerRef.current?er(n.containerRef.current,n.props.getPixelPositionOffset):{}),n.props.bounds,n.props.position),a=(e=n.state.containerStyle).left,i=e.top,l=e.width,g=e.height;o={left:a,top:i,width:l,height:g},((t=r).left!==o.left||t.top!==o.top||t.width!==o.height||t.height!==o.height)&&n.setState({containerStyle:{top:r.top||0,left:r.left||0,width:r.width||0,height:r.height||0,position:"absolute"}})},n.draw=function(){n.onPositionElement()},n.onRemove=function(){var e,t;n.setState((function(){return{paneEl:null}})),null===(t=(e=n.props).onUnmount)||void 0===t||t.call(e,n.overlayView)},n.containerRef=(0,i.createRef)();var o=new google.maps.OverlayView;return o.onAdd=n.onAdd,o.draw=n.draw,o.onRemove=n.onRemove,n.overlayView=o,n}tn(t,e),t.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},t.prototype.componentDidUpdate=function(e){var t=rr(e.position),n=rr(this.props.position),o=ar(e.bounds),r=ar(this.props.bounds);t===n&&o===r||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()},t.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},t.prototype.render=function(){var e=this.state.paneEl;return e?_t.createPortal((0,nt.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:i.Children.only(this.props.children)}),e):null},t.FLOAT_PANE="floatPane",t.MAP_PANE="mapPane",t.MARKER_LAYER="markerLayer",t.OVERLAY_LAYER="overlayLayer",t.OVERLAY_MOUSE_TARGET="overlayMouseTarget",t.contextType=sn}(i.PureComponent);function ir(){}var lr={onDblClick:"dblclick",onClick:"click"},gr={opacity:function(e,t){e.setOpacity(t)}};(0,i.memo)((function(e){var t=e.url,n=e.bounds,o=e.options,r=e.visible,a=(0,i.useContext)(sn),l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),g=(0,i.useMemo)((function(){return new google.maps.GroundOverlay(t,l,nn({},o))}),[]);return(0,i.useEffect)((function(){null!==g&&g.setMap(a)}),[a]),(0,i.useEffect)((function(){"undefined"!==typeof t&&null!==g&&(g.set("url",t),g.setMap(a))}),[g,t]),(0,i.useEffect)((function(){"undefined"!==typeof r&&null!==g&&g.setOpacity(r?1:0)}),[g,r]),(0,i.useEffect)((function(){var e=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));"undefined"!==typeof n&&null!==g&&(g.set("bounds",e),g.setMap(a))}),[g,n]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={groundOverlay:null},t.setGroundOverlayCallback=function(){null!==t.state.groundOverlay&&t.props.onLoad&&t.props.onLoad(t.state.groundOverlay)},t}tn(t,e),t.prototype.componentDidMount=function(){cn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,nn(nn({},this.props.options),{map:this.context}));this.registeredEvents=mn({updaterMap:gr,eventMap:lr,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.groundOverlay&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:gr,eventMap:lr,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))},t.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},t.prototype.render=function(){return null},t.defaultProps={onLoad:ir},t.contextType=sn}(i.PureComponent);var cr={},sr={data:function(e,t){e.setData(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)}};(0,i.memo)((function(e){var t=e.data,n=e.onLoad,o=e.onUnmount,r=e.options,a=(0,i.useContext)(sn),l=(0,i.useState)(null),g=l[0],c=l[1];return(0,i.useEffect)((function(){google.maps.visualization||cn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,i.useEffect)((function(){cn(!!t,"data property is required in HeatmapLayer %s",t)}),[t]),(0,i.useEffect)((function(){null!==g&&g.setMap(a)}),[a]),(0,i.useEffect)((function(){r&&null!==g&&g.setOptions(r)}),[g,r]),(0,i.useEffect)((function(){var e=new google.maps.visualization.HeatmapLayer(nn(nn({},r||{}),{data:t,map:a}));return c(e),n&&n(e),function(){null!==g&&(o&&o(g),g.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={heatmapLayer:null},t.setHeatmapLayerCallback=function(){null!==t.state.heatmapLayer&&t.props.onLoad&&t.props.onLoad(t.state.heatmapLayer)},t}tn(t,e),t.prototype.componentDidMount=function(){cn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),cn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(nn(nn({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=mn({updaterMap:sr,eventMap:cr,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)},t.prototype.componentDidUpdate=function(e){Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:sr,eventMap:cr,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})},t.prototype.componentWillUnmount=function(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Cn(this.registeredEvents),this.state.heatmapLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent);var ur={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},dr={register:function(e,t,n){e.registerPanoProvider(t,n)},links:function(e,t){e.setLinks(t)},motionTracking:function(e,t){e.setMotionTracking(t)},options:function(e,t){e.setOptions(t)},pano:function(e,t){e.setPano(t)},position:function(e,t){e.setPosition(t)},pov:function(e,t){e.setPov(t)},visible:function(e,t){e.setVisible(t)},zoom:function(e,t){e.setZoom(t)}},Ir=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={streetViewPanorama:null},t.setStreetViewPanoramaCallback=function(){null!==t.state.streetViewPanorama&&t.props.onLoad&&t.props.onLoad(t.state.streetViewPanorama)},t}tn(t,e),t.prototype.componentDidMount=function(){var e,t,n=null!==(t=null===(e=this.context)||void 0===e?void 0:e.getStreetView())&&void 0!==t?t:null;this.registeredEvents=mn({updaterMap:dr,eventMap:ur,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{streetViewPanorama:n}}),this.setStreetViewPanoramaCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.streetViewPanorama&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:dr,eventMap:ur,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Cn(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={streetViewService:null},t.setStreetViewServiceCallback=function(){null!==t.state.streetViewService&&t.props.onLoad&&t.props.onLoad(t.state.streetViewService)},t}tn(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},t.prototype.render=function(){return null},t.contextType=sn}(i.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={directionsService:null},t.setDirectionsServiceCallback=function(){null!==t.state.directionsService&&t.props.onLoad&&t.props.onLoad(t.state.directionsService)},t}tn(t,e),t.prototype.componentDidMount=function(){cn(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var e=new google.maps.DirectionsService;this.setState((function(){return{directionsService:e}}),this.setDirectionsServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.directionsService&&this.state.directionsService.route(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.directionsService&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},t.prototype.render=function(){return null}}(i.PureComponent),{onDirectionsChanged:"directions_changed"}),Cr={directions:function(e,t){e.setDirections(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},panel:function(e,t){e.setPanel(t)},routeIndex:function(e,t){e.setRouteIndex(t)}},mr=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={directionsRenderer:null},t.setDirectionsRendererCallback=function(){null!==t.state.directionsRenderer&&(t.state.directionsRenderer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.directionsRenderer))},t}tn(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=mn({updaterMap:Cr,eventMap:Ir,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.directionsRenderer&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:Cr,eventMap:Ir,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))},t.prototype.componentWillUnmount=function(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Cn(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},t.prototype.render=function(){return(0,nt.jsx)(nt.Fragment,{})},t.contextType=sn}(i.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={distanceMatrixService:null},t.setDistanceMatrixServiceCallback=function(){null!==t.state.distanceMatrixService&&t.props.onLoad&&t.props.onLoad(t.state.distanceMatrixService)},t}tn(t,e),t.prototype.componentDidMount=function(){cn(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var e=new google.maps.DistanceMatrixService;this.setState((function(){return{distanceMatrixService:e}}),this.setDistanceMatrixServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.distanceMatrixService&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.distanceMatrixService&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},t.prototype.render=function(){return null}}(i.PureComponent),{onPlacesChanged:"places_changed"}),pr={bounds:function(e,t){e.setBounds(t)}},Ar=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=(0,i.createRef)(),t.state={searchBox:null},t.setSearchBoxCallback=function(){null!==t.state.searchBox&&t.props.onLoad&&t.props.onLoad(t.state.searchBox)},t}tn(t,e),t.prototype.componentDidMount=function(){if(cn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=mn({updaterMap:pr,eventMap:mr,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}},t.prototype.componentDidUpdate=function(e){null!==this.state.searchBox&&(Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:pr,eventMap:mr,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))},t.prototype.componentWillUnmount=function(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Cn(this.registeredEvents))},t.prototype.render=function(){return(0,nt.jsx)("div",{ref:this.containerElement,children:i.Children.only(this.props.children)})},t.contextType=sn}(i.PureComponent),{onPlaceChanged:"place_changed"}),hr={bounds:function(e,t){e.setBounds(t)},restrictions:function(e,t){e.setComponentRestrictions(t)},fields:function(e,t){e.setFields(t)},options:function(e,t){e.setOptions(t)},types:function(e,t){e.setTypes(t)}},br=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=(0,i.createRef)(),t.state={autocomplete:null},t.setAutocompleteCallback=function(){null!==t.state.autocomplete&&t.props.onLoad&&t.props.onLoad(t.state.autocomplete)},t}return tn(t,e),t.prototype.componentDidMount=function(){var e;cn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=mn({updaterMap:hr,eventMap:Ar,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{autocomplete:n}}),this.setAutocompleteCallback)}},t.prototype.componentDidUpdate=function(e){Cn(this.registeredEvents),this.registeredEvents=mn({updaterMap:hr,eventMap:Ar,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})},t.prototype.componentWillUnmount=function(){null!==this.state.autocomplete&&Cn(this.registeredEvents)},t.prototype.render=function(){return(0,nt.jsx)("div",{ref:this.containerElement,className:this.props.className,children:i.Children.only(this.props.children)})},t.defaultProps={className:""},t.contextType=sn,t}(i.PureComponent);var fr=n.p+"static/media/Success.196229f7efc67b2c544b92772f11dd32.svg";var vr=n.p+"static/media/Info.2413005bd161c3a2de0ff8493d426311.svg";var yr=n.p+"static/media/Warning.e32e22df8aad158f48651a24d194f5ef.svg";var Zr=n.p+"static/media/Error.6424e940c4552b17cec8c8c2dab8fde2.svg",Gr="AIzaSyCza8PJmvppMHmHJyfwuxVFWFbK4KiL3_k",Sr="places,geometry".split(","),Br=(0,i.createContext)(void 0);function kr(e){var t=e.children,n=function(e){var t=e.id,n=void 0===t?kn.id:t,o=e.version,r=void 0===o?kn.version:o,a=e.nonce,l=e.googleMapsApiKey,g=e.language,c=e.region,s=e.libraries,u=void 0===s?xn:s,d=e.preventGoogleFontsLoading,I=e.mapIds,C=e.authReferrerPolicy,m=(0,i.useRef)(!1),p=(0,i.useState)(!1),A=p[0],h=p[1],b=(0,i.useState)(void 0),f=b[0],v=b[1];(0,i.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]);var y=(0,i.useMemo)((function(){return new Jn({id:n,apiKey:l,version:r,libraries:u,language:g||"en",region:c||"US",mapIds:I||[],nonce:a||"",authReferrerPolicy:C||"origin"})}),[n,l,r,u,g,c,I,a,C]);(0,i.useEffect)((function(){A||y.load().then((function(){m.current&&h(!0)})).catch((function(e){v(e)}))}),[]),(0,i.useEffect)((function(){bn&&d&&yn()}),[d]);var Z=(0,i.useRef)();return(0,i.useEffect)((function(){Z.current&&u!==Z.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Z.current=u}),[u]),{isLoaded:A,loadError:f}}({googleMapsApiKey:Gr,libraries:Sr}),o=n.isLoaded,r=I((0,i.useState)(!0),2),a=r[0],l=r[1],g=I((0,i.useState)({path:"",isBasic:!1,isHome:!1,active:!0}),2),c=g[0],s=g[1],u=I((0,i.useState)(navigator.onLine),2),d=u[0],C=u[1],m={success:fr,info:vr,warning:yr,error:Zr};(0,i.useEffect)((function(){var e=function(){C(navigator.onLine)};return window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),[]);var p={setIsLoading:l,addToastr:function(e,t,n){var o=m[t||"success"];zt(e,{toastId:e,type:t||"success",autoClose:n||5e3,icon:function(){return(0,nt.jsx)("img",{src:o,alt:"".concat(t," Icon"),width:"27px",height:"27px"})}})},menuConfig:c,setMenuConfig:s,isOnline:d,newId:qt,apiMapsIsLoaded:o};return(0,nt.jsxs)(Br.Provider,{value:p,children:[(0,nt.jsx)(ot,{children:t}),a?(0,nt.jsx)(at,{}):null,(0,nt.jsx)(Jt,{position:"bottom-right"})]})}function Vr(){var e=(0,i.useContext)(Br);if(!e)throw new Error("The appStates must be used within a correct approach");return e}var Wr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wr=i.createContext&&i.createContext(Wr),Rr=function(){return Rr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Rr.apply(this,arguments)},Xr=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function Jr(e){return e&&e.map((function(e,t){return i.createElement(e.tag,Rr({key:t},e.attr),Jr(e.child))}))}function xr(e){return function(t){return i.createElement(Hr,Rr({attr:Rr({},e.attr)},t),Jr(e.child))}}function Hr(e){var t=function(t){var n,o=e.attr,r=e.size,a=e.title,l=Xr(e,["attr","size","title"]),g=r||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",Rr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,l,{className:n,style:Rr(Rr({color:e.color||t.color},t.style),e.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),a&&i.createElement("title",null,a),e.children)};return void 0!==wr?i.createElement(wr.Consumer,null,(function(e){return t(e)})):t(Wr)}function Yr(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4.035 15.479A3.976 3.976 0 0 0 4 16c0 2.378 2.138 4.284 4.521 3.964C9.214 21.198 10.534 22 12 22s2.786-.802 3.479-2.036C17.857 20.284 20 18.378 20 16c0-.173-.012-.347-.035-.521C21.198 14.786 22 13.465 22 12s-.802-2.786-2.035-3.479C19.988 8.347 20 8.173 20 8c0-2.378-2.143-4.288-4.521-3.964C14.786 2.802 13.466 2 12 2s-2.786.802-3.479 2.036C6.138 3.712 4 5.622 4 8c0 .173.012.347.035.521C2.802 9.214 2 10.535 2 12s.802 2.786 2.035 3.479zm1.442-5.403 1.102-.293-.434-1.053A1.932 1.932 0 0 1 6 8c0-1.103.897-2 2-2 .247 0 .499.05.73.145l1.054.434.293-1.102a1.99 1.99 0 0 1 3.846 0l.293 1.102 1.054-.434C15.501 6.05 15.753 6 16 6c1.103 0 2 .897 2 2 0 .247-.05.5-.145.73l-.434 1.053 1.102.293a1.993 1.993 0 0 1 0 3.848l-1.102.293.434 1.053c.095.23.145.483.145.73 0 1.103-.897 2-2 2-.247 0-.499-.05-.73-.145l-1.054-.434-.293 1.102a1.99 1.99 0 0 1-3.846 0l-.293-1.102-1.054.434A1.935 1.935 0 0 1 8 18c-1.103 0-2-.897-2-2 0-.247.05-.5.145-.73l.434-1.053-1.102-.293a1.993 1.993 0 0 1 0-3.848z"}},{tag:"path",attr:{d:"m15.742 10.71-1.408-1.42-3.331 3.299-1.296-1.296-1.414 1.414 2.704 2.704z"}}]})(e)}function Nr(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"}},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"}},{tag:"path",attr:{d:"m14 13.99 4-5h-3v-4h-2v4h-3l4 5z"}},{tag:"path",attr:{d:"M17.31 15h-6.64L6.18 4.23A2 2 0 0 0 4.33 3H2v2h2.33l4.75 11.38A1 1 0 0 0 10 17h8a1 1 0 0 0 .93-.64L21.76 9h-2.14z"}}]})(e)}function Fr(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.948 11.112C18.511 7.67 15.563 5 12.004 5c-2.756 0-5.15 1.611-6.243 4.15-2.148.642-3.757 2.67-3.757 4.85 0 2.757 2.243 5 5 5h1v-2h-1c-1.654 0-3-1.346-3-3 0-1.404 1.199-2.757 2.673-3.016l.581-.102.192-.558C8.153 8.273 9.898 7 12.004 7c2.757 0 5 2.243 5 5v1h1c1.103 0 2 .897 2 2s-.897 2-2 2h-2v2h2c2.206 0 4-1.794 4-4a4.008 4.008 0 0 0-3.056-3.888z"}},{tag:"path",attr:{d:"M13.004 14v-4h-2v4h-3l4 5 4-5z"}}]})(e)}function Er(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m21.406 6.086-9-4a1.001 1.001 0 0 0-.813 0l-9 4c-.02.009-.034.024-.054.035-.028.014-.058.023-.084.04-.022.015-.039.034-.06.05a.87.87 0 0 0-.19.194c-.02.028-.041.053-.059.081a1.119 1.119 0 0 0-.076.165c-.009.027-.023.052-.031.079A1.013 1.013 0 0 0 2 7v10c0 .396.232.753.594.914l9 4c.13.058.268.086.406.086a.997.997 0 0 0 .402-.096l.004.01 9-4A.999.999 0 0 0 22 17V7a.999.999 0 0 0-.594-.914zM12 4.095 18.538 7 12 9.905l-1.308-.581L5.463 7 12 4.095zM4 16.351V8.539l7 3.111v7.811l-7-3.11zm9 3.11V11.65l7-3.111v7.812l-7 3.11z"}}]})(e)}function Kr(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"}},{tag:"path",attr:{d:"M13 4.069V2h-2v2.069A8.01 8.01 0 0 0 4.069 11H2v2h2.069A8.008 8.008 0 0 0 11 19.931V22h2v-2.069A8.007 8.007 0 0 0 19.931 13H22v-2h-2.069A8.008 8.008 0 0 0 13 4.069zM12 18c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6z"}}]})(e)}function Mr(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 22h14a2 2 0 0 0 2-2v-9a1 1 0 0 0-.29-.71l-8-8a1 1 0 0 0-1.41 0l-8 8A1 1 0 0 0 3 11v9a2 2 0 0 0 2 2zm5-2v-5h4v5zm-5-8.59 7-7 7 7V20h-3v-5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v5H5z"}}]})(e)}function Lr(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2 12 5 4v-3h9v-2H7V8z"}},{tag:"path",attr:{d:"M13.001 2.999a8.938 8.938 0 0 0-6.364 2.637L8.051 7.05c1.322-1.322 3.08-2.051 4.95-2.051s3.628.729 4.95 2.051 2.051 3.08 2.051 4.95-.729 3.628-2.051 4.95-3.08 2.051-4.95 2.051-3.628-.729-4.95-2.051l-1.414 1.414c1.699 1.7 3.959 2.637 6.364 2.637s4.665-.937 6.364-2.637c1.7-1.699 2.637-3.959 2.637-6.364s-.937-4.665-2.637-6.364a8.938 8.938 0 0 0-6.364-2.637z"}}]})(e)}function zr(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 15c-1.84 0-2-.86-2-1H8c0 .92.66 2.55 3 2.92V18h2v-1.08c2-.34 3-1.63 3-2.92 0-1.12-.52-3-4-3-2 0-2-.63-2-1s.7-1 2-1 1.39.64 1.4 1h2A3 3 0 0 0 13 7.12V6h-2v1.09C9 7.42 8 8.71 8 10c0 1.12.52 3 4 3 2 0 2 .68 2 1s-.62 1-2 1z"}},{tag:"path",attr:{d:"M5 2H2v2h2v17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V4h2V2H5zm13 18H6V4h12z"}}]})(e)}function Dr(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9 18h3v-2H9c-1.654 0-3-1.346-3-3s1.346-3 3-3h6v3l5-4-5-4v3H9c-2.757 0-5 2.243-5 5s2.243 5 5 5z"}}]})(e)}function Tr(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 10c1.151 0 2-.848 2-2s-.849-2-2-2c-1.15 0-2 .848-2 2s.85 2 2 2zm0 1c-2.209 0-4 1.612-4 3.6v.386h8V14.6c0-1.988-1.791-3.6-4-3.6z"}},{tag:"path",attr:{d:"M19 2H5c-1.103 0-2 .897-2 2v13c0 1.103.897 2 2 2h4l3 3 3-3h4c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zm-5 15-2 2-2-2H5V4h14l.002 13H14z"}}]})(e)}function Ur(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 2H8C4.691 2 2 4.691 2 8v13a1 1 0 0 0 1 1h13c3.309 0 6-2.691 6-6V8c0-3.309-2.691-6-6-6zM8.999 17H7v-1.999l5.53-5.522 1.999 1.999L8.999 17zm6.473-6.465-1.999-1.999 1.524-1.523 1.999 1.999-1.524 1.523z"}}]})(e)}function Qr(e){var t=e.tabOption,n=Vr().setIsLoading,o=Ze(),r=(0,i.useCallback)((function(e,t){e.classList.contains("move")||t.classList.contains("active")||(n(!0),Array.from(e.children).forEach((function(e){e.classList.remove("active")})),e.style.setProperty("--x-n",t.offsetLeft+t.offsetWidth/2+"px"),t.classList.add("move"),e.classList.add("move"),setTimeout((function(){t.classList.add("active"),setTimeout((function(){e.classList.remove("move"),t.classList.remove("move"),e.style.setProperty("--x",t.offsetLeft+t.offsetWidth/2+"px")}),300)}),900))}),[n]);(0,i.useEffect)((function(){var e=document.querySelector(".tab_".concat(t)).parentElement,n=e.parentElement;r(n,e)}),[t]);var a=function(e){var t=e.currentTarget.parentElement,n=t.parentElement;r(n,t)};return(0,nt.jsx)("div",{className:"tabBar_container",children:(0,nt.jsxs)("ul",{className:"tabBar",children:[(0,nt.jsx)("li",{children:(0,nt.jsx)($e,{to:"/home/inventory",onClick:a,className:"tab_inventory",children:(0,nt.jsx)("div",{children:(0,nt.jsx)(Er,{})})})}),(0,nt.jsx)("li",{children:(0,nt.jsx)($e,{to:"/home/clients",onClick:a,className:"tab_clients",children:(0,nt.jsx)("div",{children:(0,nt.jsx)(Tr,{})})})}),(0,nt.jsx)("li",{className:"active",children:(0,nt.jsx)($e,{to:"/home",onClick:a,className:"tab_home tab_admin",onDoubleClick:function(){return o("/home/admin")},children:(0,nt.jsx)("div",{children:(0,nt.jsx)(Mr,{})})})}),(0,nt.jsx)("li",{children:(0,nt.jsx)($e,{to:"/home/transactions",onClick:a,className:"tab_transactions",children:(0,nt.jsx)("div",{children:(0,nt.jsx)(zr,{})})})}),(0,nt.jsx)("li",{children:(0,nt.jsx)($e,{to:"/home/newSale",onClick:a,className:"tab_sale",children:(0,nt.jsx)("div",{children:(0,nt.jsx)(Nr,{})})})})]})})}function jr(e){var n=e.config,o=n.path,a=void 0===o?"/home":o,l=n.isBasic,g=n.isHome,c=n.active,s=void 0===c||c,u=n.tabOption,d=Vr().setIsLoading,C=mA(),m=Ze(),p=I((0,i.useState)(!1),2),A=p[0],h=p[1];(0,i.useEffect)((function(){window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),window.deferredPrompt=e,h(!0)}))}),[]);var b=function(){var e=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.deferredPrompt){e.next=4;break}return console.log("oops, no prompt event guardado en window"),e.abrupt("return");case 4:return e.next=6,n.prompt();case 6:"accepted"===e.sent.outcome&&(window.deferredPrompt=null,h(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){d(!0),m(a||"/home")};return s?(0,nt.jsx)(nt.Fragment,{children:!l&&u?(0,nt.jsxs)(nt.Fragment,{children:[g?(0,nt.jsx)("div",{className:"fast_menu home",children:(0,nt.jsx)("button",{onClick:function(){C.logout()},type:"button",className:"fast_option","aria-label":"Salir",children:(0,nt.jsx)(Lr,{size:30})})}):(0,nt.jsx)("div",{className:"fast_menu home",children:(0,nt.jsx)("button",{onClick:f,type:"button",className:"fast_option return","aria-label":"Ir atras",children:(0,nt.jsx)(Dr,{size:30})})}),(0,nt.jsx)(Qr,{tabOption:u})]}):(0,nt.jsxs)("div",{className:"fast_menu",children:[(0,nt.jsx)("button",{onClick:f,type:"button",className:"fast_option return","aria-label":"Ir atras",children:(0,nt.jsx)(Dr,{size:30})}),A&&(0,nt.jsx)("button",{onClick:b,type:"button",className:"fast_option download","aria-label":"Descargar la app",children:(0,nt.jsx)(Fr,{size:30})})]})}):null}var Or=n(694),Pr=n.n(Or),qr="anticon",_r=i.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},iconPrefixCls:qr});_r.Consumer;function $r(){return $r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$r.apply(this,arguments)}var ea=n(873);function ta(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return i.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(ta(e)):(0,ea.isFragment)(e)&&e.props?n=n.concat(ta(e.props.children,t)):n.push(e))})),n}var na={},oa=[];function ra(e,t){}function aa(e,t){}function ia(e,t,n){t||na[n]||(e(!1,n),na[n]=!0)}function la(e,t){ia(ra,e,t)}la.preMessage=function(e){oa.push(e)},la.resetWarned=function(){na={}},la.noteOnce=function(e,t){ia(aa,e,t)};var ga=la;var ca=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function t(n,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=r.has(n);if(ga(!l,"Warning: There may be circular references"),l)return!1;if(n===a)return!0;if(o&&i>1)return!1;r.add(n);var g=i+1;if(Array.isArray(n)){if(!Array.isArray(a)||n.length!==a.length)return!1;for(var c=0;c<n.length;c++)if(!t(n[c],a[c],g))return!1;return!0}if(n&&a&&"object"===e(n)&&"object"===e(a)){var s=Object.keys(n);return s.length===Object.keys(a).length&&s.every((function(e){return t(n[e],a[e],g)}))}return!1}(t,n)},sa="RC_FORM_INTERNAL_HOOKS",ua=function(){ga(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},da=i.createContext({getFieldValue:ua,getFieldsValue:ua,getFieldError:ua,getFieldWarning:ua,getFieldsError:ua,isFieldsTouched:ua,isFieldTouched:ua,isFieldValidating:ua,isFieldsValidating:ua,resetFields:ua,setFields:ua,setFieldValue:ua,setFieldsValue:ua,validateFields:ua,submit:ua,getInternalHooks:function(){return ua(),{dispatch:ua,initEntityValue:ua,registerField:ua,useSubscribe:ua,setInitialValues:ua,destroyForm:ua,setCallbacks:ua,registerWatch:ua,getFields:ua,setValidateMessages:ua,setPreserve:ua,getInitialValue:ua}}}),Ia=i.createContext(null);function Ca(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ma.apply(this,arguments)}function pa(e){return pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pa(e)}function Aa(e,t){return Aa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Aa(e,t)}function ha(e,t,n){return ha=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&Aa(r,n.prototype),r},ha.apply(null,arguments)}function ba(e){var t="function"===typeof Map?new Map:void 0;return ba=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return ha(e,arguments,pa(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Aa(o,e)},ba(e)}var fa=/%[sdj%]/g;function va(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function ya(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var i=e.replace(fa,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(kt){return"[Circular]"}break;default:return e}}));return i}return e}function Za(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function Ga(e,t,n){var o=0,r=e.length;!function a(i){if(i&&i.length)n(i);else{var l=o;o+=1,l<r?t(e[l],a):n([])}}([])}var Sa=function(e){var t,n;function o(t,n){var o;return(o=e.call(this,"Async Validation Error")||this).errors=t,o.fields=n,o}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,Aa(t,n),o}(ba(Error));function Ba(e,t,n,o,r){if(t.first){var a=new Promise((function(t,a){var i=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);Ga(i,n,(function(e){return o(e),e.length?a(new Sa(e,va(e))):t(r)}))}));return a.catch((function(e){return e})),a}var i=!0===t.firstFields?Object.keys(e):t.firstFields||[],l=Object.keys(e),g=l.length,c=0,s=[],u=new Promise((function(t,a){var u=function(e){if(s.push.apply(s,e),++c===g)return o(s),s.length?a(new Sa(s,va(s))):t(r)};l.length||(o(s),t(r)),l.forEach((function(t){var o=e[t];-1!==i.indexOf(t)?Ga(o,n,u):function(e,t,n){var o=[],r=0,a=e.length;function i(e){o.push.apply(o,e||[]),++r===a&&n(o)}e.forEach((function(e){t(e,i)}))}(o,n,u)}))}));return u.catch((function(e){return e})),u}function ka(e,t){return function(n){var o,r;return o=e.fullFields?function(e,t){for(var n=e,o=0;o<t.length;o++){if(void 0==n)return n;n=n[t[o]]}return n}(t,e.fullFields):t[n.field||e.fullField],(r=n)&&void 0!==r.message?(n.field=n.field||e.fullField,n.fieldValue=o,n):{message:"function"===typeof n?n():n,fieldValue:o,field:n.field||e.fullField}}}function Va(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];"object"===typeof o&&"object"===typeof e[n]?e[n]=ma({},e[n],o):e[n]=o}return e}var Wa,wa=function(e,t,n,o,r,a){!e.required||n.hasOwnProperty(e.field)&&!Za(t,a||e.type)||o.push(ya(r.messages.required,e.fullField))},Ra=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Xa=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Ja={integer:function(e){return Ja.number(e)&&parseInt(e,10)===e},float:function(e){return Ja.number(e)&&!Ja.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Ja.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(Ra)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(Wa)return Wa;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",r=("\n(?:\n(?:"+o+":){7}(?:"+o+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+o+":){6}(?:"+n+"|:"+o+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+o+":){5}(?::"+n+"|(?::"+o+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+o+":){4}(?:(?::"+o+"){0,1}:"+n+"|(?::"+o+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+o+":){3}(?:(?::"+o+"){0,2}:"+n+"|(?::"+o+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+o+":){2}(?:(?::"+o+"){0,3}:"+n+"|(?::"+o+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+o+":){1}(?:(?::"+o+"){0,4}:"+n+"|(?::"+o+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+o+"){0,5}:"+n+"|(?::"+o+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+r+"$)"),i=new RegExp("^"+n+"$"),l=new RegExp("^"+r+"$"),g=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+r+t(e)+")","g")};g.v4=function(e){return e&&e.exact?i:new RegExp(""+t(e)+n+t(e),"g")},g.v6=function(e){return e&&e.exact?l:new RegExp(""+t(e)+r+t(e),"g")};var c=g.v4().source,s=g.v6().source;return Wa=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+s+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(Xa)}},xa="enum",Ha={required:wa,whitespace:function(e,t,n,o,r){(/^\s+$/.test(t)||""===t)&&o.push(ya(r.messages.whitespace,e.fullField))},type:function(e,t,n,o,r){if(e.required&&void 0===t)wa(e,t,n,o,r);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?Ja[a](t)||o.push(ya(r.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&o.push(ya(r.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,o,r){var a="number"===typeof e.len,i="number"===typeof e.min,l="number"===typeof e.max,g=t,c=null,s="number"===typeof t,u="string"===typeof t,d=Array.isArray(t);if(s?c="number":u?c="string":d&&(c="array"),!c)return!1;d&&(g=t.length),u&&(g=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?g!==e.len&&o.push(ya(r.messages[c].len,e.fullField,e.len)):i&&!l&&g<e.min?o.push(ya(r.messages[c].min,e.fullField,e.min)):l&&!i&&g>e.max?o.push(ya(r.messages[c].max,e.fullField,e.max)):i&&l&&(g<e.min||g>e.max)&&o.push(ya(r.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,o,r){e[xa]=Array.isArray(e[xa])?e[xa]:[],-1===e[xa].indexOf(t)&&o.push(ya(r.messages[xa],e.fullField,e[xa].join(", ")))},pattern:function(e,t,n,o,r){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||o.push(ya(r.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||o.push(ya(r.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Ya=function(e,t,n,o,r){var a=e.type,i=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(Za(t,a)&&!e.required)return n();Ha.required(e,t,o,i,r,a),Za(t,a)||Ha.type(e,t,o,i,r)}n(i)},Na={string:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(Za(t,"string")&&!e.required)return n();Ha.required(e,t,o,a,r,"string"),Za(t,"string")||(Ha.type(e,t,o,a,r),Ha.range(e,t,o,a,r),Ha.pattern(e,t,o,a,r),!0===e.whitespace&&Ha.whitespace(e,t,o,a,r))}n(a)},method:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(Za(t)&&!e.required)return n();Ha.required(e,t,o,a,r),void 0!==t&&Ha.type(e,t,o,a,r)}n(a)},number:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Za(t)&&!e.required)return n();Ha.required(e,t,o,a,r),void 0!==t&&(Ha.type(e,t,o,a,r),Ha.range(e,t,o,a,r))}n(a)},boolean:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(Za(t)&&!e.required)return n();Ha.required(e,t,o,a,r),void 0!==t&&Ha.type(e,t,o,a,r)}n(a)},regexp:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(Za(t)&&!e.required)return n();Ha.required(e,t,o,a,r),Za(t)||Ha.type(e,t,o,a,r)}n(a)},integer:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(Za(t)&&!e.required)return n();Ha.required(e,t,o,a,r),void 0!==t&&(Ha.type(e,t,o,a,r),Ha.range(e,t,o,a,r))}n(a)},float:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(Za(t)&&!e.required)return n();Ha.required(e,t,o,a,r),void 0!==t&&(Ha.type(e,t,o,a,r),Ha.range(e,t,o,a,r))}n(a)},array:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();Ha.required(e,t,o,a,r,"array"),void 0!==t&&null!==t&&(Ha.type(e,t,o,a,r),Ha.range(e,t,o,a,r))}n(a)},object:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(Za(t)&&!e.required)return n();Ha.required(e,t,o,a,r),void 0!==t&&Ha.type(e,t,o,a,r)}n(a)},enum:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(Za(t)&&!e.required)return n();Ha.required(e,t,o,a,r),void 0!==t&&Ha.enum(e,t,o,a,r)}n(a)},pattern:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(Za(t,"string")&&!e.required)return n();Ha.required(e,t,o,a,r),Za(t,"string")||Ha.pattern(e,t,o,a,r)}n(a)},date:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(Za(t,"date")&&!e.required)return n();var i;if(Ha.required(e,t,o,a,r),!Za(t,"date"))i=t instanceof Date?t:new Date(t),Ha.type(e,i,o,a,r),i&&Ha.range(e,i.getTime(),o,a,r)}n(a)},url:Ya,hex:Ya,email:Ya,required:function(e,t,n,o,r){var a=[],i=Array.isArray(t)?"array":typeof t;Ha.required(e,t,o,a,r,i),n(a)},any:function(e,t,n,o,r){var a=[];if(e.required||!e.required&&o.hasOwnProperty(e.field)){if(Za(t)&&!e.required)return n();Ha.required(e,t,o,a,r)}n(a)}};function Fa(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Ea=Fa(),Ka=function(){function e(e){this.rules=null,this._messages=Ea,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var o=e[n];t.rules[n]=Array.isArray(o)?o:[o]}))},t.messages=function(e){return e&&(this._messages=Va(Fa(),e)),this._messages},t.validate=function(t,n,o){var r=this;void 0===n&&(n={}),void 0===o&&(o=function(){});var a=t,i=n,l=o;if("function"===typeof i&&(l=i,i={}),!this.rules||0===Object.keys(this.rules).length)return l&&l(null,a),Promise.resolve(a);if(i.messages){var g=this.messages();g===Ea&&(g=Fa()),Va(g,i.messages),i.messages=g}else i.messages=this.messages();var c={};(i.keys||Object.keys(this.rules)).forEach((function(e){var n=r.rules[e],o=a[e];n.forEach((function(n){var i=n;"function"===typeof i.transform&&(a===t&&(a=ma({},a)),o=a[e]=i.transform(o)),(i="function"===typeof i?{validator:i}:ma({},i)).validator=r.getValidationMethod(i),i.validator&&(i.field=e,i.fullField=i.fullField||e,i.type=r.getType(i),c[e]=c[e]||[],c[e].push({rule:i,value:o,source:a,field:e}))}))}));var s={};return Ba(c,i,(function(t,n){var o,r=t.rule,l=("object"===r.type||"array"===r.type)&&("object"===typeof r.fields||"object"===typeof r.defaultField);function g(e,t){return ma({},t,{fullField:r.fullField+"."+e,fullFields:r.fullFields?[].concat(r.fullFields,[e]):[e]})}function c(o){void 0===o&&(o=[]);var c=Array.isArray(o)?o:[o];!i.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==r.message&&(c=[].concat(r.message));var u=c.map(ka(r,a));if(i.first&&u.length)return s[r.field]=1,n(u);if(l){if(r.required&&!t.value)return void 0!==r.message?u=[].concat(r.message).map(ka(r,a)):i.error&&(u=[i.error(r,ya(i.messages.required,r.field))]),n(u);var d={};r.defaultField&&Object.keys(t.value).map((function(e){d[e]=r.defaultField})),d=ma({},d,t.rule.fields);var I={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];I[e]=n.map(g.bind(null,e))}));var C=new e(I);C.messages(i.messages),t.rule.options&&(t.rule.options.messages=i.messages,t.rule.options.error=i.error),C.validate(t.value,t.rule.options||i,(function(e){var t=[];u&&u.length&&t.push.apply(t,u),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(u)}if(l=l&&(r.required||!r.required&&t.value),r.field=t.field,r.asyncValidator)o=r.asyncValidator(r,t.value,c,t.source,i);else if(r.validator){try{o=r.validator(r,t.value,c,t.source,i)}catch(u){null==console.error||console.error(u),i.suppressValidatorError||setTimeout((function(){throw u}),0),c(u.message)}!0===o?c():!1===o?c("function"===typeof r.message?r.message(r.fullField||r.field):r.message||(r.fullField||r.field)+" fails"):o instanceof Array?c(o):o instanceof Error&&c(o.message)}o&&o.then&&o.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function o(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var r=0;r<e.length;r++)o(e[r]);t.length?(n=va(t),l(t,n)):l(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Na.hasOwnProperty(e.type))throw new Error(ya("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Na.required:Na[this.getType(e)]||void 0},e}();Ka.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Na[e]=t},Ka.warning=function(){},Ka.messages=Ea,Ka.validators=Na;var Ma="'${name}' is not a valid ${type}",La={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Ma,method:Ma,array:Ma,object:Ma,number:Ma,date:Ma,boolean:Ma,integer:Ma,float:Ma,regexp:Ma,email:Ma,url:Ma,hex:Ma},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function za(e,t){for(var n=e,o=0;o<t.length;o+=1){if(null===n||void 0===n)return;n=n[t[o]]}return n}function Da(e,t,n,o){if(!t.length)return n;var r,a=V(t),i=a[0],l=a.slice(1);return r=e||"number"!==typeof i?Array.isArray(e)?m(e):gt({},e):[],o&&void 0===n&&1===l.length?delete r[i][l[0]]:r[i]=Da(r[i],l,n,o),r}function Ta(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&o&&void 0===n&&!za(e,t.slice(0,-1))?e:Da(e,t,n,o)}function Ua(e){return Array.isArray(e)?[]:{}}var Qa="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function ja(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=Ua(n[0]);return n.forEach((function(t){!function n(o,a){var i,l=new Set(a),g=za(t,o),c=Array.isArray(g);if(c||"object"===e(i=g)&&null!==i&&Object.getPrototypeOf(i)===Object.prototype){if(!l.has(g)){l.add(g);var s=za(r,o);c?r=Ta(r,o,[]):s&&"object"===e(s)||(r=Ta(r,o,Ua(g))),Qa(g).forEach((function(e){n([].concat(m(o),[e]),l)}))}}else r=Ta(r,o,g)}([])})),r}var Oa=Ka;function Pa(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var qa="CODE_LOGIC_ERROR";function _a(e,t,n,o,r){return $a.apply(this,arguments)}function $a(){return $a=r(t().mark((function e(n,o,r,a,l){var g,c,s,u,d,I,C,p,A;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(g=gt({},r)).ruleIndex,Oa.warning=function(){},g.validator&&(c=g.validator,g.validator=function(){try{return c.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(qa)}}),s=null,g&&"array"===g.type&&g.defaultField&&(s=g.defaultField,delete g.defaultField),u=new Oa(it({},n,[g])),d=ja(La,a.validateMessages),u.messages(d),I=[],e.prev=10,e.next=13,Promise.resolve(u.validate(it({},n,o),gt({},a)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(I=e.t0.errors.map((function(e,t){var n=e.message,o=n===qa?d.default:n;return i.isValidElement(o)?i.cloneElement(o,{key:"error_".concat(t)}):o})));case 18:if(I.length||!s){e.next=23;break}return e.next=21,Promise.all(o.map((function(e,t){return _a("".concat(n,".").concat(t),e,s,a,l)})));case 21:return C=e.sent,e.abrupt("return",C.reduce((function(e,t){return[].concat(m(e),m(t))}),[]));case 23:return p=gt(gt({},r),{},{name:n,enum:(r.enum||[]).join(", ")},l),A=I.map((function(e){return"string"===typeof e?Pa(e,p):e})),e.abrupt("return",A);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),$a.apply(this,arguments)}function ei(e,n,o,a,i,l){var g,c=e.join("."),s=o.map((function(e,t){var n=e.validator,o=gt(gt({},e),{},{ruleIndex:t});return n&&(o.validator=function(e,t,o){var r=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){ga(!r,"Your validator function has already return a promise. `callback` will be ignored."),r||o.apply(void 0,t)}))}));r=a&&"function"===typeof a.then&&"function"===typeof a.catch,ga(r,"`callback` is deprecated. Please return a promise instead."),r&&a.then((function(){o()})).catch((function(e){o(e||" ")}))}),o})).sort((function(e,t){var n=e.warningOnly,o=e.ruleIndex,r=t.warningOnly,a=t.ruleIndex;return!!n===!!r?o-a:n?1:-1}));if(!0===i)g=new Promise(function(){var e=r(t().mark((function e(o,r){var i,g,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<s.length)){e.next=12;break}return g=s[i],e.next=5,_a(c,n,g,a,l);case 5:if(!(u=e.sent).length){e.next=9;break}return r([{errors:u,rule:g}]),e.abrupt("return");case 9:i+=1,e.next=1;break;case 12:o([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var u=s.map((function(e){return _a(c,n,e,a,l).then((function(t){return{errors:t,rule:e}}))}));g=(i?function(e){return ni.apply(this,arguments)}(u):function(e){return ti.apply(this,arguments)}(u)).then((function(e){return Promise.reject(e)}))}return g.catch((function(e){return e})),g}function ti(){return(ti=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(n).then((function(e){var t;return(t=[]).concat.apply(t,m(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ni(){return(ni=r(t().mark((function e(n){var o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=0,e.abrupt("return",new Promise((function(e){n.forEach((function(t){t.then((function(t){t.errors.length&&e([t]),(o+=1)===n.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oi(e){return Ca(e)}function ri(e,t){var n={};return t.forEach((function(t){var o=za(e,t);n=Ta(n,t,o)})),n}function ai(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return ii(t,e,n)}))}function ii(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,n){return e[n]===t})))}function li(t){var n=arguments.length<=1?void 0:arguments[1];return n&&n.target&&"object"===e(n.target)&&t in n.target?n.target[t]:n}function gi(e,t,n){var o=e.length;if(t<0||t>=o||n<0||n>=o)return e;var r=e[t],a=t-n;return a>0?[].concat(m(e.slice(0,n)),[r],m(e.slice(n,t)),m(e.slice(t+1,o))):a<0?[].concat(m(e.slice(0,t)),m(e.slice(t+1,n+1)),[r],m(e.slice(n+1,o))):e}var ci=["name"],si=[];function ui(e,t,n,o,r,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):o!==r}var di=function(e){v(o,e);var n=S(o);function o(e){var a;(p(this,o),it(G(a=n.call(this,e)),"state",{resetCount:0}),it(G(a),"cancelRegisterFunc",null),it(G(a),"mounted",!1),it(G(a),"touched",!1),it(G(a),"dirty",!1),it(G(a),"validatePromise",void 0),it(G(a),"prevValidating",void 0),it(G(a),"errors",si),it(G(a),"warnings",si),it(G(a),"cancelRegister",(function(){var e=a.props,t=e.preserve,n=e.isListField,o=e.name;a.cancelRegisterFunc&&a.cancelRegisterFunc(n,t,oi(o)),a.cancelRegisterFunc=null})),it(G(a),"getNamePath",(function(){var e=a.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(m(void 0===n?[]:n),m(t)):[]})),it(G(a),"getRules",(function(){var e=a.props,t=e.rules,n=void 0===t?[]:t,o=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(o):e}))})),it(G(a),"refresh",(function(){a.mounted&&a.setState((function(e){return{resetCount:e.resetCount+1}}))})),it(G(a),"metaCache",null),it(G(a),"triggerMetaEvent",(function(e){var t=a.props.onMetaChange;if(t){var n=gt(gt({},a.getMeta()),{},{destroy:e});ca(a.metaCache,n)||t(n),a.metaCache=n}else a.metaCache=null})),it(G(a),"onStoreChange",(function(e,t,n){var o=a.props,r=o.shouldUpdate,i=o.dependencies,l=void 0===i?[]:i,g=o.onReset,c=n.store,s=a.getNamePath(),u=a.getValue(e),d=a.getValue(c),I=t&&ai(t,s);switch("valueUpdate"===n.type&&"external"===n.source&&u!==d&&(a.touched=!0,a.dirty=!0,a.validatePromise=null,a.errors=si,a.warnings=si,a.triggerMetaEvent()),n.type){case"reset":if(!t||I)return a.touched=!1,a.dirty=!1,a.validatePromise=void 0,a.errors=si,a.warnings=si,a.triggerMetaEvent(),null===g||void 0===g||g(),void a.refresh();break;case"remove":if(r)return void a.reRender();break;case"setField":var C=n.data;if(I)return"touched"in C&&(a.touched=C.touched),"validating"in C&&!("originRCField"in C)&&(a.validatePromise=C.validating?Promise.resolve([]):null),"errors"in C&&(a.errors=C.errors||si),"warnings"in C&&(a.warnings=C.warnings||si),a.dirty=!0,a.triggerMetaEvent(),void a.reRender();if("value"in C&&ai(t,s,!0))return void a.reRender();if(r&&!s.length&&ui(r,e,c,u,d,n))return void a.reRender();break;case"dependenciesUpdate":if(l.map(oi).some((function(e){return ai(n.relatedFields,e)})))return void a.reRender();break;default:if(I||(!l.length||s.length||r)&&ui(r,e,c,u,d,n))return void a.reRender()}!0===r&&a.reRender()})),it(G(a),"validateRules",(function(e){var n=a.getNamePath(),o=a.getValue(),i=e||{},l=i.triggerName,g=i.validateOnly,c=void 0!==g&&g,s=Promise.resolve().then(r(t().mark((function r(){var i,g,c,u,d,I,C;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.mounted){t.next=2;break}return t.abrupt("return",[]);case 2:if(i=a.props,g=i.validateFirst,c=void 0!==g&&g,u=i.messageVariables,d=i.validateDebounce,I=a.getRules(),l&&(I=I.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||Ca(t).includes(l)}))),!d||!l){t.next=10;break}return t.next=8,new Promise((function(e){setTimeout(e,d)}));case 8:if(a.validatePromise===s){t.next=10;break}return t.abrupt("return",[]);case 10:return(C=ei(n,o,I,e,c,u)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si;if(a.validatePromise===s){var t;a.validatePromise=null;var n=[],o=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,a=void 0===r?si:r;t?o.push.apply(o,m(a)):n.push.apply(n,m(a))})),a.errors=n,a.warnings=o,a.triggerMetaEvent(),a.reRender()}})),t.abrupt("return",C);case 13:case"end":return t.stop()}}),r)}))));return c||(a.validatePromise=s,a.dirty=!0,a.errors=si,a.warnings=si,a.triggerMetaEvent(),a.reRender()),s})),it(G(a),"isFieldValidating",(function(){return!!a.validatePromise})),it(G(a),"isFieldTouched",(function(){return a.touched})),it(G(a),"isFieldDirty",(function(){return!(!a.dirty&&void 0===a.props.initialValue)||void 0!==(0,a.props.fieldContext.getInternalHooks(sa).getInitialValue)(a.getNamePath())})),it(G(a),"getErrors",(function(){return a.errors})),it(G(a),"getWarnings",(function(){return a.warnings})),it(G(a),"isListField",(function(){return a.props.isListField})),it(G(a),"isList",(function(){return a.props.isList})),it(G(a),"isPreserve",(function(){return a.props.preserve})),it(G(a),"getMeta",(function(){return a.prevValidating=a.isFieldValidating(),{touched:a.isFieldTouched(),validating:a.prevValidating,errors:a.errors,warnings:a.warnings,name:a.getNamePath(),validated:null===a.validatePromise}})),it(G(a),"getOnlyChild",(function(e){if("function"===typeof e){var t=a.getMeta();return gt(gt({},a.getOnlyChild(e(a.getControlled(),t,a.props.fieldContext))),{},{isFunction:!0})}var n=ta(e);return 1===n.length&&i.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),it(G(a),"getValue",(function(e){var t=a.props.fieldContext.getFieldsValue,n=a.getNamePath();return za(e||t(!0),n)})),it(G(a),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.props,n=t.trigger,o=t.validateTrigger,r=t.getValueFromEvent,i=t.normalize,l=t.valuePropName,g=t.getValueProps,c=t.fieldContext,s=void 0!==o?o:c.validateTrigger,u=a.getNamePath(),d=c.getInternalHooks,I=c.getFieldsValue,C=d(sa).dispatch,m=a.getValue(),p=g||function(e){return it({},l,e)},A=e[n],h=gt(gt({},e),p(m));return h[n]=function(){var e;a.touched=!0,a.dirty=!0,a.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e=r?r.apply(void 0,n):li.apply(void 0,[l].concat(n)),i&&(e=i(e,m,I(!0))),C({type:"updateValue",namePath:u,value:e}),A&&A.apply(void 0,n)},Ca(s||[]).forEach((function(e){var t=h[e];h[e]=function(){t&&t.apply(void 0,arguments);var n=a.props.rules;n&&n.length&&C({type:"validateField",namePath:u,triggerName:e})}})),h})),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(sa).initEntityValue)(G(a));return a}return b(o,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var o=(0,n.getInternalHooks)(sa).registerField;this.cancelRegisterFunc=o(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,o=this.getOnlyChild(n),r=o.child;return o.isFunction?e=r:i.isValidElement(r)?e=i.cloneElement(r,this.getControlled(r.props)):(ga(!r,"`children` of Field is not validate ReactElement."),e=r),i.createElement(i.Fragment,{key:t},e)}}]),o}(i.Component);it(di,"contextType",da),it(di,"defaultProps",{trigger:"onChange",valuePropName:"value"});var Ii=function(e){var t=e.name,n=ct(e,ci),o=i.useContext(da),r=i.useContext(Ia),a=void 0!==t?oi(t):void 0,l="keep";return n.isListField||(l="_".concat((a||[]).join("_"))),i.createElement(di,$r({key:l,name:a,isListField:!!r},n,{fieldContext:o}))};var Ci=function(e){var t=e.name,n=e.initialValue,o=e.children,r=e.rules,a=e.validateTrigger,l=e.isListField,g=i.useContext(da),c=i.useContext(Ia),s=i.useRef({keys:[],id:0}).current,u=i.useMemo((function(){var e=oi(g.prefixName)||[];return[].concat(m(e),m(oi(t)))}),[g.prefixName,t]),d=i.useMemo((function(){return gt(gt({},g),{},{prefixName:u})}),[g,u]),I=i.useMemo((function(){return{getKey:function(e){var t=u.length,n=e[t];return[s.keys[n],e.slice(t+1)]}}}),[u]);return"function"!==typeof o?(ga(!1,"Form.List only accepts function as children."),null):i.createElement(Ia.Provider,{value:I},i.createElement(da.Provider,{value:d},i.createElement(Ii,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:r,validateTrigger:a,initialValue:n,isList:!0,isListField:null!==l&&void 0!==l?l:!!c},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,i=g.getFieldValue,l=function(){return i(u||[])||[]},c={add:function(e,t){var n=l();t>=0&&t<=n.length?(s.keys=[].concat(m(s.keys.slice(0,t)),[s.id],m(s.keys.slice(t))),a([].concat(m(n.slice(0,t)),[e],m(n.slice(t))))):(s.keys=[].concat(m(s.keys),[s.id]),a([].concat(m(n),[e]))),s.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(s.keys=s.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(s.keys=gi(s.keys,e,t),a(gi(n,e,t)))}}},d=r||[];return Array.isArray(d)||(d=[]),o(d.map((function(e,t){var n=s.keys[t];return void 0===n&&(s.keys[t]=s.id,n=s.keys[t],s.id+=1),{name:t,key:n,isListField:!0}})),c,t)}))))};var mi="__@field_split__";function pi(t){return t.map((function(t){return"".concat(e(t),":").concat(t)})).join(mi)}var Ai=function(){function e(){p(this,e),it(this,"kvs",new Map)}return b(e,[{key:"set",value:function(e,t){this.kvs.set(pi(e),t)}},{key:"get",value:function(e){return this.kvs.get(pi(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(pi(e))}},{key:"map",value:function(e){return m(this.kvs.entries()).map((function(t){var n=I(t,2),o=n[0],r=n[1],a=o.split(mi);return e({key:a.map((function(e){var t=I(e.match(/^([^:]*):(.*)$/),3),n=t[1],o=t[2];return"number"===n?Number(o):o})),value:r})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,o=t.value;return e[n.join(".")]=o,null})),e}}]),e}(),hi=Ai,bi=["name"],fi=b((function t(n){var o=this;p(this,t),it(this,"formHooked",!1),it(this,"forceRootUpdate",void 0),it(this,"subscribable",!0),it(this,"store",{}),it(this,"fieldEntities",[]),it(this,"initialValues",{}),it(this,"callbacks",{}),it(this,"validateMessages",null),it(this,"preserve",null),it(this,"lastValidatePromise",null),it(this,"getForm",(function(){return{getFieldValue:o.getFieldValue,getFieldsValue:o.getFieldsValue,getFieldError:o.getFieldError,getFieldWarning:o.getFieldWarning,getFieldsError:o.getFieldsError,isFieldsTouched:o.isFieldsTouched,isFieldTouched:o.isFieldTouched,isFieldValidating:o.isFieldValidating,isFieldsValidating:o.isFieldsValidating,resetFields:o.resetFields,setFields:o.setFields,setFieldValue:o.setFieldValue,setFieldsValue:o.setFieldsValue,validateFields:o.validateFields,submit:o.submit,_init:!0,getInternalHooks:o.getInternalHooks}})),it(this,"getInternalHooks",(function(e){return e===sa?(o.formHooked=!0,{dispatch:o.dispatch,initEntityValue:o.initEntityValue,registerField:o.registerField,useSubscribe:o.useSubscribe,setInitialValues:o.setInitialValues,destroyForm:o.destroyForm,setCallbacks:o.setCallbacks,setValidateMessages:o.setValidateMessages,getFields:o.getFields,setPreserve:o.setPreserve,getInitialValue:o.getInitialValue,registerWatch:o.registerWatch}):(ga(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),it(this,"useSubscribe",(function(e){o.subscribable=e})),it(this,"prevWithoutPreserves",null),it(this,"setInitialValues",(function(e,t){if(o.initialValues=e||{},t){var n,r=ja(e,o.store);null===(n=o.prevWithoutPreserves)||void 0===n||n.map((function(t){var n=t.key;r=Ta(r,n,za(e,n))})),o.prevWithoutPreserves=null,o.updateStore(r)}})),it(this,"destroyForm",(function(){var e=new hi;o.getFieldEntities(!0).forEach((function(t){o.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),o.prevWithoutPreserves=e})),it(this,"getInitialValue",(function(e){var t=za(o.initialValues,e);return e.length?ja(t):t})),it(this,"setCallbacks",(function(e){o.callbacks=e})),it(this,"setValidateMessages",(function(e){o.validateMessages=e})),it(this,"setPreserve",(function(e){o.preserve=e})),it(this,"watchList",[]),it(this,"registerWatch",(function(e){return o.watchList.push(e),function(){o.watchList=o.watchList.filter((function(t){return t!==e}))}})),it(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(o.watchList.length){var t=o.getFieldsValue(),n=o.getFieldsValue(!0);o.watchList.forEach((function(o){o(t,n,e)}))}})),it(this,"timeoutId",null),it(this,"warningUnhooked",(function(){0})),it(this,"updateStore",(function(e){o.store=e})),it(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?o.fieldEntities.filter((function(e){return e.getNamePath().length})):o.fieldEntities})),it(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new hi;return o.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t})),it(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return o.getFieldEntities(!0);var t=o.getFieldsMap(!0);return e.map((function(e){var n=oi(e);return t.get(n)||{INVALIDATE_NAME_PATH:oi(e)}}))})),it(this,"getFieldsValue",(function(t,n){var r,a,i;if(o.warningUnhooked(),!0===t||Array.isArray(t)?(r=t,a=n):t&&"object"===e(t)&&(i=t.strict,a=t.filter),!0===r&&!a)return o.store;var l=o.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),g=[];return l.forEach((function(e){var t,n,o,l,c="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(i){if(null!==(o=(l=e).isList)&&void 0!==o&&o.call(l))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(a){var s="getMeta"in e?e.getMeta():null;a(s)&&g.push(c)}else g.push(c)})),ri(o.store,g.map(oi))})),it(this,"getFieldValue",(function(e){o.warningUnhooked();var t=oi(e);return za(o.store,t)})),it(this,"getFieldsError",(function(e){return o.warningUnhooked(),o.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:oi(e[n]),errors:[],warnings:[]}}))})),it(this,"getFieldError",(function(e){o.warningUnhooked();var t=oi(e);return o.getFieldsError([t])[0].errors})),it(this,"getFieldWarning",(function(e){o.warningUnhooked();var t=oi(e);return o.getFieldsError([t])[0].warnings})),it(this,"isFieldsTouched",(function(){o.warningUnhooked();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a=t[0],i=t[1],l=!1;0===t.length?r=null:1===t.length?Array.isArray(a)?(r=a.map(oi),l=!1):(r=null,l=a):(r=a.map(oi),l=i);var g=o.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!r)return l?g.every(c):g.some(c);var s=new hi;r.forEach((function(e){s.set(e,[])})),g.forEach((function(e){var t=e.getNamePath();r.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&s.update(n,(function(t){return[].concat(m(t),[e])}))}))}));var u=function(e){return e.some(c)},d=s.map((function(e){return e.value}));return l?d.every(u):d.some(u)})),it(this,"isFieldTouched",(function(e){return o.warningUnhooked(),o.isFieldsTouched([e])})),it(this,"isFieldsValidating",(function(e){o.warningUnhooked();var t=o.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var n=e.map(oi);return t.some((function(e){var t=e.getNamePath();return ai(n,t)&&e.isFieldValidating()}))})),it(this,"isFieldValidating",(function(e){return o.warningUnhooked(),o.isFieldsValidating([e])})),it(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new hi,n=o.getFieldEntities(!0);n.forEach((function(e){var n=e.props.initialValue,o=e.getNamePath();if(void 0!==n){var r=t.get(o)||new Set;r.add({entity:e,value:n}),t.set(o,r)}}));var r;e.entities?r=e.entities:e.namePathList?(r=[],e.namePathList.forEach((function(e){var n,o=t.get(e);o&&(n=r).push.apply(n,m(m(o).map((function(e){return e.entity}))))}))):r=n,r.forEach((function(n){if(void 0!==n.props.initialValue){var r=n.getNamePath();if(void 0!==o.getInitialValue(r))ga(!1,"Form already set 'initialValues' with path '".concat(r.join("."),"'. Field can not overwrite it."));else{var a=t.get(r);if(a&&a.size>1)ga(!1,"Multiple Field with path '".concat(r.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var i=o.getFieldValue(r);e.skipExist&&void 0!==i||o.updateStore(Ta(o.store,r,m(a)[0].value))}}}}))})),it(this,"resetFields",(function(e){o.warningUnhooked();var t=o.store;if(!e)return o.updateStore(ja(o.initialValues)),o.resetWithFieldInitialValue(),o.notifyObservers(t,null,{type:"reset"}),void o.notifyWatch();var n=e.map(oi);n.forEach((function(e){var t=o.getInitialValue(e);o.updateStore(Ta(o.store,e,t))})),o.resetWithFieldInitialValue({namePathList:n}),o.notifyObservers(t,n,{type:"reset"}),o.notifyWatch(n)})),it(this,"setFields",(function(e){o.warningUnhooked();var t=o.store,n=[];e.forEach((function(e){var r=e.name,a=ct(e,bi),i=oi(r);n.push(i),"value"in a&&o.updateStore(Ta(o.store,i,a.value)),o.notifyObservers(t,[i],{type:"setField",data:e})})),o.notifyWatch(n)})),it(this,"getFields",(function(){return o.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),n=gt(gt({},e.getMeta()),{},{name:t,value:o.getFieldValue(t)});return Object.defineProperty(n,"originRCField",{value:!0}),n}))})),it(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var n=e.getNamePath();void 0===za(o.store,n)&&o.updateStore(Ta(o.store,n,t))}})),it(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:o.preserve;return null===t||void 0===t||t})),it(this,"registerField",(function(e){o.fieldEntities.push(e);var t=e.getNamePath();if(o.notifyWatch([t]),void 0!==e.props.initialValue){var n=o.store;o.resetWithFieldInitialValue({entities:[e],skipExist:!0}),o.notifyObservers(n,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(n,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(o.fieldEntities=o.fieldEntities.filter((function(t){return t!==e})),!o.isMergedPreserve(r)&&(!n||a.length>1)){var i=n?void 0:o.getInitialValue(t);if(t.length&&o.getFieldValue(t)!==i&&o.fieldEntities.every((function(e){return!ii(e.getNamePath(),t)}))){var l=o.store;o.updateStore(Ta(l,t,i,!0)),o.notifyObservers(l,[t],{type:"remove"}),o.triggerDependenciesUpdate(l,t)}}o.notifyWatch([t])}})),it(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,n=e.value;o.updateValue(t,n);break;case"validateField":var r=e.namePath,a=e.triggerName;o.validateFields([r],{triggerName:a})}})),it(this,"notifyObservers",(function(e,t,n){if(o.subscribable){var r=gt(gt({},n),{},{store:o.getFieldsValue(!0)});o.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,r)}))}else o.forceRootUpdate()})),it(this,"triggerDependenciesUpdate",(function(e,t){var n=o.getDependencyChildrenFields(t);return n.length&&o.validateFields(n),o.notifyObservers(e,n,{type:"dependenciesUpdate",relatedFields:[t].concat(m(n))}),n})),it(this,"updateValue",(function(e,t){var n=oi(e),r=o.store;o.updateStore(Ta(o.store,n,t)),o.notifyObservers(r,[n],{type:"valueUpdate",source:"internal"}),o.notifyWatch([n]);var a=o.triggerDependenciesUpdate(r,n),i=o.callbacks.onValuesChange;i&&i(ri(o.store,[n]),o.getFieldsValue());o.triggerOnFieldsChange([n].concat(m(a)))})),it(this,"setFieldsValue",(function(e){o.warningUnhooked();var t=o.store;if(e){var n=ja(o.store,e);o.updateStore(n)}o.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),o.notifyWatch()})),it(this,"setFieldValue",(function(e,t){o.setFields([{name:e,value:t}])})),it(this,"getDependencyChildrenFields",(function(e){var t=new Set,n=[],r=new hi;o.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=oi(t);r.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(o){(r.get(o)||new Set).forEach((function(o){if(!t.has(o)){t.add(o);var r=o.getNamePath();o.isFieldDirty()&&r.length&&(n.push(r),e(r))}}))}(e),n})),it(this,"triggerOnFieldsChange",(function(e,t){var n=o.callbacks.onFieldsChange;if(n){var r=o.getFields();if(t){var a=new hi;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),r.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}var i=r.filter((function(t){var n=t.name;return ai(e,n)}));i.length&&n(i,r)}})),it(this,"validateFields",(function(e,t){var n,r,a;o.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(r=e,a=t):a=e;var i=!!r,l=i?r.map(oi):[],g=[],c=String(Date.now()),s=new Set,u=null===(n=a)||void 0===n?void 0:n.recursive;o.getFieldEntities(!0).forEach((function(e){if(i||l.push(e.getNamePath()),e.props.rules&&e.props.rules.length){var t=e.getNamePath();if(s.add(t.join(c)),!i||ai(l,t,u)){var n=e.validateRules(gt({validateMessages:gt(gt({},La),o.validateMessages)},a));g.push(n.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var n,o=[],r=[];return null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var t=e.rule.warningOnly,n=e.errors;t?r.push.apply(r,m(n)):o.push.apply(o,m(n))})),o.length?Promise.reject({name:t,errors:o,warnings:r}):{name:t,errors:o,warnings:r}})))}}}));var d=function(e){var t=!1,n=e.length,o=[];return e.length?new Promise((function(r,a){e.forEach((function(e,i){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,o[i]=e,n>0||(t&&a(o),r(o))}))}))})):Promise.resolve([])}(g);o.lastValidatePromise=d,d.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));o.notifyObservers(o.store,t,{type:"validateFinish"}),o.triggerOnFieldsChange(t,e)}));var I=d.then((function(){return o.lastValidatePromise===d?Promise.resolve(o.getFieldsValue(l)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:o.getFieldsValue(l),errorFields:t,outOfDate:o.lastValidatePromise!==d})}));I.catch((function(e){return e}));var C=l.filter((function(e){return s.has(e.join(c))}));return o.triggerOnFieldsChange(C),I})),it(this,"submit",(function(){o.warningUnhooked(),o.validateFields().then((function(e){var t=o.callbacks.onFinish;if(t)try{t(e)}catch(n){console.error(n)}})).catch((function(e){var t=o.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=n}));var vi=function(e){var t=i.useRef(),n=I(i.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var o=new fi((function(){n({})}));t.current=o.getForm()}return[t.current]},yi=i.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Zi=yi,Gi=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Si=function(t,n){var o=t.name,r=t.initialValues,a=t.fields,l=t.form,g=t.preserve,c=t.children,s=t.component,u=void 0===s?"form":s,d=t.validateMessages,C=t.validateTrigger,p=void 0===C?"onChange":C,A=t.onValuesChange,h=t.onFieldsChange,b=t.onFinish,f=t.onFinishFailed,v=ct(t,Gi),y=i.useContext(Zi),Z=I(vi(l),1)[0],G=Z.getInternalHooks(sa),S=G.useSubscribe,B=G.setInitialValues,k=G.setCallbacks,V=G.setValidateMessages,W=G.setPreserve,w=G.destroyForm;i.useImperativeHandle(n,(function(){return Z})),i.useEffect((function(){return y.registerForm(o,Z),function(){y.unregisterForm(o)}}),[y,Z,o]),V(gt(gt({},y.validateMessages),d)),k({onValuesChange:A,onFieldsChange:function(e){if(y.triggerFormChange(o,e),h){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];h.apply(void 0,[e].concat(n))}},onFinish:function(e){y.triggerFormFinish(o,e),b&&b(e)},onFinishFailed:f}),W(g);var R,X=i.useRef(null);B(r,!X.current),X.current||(X.current=!0),i.useEffect((function(){return w}),[]);var J="function"===typeof c;J?R=c(Z.getFieldsValue(!0),Z):R=c;S(!J);var x=i.useRef();i.useEffect((function(){(function(t,n){if(t===n)return!0;if(!t&&n||t&&!n)return!1;if(!t||!n||"object"!==e(t)||"object"!==e(n))return!1;var o=Object.keys(t),r=Object.keys(n);return m(new Set([].concat(o,r))).every((function(e){var o=t[e],r=n[e];return"function"===typeof o&&"function"===typeof r||o===r}))})(x.current||[],a||[])||Z.setFields(a||[]),x.current=a}),[a,Z]);var H=i.useMemo((function(){return gt(gt({},Z),{},{validateTrigger:p})}),[Z,p]),Y=i.createElement(Ia.Provider,{value:null},i.createElement(da.Provider,{value:H},R));return!1===u?Y:i.createElement(u,$r({},v,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),Z.submit()},onReset:function(e){var t;e.preventDefault(),Z.resetFields(),null===(t=v.onReset)||void 0===t||t.call(v,e)}}),Y)};function Bi(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var ki=function(){};var Vi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],r=void 0===o?[]:o,a=t[1],l=void 0===a?{}:a,g=function(e){return e&&!!e._init}(l)?{form:l}:l,c=g.form,s=I((0,i.useState)(),2),u=s[0],d=s[1],C=(0,i.useMemo)((function(){return Bi(u)}),[u]),m=(0,i.useRef)(C);m.current=C;var p=(0,i.useContext)(da),A=c||p,h=A&&A._init,b=oi(r),f=(0,i.useRef)(b);return f.current=b,ki(b),(0,i.useEffect)((function(){if(h){var e=A.getFieldsValue,t=(0,(0,A.getInternalHooks)(sa).registerWatch)((function(e,t){var n=za(g.preserve?t:e,f.current),o=Bi(n);m.current!==o&&(m.current=o,d(n))})),n=za(g.preserve?e(!0):e(),f.current);return u!==n&&d(n),t}}),[h]),u},Wi=i.forwardRef(Si);Wi.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,o=e.onFormFinish,r=e.children,a=i.useContext(yi),l=i.useRef({});return i.createElement(yi.Provider,{value:gt(gt({},a),{},{validateMessages:gt(gt({},a.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:l.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){o&&o(e,{values:t,forms:l.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(l.current=gt(gt({},l.current),{},it({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=gt({},l.current);delete t[e],l.current=t,a.unregisterForm(e)}})},r)},Wi.Field=Ii,Wi.List=Ci,Wi.useForm=vi,Wi.useWatch=Vi;var wi=i.createContext({});var Ri=function(e){var t=e.children,n=e.status,o=e.override,r=(0,i.useContext)(wi),a=(0,i.useMemo)((function(){var e=Object.assign({},r);return o&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,o,r]);return i.createElement(wi.Provider,{value:a},t)},Xi={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Ji=function(e){return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:e.fontFamily}},xi=function(e){var t;return{a:(t={color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}},it(t,"&:active,\n  &:hover",{textDecoration:e.linkHoverDecoration,outline:0}),it(t,"&:focus",{textDecoration:e.linkFocusDecoration,outline:0}),it(t,"&[disabled]",{color:e.colorTextDisabled,cursor:"not-allowed"}),t)}},Hi=function(e,t){var n=e.fontFamily,o=e.fontSize,r='[class^="'.concat(t,'"], [class*=" ').concat(t,'"]');return it({},r,it({fontFamily:n,fontSize:o,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}},r,{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}))},Yi=function(e){return{outline:"".concat(e.lineWidthFocus,"px solid ").concat(e.colorPrimaryBorder),outlineOffset:1,transition:"outline-offset 0s, outline 0s"}},Ni=function(e){return{"&:focus-visible":Object.assign({},Yi(e))}};function Fi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0},n=e.componentCls,o="".concat(n,"-compact");return it({},o,Object.assign(Object.assign({},function(e,t,n){var o,r=n.focusElCls,a=n.focus,i=n.borderElCls?"> *":"",l=["hover",a?"focus":null,"active"].filter(Boolean).map((function(e){return"&:".concat(e," ").concat(i)})).join(",");return it(o={},"&-item:not(".concat(t,"-last-item)"),{marginInlineEnd:-e.lineWidth}),it(o,"&-item",Object.assign(Object.assign(it({},l,{zIndex:2}),r?it({},"&".concat(r),{zIndex:2}):{}),it({},"&[disabled] ".concat(i),{zIndex:0}))),o}(e,o,t)),function(e,t,n){var o,r=n.borderElCls,a=r?"> ".concat(r):"";return it(o={},"&-item:not(".concat(t,"-first-item):not(").concat(t,"-last-item) ").concat(a),{borderRadius:0}),it(o,"&-item:not(".concat(t,"-last-item)").concat(t,"-first-item"),it({},"& ".concat(a,", &").concat(e,"-sm ").concat(a,", &").concat(e,"-lg ").concat(a),{borderStartEndRadius:0,borderEndEndRadius:0})),it(o,"&-item:not(".concat(t,"-first-item)").concat(t,"-last-item"),it({},"& ".concat(a,", &").concat(e,"-sm ").concat(a,", &").concat(e,"-lg ").concat(a),{borderStartStartRadius:0,borderEndStartRadius:0})),o}(n,o,t)))}var Ei="undefined"!==typeof CSSINJS_STATISTIC,Ki=!0;function Mi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Ei)return Object.assign.apply(Object,[{}].concat(t));Ki=!1;var o={};return t.forEach((function(e){Object.keys(e).forEach((function(t){Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})}))})),Ki=!0,o}var Li={};function zi(){}var Di=function(e){for(var t,n=0,o=0,r=e.length;r>=4;++o,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};function Ti(e,t,n){var o=i.useRef({});return"value"in o.current&&!n(o.current.condition,t)||(o.current.value=e(),o.current.condition=t),o.current.value}var Ui=function(){function e(t){p(this,e),it(this,"instanceId",void 0),it(this,"cache",new Map),this.instanceId=t}return b(e,[{key:"get",value:function(e){return this.cache.get(e.join("%"))||null}},{key:"update",value:function(e,t){var n=e.join("%"),o=t(this.cache.get(n));null===o?this.cache.delete(n):this.cache.set(n,o)}}]),e}(),Qi=Ui,ji="data-token-hash",Oi="data-css-hash",Pi="__cssinjs_instance__";function qi(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(Oi,"]"))||[],n=document.head.firstChild;Array.from(t).forEach((function(t){t[Pi]=t[Pi]||e,t[Pi]===e&&document.head.insertBefore(t,n)}));var o={};Array.from(document.querySelectorAll("style[".concat(Oi,"]"))).forEach((function(t){var n,r=t.getAttribute(Oi);o[r]?t[Pi]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):o[r]=!0}))}return new Qi(e)}var _i=i.createContext({hashPriority:"low",cache:qi(),defaultCache:!0}),$i=_i;function el(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var tl="data-rc-order",nl="data-rc-priority",ol="rc-util-key",rl=new Map;function al(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):ol}function il(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function ll(e){return Array.from((rl.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function gl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!el())return null;var n=t.csp,o=t.prepend,r=t.priority,a=void 0===r?0:r,i=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(o),l="prependQueue"===i,g=document.createElement("style");g.setAttribute(tl,i),l&&a&&g.setAttribute(nl,"".concat(a)),null!==n&&void 0!==n&&n.nonce&&(g.nonce=null===n||void 0===n?void 0:n.nonce),g.innerHTML=e;var c=il(t),s=c.firstChild;if(o){if(l){var u=ll(c).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(tl)))return!1;var t=Number(e.getAttribute(nl)||0);return a>=t}));if(u.length)return c.insertBefore(g,u[u.length-1].nextSibling),g}c.insertBefore(g,s)}else c.appendChild(g);return g}function cl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ll(il(t)).find((function(n){return n.getAttribute(al(t))===e}))}function sl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=cl(e,t);n&&il(t).removeChild(n)}function ul(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){var n=rl.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var o=gl("",t),r=o.parentNode;rl.set(e,r),e.removeChild(o)}}(il(n),n);var o=cl(t,n);if(o){var r,a,i;if(null!==(r=n.csp)&&void 0!==r&&r.nonce&&o.nonce!==(null===(a=n.csp)||void 0===a?void 0:a.nonce))o.nonce=null===(i=n.csp)||void 0===i?void 0:i.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var l=gl(e,n);return l.setAttribute(al(n),t),l}var dl=function(){function e(){p(this,e),it(this,"cache",void 0),it(this,"keys",void 0),it(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return b(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={map:this.cache};return e.forEach((function(e){var t,n;r?r=null===(t=r)||void 0===t||null===(n=t.map)||void 0===n?void 0:n.get(e):r=void 0})),null!==(t=r)&&void 0!==t&&t.value&&o&&(r.value[1]=this.cacheCallTimes++),null===(n=r)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var o=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var r=this.keys.reduce((function(e,t){var n=I(e,2)[1];return o.internalGet(t)[1]<n?[t,o.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),a=I(r,1)[0];this.delete(a)}this.keys.push(t)}var i=this.cache;t.forEach((function(e,r){if(r===t.length-1)i.set(e,{value:[n,o.cacheCallTimes++]});else{var a=i.get(e);a?a.map||(a.map=new Map):i.set(e,{map:new Map}),i=i.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,o=e.get(t[0]);if(1===t.length)return o.map?e.set(t[0],{map:o.map}):e.delete(t[0]),null===(n=o.value)||void 0===n?void 0:n[0];var r=this.deleteByPath(o.map,t.slice(1));return o.map&&0!==o.map.size||o.value||e.delete(t[0]),r}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();it(dl,"MAX_CACHE_SIZE",20),it(dl,"MAX_CACHE_OFFSET",5);var Il=0,Cl=function(){function e(t){p(this,e),it(this,"derivatives",void 0),it(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=Il,0===t.length&&t.length,Il+=1}return b(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),ml=new dl;function pl(e){var t=Array.isArray(e)?e:[e];return ml.has(t)||ml.set(t,new Cl(t)),ml.get(t)}var Al=new WeakMap;function hl(t){var n=Al.get(t)||"";return n||(Object.keys(t).forEach((function(o){var r=t[o];n+=o,r instanceof Cl?n+=r.id:r&&"object"===e(r)?n+=hl(r):n+=r})),Al.set(t,n)),n}var bl="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),fl="_bAmBoO_";function vl(e,t,n){if(el()){var o,r;ul(e,bl);var a=document.createElement("div");a.style.position="fixed",a.style.left="0",a.style.top="0",null===t||void 0===t||t(a),document.body.appendChild(a);var i=n?n(a):null===(o=getComputedStyle(a).content)||void 0===o?void 0:o.includes(fl);return null===(r=a.parentNode)||void 0===r||r.removeChild(a),sl(bl),i}return!1}var yl=void 0;var Zl=el()?i.useLayoutEffect:i.useEffect,Gl=function(e,t){var n=i.useRef(!0);Zl((function(){return e(n.current)}),t),Zl((function(){return n.current=!1,function(){n.current=!0}}),[])},Sl=function(e,t){Gl((function(t){if(!t)return e()}),t)},Bl=Gl,kl=gt({},l).useInsertionEffect,Vl=kl?function(e,t,n){return kl((function(){return e(),t()}),n)}:function(e,t,n){i.useMemo(e,n),Bl((function(){return t(!0)}),n)},Wl="undefined"!==typeof gt({},l).useInsertionEffect?function(e){var t=[],n=!1;return i.useEffect((function(){return n=!1,function(){n=!0,t.length&&t.forEach((function(e){return e()}))}}),e),function(e){n||t.push(e)}}:function(){return function(e){e()}};var wl=function(){return!1};function Rl(e,t,n,o,r){var a=i.useContext($i).cache,l=[e].concat(m(t)),g=l.join("_"),c=Wl([g]),s=(wl(),function(e){a.update(l,(function(t){var o=I(t||[],2),r=o[0];var a=[void 0===r?0:r,o[1]||n()];return e?e(a):a}))});i.useMemo((function(){s()}),[g]);var u=a.get(l)[1];return Vl((function(){null===r||void 0===r||r(u)}),(function(e){return s((function(t){var n=I(t,2),o=n[0],a=n[1];return e&&0===o&&(null===r||void 0===r||r(u)),[o+1,a]})),function(){a.update(l,(function(e){var t=I(e||[],2),n=t[0],r=void 0===n?0:n,a=t[1];return 0===r-1?(c((function(){return null===o||void 0===o?void 0:o(a,!1)})),null):[r-1,a]}))}}),[g]),u}var Xl={},Jl="css",xl=new Map;var Hl=0;function Yl(e,t){xl.set(e,(xl.get(e)||0)-1);var n=Array.from(xl.keys()),o=n.filter((function(e){return(xl.get(e)||0)<=0}));n.length-o.length>Hl&&o.forEach((function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(ji,'="').concat(e,'"]')).forEach((function(e){var n;e[Pi]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}))}(e,t),xl.delete(e)}))}var Nl=function(e,t,n,o){var r=gt(gt({},n.getDerivativeToken(e)),t);return o&&(r=o(r)),r};function Fl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,i.useContext)($i).cache.instanceId,r=n.salt,a=void 0===r?"":r,l=n.override,g=void 0===l?Xl:l,c=n.formatToken,s=n.getComputedToken,u=i.useMemo((function(){return Object.assign.apply(Object,[{}].concat(m(t)))}),[t]),d=i.useMemo((function(){return hl(u)}),[u]),I=i.useMemo((function(){return hl(g)}),[g]),C=Rl("token",[a,e.id,d,I],(function(){var t=s?s(u,g,e):Nl(u,g,e,c),n=function(e,t){return Di("".concat(t,"_").concat(hl(e)))}(t,a);t._tokenKey=n,function(e){xl.set(e,(xl.get(e)||0)+1)}(n);var o="".concat(Jl,"-").concat(Di(n));return t._hashId=o,[t,o]}),(function(e){Yl(e[0]._tokenKey,o)}));return C}var El={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Kl="-ms-",Ml="-moz-",Ll="-webkit-",zl="comm",Dl="rule",Tl="decl",Ul="@import",Ql="@keyframes",jl="@layer",Ol=Math.abs,Pl=String.fromCharCode,ql=Object.assign;function _l(e){return e.trim()}function $l(e,t,n){return e.replace(t,n)}function eg(e,t){return e.indexOf(t)}function tg(e,t){return 0|e.charCodeAt(t)}function ng(e,t,n){return e.slice(t,n)}function og(e){return e.length}function rg(e){return e.length}function ag(e,t){return t.push(e),e}function ig(e,t){for(var n="",o=rg(e),r=0;r<o;r++)n+=t(e[r],r,e,t)||"";return n}function lg(e,t,n,o){switch(e.type){case jl:if(e.children.length)break;case Ul:case Tl:return e.return=e.return||e.value;case zl:return"";case Ql:return e.return=e.value+"{"+ig(e.children,o)+"}";case Dl:e.value=e.props.join(",")}return og(n=ig(e.children,o))?e.return=e.value+"{"+n+"}":""}var gg=1,cg=1,sg=0,ug=0,dg=0,Ig="";function Cg(e,t,n,o,r,a,i){return{value:e,root:t,parent:n,type:o,props:r,children:a,line:gg,column:cg,length:i,return:""}}function mg(e,t){return ql(Cg("",null,null,"",null,null,0),e,{length:-e.length},t)}function pg(){return dg=ug>0?tg(Ig,--ug):0,cg--,10===dg&&(cg=1,gg--),dg}function Ag(){return dg=ug<sg?tg(Ig,ug++):0,cg++,10===dg&&(cg=1,gg++),dg}function hg(){return tg(Ig,ug)}function bg(){return ug}function fg(e,t){return ng(Ig,e,t)}function vg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yg(e){return gg=cg=1,sg=og(Ig=e),ug=0,[]}function Zg(e){return Ig="",e}function Gg(e){return _l(fg(ug-1,kg(91===e?e+2:40===e?e+1:e)))}function Sg(e){for(;(dg=hg())&&dg<33;)Ag();return vg(e)>2||vg(dg)>3?"":" "}function Bg(e,t){for(;--t&&Ag()&&!(dg<48||dg>102||dg>57&&dg<65||dg>70&&dg<97););return fg(e,bg()+(t<6&&32==hg()&&32==Ag()))}function kg(e){for(;Ag();)switch(dg){case e:return ug;case 34:case 39:34!==e&&39!==e&&kg(dg);break;case 40:41===e&&kg(e);break;case 92:Ag()}return ug}function Vg(e,t){for(;Ag()&&e+dg!==57&&(e+dg!==84||47!==hg()););return"/*"+fg(t,ug-1)+"*"+Pl(47===e?e:Ag())}function Wg(e){for(;!vg(hg());)Ag();return fg(e,ug)}function wg(e){return Zg(Rg("",null,null,null,[""],e=yg(e),0,[0],e))}function Rg(e,t,n,o,r,a,i,l,g){for(var c=0,s=0,u=i,d=0,I=0,C=0,m=1,p=1,A=1,h=0,b="",f=r,v=a,y=o,Z=b;p;)switch(C=h,h=Ag()){case 40:if(108!=C&&58==tg(Z,u-1)){-1!=eg(Z+=$l(Gg(h),"&","&\f"),"&\f")&&(A=-1);break}case 34:case 39:case 91:Z+=Gg(h);break;case 9:case 10:case 13:case 32:Z+=Sg(C);break;case 92:Z+=Bg(bg()-1,7);continue;case 47:switch(hg()){case 42:case 47:ag(Jg(Vg(Ag(),bg()),t,n),g);break;default:Z+="/"}break;case 123*m:l[c++]=og(Z)*A;case 125*m:case 59:case 0:switch(h){case 0:case 125:p=0;case 59+s:-1==A&&(Z=$l(Z,/\f/g,"")),I>0&&og(Z)-u&&ag(I>32?xg(Z+";",o,n,u-1):xg($l(Z," ","")+";",o,n,u-2),g);break;case 59:Z+=";";default:if(ag(y=Xg(Z,t,n,c,s,r,l,b,f=[],v=[],u),a),123===h)if(0===s)Rg(Z,t,y,y,f,a,u,l,v);else switch(99===d&&110===tg(Z,3)?100:d){case 100:case 108:case 109:case 115:Rg(e,y,y,o&&ag(Xg(e,y,y,0,0,r,l,b,r,f=[],u),v),r,v,u,l,o?f:v);break;default:Rg(Z,y,y,y,[""],v,0,l,v)}}c=s=I=0,m=A=1,b=Z="",u=i;break;case 58:u=1+og(Z),I=C;default:if(m<1)if(123==h)--m;else if(125==h&&0==m++&&125==pg())continue;switch(Z+=Pl(h),h*m){case 38:A=s>0?1:(Z+="\f",-1);break;case 44:l[c++]=(og(Z)-1)*A,A=1;break;case 64:45===hg()&&(Z+=Gg(Ag())),d=hg(),s=u=og(b=Z+=Wg(bg())),h++;break;case 45:45===C&&2==og(Z)&&(m=0)}}return a}function Xg(e,t,n,o,r,a,i,l,g,c,s){for(var u=r-1,d=0===r?a:[""],I=rg(d),C=0,m=0,p=0;C<o;++C)for(var A=0,h=ng(e,u+1,u=Ol(m=i[C])),b=e;A<I;++A)(b=_l(m>0?d[A]+" "+h:$l(h,/&\f/g,d[A])))&&(g[p++]=b);return Cg(e,t,n,0===r?Dl:l,g,c,s)}function Jg(e,t,n){return Cg(e,t,n,zl,Pl(dg),ng(e,2,-2),0)}function xg(e,t,n,o){return Cg(e,t,n,Tl,ng(e,0,o),ng(e,o+1,-1),o)}var Hg,Yg="data-ant-cssinjs-cache-path",Ng="_FILE_STYLE__";var Fg=!0;function Eg(e){return function(){if(!Hg&&(Hg={},el())){var e=document.createElement("div");e.className=Yg,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=I(e.split(":"),2),n=t[0],o=t[1];Hg[n]=o}));var n,o=document.querySelector("style[".concat(Yg,"]"));o&&(Fg=!1,null===(n=o.parentNode)||void 0===n||n.removeChild(o)),document.body.removeChild(e)}}(),!!Hg[e]}var Kg=el(),Mg="_multi_value_";function Lg(e){return ig(wg(e),lg).replace(/\{%%%\:[^;];}/g,";")}var zg=function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},a=r.root,i=r.injectHash,l=r.parentSelectors,g=o.hashId,c=o.layer,s=(o.path,o.hashPriority),u=o.transformers,d=void 0===u?[]:u,C=(o.linters,""),p={};function A(e){var n=e.getName(g);if(!p[n]){var r=I(t(e.style,o,{root:!1,parentSelectors:l}),1)[0];p[n]="@keyframes ".concat(e.getName(g)).concat(r)}}var h=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(n)?n:[n]);if(h.forEach((function(n){var r="string"!==typeof n||a?n:{};if("string"===typeof r)C+="".concat(r,"\n");else if(r._keyframe)A(r);else{var c=d.reduce((function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),r);Object.keys(c).forEach((function(n){var r=c[n];if("object"!==e(r)||!r||"animationName"===n&&r._keyframe||function(t){return"object"===e(t)&&t&&("_skip_check_"in t||Mg in t)}(r)){var u,d=function(e,t){var n=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),o=t;El[e]||"number"!==typeof o||0===o||(o="".concat(o,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(A(t),o=t.getName(g)),C+="".concat(n,":").concat(o,";")},h=null!==(u=null===r||void 0===r?void 0:r.value)&&void 0!==u?u:r;"object"===e(r)&&null!==r&&void 0!==r&&r[Mg]&&Array.isArray(h)?h.forEach((function(e){d(n,e)})):d(n,h)}else{var b=!1,f=n.trim(),v=!1;(a||i)&&g?f.startsWith("@")?b=!0:f=function(e,t,n){if(!t)return e;var o=".".concat(t),r="low"===n?":where(".concat(o,")"):o,a=e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),o=n[0]||"",a=(null===(t=o.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[o="".concat(a).concat(r).concat(o.slice(a.length))].concat(m(n.slice(1))).join(" ")}));return a.join(",")}(n,g,s):!a||g||"&"!==f&&""!==f||(f="",v=!0);var y=I(t(r,o,{root:v,injectHash:b,parentSelectors:[].concat(m(l),[f])}),2),Z=y[0],G=y[1];p=gt(gt({},p),G),C+="".concat(f).concat(Z)}}))}})),a){if(c&&(void 0===yl&&(yl=vl("@layer ".concat(bl," { .").concat(bl,' { content: "').concat(fl,'"!important; } }'),(function(e){e.className=bl}))),yl)){var b=c.split(","),f=b[b.length-1].trim();C="@layer ".concat(f," {").concat(C,"}"),b.length>1&&(C="@layer ".concat(c,"{%%%:%}").concat(C))}}else C="{".concat(C,"}");return[C,p]};function Dg(){return null}function Tg(e,t){var n=e.token,o=e.path,r=e.hashId,a=e.layer,l=e.nonce,g=e.clientOnly,c=e.order,s=void 0===c?0:c,u=i.useContext($i),d=u.autoClear,C=(u.mock,u.defaultCache),p=u.hashPriority,A=u.container,h=u.ssrInline,b=u.transformers,f=u.linters,v=u.cache,y=n._tokenKey,Z=[y].concat(m(o)),G=Kg;var S=Rl("style",Z,(function(){var e=Z.join("|");if(Eg(e)){var n=function(e){var t=Hg[e],n=null;if(t&&el())if(Fg)n=Ng;else{var o=document.querySelector("style[".concat(Oi,'="').concat(Hg[e],'"]'));o?n=o.innerHTML:delete Hg[e]}return[n,t]}(e),i=I(n,2),l=i[0],c=i[1];if(l)return[l,y,c,{},g,s]}var u=t(),d=I(zg(u,{hashId:r,hashPriority:p,layer:a,path:o.join("-"),transformers:b,linters:f}),2),C=d[0],m=d[1],A=Lg(C),h=function(e,t){return Di("".concat(e.join("%")).concat(t))}(Z,A);return[A,y,h,m,g,s]}),(function(e,t){var n=I(e,3)[2];(t||d)&&Kg&&sl(n,{mark:Oi})}),(function(e){var t=I(e,4),n=t[0],o=(t[1],t[2]),r=t[3];if(G&&n!==Ng){var a={mark:Oi,prepend:"queue",attachTo:A,priority:s},i="function"===typeof l?l():l;i&&(a.csp={nonce:i});var g=ul(n,o,a);g[Pi]=v.instanceId,g.setAttribute(ji,y),Object.keys(r).forEach((function(e){ul(Lg(r[e]),"_effect-".concat(e),a)}))}})),B=I(S,3),k=B[0],V=B[1],W=B[2];return function(e){var t,n;h&&!G&&C?t=i.createElement("style",$r({},(it(n={},ji,V),it(n,Oi,W),n),{dangerouslySetInnerHTML:{__html:k}})):t=i.createElement(Dg,null);return i.createElement(i.Fragment,null,t,e)}}var Ug=function(){function e(t,n){p(this,e),it(this,"name",void 0),it(this,"style",void 0),it(this,"_keyframe",!0),this.name=t,this.style=n}return b(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}(),Qg=Ug;function jg(e){return e.notSplit=!0,e}jg(["borderTop","borderBottom"]),jg(["borderTop"]),jg(["borderBottom"]),jg(["borderLeft","borderRight"]),jg(["borderLeft"]),jg(["borderRight"]);function Og(e){var t=i.useRef();t.current=e;var n=i.useCallback((function(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(o))}),[]);return n}function Pg(e){var t=i.useRef(!1),n=I(i.useState(e),2),o=n[0],r=n[1];return i.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[o,function(e,n){n&&t.current||r(e)}]}function qg(e){return void 0!==e}function _g(e,t){var n=t||{},o=n.defaultValue,r=n.value,a=n.onChange,i=n.postState,l=I(Pg((function(){return qg(r)?r:qg(o)?"function"===typeof o?o():o:"function"===typeof e?e():e})),2),g=l[0],c=l[1],s=void 0!==r?r:g,u=i?i(s):s,d=Og(a),C=I(Pg([s]),2),m=C[0],p=C[1];return Sl((function(){var e=m[0];g!==e&&d(g,e)}),[m]),Sl((function(){qg(r)||c(r)}),[r]),[u,Og((function(e,t){c(e,t),p([s],t)}))]}function $g(t,n){"function"===typeof t?t(n):"object"===e(t)&&t&&"current"in t&&(t.current=n)}function ec(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.filter((function(e){return e}));return o.length<=1?o[0]:function(e){t.forEach((function(t){$g(t,e)}))}}function tc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ti((function(){return ec.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))}function nc(e){var t,n,o=(0,ea.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof o||null!==(t=o.prototype)&&void 0!==t&&t.render)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render)}var oc="5.9.3";function rc(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function ac(e){return Math.min(1,Math.max(0,e))}function ic(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function lc(e){return e<=1?"".concat(100*Number(e),"%"):e}function gc(e){return 1===e.length?"0"+e:String(e)}function cc(e,t,n){e=rc(e,255),t=rc(t,255),n=rc(n,255);var o=Math.max(e,t,n),r=Math.min(e,t,n),a=0,i=0,l=(o+r)/2;if(o===r)i=0,a=0;else{var g=o-r;switch(i=l>.5?g/(2-o-r):g/(o+r),o){case e:a=(t-n)/g+(t<n?6:0);break;case t:a=(n-e)/g+2;break;case n:a=(e-t)/g+4}a/=6}return{h:a,s:i,l:l}}function sc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function uc(e,t,n){e=rc(e,255),t=rc(t,255),n=rc(n,255);var o=Math.max(e,t,n),r=Math.min(e,t,n),a=0,i=o,l=o-r,g=0===o?0:l/o;if(o===r)a=0;else{switch(o){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:g,v:i}}function dc(e,t,n,o){var r=[gc(Math.round(e).toString(16)),gc(Math.round(t).toString(16)),gc(Math.round(n).toString(16))];return o&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function Ic(e){return Math.round(255*parseFloat(e)).toString(16)}function Cc(e){return mc(e)/255}function mc(e){return parseInt(e,16)}var pc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ac(e){var t={r:0,g:0,b:0},n=1,o=null,r=null,a=null,i=!1,l=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(pc[e])e=pc[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=vc.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=vc.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=vc.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=vc.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=vc.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=vc.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=vc.hex8.exec(e),n)return{r:mc(n[1]),g:mc(n[2]),b:mc(n[3]),a:Cc(n[4]),format:t?"name":"hex8"};if(n=vc.hex6.exec(e),n)return{r:mc(n[1]),g:mc(n[2]),b:mc(n[3]),format:t?"name":"hex"};if(n=vc.hex4.exec(e),n)return{r:mc(n[1]+n[1]),g:mc(n[2]+n[2]),b:mc(n[3]+n[3]),a:Cc(n[4]+n[4]),format:t?"name":"hex8"};if(n=vc.hex3.exec(e),n)return{r:mc(n[1]+n[1]),g:mc(n[2]+n[2]),b:mc(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(yc(e.r)&&yc(e.g)&&yc(e.b)?(t=function(e,t,n){return{r:255*rc(e,255),g:255*rc(t,255),b:255*rc(n,255)}}(e.r,e.g,e.b),i=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):yc(e.h)&&yc(e.s)&&yc(e.v)?(o=lc(e.s),r=lc(e.v),t=function(e,t,n){e=6*rc(e,360),t=rc(t,100),n=rc(n,100);var o=Math.floor(e),r=e-o,a=n*(1-t),i=n*(1-r*t),l=n*(1-(1-r)*t),g=o%6;return{r:255*[n,i,a,a,l,n][g],g:255*[l,n,n,i,a,a][g],b:255*[a,a,l,n,n,i][g]}}(e.h,o,r),i=!0,l="hsv"):yc(e.h)&&yc(e.s)&&yc(e.l)&&(o=lc(e.s),a=lc(e.l),t=function(e,t,n){var o,r,a;if(e=rc(e,360),t=rc(t,100),n=rc(n,100),0===t)r=n,a=n,o=n;else{var i=n<.5?n*(1+t):n+t-n*t,l=2*n-i;o=sc(l,i,e+1/3),r=sc(l,i,e),a=sc(l,i,e-1/3)}return{r:255*o,g:255*r,b:255*a}}(e.h,o,a),i=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=ic(n),{ok:i,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var hc="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),bc="[\\s|\\(]+(".concat(hc,")[,|\\s]+(").concat(hc,")[,|\\s]+(").concat(hc,")\\s*\\)?"),fc="[\\s|\\(]+(".concat(hc,")[,|\\s]+(").concat(hc,")[,|\\s]+(").concat(hc,")[,|\\s]+(").concat(hc,")\\s*\\)?"),vc={CSS_UNIT:new RegExp(hc),rgb:new RegExp("rgb"+bc),rgba:new RegExp("rgba"+fc),hsl:new RegExp("hsl"+bc),hsla:new RegExp("hsla"+fc),hsv:new RegExp("hsv"+bc),hsva:new RegExp("hsva"+fc),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function yc(e){return Boolean(vc.CSS_UNIT.exec(String(e)))}var Zc=2,Gc=.16,Sc=.05,Bc=.05,kc=.15,Vc=5,Wc=4,wc=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Rc(e){var t=uc(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Xc(e){var t=e.r,n=e.g,o=e.b;return"#".concat(dc(t,n,o,!1))}function Jc(e,t,n){var o;return(o=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-Zc*t:Math.round(e.h)+Zc*t:n?Math.round(e.h)+Zc*t:Math.round(e.h)-Zc*t)<0?o+=360:o>=360&&(o-=360),o}function xc(e,t,n){return 0===e.h&&0===e.s?e.s:((o=n?e.s-Gc*t:t===Wc?e.s+Gc:e.s+Sc*t)>1&&(o=1),n&&t===Vc&&o>.1&&(o=.1),o<.06&&(o=.06),Number(o.toFixed(2)));var o}function Hc(e,t,n){var o;return(o=n?e.v+Bc*t:e.v-kc*t)>1&&(o=1),Number(o.toFixed(2))}function Yc(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],o=Ac(e),r=Vc;r>0;r-=1){var a=Rc(o),i=Xc(Ac({h:Jc(a,r,!0),s:xc(a,r,!0),v:Hc(a,r,!0)}));n.push(i)}n.push(Xc(o));for(var l=1;l<=Wc;l+=1){var g=Rc(o),c=Xc(Ac({h:Jc(g,l),s:xc(g,l),v:Hc(g,l)}));n.push(c)}return"dark"===t.theme?wc.map((function(e){var o=e.index,r=e.opacity,a=Xc(function(e,t,n){var o=n/100;return{r:(t.r-e.r)*o+e.r,g:(t.g-e.g)*o+e.g,b:(t.b-e.b)*o+e.b}}(Ac(t.backgroundColor||"#141414"),Ac(n[o]),100*r));return a})):n}var Nc={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Fc={},Ec={};Object.keys(Nc).forEach((function(e){Fc[e]=Yc(Nc[e]),Fc[e].primary=Fc[e][5],Ec[e]=Yc(Nc[e],{theme:"dark",backgroundColor:"#141414"}),Ec[e].primary=Ec[e][5]}));Fc.red,Fc.volcano,Fc.gold,Fc.orange,Fc.yellow,Fc.lime,Fc.green,Fc.cyan;var Kc=Fc.blue,Mc=(Fc.geekblue,Fc.purple,Fc.magenta,Fc.grey,Fc.grey,function(e){var t=e.controlHeight;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}});var Lc={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},zc=Object.assign(Object.assign({},Lc),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Dc=function(){function e(t,n){var o;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var r=Ac(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(o=n.format)&&void 0!==o?o:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,o=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=ic(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=uc(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=uc(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(o,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=cc(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=cc(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(o,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),dc(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,o,r){var a=[gc(Math.round(e).toString(16)),gc(Math.round(t).toString(16)),gc(Math.round(n).toString(16)),gc(Ic(o))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*rc(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*rc(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+dc(this.r,this.g,this.b,!1),t=0,n=Object.entries(pc);t<n.length;t++){var o=n[t],r=o[0];if(e===o[1])return r}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,o=this.a<1&&this.a>=0;return t||!o||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=ac(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=ac(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=ac(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=ac(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),o=(n.h+t)%360;return n.h=o<0?360+o:o,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var o=this.toRgb(),r=new e(t).toRgb(),a=n/100;return new e({r:(r.r-o.r)*a+o.r,g:(r.g-o.g)*a+o.g,b:(r.b-o.b)*a+o.b,a:(r.a-o.a)*a+o.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var o=this.toHsl(),r=360/n,a=[this];for(o.h=(o.h-(r*t>>1)+720)%360;--t;)o.h=(o.h+r)%360,a.push(new e(o));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),o=n.h,r=n.s,a=n.v,i=[],l=1/t;t--;)i.push(new e({h:o,s:r,v:a})),a=(a+l)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),o=new e(t).toRgb(),r=n.a+o.a*(1-n.a);return new e({r:(n.r*n.a+o.r*o.a*(1-n.a))/r,g:(n.g*n.a+o.g*o.a*(1-n.a))/r,b:(n.b*n.a+o.b*o.a*(1-n.a))/r,a:r})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),o=n.h,r=[this],a=360/t,i=1;i<t;i++)r.push(new e({h:(o+i*a)%360,s:n.s,l:n.l}));return r},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var Tc=function(e){var t=e,n=e,o=e,r=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?o=1:e>=6&&(o=2),e>4&&e<8?r=4:e>=8&&(r=6),{borderRadius:e,borderRadiusXS:o,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:r}};var Uc=function(e,t){return new Dc(e).setAlpha(t).toRgbString()},Qc=function(e,t){return new Dc(e).darken(t).toHexString()},jc=function(e){var t=Yc(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},Oc=function(e,t){var n=e||"#fff",o=t||"#000";return{colorBgBase:n,colorTextBase:o,colorText:Uc(o,.88),colorTextSecondary:Uc(o,.65),colorTextTertiary:Uc(o,.45),colorTextQuaternary:Uc(o,.25),colorFill:Uc(o,.15),colorFillSecondary:Uc(o,.06),colorFillTertiary:Uc(o,.04),colorFillQuaternary:Uc(o,.02),colorBgLayout:Qc(n,4),colorBgContainer:Qc(n,0),colorBgElevated:Qc(n,0),colorBgSpotlight:Uc(o,.85),colorBorder:Qc(n,15),colorBorderSecondary:Qc(n,6)}};var Pc=function(e){var t=function(e){var t=new Array(10).fill(null).map((function(t,n){var o=n-1,r=e*Math.pow(2.71828,o/5),a=n>1?Math.floor(r):Math.ceil(r);return 2*Math.floor(a/2)}));return t[1]=e,t.map((function(e){return{size:e,lineHeight:(e+8)/e}}))}(e),n=t.map((function(e){return e.size})),o=t.map((function(e){return e.lineHeight}));return{fontSizeSM:n[0],fontSize:n[1],fontSizeLG:n[2],fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:o[1],lineHeightLG:o[2],lineHeightSM:o[0],lineHeightHeading1:o[6],lineHeightHeading2:o[5],lineHeightHeading3:o[4],lineHeightHeading4:o[3],lineHeightHeading5:o[2]}};var qc=pl((function(e){var t=Object.keys(Lc).map((function(t){var n=Yc(e[t]);return new Array(10).fill(1).reduce((function(e,o,r){return e["".concat(t,"-").concat(r+1)]=n[r],e["".concat(t).concat(r+1)]=n[r],e}),{})})).reduce((function(e,t){return e=Object.assign(Object.assign({},e),t)}),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){var n=t.generateColorPalettes,o=t.generateNeutralColorPalettes,r=e.colorSuccess,a=e.colorWarning,i=e.colorError,l=e.colorInfo,g=e.colorPrimary,c=e.colorBgBase,s=e.colorTextBase,u=n(g),d=n(r),I=n(a),C=n(i),m=n(l),p=o(c,s),A=n(e.colorLink||e.colorInfo);return Object.assign(Object.assign({},p),{colorPrimaryBg:u[1],colorPrimaryBgHover:u[2],colorPrimaryBorder:u[3],colorPrimaryBorderHover:u[4],colorPrimaryHover:u[5],colorPrimary:u[6],colorPrimaryActive:u[7],colorPrimaryTextHover:u[8],colorPrimaryText:u[9],colorPrimaryTextActive:u[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:C[1],colorErrorBgHover:C[2],colorErrorBorder:C[3],colorErrorBorderHover:C[4],colorErrorHover:C[5],colorError:C[6],colorErrorActive:C[7],colorErrorTextHover:C[8],colorErrorText:C[9],colorErrorTextActive:C[10],colorWarningBg:I[1],colorWarningBgHover:I[2],colorWarningBorder:I[3],colorWarningBorderHover:I[4],colorWarningHover:I[4],colorWarning:I[6],colorWarningActive:I[7],colorWarningTextHover:I[8],colorWarningText:I[9],colorWarningTextActive:I[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorLinkHover:A[4],colorLink:A[6],colorLinkActive:A[7],colorBgMask:new Dc("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:jc,generateNeutralColorPalettes:Oc})),Pc(e.fontSize)),function(e){var t=e.sizeUnit,n=e.sizeStep;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),Mc(e)),function(e){var t=e.motionUnit,n=e.motionBase,o=e.borderRadius,r=e.lineWidth;return Object.assign({motionDurationFast:"".concat((n+t).toFixed(1),"s"),motionDurationMid:"".concat((n+2*t).toFixed(1),"s"),motionDurationSlow:"".concat((n+3*t).toFixed(1),"s"),lineWidthBold:r+1},Tc(o))}(e))})),_c={token:zc,hashed:!0},$c=i.createContext(_c);function es(e){return e>=0&&e<=255}var ts=function(e,t){var n=new Dc(e).toRgb(),o=n.r,r=n.g,a=n.b;if(n.a<1)return e;for(var i=new Dc(t).toRgb(),l=i.r,g=i.g,c=i.b,s=.01;s<=1;s+=.01){var u=Math.round((o-l*(1-s))/s),d=Math.round((r-g*(1-s))/s),I=Math.round((a-c*(1-s))/s);if(es(u)&&es(d)&&es(I))return new Dc({r:u,g:d,b:I,a:Math.round(100*s)/100}).toRgbString()}return new Dc({r:o,g:r,b:a,a:1}).toRgbString()},ns=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function os(e){var t=e.override,n=ns(e,["override"]),o=Object.assign({},t);Object.keys(zc).forEach((function(e){delete o[e]}));var r=Object.assign(Object.assign({},n),o),a=1200,i=1600;if(!1===r.motion){var l="0s";r.motionDurationFast=l,r.motionDurationMid=l,r.motionDurationSlow=l}return Object.assign(Object.assign(Object.assign({},r),{colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:ts(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:ts(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:ts(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidthFocus:4*r.lineWidth,lineWidth:r.lineWidth,controlOutlineWidth:2*r.lineWidth,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:ts(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:a,screenXLMin:a,screenXLMax:1599,screenXXL:i,screenXXLMin:i,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new Dc("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new Dc("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new Dc("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),o)}var rs=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},as=function e(t,n,o){var r=o.getDerivativeToken(t),a=n.override,i=rs(n,["override"]),l=Object.assign(Object.assign({},r),{override:a});return l=os(l),i&&Object.entries(i).forEach((function(t){var n=I(t,2),o=n[0],r=n[1],a=r.theme,i=rs(r,["theme"]),g=i;a&&(g=e(Object.assign(Object.assign({},l),i),{override:i},a)),l[o]=g})),l};function is(){var e=i.useContext($c),t=e.token,n=e.hashed,o=e.theme,r=e.components,a="".concat(oc,"-").concat(n||""),l=o||qc,g=I(Fl(l,[zc,t],{salt:a,override:Object.assign({override:t},r),getComputedToken:as,formatToken:os}),2),c=g[0],s=g[1];return[l,c,n?s:""]}var ls=function(e,t){var n=I(is(),2);return Tg({theme:n[0],token:n[1],hashId:"",path:["ant-design-icons",e],nonce:function(){return null===t||void 0===t?void 0:t.nonce}},(function(){return[it({},".".concat(e),Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),it({},".".concat(e," .").concat(e,"-icon"),{display:"block"})))]}))};function gs(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=Array.isArray(e)?e:[e,e],a=I(r,1)[0],l=r.join("-");return function(e){var r=I(is(),3),g=r[0],c=r[1],s=r[2],u=(0,i.useContext)(_r),d=u.getPrefixCls,C=u.iconPrefixCls,m=u.csp,p=d(),A={theme:g,token:c,hashId:s,nonce:function(){return null===m||void 0===m?void 0:m.nonce},clientOnly:o.clientOnly,order:o.order||-999};return Tg(Object.assign(Object.assign({},A),{clientOnly:!1,path:["Shared",p]}),(function(){return[{"&":xi(c)}]})),ls(C),[Tg(Object.assign(Object.assign({},A),{path:[l,e,C]}),(function(){var r=function(e){var t,n=e,o=zi;return Ei&&(t=new Set,n=new Proxy(e,{get:function(e,n){return Ki&&t.add(n),e[n]}}),o=function(e,n){var o;Li[e]={global:Array.from(t),component:Object.assign(Object.assign({},null===(o=Li[e])||void 0===o?void 0:o.component),n)}}),{token:n,keys:t,flush:o}}(c),i=r.token,l=r.flush,g=Object.assign({},c[a]);o.deprecatedTokens&&o.deprecatedTokens.forEach((function(e){var t,n=I(e,2),o=n[0],r=n[1];((null===g||void 0===g?void 0:g[o])||(null===g||void 0===g?void 0:g[r]))&&(null!==(t=g[r])&&void 0!==t||(g[r]=null===g||void 0===g?void 0:g[o]))}));var u="function"===typeof n?n(Mi(i,null!==g&&void 0!==g?g:{})):n,d=Object.assign(Object.assign({},u),g),m=Mi(i,{componentCls:".".concat(e),prefixCls:e,iconCls:".".concat(C),antCls:".".concat(p)},d),A=t(m,{hashId:s,prefixCls:e,rootPrefixCls:p,iconPrefixCls:C,overrideComponentToken:g});return l(a,d),[!1===o.resetStyle?null:Hi(c,e),A]})),s]}}var cs=function(e){return{borderColor:e.hoverBorderColor}},ss=function(e){return{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0}},us=function(e){return{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},cs(Mi(e,{hoverBorderColor:e.colorBorder})))}},ds=function(e){var t=e.paddingBlockLG,n=e.fontSizeLG,o=e.lineHeightLG,r=e.borderRadiusLG,a=e.paddingInlineLG;return{padding:"".concat(t,"px ").concat(a,"px"),fontSize:n,lineHeight:o,borderRadius:r}},Is=function(e){return{padding:"".concat(e.paddingBlockSM,"px ").concat(e.paddingInlineSM,"px"),borderRadius:e.borderRadiusSM}},Cs=function(e,t){var n,o=e.componentCls,r=e.colorError,a=e.colorWarning,i=e.errorActiveShadow,l=e.warningActiveShadow,g=e.colorErrorBorderHover,c=e.colorWarningBorderHover;return it(n={},"&-status-error:not(".concat(t,"-disabled):not(").concat(t,"-borderless)").concat(t),it({borderColor:r,"&:hover":{borderColor:g},"&:focus, &-focused":Object.assign({},ss(Mi(e,{activeBorderColor:r,activeShadow:i})))},"".concat(o,"-prefix, ").concat(o,"-suffix"),{color:r})),it(n,"&-status-warning:not(".concat(t,"-disabled):not(").concat(t,"-borderless)").concat(t),it({borderColor:a,"&:hover":{borderColor:c},"&:focus, &-focused":Object.assign({},ss(Mi(e,{activeBorderColor:a,activeShadow:l})))},"".concat(o,"-prefix, ").concat(o,"-suffix"),{color:a})),n},ms=function(e){return Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:"".concat(e.paddingBlock,"px ").concat(e.paddingInline,"px"),color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,backgroundColor:e.colorBgContainer,backgroundImage:"none",borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:e.colorBorder,borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationMid)},{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e.colorTextPlaceholder,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),{"&:hover":Object.assign({},cs(e)),"&:focus, &-focused":Object.assign({},ss(e)),"&-disabled, &[disabled]":Object.assign({},us(e)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:"all ".concat(e.motionDurationSlow,", height 0s"),resize:"vertical"},"&-lg":Object.assign({},ds(e)),"&-sm":Object.assign({},Is(e)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}})},ps=function(e){var t,n=e.componentCls,o=e.controlHeightSM,r=(o-2*e.lineWidth-16)/2;return it({},n,Object.assign(Object.assign(Object.assign(Object.assign({},Ji(e)),ms(e)),Cs(e,n)),{'&[type="color"]':(t={height:e.controlHeight},it(t,"&".concat(n,"-lg"),{height:e.controlHeightLG}),it(t,"&".concat(n,"-sm"),{height:o,paddingTop:r,paddingBottom:r}),t),'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}}))},As=function(e){var t,n=e.componentCls,o=e.inputAffixPadding,r=e.colorTextDescription,a=e.motionDurationSlow,i=e.colorIcon,l=e.colorIconHover,g=e.iconCls;return it({},"".concat(n,"-affix-wrapper"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ms(e)),(it(t={display:"inline-flex"},"&:not(".concat(n,"-affix-wrapper-disabled):hover"),Object.assign(Object.assign({},cs(e)),it({zIndex:1},"".concat(n,"-search-with-button &"),{zIndex:0}))),it(t,"&-focused, &:focus",{zIndex:1}),it(t,"&-disabled",it({},"".concat(n,"[disabled]"),{background:"transparent"})),it(t,"> input".concat(n),{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}}),it(t,"&::before",{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}),it(t,"".concat(n),{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:o},"&-suffix":{marginInlineStart:o}}),t)),function(e){var t=e.componentCls;return it({},"".concat(t,"-clear-icon"),{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 ".concat(e.inputAffixPadding,"px")}})}(e)),it({},"".concat(g).concat(n,"-password-icon"),{color:i,cursor:"pointer",transition:"all ".concat(a),"&:hover":{color:l}})),Cs(e,"".concat(n,"-affix-wrapper"))))},hs=function(e){var t,n=e.componentCls,o=e.colorError,r=e.colorWarning,a=e.borderRadiusLG,i=e.borderRadiusSM;return it({},"".concat(n,"-group"),Object.assign(Object.assign(Object.assign({},Ji(e)),function(e){var t,n,o,r,a,i,l,g=e.componentCls,c=e.antCls;return it(l={position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0},"&[class*='col-']",{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}}),it(l,"&-lg ".concat(g,", &-lg > ").concat(g,"-group-addon"),Object.assign({},ds(e))),it(l,"&-sm ".concat(g,", &-sm > ").concat(g,"-group-addon"),Object.assign({},Is(e))),it(l,"&-lg ".concat(c,"-select-single ").concat(c,"-select-selector"),{height:e.controlHeightLG}),it(l,"&-sm ".concat(c,"-select-single ").concat(c,"-select-selector"),{height:e.controlHeightSM}),it(l,"> ".concat(g),{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}}),it(l,"".concat(g,"-group"),(it(o={},"&-addon, &-wrap",{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}}),it(o,"&-wrap > *",{display:"block !important"}),it(o,"&-addon",(it(n={position:"relative",padding:"0 ".concat(e.paddingInline,"px"),color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,textAlign:"center",backgroundColor:e.colorFillAlter,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationSlow),lineHeight:1},"".concat(c,"-select"),(it(t={margin:"-".concat(e.paddingBlock+1,"px -").concat(e.paddingInline,"px")},"&".concat(c,"-select-single:not(").concat(c,"-select-customize-input):not(").concat(c,"-pagination-size-changer)"),it({},"".concat(c,"-select-selector"),{backgroundColor:"inherit",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),boxShadow:"none"})),it(t,"&-open, &-focused",it({},"".concat(c,"-select-selector"),{color:e.colorPrimary})),t)),it(n,"".concat(c,"-cascader-picker"),it({margin:"-9px -".concat(e.paddingInline,"px"),backgroundColor:"transparent"},"".concat(c,"-cascader-input"),{textAlign:"start",border:0,boxShadow:"none"})),n)),it(o,"&-addon:first-child",{borderInlineEnd:0}),it(o,"&-addon:last-child",{borderInlineStart:0}),o)),it(l,"".concat(g),{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":it({zIndex:1,borderInlineEndWidth:1},"".concat(g,"-search-with-button &"),{zIndex:0})}),it(l,"> ".concat(g,":first-child, ").concat(g,"-group-addon:first-child"),it({borderStartEndRadius:0,borderEndEndRadius:0},"".concat(c,"-select ").concat(c,"-select-selector"),{borderStartEndRadius:0,borderEndEndRadius:0})),it(l,"> ".concat(g,"-affix-wrapper"),(it(r={},"&:not(:first-child) ".concat(g),{borderStartStartRadius:0,borderEndStartRadius:0}),it(r,"&:not(:last-child) ".concat(g),{borderStartEndRadius:0,borderEndEndRadius:0}),r)),it(l,"> ".concat(g,":last-child, ").concat(g,"-group-addon:last-child"),it({borderStartStartRadius:0,borderEndStartRadius:0},"".concat(c,"-select ").concat(c,"-select-selector"),{borderStartStartRadius:0,borderEndStartRadius:0})),it(l,"".concat(g,"-affix-wrapper"),it({"&:not(:last-child)":it({borderStartEndRadius:0,borderEndEndRadius:0},"".concat(g,"-search &"),{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius})},"&:not(:first-child), ".concat(g,"-search &:not(:first-child)"),{borderStartStartRadius:0,borderEndStartRadius:0})),it(l,"&".concat(g,"-group-compact"),Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(it(i={},"".concat(g,"-group-addon, ").concat(g,"-group-wrap, > ").concat(g),{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}}),it(i,"& > *",{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0}),it(i,"\n        & > ".concat(g,"-affix-wrapper,\n        & > ").concat(g,"-number-affix-wrapper,\n        & > ").concat(c,"-picker-range\n      "),{display:"inline-flex"}),it(i,"& > *:not(:last-child)",{marginInlineEnd:-e.lineWidth,borderInlineEndWidth:e.lineWidth}),it(i,"".concat(g),{float:"none"}),it(i,"& > ".concat(c,"-select > ").concat(c,"-select-selector,\n      & > ").concat(c,"-select-auto-complete ").concat(g,",\n      & > ").concat(c,"-cascader-picker ").concat(g,",\n      & > ").concat(g,"-group-wrapper ").concat(g),{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}),it(i,"& > ".concat(c,"-select-focused"),{zIndex:1}),it(i,"& > ".concat(c,"-select > ").concat(c,"-select-arrow"),{zIndex:1}),it(i,"& > *:first-child,\n      & > ".concat(c,"-select:first-child > ").concat(c,"-select-selector,\n      & > ").concat(c,"-select-auto-complete:first-child ").concat(g,",\n      & > ").concat(c,"-cascader-picker:first-child ").concat(g),{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}),it(i,"& > *:last-child,\n      & > ".concat(c,"-select:last-child > ").concat(c,"-select-selector,\n      & > ").concat(c,"-cascader-picker:last-child ").concat(g,",\n      & > ").concat(c,"-cascader-picker-focused:last-child ").concat(g),{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius}),it(i,"& > ".concat(c,"-select-auto-complete ").concat(g),{verticalAlign:"top"}),it(i,"".concat(g,"-group-wrapper + ").concat(g,"-group-wrapper"),it({marginInlineStart:-e.lineWidth},"".concat(g,"-affix-wrapper"),{borderRadius:0})),it(i,"".concat(g,"-group-wrapper:not(:last-child)"),it({},"&".concat(g,"-search > ").concat(g,"-group"),(it(a={},"& > ".concat(g,"-group-addon > ").concat(g,"-search-button"),{borderRadius:0}),it(a,"& > ".concat(g),{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}),a))),i))),l}(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":(t={display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":it({},"".concat(n,"-group-addon"),{borderRadius:a,fontSize:e.fontSizeLG}),"&-sm":it({},"".concat(n,"-group-addon"),{borderRadius:i}),"&-status-error":it({},"".concat(n,"-group-addon"),{color:o,borderColor:o}),"&-status-warning":it({},"".concat(n,"-group-addon"),{color:r,borderColor:r}),"&-disabled":it({},"".concat(n,"-group-addon"),Object.assign({},us(e)))},it(t,"&:not(".concat(n,"-compact-first-item):not(").concat(n,"-compact-last-item)").concat(n,"-compact-item"),it({},"".concat(n,", ").concat(n,"-group-addon"),{borderRadius:0})),it(t,"&:not(".concat(n,"-compact-last-item)").concat(n,"-compact-first-item"),it({},"".concat(n,", ").concat(n,"-group-addon"),{borderStartEndRadius:0,borderEndEndRadius:0})),it(t,"&:not(".concat(n,"-compact-first-item)").concat(n,"-compact-last-item"),it({},"".concat(n,", ").concat(n,"-group-addon"),{borderStartStartRadius:0,borderEndStartRadius:0})),t)}))},bs=function(e){var t,n,o,r=e.componentCls,a=e.antCls,i="".concat(r,"-search");return it({},i,(it(o={},"".concat(r),{"&:hover, &:focus":it({borderColor:e.colorPrimaryHover},"+ ".concat(r,"-group-addon ").concat(i,"-button:not(").concat(a,"-btn-primary)"),{borderInlineStartColor:e.colorPrimaryHover})}),it(o,"".concat(r,"-affix-wrapper"),{borderRadius:0}),it(o,"".concat(r,"-lg"),{lineHeight:e.lineHeightLG-2e-4}),it(o,"> ".concat(r,"-group"),it({},"> ".concat(r,"-group-addon:last-child"),(it(t={insetInlineStart:-1,padding:0,border:0},"".concat(i,"-button"),{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0,boxShadow:"none"}),it(t,"".concat(i,"-button:not(").concat(a,"-btn-primary)"),it({color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive}},"&".concat(a,"-btn-loading::before"),{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0})),t))),it(o,"".concat(i,"-button"),{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}}),it(o,"&-large ".concat(i,"-button"),{height:e.controlHeightLG}),it(o,"&-small ".concat(i,"-button"),{height:e.controlHeightSM}),it(o,"&-rtl",{direction:"rtl"}),it(o,"&".concat(r,"-compact-item"),(it(n={},"&:not(".concat(r,"-compact-last-item)"),it({},"".concat(r,"-group-addon"),it({},"".concat(r,"-search-button"),{marginInlineEnd:-e.lineWidth,borderRadius:0}))),it(n,"&:not(".concat(r,"-compact-first-item)"),it({},"".concat(r,",").concat(r,"-affix-wrapper"),{borderRadius:0})),it(n,"> ".concat(r,"-group-addon ").concat(r,"-search-button,\n        > ").concat(r,",\n        ").concat(r,"-affix-wrapper"),{"&:hover,&:focus,&:active":{zIndex:2}}),it(n,"> ".concat(r,"-affix-wrapper-focused"),{zIndex:2}),n)),o))},fs=function(e){var t,n,o,r,a=e.componentCls,i=e.paddingLG,l="".concat(a,"-textarea");return it({},l,(r={position:"relative","&-show-count":(t={},it(t,"> ".concat(a),{height:"100%"}),it(t,"".concat(a,"-data-count"),{position:"absolute",bottom:-e.fontSize*e.lineHeight,insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}),t),"&-allow-clear":it({},"> ".concat(a),{paddingInlineEnd:i})},it(r,"&-affix-wrapper".concat(l,"-has-feedback"),it({},"".concat(a),{paddingInlineEnd:i})),it(r,"&-affix-wrapper".concat(a,"-affix-wrapper"),(it(o={padding:0},"> textarea".concat(a),{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}}),it(o,"".concat(a,"-suffix"),(it(n={margin:0,"> *:not(:last-child)":{marginInline:0}},"".concat(a,"-clear-icon"),{position:"absolute",insetInlineEnd:e.paddingXS,insetBlockStart:e.paddingXS}),it(n,"".concat(l,"-suffix"),{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}),n)),o)),r))};function vs(e){return Mi(e,{inputAffixPadding:e.paddingXXS})}var ys=function(e){var t=e.controlHeight,n=e.fontSize,o=e.lineHeight,r=e.lineWidth,a=e.controlHeightSM,i=e.controlHeightLG,l=e.fontSizeLG,g=e.lineHeightLG,c=e.paddingSM,s=e.controlPaddingHorizontalSM,u=e.controlPaddingHorizontal,d=e.colorFillAlter,I=e.colorPrimaryHover,C=e.controlOutlineWidth,m=e.controlOutline,p=e.colorErrorOutline,A=e.colorWarningOutline;return{paddingBlock:Math.max(Math.round((t-n*o)/2*10)/10-r,0),paddingBlockSM:Math.max(Math.round((a-n*o)/2*10)/10-r,0),paddingBlockLG:Math.ceil((i-l*g)/2*10)/10-r,paddingInline:c-r,paddingInlineSM:s-r,paddingInlineLG:u-r,addonBg:d,activeBorderColor:I,hoverBorderColor:I,activeShadow:"0 0 0 ".concat(C,"px ").concat(m),errorActiveShadow:"0 0 0 ".concat(C,"px ").concat(p),warningActiveShadow:"0 0 0 ".concat(C,"px ").concat(A)}},Zs=gs("Input",(function(e){var t=Mi(e,vs(e));return[ps(t),fs(t),As(t),hs(t),bs(t),Fi(t)]}),ys),Gs=function(e){var t,n=(0,i.useContext)(_r),o=n.getPrefixCls,r=n.direction,a=e.prefixCls,l=e.className,g=o("input-group",a),c=o("input"),s=I(Zs(c),2),u=s[0],d=s[1],C=Pr()(g,(it(t={},"".concat(g,"-lg"),"large"===e.size),it(t,"".concat(g,"-sm"),"small"===e.size),it(t,"".concat(g,"-compact"),e.compact),it(t,"".concat(g,"-rtl"),"rtl"===r),t),d,l),m=(0,i.useContext)(wi),p=(0,i.useMemo)((function(){return Object.assign(Object.assign({},m),{isFormItemInput:!1})}),[m]);return u(i.createElement("span",{className:C,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},i.createElement(wi.Provider,{value:p},e.children)))},Ss={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},Bs=(0,i.createContext)({});function ks(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function Vs(e){return function(e){return ks(e)instanceof ShadowRoot}(e)?ks(e):null}function Ws(t){return"object"===e(t)&&"string"===typeof t.name&&"string"===typeof t.theme&&("object"===e(t.icon)||"function"===typeof t.icon)}function ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var o=e[n];if("class"===n)t.className=o,delete t.class;else delete t[n],t[function(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}(n)]=o;return t}),{})}function Rs(e,t,n){return n?i.createElement(e.tag,gt(gt({key:t},ws(e.attrs)),n),(e.children||[]).map((function(n,o){return Rs(n,"".concat(t,"-").concat(e.tag,"-").concat(o))}))):i.createElement(e.tag,gt({key:t},ws(e.attrs)),(e.children||[]).map((function(n,o){return Rs(n,"".concat(t,"-").concat(e.tag,"-").concat(o))})))}function Xs(e){return Yc(e)[0]}function Js(e){return e?Array.isArray(e)?e:[e]:[]}var xs=["icon","className","onClick","style","primaryColor","secondaryColor"],Hs={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Ys=function(e){var t,n,o=e.icon,r=e.className,a=e.onClick,l=e.style,g=e.primaryColor,c=e.secondaryColor,s=ct(e,xs),u=i.useRef(),d=Hs;if(g&&(d={primaryColor:g,secondaryColor:c||Xs(g)}),function(e){var t=(0,i.useContext)(Bs),n=t.csp,o=t.prefixCls,r="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";o&&(r=r.replace(/anticon/g,o)),(0,i.useEffect)((function(){var t=Vs(e.current);ul(r,"@ant-design-icons",{prepend:!0,csp:n,attachTo:t})}),[])}(u),t=Ws(o),n="icon should be icon definiton, but got ".concat(o),ga(t,"[@ant-design/icons] ".concat(n)),!Ws(o))return null;var I=o;return I&&"function"===typeof I.icon&&(I=gt(gt({},I),{},{icon:I.icon(d.primaryColor,d.secondaryColor)})),Rs(I.icon,"svg-".concat(I.name),gt(gt({className:r,onClick:a,style:l,"data-icon":I.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s),{},{ref:u}))};Ys.displayName="IconReact",Ys.getTwoToneColors=function(){return gt({},Hs)},Ys.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Hs.primaryColor=t,Hs.secondaryColor=n||Xs(t),Hs.calculated=!!n};var Ns=Ys;function Fs(e){var t=I(Js(e),2),n=t[0],o=t[1];return Ns.setTwoToneColors({primaryColor:n,secondaryColor:o})}var Es=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Fs(Kc.primary);var Ks=i.forwardRef((function(e,t){var n,o=e.className,r=e.icon,a=e.spin,l=e.rotate,g=e.tabIndex,c=e.onClick,s=e.twoToneColor,u=ct(e,Es),d=i.useContext(Bs),C=d.prefixCls,m=void 0===C?"anticon":C,p=d.rootClassName,A=Pr()(p,m,(it(n={},"".concat(m,"-").concat(r.name),!!r.name),it(n,"".concat(m,"-spin"),!!a||"loading"===r.name),n),o),h=g;void 0===h&&c&&(h=-1);var b=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,f=I(Js(s),2),v=f[0],y=f[1];return i.createElement("span",$r({role:"img","aria-label":r.name},u,{ref:t,tabIndex:h,onClick:c,className:A}),i.createElement(Ns,{icon:r,primaryColor:v,secondaryColor:y,style:b}))}));Ks.displayName="AntdIcon",Ks.getTwoToneColor=function(){var e=Ns.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Ks.setTwoToneColor=Fs;var Ms=Ks,Ls=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:Ss}))};var zs=i.forwardRef(Ls);function Ds(e){return!(!e.addonBefore&&!e.addonAfter)}function Ts(e){return!!(e.prefix||e.suffix||e.allowClear)}function Us(e,t,n,o){if(n){var r=t;if("click"===t.type){var a=e.cloneNode(!0);return r=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(r)}if(void 0!==o)return r=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=o,void n(r);n(r)}}function Qs(e){return"undefined"===typeof e||null===e?"":String(e)}var js=function(t){var n,o,r=t.inputElement,a=t.prefixCls,l=t.prefix,g=t.suffix,c=t.addonBefore,s=t.addonAfter,u=t.className,d=t.style,I=t.disabled,C=t.readOnly,m=t.focused,p=t.triggerFocus,A=t.allowClear,h=t.value,b=t.handleReset,f=t.hidden,v=t.classes,y=t.classNames,Z=t.dataAttrs,G=t.styles,S=t.components,B=(null===S||void 0===S?void 0:S.affixWrapper)||"span",k=(null===S||void 0===S?void 0:S.groupWrapper)||"span",V=(null===S||void 0===S?void 0:S.wrapper)||"span",W=(null===S||void 0===S?void 0:S.groupAddon)||"span",w=(0,i.useRef)(null),R=(0,i.cloneElement)(r,{value:h,hidden:f,className:Pr()(null===(n=r.props)||void 0===n?void 0:n.className,!Ts(t)&&!Ds(t)&&u)||null,style:gt(gt({},null===(o=r.props)||void 0===o?void 0:o.style),Ts(t)||Ds(t)?{}:d)});if(Ts(t)){var X,J="".concat(a,"-affix-wrapper"),x=Pr()(J,(it(X={},"".concat(J,"-disabled"),I),it(X,"".concat(J,"-focused"),m),it(X,"".concat(J,"-readonly"),C),it(X,"".concat(J,"-input-with-clear-btn"),g&&A&&h),X),!Ds(t)&&u,null===v||void 0===v?void 0:v.affixWrapper,null===y||void 0===y?void 0:y.affixWrapper),H=(g||A)&&i.createElement("span",{className:Pr()("".concat(a,"-suffix"),null===y||void 0===y?void 0:y.suffix),style:null===G||void 0===G?void 0:G.suffix},function(){var t;if(!A)return null;var n=!I&&!C&&h,o="".concat(a,"-clear-icon"),r="object"===e(A)&&null!==A&&void 0!==A&&A.clearIcon?A.clearIcon:"\u2716";return i.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:Pr()(o,(t={},it(t,"".concat(o,"-hidden"),!n),it(t,"".concat(o,"-has-suffix"),!!g),t)),role:"button",tabIndex:-1},r)}(),g);R=i.createElement(B,$r({className:x,style:gt(gt({},Ds(t)?void 0:d),null===G||void 0===G?void 0:G.affixWrapper),hidden:!Ds(t)&&f,onClick:function(e){var t;null!==(t=w.current)&&void 0!==t&&t.contains(e.target)&&(null===p||void 0===p||p())}},null===Z||void 0===Z?void 0:Z.affixWrapper,{ref:w}),l&&i.createElement("span",{className:Pr()("".concat(a,"-prefix"),null===y||void 0===y?void 0:y.prefix),style:null===G||void 0===G?void 0:G.prefix},l),(0,i.cloneElement)(r,{value:h,hidden:null}),H)}if(Ds(t)){var Y="".concat(a,"-group"),N="".concat(Y,"-addon"),F=Pr()("".concat(a,"-wrapper"),Y,null===v||void 0===v?void 0:v.wrapper),E=Pr()("".concat(a,"-group-wrapper"),u,null===v||void 0===v?void 0:v.group);return i.createElement(k,{className:E,style:d,hidden:f},i.createElement(V,{className:F},c&&i.createElement(W,{className:N},c),(0,i.cloneElement)(R,{hidden:null}),s&&i.createElement(W,{className:N},s)))}return R};function Os(e,t){var n=gt({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var Ps=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","classes","classNames","styles"],qs=(0,i.forwardRef)((function(t,n){var o=t.autoComplete,r=t.onChange,a=t.onFocus,l=t.onBlur,g=t.onPressEnter,c=t.onKeyDown,s=t.prefixCls,u=void 0===s?"rc-input":s,d=t.disabled,C=t.htmlSize,p=t.className,A=t.maxLength,h=t.suffix,b=t.showCount,f=t.type,v=void 0===f?"text":f,y=t.classes,Z=t.classNames,G=t.styles,S=ct(t,Ps),B=I(_g(t.defaultValue,{value:t.value}),2),k=B[0],V=B[1],W=I((0,i.useState)(!1),2),w=W[0],R=W[1],X=(0,i.useRef)(null),J=function(e){X.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var o=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(o,o);break;default:e.setSelectionRange(0,o)}}}}(X.current,e)};(0,i.useImperativeHandle)(n,(function(){return{focus:J,blur:function(){var e;null===(e=X.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var o;null===(o=X.current)||void 0===o||o.setSelectionRange(e,t,n)},select:function(){var e;null===(e=X.current)||void 0===e||e.select()},input:X.current}})),(0,i.useEffect)((function(){R((function(e){return(!e||!d)&&e}))}),[d]);var x=function(e){void 0===t.value&&V(e.target.value),X.current&&Us(X.current,e,r)},H=function(e){g&&"Enter"===e.key&&g(e),null===c||void 0===c||c(e)},Y=function(e){R(!0),null===a||void 0===a||a(e)},N=function(e){R(!1),null===l||void 0===l||l(e)};return i.createElement(js,$r({},S,{prefixCls:u,className:p,inputElement:function(){var e=Os(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","classes","htmlSize","styles","classNames"]);return i.createElement("input",$r({autoComplete:o},e,{onChange:x,onFocus:Y,onBlur:N,onKeyDown:H,className:Pr()(u,it({},"".concat(u,"-disabled"),d),null===Z||void 0===Z?void 0:Z.input),style:null===G||void 0===G?void 0:G.input,ref:X,size:C,type:v}))}(),handleReset:function(e){V(""),J(),X.current&&Us(X.current,e,r)},value:Qs(k),focused:w,triggerFocus:J,suffix:function(){var t=Number(A)>0;if(h||b){var n=Qs(k),o=m(n).length,r="object"===e(b)?b.formatter({value:n,count:o,maxLength:A}):"".concat(o).concat(t?" / ".concat(A):"");return i.createElement(i.Fragment,null,!!b&&i.createElement("span",{className:Pr()("".concat(u,"-show-count-suffix"),it({},"".concat(u,"-show-count-has-suffix"),!!h),null===Z||void 0===Z?void 0:Z.count),style:gt({},null===G||void 0===G?void 0:G.count)},r),h)}return null}(),disabled:d,classes:y,classNames:Z,styles:G}))})),_s=qs;function $s(e,t,n){var o;return Pr()((it(o={},"".concat(e,"-status-success"),"success"===t),it(o,"".concat(e,"-status-warning"),"warning"===t),it(o,"".concat(e,"-status-error"),"error"===t),it(o,"".concat(e,"-status-validating"),"validating"===t),it(o,"".concat(e,"-has-feedback"),n),o))}var eu=function(e,t){return t||e},tu=i.createContext(!1),nu=function(e){var t=e.children,n=e.disabled,o=i.useContext(tu);return i.createElement(tu.Provider,{value:null!==n&&void 0!==n?n:o},t)},ou=tu,ru=i.createContext(void 0),au=function(e){var t=e.children,n=e.size,o=i.useContext(ru);return i.createElement(ru.Provider,{value:n||o},t)},iu=ru,lu=function(e){var t=i.useContext(iu);return i.useMemo((function(){return e?"string"===typeof e?null!==e&&void 0!==e?e:t:e instanceof Function?e(t):t:t}),[e,t])},gu=function(e){return it({},e.componentCls,{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}})},cu=function(e){var t=e.componentCls;return it({},t,it({display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}}},"".concat(t,"-item:empty"),{display:"none"}))},su=function(e){return it({},e.componentCls,{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}})},uu=gs("Space",(function(e){var t=Mi(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[cu(t),su(t),gu(t)]}),(function(){return{}}),{resetStyle:!1}),du=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Iu=i.createContext(null),Cu=function(e,t){var n=i.useContext(Iu),o=i.useMemo((function(){var o;if(!n)return"";var r=n.compactDirection,a=n.isFirstItem,i=n.isLastItem,l="vertical"===r?"-vertical-":"-";return Pr()("".concat(e,"-compact").concat(l,"item"),(it(o={},"".concat(e,"-compact").concat(l,"first-item"),a),it(o,"".concat(e,"-compact").concat(l,"last-item"),i),it(o,"".concat(e,"-compact").concat(l,"item-rtl"),"rtl"===t),o))}),[e,t,n]);return{compactSize:null===n||void 0===n?void 0:n.compactSize,compactDirection:null===n||void 0===n?void 0:n.compactDirection,compactItemClassnames:o}},mu=function(e){var t=e.children;return i.createElement(Iu.Provider,{value:null},t)},pu=function(e){var t=e.children,n=du(e,["children"]);return i.createElement(Iu.Provider,{value:n},t)},Au=function(e){var t,n=i.useContext(_r),o=n.getPrefixCls,r=n.direction,a=e.size,l=e.direction,g=e.block,c=e.prefixCls,s=e.className,u=e.rootClassName,d=e.children,C=du(e,["size","direction","block","prefixCls","className","rootClassName","children"]),m=lu((function(e){return null!==a&&void 0!==a?a:e})),p=o("space-compact",c),A=I(uu(p),2),h=A[0],b=A[1],f=Pr()(p,b,(it(t={},"".concat(p,"-rtl"),"rtl"===r),it(t,"".concat(p,"-block"),g),it(t,"".concat(p,"-vertical"),"vertical"===l),t),s,u),v=i.useContext(Iu),y=ta(d),Z=i.useMemo((function(){return y.map((function(e,t){var n=e&&e.key||"".concat(p,"-item-").concat(t);return i.createElement(pu,{key:n,compactSize:m,compactDirection:l,isFirstItem:0===t&&(!v||(null===v||void 0===v?void 0:v.isFirstItem)),isLastItem:t===y.length-1&&(!v||(null===v||void 0===v?void 0:v.isLastItem))},e)}))}),[a,y,v]);return 0===y.length?null:h(i.createElement("div",Object.assign({className:f},C),Z))};function hu(e,t){var n=(0,i.useRef)([]),o=function(){n.current.push(setTimeout((function(){var t,n,o,r;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(o=e.current)||void 0===o?void 0:o.input.hasAttribute("value"))&&(null===(r=e.current)||void 0===r||r.input.removeAttribute("value"))})))};return(0,i.useEffect)((function(){return t&&o(),function(){return n.current.forEach((function(e){e&&clearTimeout(e)}))}}),[]),o}var bu=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};var fu=(0,i.forwardRef)((function(e,t){var n,o,r,a,l,g=e.prefixCls,c=e.bordered,s=void 0===c||c,u=e.status,d=e.size,C=e.disabled,m=e.onBlur,p=e.onFocus,A=e.suffix,h=e.allowClear,b=e.addonAfter,f=e.addonBefore,v=e.className,y=e.style,Z=e.styles,G=e.rootClassName,S=e.onChange,B=e.classNames,k=bu(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames"]),V=i.useContext(_r),W=V.getPrefixCls,w=V.direction,R=V.input,X=W("input",g),J=(0,i.useRef)(null),x=I(Zs(X),2),H=x[0],Y=x[1],N=Cu(X,w),F=N.compactSize,E=N.compactItemClassnames,K=lu((function(e){var t;return null!==(t=null!==d&&void 0!==d?d:F)&&void 0!==t?t:e})),M=i.useContext(ou),L=null!==C&&void 0!==C?C:M,z=(0,i.useContext)(wi),D=z.status,T=z.hasFeedback,U=z.feedbackIcon,Q=eu(D,u),j=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e)||!!T,O=((0,i.useRef)(j),hu(J,!0)),P=(T||A)&&i.createElement(i.Fragment,null,A,T&&U);return"object"===typeof h&&(null===h||void 0===h?void 0:h.clearIcon)?l=h:h&&(l={clearIcon:i.createElement(zs,null)}),H(i.createElement(_s,Object.assign({ref:ec(t,J),prefixCls:X,autoComplete:null===R||void 0===R?void 0:R.autoComplete},k,{disabled:L,onBlur:function(e){O(),null===m||void 0===m||m(e)},onFocus:function(e){O(),null===p||void 0===p||p(e)},style:Object.assign(Object.assign({},null===R||void 0===R?void 0:R.style),y),styles:Object.assign(Object.assign({},null===R||void 0===R?void 0:R.styles),Z),suffix:P,allowClear:l,className:Pr()(v,G,E,null===R||void 0===R?void 0:R.className),onChange:function(e){O(),null===S||void 0===S||S(e)},addonAfter:b&&i.createElement(mu,null,i.createElement(Ri,{override:!0,status:!0},b)),addonBefore:f&&i.createElement(mu,null,i.createElement(Ri,{override:!0,status:!0},f)),classNames:Object.assign(Object.assign(Object.assign({},B),null===R||void 0===R?void 0:R.classNames),{input:Pr()((n={},it(n,"".concat(X,"-sm"),"small"===K),it(n,"".concat(X,"-lg"),"large"===K),it(n,"".concat(X,"-rtl"),"rtl"===w),it(n,"".concat(X,"-borderless"),!s),n),!j&&$s(X,Q),null===B||void 0===B?void 0:B.input,null===(a=null===R||void 0===R?void 0:R.classNames)||void 0===a?void 0:a.input,Y)}),classes:{affixWrapper:Pr()((o={},it(o,"".concat(X,"-affix-wrapper-sm"),"small"===K),it(o,"".concat(X,"-affix-wrapper-lg"),"large"===K),it(o,"".concat(X,"-affix-wrapper-rtl"),"rtl"===w),it(o,"".concat(X,"-affix-wrapper-borderless"),!s),o),$s("".concat(X,"-affix-wrapper"),Q,T),Y),wrapper:Pr()(it({},"".concat(X,"-group-rtl"),"rtl"===w),Y),group:Pr()((r={},it(r,"".concat(X,"-group-wrapper-sm"),"small"===K),it(r,"".concat(X,"-group-wrapper-lg"),"large"===K),it(r,"".concat(X,"-group-wrapper-rtl"),"rtl"===w),it(r,"".concat(X,"-group-wrapper-disabled"),L),r),$s("".concat(X,"-group-wrapper"),Q,T),Y)}})))})),vu=fu,yu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Zu=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:yu}))};var Gu=i.forwardRef(Zu),Su={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Bu=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:Su}))};var ku=i.forwardRef(Bu),Vu=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Wu=function(e){return e?i.createElement(ku,null):i.createElement(Gu,null)},wu={click:"onClick",hover:"onMouseOver"},Ru=i.forwardRef((function(e,t){var n=e.visibilityToggle,o=void 0===n||n,r="object"===typeof o&&void 0!==o.visible,a=I((0,i.useState)((function(){return!!r&&o.visible})),2),l=a[0],g=a[1],c=(0,i.useRef)(null);i.useEffect((function(){r&&g(o.visible)}),[r,o]);var s=hu(c),u=function(){e.disabled||(l&&s(),g((function(e){var t,n=!e;return"object"===typeof o&&(null===(t=o.onVisibleChange)||void 0===t||t.call(o,n)),n})))},d=e.className,C=e.prefixCls,m=e.inputPrefixCls,p=e.size,A=Vu(e,["className","prefixCls","inputPrefixCls","size"]),h=i.useContext(_r).getPrefixCls,b=h("input",m),f=h("input-password",C),v=o&&function(t){var n,o=e.action,r=void 0===o?"click":o,a=e.iconRender,g=wu[r]||"",c=(void 0===a?Wu:a)(l),s=(it(n={},g,u),it(n,"className","".concat(t,"-icon")),it(n,"key","passwordIcon"),it(n,"onMouseDown",(function(e){e.preventDefault()})),it(n,"onMouseUp",(function(e){e.preventDefault()})),n);return i.cloneElement(i.isValidElement(c)?c:i.createElement("span",null,c),s)}(f),y=Pr()(f,d,it({},"".concat(f,"-").concat(p),!!p)),Z=Object.assign(Object.assign({},Os(A,["suffix","iconRender","visibilityToggle"])),{type:l?"text":"password",className:y,prefixCls:b,suffix:v});return p&&(Z.size=p),i.createElement(vu,Object.assign({ref:ec(t,c)},Z))}));var Xu=Ru,Ju={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},xu=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:Ju}))};var Hu=i.forwardRef(xu),Yu=i.isValidElement;function Nu(e){return e&&Yu(e)&&e.type===i.Fragment}function Fu(e,t){return function(e,t,n){return Yu(e)?i.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}var Eu=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,o=t.height;if(n||o)return!0}if(e.getBoundingClientRect){var r=e.getBoundingClientRect(),a=r.width,i=r.height;if(a||i)return!0}}return!1},Ku=function(e){var t=e.componentCls,n=e.colorPrimary;return it({},t,{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(n,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(e.motionEaseOutCirc),"opacity 2s ".concat(e.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:["box-shadow 0.3s ".concat(e.motionEaseInOut),"opacity 0.35s ".concat(e.motionEaseInOut)].join(",")}}})},Mu=gs("Wave",(function(e){return[Ku(e)]})),Lu=function(e){return+setTimeout(e,16)},zu=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Lu=function(e){return window.requestAnimationFrame(e)},zu=function(e){return window.cancelAnimationFrame(e)});var Du=0,Tu=new Map;function Uu(e){Tu.delete(e)}var Qu=function(e){var t=Du+=1;return function n(o){if(0===o)Uu(t),e();else{var r=Lu((function(){n(o-1)}));Tu.set(t,r)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};Qu.cancel=function(e){var t=Tu.get(e);return Uu(t),zu(t)};var ju=Qu;function Ou(e){return e instanceof HTMLElement||e instanceof SVGElement}function Pu(e){return Ou(e)?e:e instanceof i.Component?_t.findDOMNode(e):null}var qu=["children"],_u=i.createContext({});function $u(e){var t=e.children,n=ct(e,qu);return i.createElement(_u.Provider,{value:n},t)}var ed=function(e){v(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return b(n,[{key:"render",value:function(){return this.props.children}}]),n}(i.Component),td=ed,nd="none",od="appear",rd="enter",ad="leave",id="none",ld="prepare",gd="start",cd="active",sd="end",ud="prepared";function dd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Id=function(e,t){var n={animationend:dd("Animation","AnimationEnd"),transitionend:dd("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(el(),"undefined"!==typeof window?window:{}),Cd={};if(el()){var md=document.createElement("div");Cd=md.style}var pd={};function Ad(e){if(pd[e])return pd[e];var t=Id[e];if(t)for(var n=Object.keys(t),o=n.length,r=0;r<o;r+=1){var a=n[r];if(Object.prototype.hasOwnProperty.call(t,a)&&a in Cd)return pd[e]=t[a],pd[e]}return""}var hd=Ad("animationend"),bd=Ad("transitionend"),fd=!(!hd||!bd),vd=hd||"animationend",yd=bd||"transitionend";function Zd(t,n){return t?"object"===e(t)?t[n.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(t,"-").concat(n):null}var Gd=function(e){var t=(0,i.useRef)(),n=(0,i.useRef)(e);n.current=e;var o=i.useCallback((function(e){n.current(e)}),[]);function r(e){e&&(e.removeEventListener(yd,o),e.removeEventListener(vd,o))}return i.useEffect((function(){return function(){r(t.current)}}),[]),[function(e){t.current&&t.current!==e&&r(t.current),e&&e!==t.current&&(e.addEventListener(yd,o),e.addEventListener(vd,o),t.current=e)},r]},Sd=el()?i.useLayoutEffect:i.useEffect,Bd=[ld,gd,cd,sd],kd=[ld,ud],Vd=!1,Wd=!0;function wd(e){return e===cd||e===sd}var Rd=function(e,t,n){var o=I(Pg(id),2),r=o[0],a=o[1],l=function(){var e=i.useRef(null);function t(){ju.cancel(e.current)}return i.useEffect((function(){return function(){t()}}),[]),[function n(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=ju((function(){r<=1?o({isCanceled:function(){return a!==e.current}}):n(o,r-1)}));e.current=a},t]}(),g=I(l,2),c=g[0],s=g[1];var u=t?kd:Bd;return Sd((function(){if(r!==id&&r!==sd){var e=u.indexOf(r),t=u[e+1],o=n(r);o===Vd?a(t,!0):t&&c((function(e){function n(){e.isCanceled()||a(t,!0)}!0===o?n():Promise.resolve(o).then(n)}))}}),[e,r]),i.useEffect((function(){return function(){s()}}),[]),[function(){a(ld,!0)},r]};var Xd=function(t){var n=t;"object"===e(t)&&(n=t.transitionSupport);var o=i.forwardRef((function(e,t){var o=e.visible,r=void 0===o||o,a=e.removeOnLeave,l=void 0===a||a,g=e.forceRender,c=e.children,s=e.motionName,u=e.leavedClassName,d=e.eventProps,C=function(e,t){return!(!e.motionName||!n||!1===t)}(e,i.useContext(_u).motion),m=(0,i.useRef)(),p=(0,i.useRef)();var A=function(e,t,n,o){var r=o.motionEnter,a=void 0===r||r,l=o.motionAppear,g=void 0===l||l,c=o.motionLeave,s=void 0===c||c,u=o.motionDeadline,d=o.motionLeaveImmediately,C=o.onAppearPrepare,m=o.onEnterPrepare,p=o.onLeavePrepare,A=o.onAppearStart,h=o.onEnterStart,b=o.onLeaveStart,f=o.onAppearActive,v=o.onEnterActive,y=o.onLeaveActive,Z=o.onAppearEnd,G=o.onEnterEnd,S=o.onLeaveEnd,B=o.onVisibleChanged,k=I(Pg(),2),V=k[0],W=k[1],w=I(Pg(nd),2),R=w[0],X=w[1],J=I(Pg(null),2),x=J[0],H=J[1],Y=(0,i.useRef)(!1),N=(0,i.useRef)(null);function F(){return n()}var E=(0,i.useRef)(!1);function K(){X(nd,!0),H(null,!0)}function M(e){var t=F();if(!e||e.deadline||e.target===t){var n,o=E.current;R===od&&o?n=null===Z||void 0===Z?void 0:Z(t,e):R===rd&&o?n=null===G||void 0===G?void 0:G(t,e):R===ad&&o&&(n=null===S||void 0===S?void 0:S(t,e)),R!==nd&&o&&!1!==n&&K()}}var L=I(Gd(M),1)[0],z=function(e){var t,n,o;switch(e){case od:return it(t={},ld,C),it(t,gd,A),it(t,cd,f),t;case rd:return it(n={},ld,m),it(n,gd,h),it(n,cd,v),n;case ad:return it(o={},ld,p),it(o,gd,b),it(o,cd,y),o;default:return{}}},D=i.useMemo((function(){return z(R)}),[R]),T=I(Rd(R,!e,(function(e){if(e===ld){var t=D[ld];return t?t(F()):Vd}var n;return Q in D&&H((null===(n=D[Q])||void 0===n?void 0:n.call(D,F(),null))||null),Q===cd&&(L(F()),u>0&&(clearTimeout(N.current),N.current=setTimeout((function(){M({deadline:!0})}),u))),Q===ud&&K(),Wd})),2),U=T[0],Q=T[1],j=wd(Q);E.current=j,Sd((function(){W(t);var n,o=Y.current;Y.current=!0,!o&&t&&g&&(n=od),o&&t&&a&&(n=rd),(o&&!t&&s||!o&&d&&!t&&s)&&(n=ad);var r=z(n);n&&(e||r[ld])?(X(n),U()):X(nd)}),[t]),(0,i.useEffect)((function(){(R===od&&!g||R===rd&&!a||R===ad&&!s)&&X(nd)}),[g,a,s]),(0,i.useEffect)((function(){return function(){Y.current=!1,clearTimeout(N.current)}}),[]);var O=i.useRef(!1);(0,i.useEffect)((function(){V&&(O.current=!0),void 0!==V&&R===nd&&((O.current||V)&&(null===B||void 0===B||B(V)),O.current=!0)}),[V,R]);var P=x;return D[ld]&&Q===gd&&(P=gt({transition:"none"},P)),[R,Q,P,null!==V&&void 0!==V?V:t]}(C,r,(function(){try{return m.current instanceof HTMLElement?m.current:Pu(p.current)}catch(e){return null}}),e),h=I(A,4),b=h[0],f=h[1],v=h[2],y=h[3],Z=i.useRef(y);y&&(Z.current=!0);var G,S=i.useCallback((function(e){m.current=e,$g(t,e)}),[t]),B=gt(gt({},d),{},{visible:r});if(c)if(b===nd)G=y?c(gt({},B),S):!l&&Z.current&&u?c(gt(gt({},B),{},{className:u}),S):g||!l&&!u?c(gt(gt({},B),{},{style:{display:"none"}}),S):null;else{var k,V;f===ld?V="prepare":wd(f)?V="active":f===gd&&(V="start");var W=Zd(s,"".concat(b,"-").concat(V));G=c(gt(gt({},B),{},{className:Pr()(Zd(s,b),(k={},it(k,W,W&&V),it(k,s,"string"===typeof s),k)),style:v}),S)}else G=null;i.isValidElement(G)&&nc(G)&&(G.ref||(G=i.cloneElement(G,{ref:S})));return i.createElement(td,{ref:p},G)}));return o.displayName="CSSMotion",o}(fd),Jd="add",xd="keep",Hd="remove",Yd="removed";function Nd(t){var n;return gt(gt({},n=t&&"object"===e(t)&&"key"in t?t:{key:t}),{},{key:String(n.key)})}function Fd(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Nd)}var Ed=["component","children","onVisibleChanged","onAllRemoved"],Kd=["status"],Md=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xd,n=function(e){v(o,e);var n=S(o);function o(){var e;p(this,o);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return it(G(e=n.call.apply(n,[this].concat(r))),"state",{keyEntities:[]}),it(G(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:gt(gt({},e),{},{status:Yd})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==Yd})).length})),e}return b(o,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,o=this.props,r=o.component,a=o.children,l=o.onVisibleChanged,g=o.onAllRemoved,c=ct(o,Ed),s=r||i.Fragment,u={};return Md.forEach((function(e){u[e]=c[e],delete c[e]})),delete c.keys,i.createElement(s,c,n.map((function(n,o){var r=n.status,c=ct(n,Kd),s=r===Jd||r===xd;return i.createElement(t,$r({},u,{key:c.key,visible:s,eventProps:c,onVisibleChanged:function(t){(null===l||void 0===l||l(t,{key:c.key}),t)||0===e.removeKey(c.key)&&g&&g()}}),(function(e,t){return a(gt(gt({},e),{},{index:o}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,o=t.keyEntities,r=Fd(n),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],o=0,r=t.length,a=Fd(e),i=Fd(t);a.forEach((function(e){for(var t=!1,a=o;a<r;a+=1){var l=i[a];if(l.key===e.key){o<a&&(n=n.concat(i.slice(o,a).map((function(e){return gt(gt({},e),{},{status:Jd})}))),o=a),n.push(gt(gt({},l),{},{status:xd})),o+=1,t=!0;break}}t||n.push(gt(gt({},e),{},{status:Hd}))})),o<r&&(n=n.concat(i.slice(o).map((function(e){return gt(gt({},e),{},{status:Jd})}))));var l={};n.forEach((function(e){var t=e.key;l[t]=(l[t]||0)+1}));var g=Object.keys(l).filter((function(e){return l[e]>1}));return g.forEach((function(e){n=n.filter((function(t){var n=t.key,o=t.status;return n!==e||o!==Hd})),n.forEach((function(t){t.key===e&&(t.status=xd)}))})),n}(o,r);return{keyEntities:a.filter((function(e){var t=o.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Yd||e.status!==Hd}))}}}]),o}(i.Component);it(n,"defaultProps",{component:"div"})}(fd);var Ld,zd=Xd,Dd=gt({},$t),Td=Dd.version,Ud=Dd.render,Qd=Dd.unmountComponentAtNode;try{Number((Td||"").split(".")[0])>=18&&(Ld=Dd.createRoot)}catch(nY){}function jd(t){var n=Dd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;n&&"object"===e(n)&&(n.usingClientEntryPoint=t)}var Od="__rc_react_root__";function Pd(e,t){Ld?function(e,t){jd(!0);var n=t[Od]||Ld(t);jd(!1),n.render(e),t[Od]=n}(e,t):function(e,t){Ud(e,t)}(e,t)}function qd(e){return _d.apply(this,arguments)}function _d(){return(_d=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=n[Od])||void 0===e||e.unmount(),delete n[Od]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $d(e){Qd(e)}function eI(){return(eI=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Ld){e.next=2;break}return e.abrupt("return",qd(n));case 2:$d(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tI(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&function(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}var nI="ant-wave-target";function oI(e){return Number.isNaN(e)?0:e}var rI=function(e){var t=e.className,n=e.target,o=e.component,r=i.useRef(null),a=I(i.useState(null),2),l=a[0],g=a[1],c=I(i.useState([]),2),s=c[0],u=c[1],d=I(i.useState(0),2),C=d[0],m=d[1],p=I(i.useState(0),2),A=p[0],h=p[1],b=I(i.useState(0),2),f=b[0],v=b[1],y=I(i.useState(0),2),Z=y[0],G=y[1],S=I(i.useState(!1),2),B=S[0],k=S[1],V={left:C,top:A,width:f,height:Z,borderRadius:s.map((function(e){return"".concat(e,"px")})).join(" ")};function W(){var e=getComputedStyle(n);g(function(e){var t=getComputedStyle(e),n=t.borderTopColor,o=t.borderColor,r=t.backgroundColor;return tI(n)?n:tI(o)?o:tI(r)?r:null}(n));var t="static"===e.position,o=e.borderLeftWidth,r=e.borderTopWidth;m(t?n.offsetLeft:oI(-parseFloat(o))),h(t?n.offsetTop:oI(-parseFloat(r))),v(n.offsetWidth),G(n.offsetHeight);var a=e.borderTopLeftRadius,i=e.borderTopRightRadius,l=e.borderBottomLeftRadius,c=e.borderBottomRightRadius;u([a,i,c,l].map((function(e){return oI(parseFloat(e))})))}if(l&&(V["--wave-color"]=l),i.useEffect((function(){if(n){var e,t=ju((function(){W(),k(!0)}));return"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(W)).observe(n),function(){ju.cancel(t),null===e||void 0===e||e.disconnect()}}}),[]),!B)return null;var w=("Checkbox"===o||"Radio"===o)&&(null===n||void 0===n?void 0:n.classList.contains(nI));return i.createElement(zd,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:function(e,t){var n;if(t.deadline||"opacity"===t.propertyName){var o=null===(n=r.current)||void 0===n?void 0:n.parentElement;(function(e){return eI.apply(this,arguments)})(o).then((function(){null===o||void 0===o||o.remove()}))}return!1}},(function(e){var n=e.className;return i.createElement("div",{ref:r,className:Pr()(t,{"wave-quick":w},n),style:V})}))},aI=function(e,t){var n;if("Checkbox"!==t.component||(null===(n=e.querySelector("input"))||void 0===n?void 0:n.checked)){var o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",null===e||void 0===e||e.insertBefore(o,null===e||void 0===e?void 0:e.firstChild),Pd(i.createElement(rI,Object.assign({},t,{target:e})),o)}};var iI=function(e){var t=e.children,n=e.disabled,o=e.component,r=(0,i.useContext)(_r).getPrefixCls,a=(0,i.useRef)(null),l=r("wave"),g=I(Mu(l),2)[1],c=function(e,t,n){var o=i.useContext(_r).wave,r=I(is(),3),a=r[1],l=r[2],g=Og((function(r){var i=e.current;if(!(null===o||void 0===o?void 0:o.disabled)&&i){var g=i.querySelector(".".concat(nI))||i;((o||{}).showEffect||aI)(g,{className:t,token:a,component:n,event:r,hashId:l})}})),c=i.useRef();return function(e){ju.cancel(c.current),c.current=ju((function(){g(e)}))}}(a,Pr()(l,g),o);return i.useEffect((function(){var e=a.current;if(e&&1===e.nodeType&&!n){var t=function(t){!Eu(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||c(t)};return e.addEventListener("click",t,!0),function(){e.removeEventListener("click",t,!0)}}}),[n]),i.isValidElement(t)?Fu(t,{ref:nc(t)?ec(t.ref,a):a}):null!==t&&void 0!==t?t:null},lI=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},gI=i.createContext(void 0),cI=function(e){var t,n=i.useContext(_r),o=n.getPrefixCls,r=n.direction,a=e.prefixCls,l=e.size,g=e.className,c=lI(e,["prefixCls","size","className"]),s=o("btn-group",a),u=I(is(),3)[2],d="";switch(l){case"large":d="lg";break;case"small":d="sm"}var C=Pr()(s,(it(t={},"".concat(s,"-").concat(d),d),it(t,"".concat(s,"-rtl"),"rtl"===r),t),g,u);return i.createElement(gI.Provider,{value:l},i.createElement("div",Object.assign({},c,{className:C})))},sI=/^[\u4e00-\u9fa5]{2}$/,uI=sI.test.bind(sI);function dI(e){return"string"===typeof e}function II(e){return"text"===e||"link"===e}function CI(e,t){var n=!1,o=[];return i.Children.forEach(e,(function(e){var t=typeof e,r="string"===t||"number"===t;if(n&&r){var a=o.length-1,i=o[a];o[a]="".concat(i).concat(e)}else o.push(e);n=r})),i.Children.map(o,(function(e){return function(e,t){if(null!==e&&void 0!==e){var n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&dI(e.type)&&uI(e.props.children)?Fu(e,{children:e.props.children.split("").join(n)}):dI(e)?uI(e)?i.createElement("span",null,e.split("").join(n)):i.createElement("span",null,e):Nu(e)?i.createElement("span",null,e):e}}(e,t)}))}var mI=(0,i.forwardRef)((function(e,t){var n=e.className,o=e.style,r=e.children,a=e.prefixCls,l=Pr()("".concat(a,"-icon"),n);return i.createElement("span",{ref:t,className:l,style:o},r)})),pI=mI,AI={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},hI=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:AI}))};var bI=i.forwardRef(hI),fI=(0,i.forwardRef)((function(e,t){var n=e.prefixCls,o=e.className,r=e.style,a=e.iconClassName,l=Pr()("".concat(n,"-loading-icon"),o);return i.createElement(pI,{prefixCls:n,className:l,style:r,ref:t},i.createElement(bI,{className:a}))})),vI=function(){return{width:0,opacity:0,transform:"scale(0)"}},yI=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},ZI=function(e){var t=e.prefixCls,n=e.loading,o=e.existIcon,r=e.className,a=e.style,l=!!n;return o?i.createElement(fI,{prefixCls:t,className:r,style:a}):i.createElement(zd,{visible:l,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:vI,onAppearActive:yI,onEnterStart:vI,onEnterActive:yI,onLeaveStart:yI,onLeaveActive:vI},(function(e,n){var o=e.className,l=e.style;return i.createElement(fI,{prefixCls:t,className:r,style:Object.assign(Object.assign({},a),l),ref:n,iconClassName:o})}))},GI=function(e,t){return it({},"> span, > ".concat(e),{"&:not(:last-child)":it({},"&, & > ".concat(e),{"&:not(:disabled)":{borderInlineEndColor:t}}),"&:not(:first-child)":it({},"&, & > ".concat(e),{"&:not(:disabled)":{borderInlineStartColor:t}})})},SI=function(e){var t,n,o=e.componentCls,r=e.fontSize,a=e.lineWidth,i=e.groupBorderColor,l=e.colorErrorHover;return it({},"".concat(o,"-group"),[(n={position:"relative",display:"inline-flex"},it(n,"> span, > ".concat(o),{"&:not(:last-child)":it({},"&, & > ".concat(o),{borderStartEndRadius:0,borderEndEndRadius:0}),"&:not(:first-child)":it({marginInlineStart:-a},"&, & > ".concat(o),{borderStartStartRadius:0,borderEndStartRadius:0})}),it(n,o,(t={position:"relative",zIndex:1},it(t,"&:hover,\n          &:focus,\n          &:active",{zIndex:2}),it(t,"&[disabled]",{zIndex:0}),t)),it(n,"".concat(o,"-icon-only"),{fontSize:r}),n),GI("".concat(o,"-primary"),i),GI("".concat(o,"-danger"),l)])},BI=function(e){var t,n=e.componentCls,o=e.iconCls;return it({},n,(it(t={outline:"none",position:"relative",display:"inline-block",fontWeight:e.fontWeight,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),cursor:"pointer",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"}},"".concat(n,"-icon"),{lineHeight:0}),it(t,"> ".concat(o," + span, > span + ").concat(o),{marginInlineStart:e.marginXS}),it(t,"&:not(".concat(n,"-icon-only) > ").concat(n,"-icon"),it({},"&".concat(n,"-loading-icon, &:not(:last-child)"),{marginInlineEnd:e.marginXS})),it(t,"> a",{color:"currentColor"}),it(t,"&:not(:disabled)",Object.assign({},Ni(e))),it(t,"&-icon-only".concat(n,"-compact-item"),{flex:"none"}),it(t,"&-compact-item".concat(n,"-primary"),it({},"&:not([disabled]) + ".concat(n,"-compact-item").concat(n,"-primary:not([disabled])"),{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:"calc(100% + ".concat(2*e.lineWidth,"px)"),backgroundColor:e.colorPrimaryHover,content:'""'}})),it(t,"&-compact-vertical-item",it({},"&".concat(n,"-primary"),it({},"&:not([disabled]) + ".concat(n,"-compact-vertical-item").concat(n,"-primary:not([disabled])"),{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:"calc(100% + ".concat(2*e.lineWidth,"px)"),height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}))),t))},kI=function(e,t,n){return it({},"&:not(:disabled):not(".concat(e,"-disabled)"),{"&:hover":t,"&:active":n})},VI=function(e){return{minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}},WI=function(e){return{borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2}},wI=function(e,t,n,o,r,a,i,l){return it({},"&".concat(e,"-background-ghost"),Object.assign(Object.assign({color:n||void 0,backgroundColor:t,borderColor:o||void 0,boxShadow:"none"},kI(e,Object.assign({backgroundColor:t},i),Object.assign({backgroundColor:t},l))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:a||void 0}}))},RI=function(e){return it({},"&:disabled, &".concat(e.componentCls,"-disabled"),Object.assign({},function(e){return{cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}}(e)))},XI=function(e){return Object.assign({},RI(e))},JI=function(e){return it({},"&:disabled, &".concat(e.componentCls,"-disabled"),{cursor:"not-allowed",color:e.colorTextDisabled})},xI=function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},XI(e)),{backgroundColor:e.defaultBg,borderColor:e.defaultBorderColor,color:e.defaultColor,boxShadow:e.defaultShadow}),kI(e.componentCls,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),wI(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),it({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},kI(e.componentCls,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),wI(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),RI(e))))},HI=function(e){var t,n=e.componentCls;return it(t={},"".concat(n,"-default"),xI(e)),it(t,"".concat(n,"-primary"),function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},XI(e)),{color:e.primaryColor,backgroundColor:e.colorPrimary,boxShadow:e.primaryShadow}),kI(e.componentCls,{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),wI(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),it({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign(Object.assign({backgroundColor:e.colorError,boxShadow:e.dangerShadow,color:e.dangerColor},kI(e.componentCls,{backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),wI(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),RI(e))))}(e)),it(t,"".concat(n,"-dashed"),function(e){return Object.assign(Object.assign({},xI(e)),{borderStyle:"dashed"})}(e)),it(t,"".concat(n,"-link"),function(e){return Object.assign(Object.assign(Object.assign({color:e.colorLink},kI(e.componentCls,{color:e.colorLinkHover,backgroundColor:e.linkHoverBg},{color:e.colorLinkActive})),JI(e)),it({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign({color:e.colorError},kI(e.componentCls,{color:e.colorErrorHover},{color:e.colorErrorActive})),JI(e))))}(e)),it(t,"".concat(n,"-text"),function(e){return Object.assign(Object.assign(Object.assign({},kI(e.componentCls,{color:e.colorText,backgroundColor:e.textHoverBg},{color:e.colorText,backgroundColor:e.colorBgTextActive})),JI(e)),it({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign({color:e.colorError},JI(e)),kI(e.componentCls,{color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))))}(e)),it(t,"".concat(n,"-ghost"),wI(e.componentCls,e.ghostBg,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)),t},YI=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.componentCls,a=e.controlHeight,i=e.fontSize,l=e.lineHeight,g=e.lineWidth,c=e.borderRadius,s=e.buttonPaddingHorizontal,u=e.iconCls,d=Math.max(0,(a-i*l)/2-g),I="".concat(r,"-icon-only");return[it({},"".concat(r).concat(o),(n={fontSize:i,height:a,padding:"".concat(d,"px ").concat(s,"px"),borderRadius:c},it(n,"&".concat(I),(t={width:a,paddingInlineStart:0,paddingInlineEnd:0},it(t,"&".concat(r,"-round"),{width:"auto"}),it(t,u,{fontSize:e.buttonIconOnlyFontSize}),t)),it(n,"&".concat(r,"-loading"),{opacity:e.opacityLoading,cursor:"default"}),it(n,"".concat(r,"-loading-icon"),{transition:"width ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,", opacity ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)}),n)),it({},"".concat(r).concat(r,"-circle").concat(o),VI(e)),it({},"".concat(r).concat(r,"-round").concat(o),WI(e))]},NI=function(e){return YI(Mi(e,{fontSize:e.contentFontSize}))},FI=function(e){var t=Mi(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return YI(t,"".concat(e.componentCls,"-sm"))},EI=function(e){var t=Mi(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return YI(t,"".concat(e.componentCls,"-lg"))},KI=function(e){var t=e.componentCls;return it({},t,it({},"&".concat(t,"-block"),{width:"100%"}))},MI=function(e){return Mi(e,{buttonPaddingHorizontal:e.paddingInline,buttonIconOnlyFontSize:e.onlyIconSize})},LI=function(e){return{fontWeight:400,defaultShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlTmpOutline),primaryShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlOutline),dangerShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.colorErrorOutline),primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:e.colorBgTextHover,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,contentFontSize:e.fontSize,contentFontSizeSM:e.fontSize,contentFontSizeLG:e.fontSizeLG}},zI=gs("Button",(function(e){var t=MI(e);return[BI(t),FI(t),NI(t),EI(t),KI(t),HI(t),SI(t)]}),LI);function DI(e){var t="".concat(e.componentCls,"-compact-vertical");return it({},t,Object.assign(Object.assign({},function(e,t){var n;return it(n={},"&-item:not(".concat(t,"-last-item)"),{marginBottom:-e.lineWidth}),it(n,"&-item",{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}),n}(e,t)),function(e,t){var n;return it(n={},"&-item:not(".concat(t,"-first-item):not(").concat(t,"-last-item)"),{borderRadius:0}),it(n,"&-item".concat(t,"-first-item:not(").concat(t,"-last-item)"),it({},"&, &".concat(e,"-sm, &").concat(e,"-lg"),{borderEndEndRadius:0,borderEndStartRadius:0})),it(n,"&-item".concat(t,"-last-item:not(").concat(t,"-first-item)"),it({},"&, &".concat(e,"-sm, &").concat(e,"-lg"),{borderStartStartRadius:0,borderStartEndRadius:0})),n}(e.componentCls,t)))}var TI=function(e,t,n,o){var r=gs(e,t,n,Object.assign({resetStyle:!1,order:-998},o));return function(e){var t=e.prefixCls;return r(t),null}}(["Button","compact"],(function(e){var t=MI(e);return[Fi(t),DI(t)]}),LI),UI=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};var QI=function(e,t){var n,o,r,a=e.loading,l=void 0!==a&&a,g=e.prefixCls,c=e.type,s=void 0===c?"default":c,u=e.danger,d=e.shape,C=void 0===d?"default":d,m=e.size,p=e.styles,A=e.disabled,h=e.className,b=e.rootClassName,f=e.children,v=e.icon,y=e.ghost,Z=void 0!==y&&y,G=e.block,S=void 0!==G&&G,B=e.htmlType,k=void 0===B?"button":B,V=e.classNames,W=e.style,w=void 0===W?{}:W,R=UI(e,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),X=(0,i.useContext)(_r),J=X.getPrefixCls,x=X.autoInsertSpaceInButton,H=X.direction,Y=X.button,N=J("btn",g),F=I(zI(N),2),E=F[0],K=F[1],M=(0,i.useContext)(ou),L=null!==A&&void 0!==A?A:M,z=(0,i.useContext)(gI),D=(0,i.useMemo)((function(){return function(e){if("object"===typeof e&&e){var t=null===e||void 0===e?void 0:e.delay;return{loading:!1,delay:Number.isNaN(t)||"number"!==typeof t?0:t}}return{loading:!!e,delay:0}}(l)}),[l]),T=I((0,i.useState)(D.loading),2),U=T[0],Q=T[1],j=I((0,i.useState)(!1),2),O=j[0],P=j[1],q=ec(t,(0,i.createRef)()),_=1===i.Children.count(f)&&!v&&!II(s);(0,i.useEffect)((function(){var e=null;return D.delay>0?e=setTimeout((function(){e=null,Q(!0)}),D.delay):Q(D.loading),function(){e&&(clearTimeout(e),e=null)}}),[D]),(0,i.useEffect)((function(){if(q&&q.current&&!1!==x){var e=q.current.textContent;_&&uI(e)?O||P(!0):O&&P(!1)}}),[q]);var $=function(t){var n=e.onClick;U||L?t.preventDefault():null===n||void 0===n||n(t)},ee=!1!==x,te=Cu(N,H),ne=te.compactSize,oe=te.compactItemClassnames,re={large:"lg",small:"sm",middle:void 0},ae=lu((function(e){var t,n;return null!==(n=null!==(t=null!==m&&void 0!==m?m:ne)&&void 0!==t?t:z)&&void 0!==n?n:e})),ie=ae&&re[ae]||"",le=U?"loading":v,ge=Os(R,["navigate"]),ce=Pr()(N,K,(it(n={},"".concat(N,"-").concat(C),"default"!==C&&C),it(n,"".concat(N,"-").concat(s),s),it(n,"".concat(N,"-").concat(ie),ie),it(n,"".concat(N,"-icon-only"),!f&&0!==f&&!!le),it(n,"".concat(N,"-background-ghost"),Z&&!II(s)),it(n,"".concat(N,"-loading"),U),it(n,"".concat(N,"-two-chinese-chars"),O&&ee&&!U),it(n,"".concat(N,"-block"),S),it(n,"".concat(N,"-dangerous"),!!u),it(n,"".concat(N,"-rtl"),"rtl"===H),n),oe,h,b,null===Y||void 0===Y?void 0:Y.className),se=Object.assign(Object.assign({},null===Y||void 0===Y?void 0:Y.style),w),ue=Pr()(null===V||void 0===V?void 0:V.icon,null===(o=null===Y||void 0===Y?void 0:Y.classNames)||void 0===o?void 0:o.icon),de=Object.assign(Object.assign({},(null===p||void 0===p?void 0:p.icon)||{}),(null===(r=null===Y||void 0===Y?void 0:Y.styles)||void 0===r?void 0:r.icon)||{}),Ie=v&&!U?i.createElement(pI,{prefixCls:N,className:ue,style:de},v):i.createElement(ZI,{existIcon:!!v,prefixCls:N,loading:!!U}),Ce=f||0===f?CI(f,_&&ee):null;if(void 0!==ge.href)return E(i.createElement("a",Object.assign({},ge,{className:Pr()(ce,it({},"".concat(N,"-disabled"),L)),style:se,onClick:$,ref:q}),Ie,Ce));var me=i.createElement("button",Object.assign({},R,{type:k,className:ce,style:se,onClick:$,disabled:L,ref:q}),Ie,Ce,oe&&i.createElement(TI,{key:"compact",prefixCls:N}));return II(s)||(me=i.createElement(iI,{component:"Button",disabled:!!U},me)),E(me)},jI=(0,i.forwardRef)(QI);jI.Group=cI,jI.__ANT_BUTTON=!0;var OI=jI,PI=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},qI=i.forwardRef((function(e,t){var n,o,r=e.prefixCls,a=e.inputPrefixCls,l=e.className,g=e.size,c=e.suffix,s=e.enterButton,u=void 0!==s&&s,d=e.addonAfter,I=e.loading,C=e.disabled,m=e.onSearch,p=e.onChange,A=e.onCompositionStart,h=e.onCompositionEnd,b=PI(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),f=i.useContext(_r),v=f.getPrefixCls,y=f.direction,Z=i.useRef(!1),G=v("input-search",r),S=v("input",a),B=Cu(G,y).compactSize,k=lu((function(e){var t;return null!==(t=null!==g&&void 0!==g?g:B)&&void 0!==t?t:e})),V=i.useRef(null),W=function(e){var t;document.activeElement===(null===(t=V.current)||void 0===t?void 0:t.input)&&e.preventDefault()},w=function(e){var t,n;m&&m(null===(n=null===(t=V.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},R="boolean"===typeof u?i.createElement(Hu,null):null,X="".concat(G,"-button"),J=u||{},x=J.type&&!0===J.type.__ANT_BUTTON;o=x||"button"===J.type?Fu(J,Object.assign({onMouseDown:W,onClick:function(e){var t,n;null===(n=null===(t=null===J||void 0===J?void 0:J.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),w(e)},key:"enterButton"},x?{className:X,size:k}:{})):i.createElement(OI,{className:X,type:u?"primary":void 0,size:k,disabled:C,key:"enterButton",onMouseDown:W,onClick:w,loading:I,icon:R},u),d&&(o=[o,Fu(d,{key:"addonAfter"})]);var H=Pr()(G,(it(n={},"".concat(G,"-rtl"),"rtl"===y),it(n,"".concat(G,"-").concat(k),!!k),it(n,"".concat(G,"-with-button"),!!u),n),l);return i.createElement(vu,Object.assign({ref:ec(V,t),onPressEnter:function(e){Z.current||I||w(e)}},b,{size:k,onCompositionStart:function(e){Z.current=!0,null===A||void 0===A||A(e)},onCompositionEnd:function(e){Z.current=!1,null===h||void 0===h||h(e)},prefixCls:S,addonAfter:o,suffix:c,onChange:function(e){e&&e.target&&"click"===e.type&&m&&m(e.target.value,e,{source:"clear"}),p&&p(e)},className:H,disabled:C}))}));var _I=qI,$I=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,o){return e[0]===t&&(n=o,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n++){var r=o[n];e.call(t,r[1],r[0])}},t}()}(),eC="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,tC="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),nC="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(tC):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var oC=["top","right","bottom","left","width","height","size","weight"],rC="undefined"!==typeof MutationObserver,aC=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,o=!1,r=0;function a(){n&&(n=!1,e()),o&&l()}function i(){nC(a)}function l(){var e=Date.now();if(n){if(e-r<2)return;o=!0}else n=!0,o=!1,setTimeout(i,t);r=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){eC&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),rC?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){eC&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,o=oC.some((function(e){return!!~n.indexOf(e)}));o&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),iC=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},lC=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||tC},gC=CC(0,0,0,0);function cC(e){return parseFloat(e)||0}function sC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+cC(e["border-"+n+"-width"])}),0)}function uC(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return gC;var o=lC(e).getComputedStyle(e),r=function(e){for(var t={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var r=o[n],a=e["padding-"+r];t[r]=cC(a)}return t}(o),a=r.left+r.right,i=r.top+r.bottom,l=cC(o.width),g=cC(o.height);if("border-box"===o.boxSizing&&(Math.round(l+a)!==t&&(l-=sC(o,"left","right")+a),Math.round(g+i)!==n&&(g-=sC(o,"top","bottom")+i)),!function(e){return e===lC(e).document.documentElement}(e)){var c=Math.round(l+a)-t,s=Math.round(g+i)-n;1!==Math.abs(c)&&(l-=c),1!==Math.abs(s)&&(g-=s)}return CC(r.left,r.top,l,g)}var dC="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof lC(e).SVGGraphicsElement}:function(e){return e instanceof lC(e).SVGElement&&"function"===typeof e.getBBox};function IC(e){return eC?dC(e)?function(e){var t=e.getBBox();return CC(0,0,t.width,t.height)}(e):uC(e):gC}function CC(e,t,n,o){return{x:e,y:t,width:n,height:o}}var mC=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=CC(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=IC(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),pC=function(e,t){var n=function(e){var t=e.x,n=e.y,o=e.width,r=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(a.prototype);return iC(i,{x:t,y:n,width:o,height:r,top:n,right:t+o,bottom:r+n,left:t}),i}(t);iC(this,{target:e,contentRect:n})},AC=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new $I,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof lC(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new mC(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof lC(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new pC(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),hC="undefined"!==typeof WeakMap?new WeakMap:new $I,bC=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=aC.getInstance(),o=new AC(t,n,this);hC.set(this,o)};["observe","unobserve","disconnect"].forEach((function(e){bC.prototype[e]=function(){var t;return(t=hC.get(this))[e].apply(t,arguments)}}));var fC="undefined"!==typeof tC.ResizeObserver?tC.ResizeObserver:bC,vC=new Map;var yC=new fC((function(e){e.forEach((function(e){var t,n=e.target;null===(t=vC.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var ZC=function(e){v(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return b(n,[{key:"render",value:function(){return this.props.children}}]),n}(i.Component),GC=i.createContext(null);function SC(e,t){var n=e.children,o=e.disabled,r=i.useRef(null),a=i.useRef(null),l=i.useContext(GC),g="function"===typeof n,c=g?n(r):n,s=i.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!g&&i.isValidElement(c)&&nc(c),d=u?c.ref:null,I=i.useMemo((function(){return ec(d,r)}),[d,r]),C=function(){return Pu(r.current)||Pu(a.current)};i.useImperativeHandle(t,(function(){return C()}));var m=i.useRef(e);m.current=e;var p=i.useCallback((function(e){var t=m.current,n=t.onResize,o=t.data,r=e.getBoundingClientRect(),a=r.width,i=r.height,g=e.offsetWidth,c=e.offsetHeight,u=Math.floor(a),d=Math.floor(i);if(s.current.width!==u||s.current.height!==d||s.current.offsetWidth!==g||s.current.offsetHeight!==c){var I={width:u,height:d,offsetWidth:g,offsetHeight:c};s.current=I;var C=g===Math.round(a)?a:g,p=c===Math.round(i)?i:c,A=gt(gt({},I),{},{offsetWidth:C,offsetHeight:p});null===l||void 0===l||l(A,e,o),n&&Promise.resolve().then((function(){n(A,e)}))}}),[]);return i.useEffect((function(){var e,t,n=C();return n&&!o&&(e=n,t=p,vC.has(e)||(vC.set(e,new Set),yC.observe(e)),vC.get(e).add(t)),function(){return function(e,t){vC.has(e)&&(vC.get(e).delete(t),vC.get(e).size||(yC.unobserve(e),vC.delete(e)))}(n,p)}}),[r.current,o]),i.createElement(ZC,{ref:a},u?i.cloneElement(c,{ref:I}):c)}var BC=i.forwardRef(SC);function kC(e,t){var n=e.children;return("function"===typeof n?[n]:ta(n)).map((function(n,o){var r=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(o);return i.createElement(BC,$r({},e,{key:r,ref:0===o?t:void 0}),n)}))}var VC=i.forwardRef(kC);VC.Collection=function(e){var t=e.children,n=e.onBatchResize,o=i.useRef(0),r=i.useRef([]),a=i.useContext(GC),l=i.useCallback((function(e,t,i){o.current+=1;var l=o.current;r.current.push({size:e,element:t,data:i}),Promise.resolve().then((function(){l===o.current&&(null===n||void 0===n||n(r.current),r.current=[])})),null===a||void 0===a||a(e,t,i)}),[n,a]);return i.createElement(GC.Provider,{value:l},t)};var WC,wC=VC,RC=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],XC={};function JC(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;WC||((WC=document.createElement("textarea")).setAttribute("tab-index","-1"),WC.setAttribute("aria-hidden","true"),document.body.appendChild(WC)),e.getAttribute("wrap")?WC.setAttribute("wrap",e.getAttribute("wrap")):WC.removeAttribute("wrap");var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&XC[n])return XC[n];var o=window.getComputedStyle(e),r=o.getPropertyValue("box-sizing")||o.getPropertyValue("-moz-box-sizing")||o.getPropertyValue("-webkit-box-sizing"),a=parseFloat(o.getPropertyValue("padding-bottom"))+parseFloat(o.getPropertyValue("padding-top")),i=parseFloat(o.getPropertyValue("border-bottom-width"))+parseFloat(o.getPropertyValue("border-top-width")),l={sizingStyle:RC.map((function(e){return"".concat(e,":").concat(o.getPropertyValue(e))})).join(";"),paddingSize:a,borderSize:i,boxSizing:r};return t&&n&&(XC[n]=l),l}(e,t),a=r.paddingSize,i=r.borderSize,l=r.boxSizing,g=r.sizingStyle;WC.setAttribute("style","".concat(g,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),WC.value=e.value||e.placeholder||"";var c,s=void 0,u=void 0,d=WC.scrollHeight;if("border-box"===l?d+=i:"content-box"===l&&(d-=a),null!==n||null!==o){WC.value=" ";var I=WC.scrollHeight-a;null!==n&&(s=I*n,"border-box"===l&&(s=s+a+i),d=Math.max(s,d)),null!==o&&(u=I*o,"border-box"===l&&(u=u+a+i),c=d>u?"":"hidden",d=Math.min(u,d))}var C={height:d,overflowY:c,resize:"none"};return s&&(C.minHeight=s),u&&(C.maxHeight=u),C}var xC=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],HC=i.forwardRef((function(t,n){var o=t,r=o.prefixCls,a=(o.onPressEnter,o.defaultValue),l=o.value,g=o.autoSize,c=o.onResize,s=o.className,u=o.style,d=o.disabled,C=o.onChange,m=(o.onInternalAutoSize,ct(o,xC)),p=I(_g(a,{value:l,postState:function(e){return null!==e&&void 0!==e?e:""}}),2),A=p[0],h=p[1],b=i.useRef();i.useImperativeHandle(n,(function(){return{textArea:b.current}}));var f=I(i.useMemo((function(){return g&&"object"===e(g)?[g.minRows,g.maxRows]:[]}),[g]),2),v=f[0],y=f[1],Z=!!g,G=I(i.useState(2),2),S=G[0],B=G[1],k=I(i.useState(),2),V=k[0],W=k[1],w=function(){B(0)};Bl((function(){Z&&w()}),[l,v,y,Z]),Bl((function(){if(0===S)B(1);else if(1===S){var e=JC(b.current,!1,v,y);B(2),W(e)}else!function(){try{if(document.activeElement===b.current){var e=b.current,t=e.selectionStart,n=e.selectionEnd,o=e.scrollTop;b.current.setSelectionRange(t,n),b.current.scrollTop=o}}catch(nY){}}()}),[S]);var R=i.useRef(),X=function(){ju.cancel(R.current)};i.useEffect((function(){return X}),[]);var J=Z?V:null,x=gt(gt({},u),J);return 0!==S&&1!==S||(x.overflowY="hidden",x.overflowX="hidden"),i.createElement(wC,{onResize:function(e){2===S&&(null===c||void 0===c||c(e),g&&(X(),R.current=ju((function(){w()}))))},disabled:!(g||c)},i.createElement("textarea",$r({},m,{ref:b,style:x,className:Pr()(r,s,it({},"".concat(r,"-disabled"),d)),disabled:d,value:A,onChange:function(e){h(e.target.value),null===C||void 0===C||C(e)}})))})),YC=HC,NC=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled","hidden","classNames","styles","onResize"];function FC(e,t){return m(e||"").slice(0,t).join("")}function EC(e,t,n,o){var r=n;return e?r=FC(n,o):m(t||"").length<n.length&&m(n||"").length>o&&(r=t),r}var KC=i.forwardRef((function(t,n){var o,r=t.defaultValue,a=t.value,l=t.onFocus,g=t.onBlur,c=t.onChange,s=t.allowClear,u=t.maxLength,d=t.onCompositionStart,C=t.onCompositionEnd,p=t.suffix,A=t.prefixCls,h=void 0===A?"rc-textarea":A,b=t.classes,f=t.showCount,v=t.className,y=t.style,Z=t.disabled,G=t.hidden,S=t.classNames,B=t.styles,k=t.onResize,V=ct(t,NC),W=I(_g(r,{value:a,defaultValue:r}),2),w=W[0],R=W[1],X=(0,i.useRef)(null),J=I(i.useState(!1),2),x=J[0],H=J[1],Y=I(i.useState(!1),2),N=Y[0],F=Y[1],E=i.useRef(),K=i.useRef(0),M=I(i.useState(null),2),L=M[0],z=M[1],D=function(){var e;null===(e=X.current)||void 0===e||e.textArea.focus()};(0,i.useImperativeHandle)(n,(function(){return{resizableTextArea:X.current,focus:D,blur:function(){var e;null===(e=X.current)||void 0===e||e.textArea.blur()}}})),(0,i.useEffect)((function(){H((function(e){return!Z&&e}))}),[Z]);var T=Number(u)>0,U=Qs(w);N||!T||null!==a&&void 0!==a||(U=FC(U,u));var Q,j=p;if(f){var O=m(U).length;Q="object"===e(f)?f.formatter({value:U,count:O,maxLength:u}):"".concat(O).concat(T?" / ".concat(u):""),j=i.createElement(i.Fragment,null,j,i.createElement("span",{className:Pr()("".concat(h,"-data-count"),null===S||void 0===S?void 0:S.count),style:null===B||void 0===B?void 0:B.count},Q))}var P=!V.autoSize&&!f&&!s,q=i.createElement(js,{value:U,allowClear:s,handleReset:function(e){var t;R(""),D(),Us(null===(t=X.current)||void 0===t?void 0:t.textArea,e,c)},suffix:j,prefixCls:h,classes:{affixWrapper:Pr()(null===b||void 0===b?void 0:b.affixWrapper,(o={},it(o,"".concat(h,"-show-count"),f),it(o,"".concat(h,"-textarea-allow-clear"),s),o))},disabled:Z,focused:x,className:v,style:gt(gt({},y),L&&!P?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof Q?Q:void 0}},hidden:G,inputElement:i.createElement(YC,$r({},V,{onKeyDown:function(e){var t=V.onPressEnter,n=V.onKeyDown;"Enter"===e.key&&t&&t(e),null===n||void 0===n||n(e)},onChange:function(e){var t=e.target.value;!N&&T&&(t=EC(e.target.selectionStart>=u+1||e.target.selectionStart===t.length||!e.target.selectionStart,w,t,u));R(t),Us(e.currentTarget,e,c,t)},onFocus:function(e){H(!0),null===l||void 0===l||l(e)},onBlur:function(e){H(!1),null===g||void 0===g||g(e)},onCompositionStart:function(e){F(!0),E.current=w,K.current=e.currentTarget.selectionStart,null===d||void 0===d||d(e)},onCompositionEnd:function(e){F(!1);var t,n=e.currentTarget.value;T&&(n=EC(K.current>=u+1||K.current===(null===(t=E.current)||void 0===t?void 0:t.length),E.current,n,u));n!==w&&(R(n),Us(e.currentTarget,e,c,n)),null===C||void 0===C||C(e)},className:null===S||void 0===S?void 0:S.textarea,style:gt(gt({},null===B||void 0===B?void 0:B.textarea),{},{resize:null===y||void 0===y?void 0:y.resize}),disabled:Z,prefixCls:h,onResize:function(e){var t;null===k||void 0===k||k(e),null!==(t=X.current)&&void 0!==t&&t.textArea.style.height&&z(!0)},ref:X}))});return q})),MC=KC,LC=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},zC=(0,i.forwardRef)((function(e,t){var n,o,r=e.prefixCls,a=e.bordered,l=void 0===a||a,g=e.size,c=e.disabled,s=e.status,u=e.allowClear,d=e.showCount,C=e.classNames,m=e.rootClassName,p=e.className,A=LC(e,["prefixCls","bordered","size","disabled","status","allowClear","showCount","classNames","rootClassName","className"]),h=i.useContext(_r),b=h.getPrefixCls,f=h.direction,v=lu(g),y=i.useContext(ou),Z=null!==c&&void 0!==c?c:y,G=i.useContext(wi),S=G.status,B=G.hasFeedback,k=G.feedbackIcon,V=eu(S,s),W=i.useRef(null);i.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=W.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var o=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(o,o);break;default:e.setSelectionRange(0,o)}}}}(null===(n=null===(t=W.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=W.current)||void 0===e?void 0:e.blur()}}}));var w,R=b("input",r);"object"===typeof u&&(null===u||void 0===u?void 0:u.clearIcon)?w=u:u&&(w={clearIcon:i.createElement(zs,null)});var X=I(Zs(R),2),J=X[0],x=X[1];return J(i.createElement(MC,Object.assign({},A,{disabled:Z,allowClear:w,className:Pr()(p,m),classes:{affixWrapper:Pr()("".concat(R,"-textarea-affix-wrapper"),(n={},it(n,"".concat(R,"-affix-wrapper-rtl"),"rtl"===f),it(n,"".concat(R,"-affix-wrapper-borderless"),!l),it(n,"".concat(R,"-affix-wrapper-sm"),"small"===v),it(n,"".concat(R,"-affix-wrapper-lg"),"large"===v),it(n,"".concat(R,"-textarea-show-count"),d),n),$s("".concat(R,"-affix-wrapper"),V),x)},classNames:Object.assign(Object.assign({},C),{textarea:Pr()((o={},it(o,"".concat(R,"-borderless"),!l),it(o,"".concat(R,"-sm"),"small"===v),it(o,"".concat(R,"-lg"),"large"===v),o),$s(R,V),x,null===C||void 0===C?void 0:C.textarea)}),prefixCls:R,suffix:B&&i.createElement("span",{className:"".concat(R,"-textarea-suffix")},k),showCount:d,ref:W})))})),DC=zC,TC=vu;TC.Group=Gs,TC.Search=_I,TC.TextArea=DC,TC.Password=Xu;var UC=TC;function QC(e){return["small","middle","large"].includes(e)}function jC(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}var OC=i.createContext({latestIndex:0}),PC=OC.Provider,qC=function(e){var t=e.className,n=e.index,o=e.children,r=e.split,a=e.style,l=i.useContext(OC).latestIndex;return null===o||void 0===o?null:i.createElement(i.Fragment,null,i.createElement("div",{className:t,style:a},o),n<l&&r&&i.createElement("span",{className:"".concat(t,"-split")},r))},_C=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},$C=i.forwardRef((function(e,t){var n,o,r,a=i.useContext(_r),l=a.getPrefixCls,g=a.space,c=a.direction,s=e.size,u=void 0===s?(null===g||void 0===g?void 0:g.size)||"small":s,d=e.align,C=e.className,m=e.rootClassName,p=e.children,A=e.direction,h=void 0===A?"horizontal":A,b=e.prefixCls,f=e.split,v=e.style,y=e.wrap,Z=void 0!==y&&y,G=e.classNames,S=e.styles,B=_C(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),k=I(Array.isArray(u)?u:[u,u],2),V=k[0],W=k[1],w=QC(W),R=QC(V),X=jC(W),J=jC(V),x=ta(p,{keepEmpty:!0}),H=void 0===d&&"horizontal"===h?"center":d,Y=l("space",b),N=I(uu(Y),2),F=N[0],E=N[1],K=Pr()(Y,null===g||void 0===g?void 0:g.className,E,"".concat(Y,"-").concat(h),(it(n={},"".concat(Y,"-rtl"),"rtl"===c),it(n,"".concat(Y,"-align-").concat(H),H),it(n,"".concat(Y,"-gap-row-").concat(W),w),it(n,"".concat(Y,"-gap-col-").concat(V),R),n),C,m),M=Pr()("".concat(Y,"-item"),null!==(o=null===G||void 0===G?void 0:G.item)&&void 0!==o?o:null===(r=null===g||void 0===g?void 0:g.classNames)||void 0===r?void 0:r.item),L=0,z=x.map((function(e,t){var n,o;null!==e&&void 0!==e&&(L=t);var r=e&&e.key||"".concat(M,"-").concat(t);return i.createElement(qC,{className:M,key:r,index:t,split:f,style:null!==(n=null===S||void 0===S?void 0:S.item)&&void 0!==n?n:null===(o=null===g||void 0===g?void 0:g.styles)||void 0===o?void 0:o.item},e)})),D=i.useMemo((function(){return{latestIndex:L}}),[L]);if(0===x.length)return null;var T={};return Z&&(T.flexWrap="wrap"),!R&&J&&(T.columnGap=V),!w&&X&&(T.rowGap=W),F(i.createElement("div",Object.assign({ref:t,className:K,style:Object.assign(Object.assign(Object.assign({},T),null===g||void 0===g?void 0:g.style),v)},B),i.createElement(PC,{value:D},z)))}));var em=$C;em.Compact=Au;var tm,nm=em,om=i.createContext(null),rm=[];function am(e){if("undefined"===typeof document)return 0;if(e||void 0===tm){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),o=n.style;o.position="absolute",o.top="0",o.left="0",o.pointerEvents="none",o.visibility="hidden",o.width="200px",o.height="150px",o.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var r=t.offsetWidth;n.style.overflow="scroll";var a=t.offsetWidth;r===a&&(a=n.clientWidth),document.body.removeChild(n),tm=r-a}return tm}function im(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?am():n}function lm(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,o=t.height;return{width:im(n),height:im(o)}}var gm="rc-util-locker-".concat(Date.now()),cm=0;function sm(e){var t=!!e,n=I(i.useState((function(){return cm+=1,"".concat(gm,"_").concat(cm)})),1)[0];Bl((function(){if(t){var e=lm(document.body).width,o=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;ul("\nhtml body {\n  overflow-y: hidden;\n  ".concat(o?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else sl(n);return function(){sl(n)}}),[t,n])}var um=!1;var dm=function(e){return!1!==e&&(el()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},Im=i.forwardRef((function(e,t){var n=e.open,o=e.autoLock,r=e.getContainer,a=(e.debug,e.autoDestroy),l=void 0===a||a,g=e.children,c=I(i.useState(n),2),s=c[0],u=c[1],d=s||n;i.useEffect((function(){(l||n)&&u(n)}),[n,l]);var C=I(i.useState((function(){return dm(r)})),2),p=C[0],A=C[1];i.useEffect((function(){var e=dm(r);A(null!==e&&void 0!==e?e:null)}));var h=function(e,t){var n=I(i.useState((function(){return el()?document.createElement("div"):null})),1)[0],o=i.useRef(!1),r=i.useContext(om),a=I(i.useState(rm),2),l=a[0],g=a[1],c=r||(o.current?void 0:function(e){g((function(t){return[e].concat(m(t))}))});function s(){n.parentElement||document.body.appendChild(n),o.current=!0}function u(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),o.current=!1}return Bl((function(){return e?r?r(s):s():u(),u}),[e]),Bl((function(){l.length&&(l.forEach((function(e){return e()})),g(rm))}),[l]),[n,c]}(d&&!p),b=I(h,2),f=b[0],v=b[1],y=null!==p&&void 0!==p?p:f;sm(o&&n&&el()&&(y===f||y===document.body));var Z=null;g&&nc(g)&&t&&(Z=g.ref);var G=tc(Z,t);if(!d||!el()||void 0===p)return null;var S,B=!1===y||("boolean"===typeof S&&(um=S),um),k=g;return t&&(k=i.cloneElement(g,{ref:G})),i.createElement(om.Provider,{value:v},B?k:(0,_t.createPortal)(k,y))}));var Cm=Im;var mm=0;function pm(e){var t=I(i.useState("ssr-id"),2),n=t[0],o=t[1],r=gt({},l).useId,a=null===r||void 0===r?void 0:r();return i.useEffect((function(){if(!r){var e=mm;mm+=1,o("rc_unique_".concat(e))}}),[]),e||(a||n)}var Am=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))},hm=i.createContext(null);function bm(e){return e?Array.isArray(e)?e:[e]:[]}function fm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function vm(e,t,n,o){return t||(n?{motionName:"".concat(e,"-").concat(n)}:o?{motionName:o}:null)}function ym(e){return e.ownerDocument.defaultView}function Zm(e){for(var t=[],n=null===e||void 0===e?void 0:e.parentElement,o=["hidden","scroll","clip","auto"];n;){var r=ym(n).getComputedStyle(n);[r.overflowX,r.overflowY,r.overflow].some((function(e){return o.includes(e)}))&&t.push(n),n=n.parentElement}return t}function Gm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Sm(e){return Gm(parseFloat(e),0)}function Bm(e,t){var n=gt({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=ym(e).getComputedStyle(e),o=t.overflow,r=t.overflowClipMargin,a=t.borderTopWidth,i=t.borderBottomWidth,l=t.borderLeftWidth,g=t.borderRightWidth,c=e.getBoundingClientRect(),s=e.offsetHeight,u=e.clientHeight,d=e.offsetWidth,I=e.clientWidth,C=Sm(a),m=Sm(i),p=Sm(l),A=Sm(g),h=Gm(Math.round(c.width/d*1e3)/1e3),b=Gm(Math.round(c.height/s*1e3)/1e3),f=(d-I-p-A)*h,v=(s-u-C-m)*b,y=C*b,Z=m*b,G=p*h,S=A*h,B=0,k=0;if("clip"===o){var V=Sm(r);B=V*h,k=V*b}var W=c.x+G-B,w=c.y+y-k,R=W+c.width+2*B-G-S-f,X=w+c.height+2*k-y-Z-v;n.left=Math.max(n.left,W),n.top=Math.max(n.top,w),n.right=Math.min(n.right,R),n.bottom=Math.min(n.bottom,X)}})),n}function km(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Vm(e,t){var n=I(t||[],2),o=n[0],r=n[1];return[km(e.width,o),km(e.height,r)]}function Wm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function wm(e,t){var n,o=t[0],r=t[1];return n="t"===o?e.y:"b"===o?e.y+e.height:e.y+e.height/2,{x:"l"===r?e.x:"r"===r?e.x+e.width:e.x+e.width/2,y:n}}function Rm(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,o){return o===t?n[e]||"c":e})).join("")}function Xm(e){var t=e.prefixCls,n=e.align,o=e.arrow,r=e.arrowPos,a=o||{},l=a.className,g=a.content,c=r.x,s=void 0===c?0:c,u=r.y,d=void 0===u?0:u,I=i.useRef();if(!n||!n.points)return null;var C={position:"absolute"};if(!1!==n.autoArrow){var m=n.points[0],p=n.points[1],A=m[0],h=m[1],b=p[0],f=p[1];A!==b&&["t","b"].includes(A)?"t"===A?C.top=0:C.bottom=0:C.top=d,h!==f&&["l","r"].includes(h)?"l"===h?C.left=0:C.right=0:C.left=s}return i.createElement("div",{ref:I,className:Pr()("".concat(t,"-arrow"),l),style:C},g)}function Jm(e){var t=e.prefixCls,n=e.open,o=e.zIndex,r=e.mask,a=e.motion;return r?i.createElement(zd,$r({},a,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return i.createElement("div",{style:{zIndex:o},className:Pr()("".concat(t,"-mask"),n)})})):null}var xm=i.memo((function(e){return e.children}),(function(e,t){return t.cache}));var Hm=xm,Ym=i.forwardRef((function(e,t){var n=e.popup,o=e.className,r=e.prefixCls,a=e.style,l=e.target,g=e.onVisibleChanged,c=e.open,s=e.keepDom,u=e.fresh,d=e.onClick,C=e.mask,m=e.arrow,p=e.arrowPos,A=e.align,h=e.motion,b=e.maskMotion,f=e.forceRender,v=e.getPopupContainer,y=e.autoDestroy,Z=e.portal,G=e.zIndex,S=e.onMouseEnter,B=e.onMouseLeave,k=e.onPointerEnter,V=e.ready,W=e.offsetX,w=e.offsetY,R=e.offsetR,X=e.offsetB,J=e.onAlign,x=e.onPrepare,H=e.stretch,Y=e.targetWidth,N=e.targetHeight,F="function"===typeof n?n():n,E=c||s,K=(null===v||void 0===v?void 0:v.length)>0,M=I(i.useState(!v||!K),2),L=M[0],z=M[1];if(Bl((function(){!L&&K&&l&&z(!0)}),[L,K,l]),!L)return null;var D="auto",T={left:"-1000vw",top:"-1000vh",right:D,bottom:D};if(V||!c){var U,Q=A.points,j=A.dynamicInset||(null===(U=A._experimental)||void 0===U?void 0:U.dynamicInset),O=j&&"r"===Q[0][1],P=j&&"b"===Q[0][0];O?(T.right=R,T.left=D):(T.left=W,T.right=D),P?(T.bottom=X,T.top=D):(T.top=w,T.bottom=D)}var q={};return H&&(H.includes("height")&&N?q.height=N:H.includes("minHeight")&&N&&(q.minHeight=N),H.includes("width")&&Y?q.width=Y:H.includes("minWidth")&&Y&&(q.minWidth=Y)),c||(q.pointerEvents="none"),i.createElement(Z,{open:f||E,getContainer:v&&function(){return v(l)},autoDestroy:y},i.createElement(Jm,{prefixCls:r,open:c,zIndex:G,mask:C,motion:b}),i.createElement(wC,{onResize:J,disabled:!c},(function(e){return i.createElement(zd,$r({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:f,leavedClassName:"".concat(r,"-hidden")},h,{onAppearPrepare:x,onEnterPrepare:x,visible:c,onVisibleChanged:function(e){var t;null===h||void 0===h||null===(t=h.onVisibleChanged)||void 0===t||t.call(h,e),g(e)}}),(function(n,l){var g=n.className,s=n.style,I=Pr()(r,g,o);return i.createElement("div",{ref:ec(e,t,l),className:I,style:gt(gt(gt(gt({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},T),q),s),{},{boxSizing:"border-box",zIndex:G},a),onMouseEnter:S,onMouseLeave:B,onPointerEnter:k,onClick:d},m&&i.createElement(Xm,{prefixCls:r,arrow:m,arrowPos:p,align:A}),i.createElement(Hm,{cache:!c&&!u},F))}))})))}));var Nm=Ym,Fm=i.forwardRef((function(e,t){var n=e.children,o=e.getTriggerDOMNode,r=nc(n),a=i.useCallback((function(e){$g(t,o?o(e):e)}),[o]),l=tc(a,n.ref);return r?i.cloneElement(n,{ref:l}):n}));var Em=Fm,Km=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];var Mm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cm,t=i.forwardRef((function(t,n){var o=t.prefixCls,r=void 0===o?"rc-trigger-popup":o,a=t.children,l=t.action,g=void 0===l?"hover":l,c=t.showAction,s=t.hideAction,u=t.popupVisible,d=t.defaultPopupVisible,C=t.onPopupVisibleChange,p=t.afterPopupVisibleChange,A=t.mouseEnterDelay,h=t.mouseLeaveDelay,b=void 0===h?.1:h,f=t.focusDelay,v=t.blurDelay,y=t.mask,Z=t.maskClosable,G=void 0===Z||Z,S=t.getPopupContainer,B=t.forceRender,k=t.autoDestroy,V=t.destroyPopupOnHide,W=t.popup,w=t.popupClassName,R=t.popupStyle,X=t.popupPlacement,J=t.builtinPlacements,x=void 0===J?{}:J,H=t.popupAlign,Y=t.zIndex,N=t.stretch,F=t.getPopupClassNameFromAlign,E=t.fresh,K=t.alignPoint,M=t.onPopupClick,L=t.onPopupAlign,z=t.arrow,D=t.popupMotion,T=t.maskMotion,U=t.popupTransitionName,Q=t.popupAnimation,j=t.maskTransitionName,O=t.maskAnimation,P=t.className,q=t.getTriggerDOMNode,_=ct(t,Km),$=k||V||!1,ee=I(i.useState(!1),2),te=ee[0],ne=ee[1];Bl((function(){ne(Am())}),[]);var oe=i.useRef({}),re=i.useContext(hm),ae=i.useMemo((function(){return{registerSubPopup:function(e,t){oe.current[e]=t,null===re||void 0===re||re.registerSubPopup(e,t)}}}),[re]),ie=pm(),le=I(i.useState(null),2),ge=le[0],ce=le[1],se=Og((function(e){Ou(e)&&ge!==e&&ce(e),null===re||void 0===re||re.registerSubPopup(ie,e)})),ue=I(i.useState(null),2),de=ue[0],Ie=ue[1],Ce=Og((function(e){Ou(e)&&de!==e&&Ie(e)})),me=i.Children.only(a),pe=(null===me||void 0===me?void 0:me.props)||{},Ae={},he=Og((function(e){var t,n,o=de;return(null===o||void 0===o?void 0:o.contains(e))||(null===(t=Vs(o))||void 0===t?void 0:t.host)===e||e===o||(null===ge||void 0===ge?void 0:ge.contains(e))||(null===(n=Vs(ge))||void 0===n?void 0:n.host)===e||e===ge||Object.values(oe.current).some((function(t){return(null===t||void 0===t?void 0:t.contains(e))||e===t}))})),be=vm(r,D,Q,U),fe=vm(r,T,O,j),ve=I(i.useState(d||!1),2),ye=ve[0],Ze=ve[1],Ge=null!==u&&void 0!==u?u:ye,Se=Og((function(e){void 0===u&&Ze(e)}));Bl((function(){Ze(u||!1)}),[u]);var Be=i.useRef(Ge);Be.current=Ge;var ke=Og((function(e){(0,_t.flushSync)((function(){Ge!==e&&(Se(e),null===C||void 0===C||C(e))}))})),Ve=i.useRef(),We=function(){clearTimeout(Ve.current)},we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;We(),0===t?ke(e):Ve.current=setTimeout((function(){ke(e)}),1e3*t)};i.useEffect((function(){return We}),[]);var Re=I(i.useState(!1),2),Xe=Re[0],Je=Re[1];Bl((function(e){e&&!Ge||Je(!0)}),[Ge]);var xe=I(i.useState(null),2),He=xe[0],Ye=xe[1],Ne=I(i.useState([0,0]),2),Fe=Ne[0],Ee=Ne[1],Ke=function(e){Ee([e.clientX,e.clientY])},Me=function(e,t,n,o,r,a,l){var g=I(i.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:r[o]||{}}),2),c=g[0],s=g[1],u=i.useRef(0),d=i.useMemo((function(){return t?Zm(t):[]}),[t]),C=i.useRef({});e||(C.current={});var m=Og((function(){if(t&&n&&e){var i,g,c,u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O,o=W.x+e,r=W.y+t,a=o+F,i=r+N,l=Math.max(o,n.left),g=Math.max(r,n.top),c=Math.min(a,n.right),s=Math.min(i,n.bottom);return Math.max(0,(c-l)*(s-g))},m=function(){ge=W.y+fe,ce=ge+N,se=W.x+be,ue=se+F},p=t,A=p.ownerDocument,h=ym(p).getComputedStyle(p),b=h.width,f=h.height,v=h.position,y=p.style.left,Z=p.style.top,G=p.style.right,S=p.style.bottom,B=gt(gt({},r[o]),a),k=A.createElement("div");if(null===(i=p.parentElement)||void 0===i||i.appendChild(k),k.style.left="".concat(p.offsetLeft,"px"),k.style.top="".concat(p.offsetTop,"px"),k.style.position=v,k.style.height="".concat(p.offsetHeight,"px"),k.style.width="".concat(p.offsetWidth,"px"),p.style.left="0",p.style.top="0",p.style.right="auto",p.style.bottom="auto",Array.isArray(n))c={x:n[0],y:n[1],width:0,height:0};else{var V=n.getBoundingClientRect();c={x:V.x,y:V.y,width:V.width,height:V.height}}var W=p.getBoundingClientRect(),w=A.documentElement,R=w.clientWidth,X=w.clientHeight,J=w.scrollWidth,x=w.scrollHeight,H=w.scrollTop,Y=w.scrollLeft,N=W.height,F=W.width,E=c.height,K=c.width,M={left:0,top:0,right:R,bottom:X},L={left:-Y,top:-H,right:J-Y,bottom:x-H},z=B.htmlRegion,D="visible",T="visibleFirst";"scroll"!==z&&z!==T&&(z=D);var U=z===T,Q=Bm(L,d),j=Bm(M,d),O=z===D?j:Q,P=U?j:O;p.style.left="auto",p.style.top="auto",p.style.right="0",p.style.bottom="0";var q=p.getBoundingClientRect();p.style.left=y,p.style.top=Z,p.style.right=G,p.style.bottom=S,null===(g=p.parentElement)||void 0===g||g.removeChild(k);var _=Gm(Math.round(F/parseFloat(b)*1e3)/1e3),$=Gm(Math.round(N/parseFloat(f)*1e3)/1e3);if(0===_||0===$||Ou(n)&&!Eu(n))return;var ee=B.offset,te=B.targetOffset,ne=I(Vm(W,ee),2),oe=ne[0],re=ne[1],ae=I(Vm(c,te),2),ie=ae[0],le=ae[1];c.x-=ie,c.y-=le;var ge,ce,se,ue,de=I(B.points||[],2),Ie=de[0],Ce=Wm(de[1]),me=Wm(Ie),pe=wm(c,Ce),Ae=wm(W,me),he=gt({},B),be=pe.x-Ae.x+oe,fe=pe.y-Ae.y+re,ve=u(be,fe),ye=u(be,fe,j),Ze=wm(c,["t","l"]),Ge=wm(W,["t","l"]),Se=wm(c,["b","r"]),Be=wm(W,["b","r"]),ke=B.overflow||{},Ve=ke.adjustX,We=ke.adjustY,we=ke.shiftX,Re=ke.shiftY,Xe=function(e){return"boolean"===typeof e?e:e>=0};m();var Je=Xe(We),xe=me[0]===Ce[0];if(Je&&"t"===me[0]&&(ce>P.bottom||C.current.bt)){var He=fe;xe?He-=N-E:He=Ze.y-Be.y-re;var Ye=u(be,He),Ne=u(be,He,j);Ye>ve||Ye===ve&&(!U||Ne>=ye)?(C.current.bt=!0,fe=He,re=-re,he.points=[Rm(me,0),Rm(Ce,0)]):C.current.bt=!1}if(Je&&"b"===me[0]&&(ge<P.top||C.current.tb)){var Fe=fe;xe?Fe+=N-E:Fe=Se.y-Ge.y-re;var Ee=u(be,Fe),Ke=u(be,Fe,j);Ee>ve||Ee===ve&&(!U||Ke>=ye)?(C.current.tb=!0,fe=Fe,re=-re,he.points=[Rm(me,0),Rm(Ce,0)]):C.current.tb=!1}var Me=Xe(Ve),Le=me[1]===Ce[1];if(Me&&"l"===me[1]&&(ue>P.right||C.current.rl)){var ze=be;Le?ze-=F-K:ze=Ze.x-Be.x-oe;var De=u(ze,fe),Te=u(ze,fe,j);De>ve||De===ve&&(!U||Te>=ye)?(C.current.rl=!0,be=ze,oe=-oe,he.points=[Rm(me,1),Rm(Ce,1)]):C.current.rl=!1}if(Me&&"r"===me[1]&&(se<P.left||C.current.lr)){var Ue=be;Le?Ue+=F-K:Ue=Se.x-Ge.x-oe;var Qe=u(Ue,fe),je=u(Ue,fe,j);Qe>ve||Qe===ve&&(!U||je>=ye)?(C.current.lr=!0,be=Ue,oe=-oe,he.points=[Rm(me,1),Rm(Ce,1)]):C.current.lr=!1}m();var Oe=!0===we?0:we;"number"===typeof Oe&&(se<j.left&&(be-=se-j.left-oe,c.x+K<j.left+Oe&&(be+=c.x-j.left+K-Oe)),ue>j.right&&(be-=ue-j.right-oe,c.x>j.right-Oe&&(be+=c.x-j.right+Oe)));var Pe=!0===Re?0:Re;"number"===typeof Pe&&(ge<j.top&&(fe-=ge-j.top-re,c.y+E<j.top+Pe&&(fe+=c.y-j.top+E-Pe)),ce>j.bottom&&(fe-=ce-j.bottom-re,c.y>j.bottom-Pe&&(fe+=c.y-j.bottom+Pe)));var qe=W.x+be,_e=qe+F,$e=W.y+fe,et=$e+N,tt=c.x,nt=tt+K,ot=c.y,rt=ot+E,at=(Math.max(qe,tt)+Math.min(_e,nt))/2-qe,it=(Math.max($e,ot)+Math.min(et,rt))/2-$e;null===l||void 0===l||l(t,he);var lt=q.right-W.x-(be+W.width),ct=q.bottom-W.y-(fe+W.height);s({ready:!0,offsetX:be/_,offsetY:fe/$,offsetR:lt/_,offsetB:ct/$,arrowX:at/_,arrowY:it/$,scaleX:_,scaleY:$,align:he})}})),p=function(){s((function(e){return gt(gt({},e),{},{ready:!1})}))};return Bl(p,[o]),Bl((function(){e||p()}),[e]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,function(){u.current+=1;var e=u.current;Promise.resolve().then((function(){u.current===e&&m()}))}]}(Ge,ge,K?Fe:de,X,x,H,L),Le=I(Me,11),ze=Le[0],De=Le[1],Te=Le[2],Ue=Le[3],Qe=Le[4],je=Le[5],Oe=Le[6],Pe=Le[7],qe=Le[8],_e=Le[9],$e=Le[10],et=function(e,t,n,o){return i.useMemo((function(){var r=bm(null!==n&&void 0!==n?n:t),a=bm(null!==o&&void 0!==o?o:t),i=new Set(r),l=new Set(a);return e&&(i.has("hover")&&(i.delete("hover"),i.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[i,l]}),[e,t,n,o])}(te,g,c,s),tt=I(et,2),nt=tt[0],ot=tt[1],rt=nt.has("click"),at=ot.has("click")||ot.has("contextMenu"),it=Og((function(){Xe||$e()}));!function(e,t,n,o,r){Bl((function(){if(e&&t&&n){var a=function(){o(),r()},i=n,l=Zm(t),g=Zm(i),c=ym(i),s=new Set([c].concat(m(l),m(g)));return s.forEach((function(e){e.addEventListener("scroll",a,{passive:!0})})),c.addEventListener("resize",a,{passive:!0}),o(),function(){s.forEach((function(e){e.removeEventListener("scroll",a),c.removeEventListener("resize",a)}))}}}),[e,t,n])}(Ge,de,ge,it,(function(){Be.current&&K&&at&&we(!1)})),Bl((function(){it()}),[Fe,X]),Bl((function(){!Ge||null!==x&&void 0!==x&&x[X]||it()}),[JSON.stringify(H)]);var lt=i.useMemo((function(){var e=function(e,t,n,o){for(var r=n.points,a=Object.keys(e),i=0;i<a.length;i+=1){var l,g=a[i];if(fm(null===(l=e[g])||void 0===l?void 0:l.points,r,o))return"".concat(t,"-placement-").concat(g)}return""}(x,r,_e,K);return Pr()(e,null===F||void 0===F?void 0:F(_e))}),[_e,F,x,r,K]);i.useImperativeHandle(n,(function(){return{forceAlign:it}}));var st=I(i.useState(0),2),ut=st[0],dt=st[1],It=I(i.useState(0),2),Ct=It[0],mt=It[1],pt=function(){if(N&&de){var e=de.getBoundingClientRect();dt(e.width),mt(e.height)}};function At(e,t,n,o){Ae[e]=function(r){var a;null===o||void 0===o||o(r),we(t,n);for(var i=arguments.length,l=new Array(i>1?i-1:0),g=1;g<i;g++)l[g-1]=arguments[g];null===(a=pe[e])||void 0===a||a.call.apply(a,[pe,r].concat(l))}}Bl((function(){He&&($e(),He(),Ye(null))}),[He]),(rt||at)&&(Ae.onClick=function(e){var t;Be.current&&at?we(!1):!Be.current&&rt&&(Ke(e),we(!0));for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];null===(t=pe.onClick)||void 0===t||t.call.apply(t,[pe,e].concat(o))}),function(e,t,n,o,r,a,l,g){var c=i.useRef(e),s=i.useRef(!1);c.current!==e&&(s.current=!0,c.current=e),i.useEffect((function(){var e=ju((function(){s.current=!1}));return function(){ju.cancel(e)}}),[e]),i.useEffect((function(){if(t&&o&&(!r||a)){var e=function(){var e=!1;return[function(t){var n=t.target;e=l(n)},function(t){var n=t.target;s.current||!c.current||e||l(n)||g(!1)}]},i=I(e(),2),u=i[0],d=i[1],C=I(e(),2),m=C[0],p=C[1],A=ym(o);A.addEventListener("mousedown",u,!0),A.addEventListener("click",d,!0),A.addEventListener("contextmenu",d,!0);var h=Vs(n);return h&&(h.addEventListener("mousedown",m,!0),h.addEventListener("click",p,!0),h.addEventListener("contextmenu",p,!0)),function(){A.removeEventListener("mousedown",u,!0),A.removeEventListener("click",d,!0),A.removeEventListener("contextmenu",d,!0),h&&(h.removeEventListener("mousedown",m,!0),h.removeEventListener("click",p,!0),h.removeEventListener("contextmenu",p,!0))}}}),[t,n,o,r,a])}(Ge,at,de,ge,y,G,he,we);var ht,bt,ft=nt.has("hover"),vt=ot.has("hover");ft&&(At("onMouseEnter",!0,A,(function(e){Ke(e)})),At("onPointerEnter",!0,A,(function(e){Ke(e)})),ht=function(){(Ge||Xe)&&we(!0,A)},K&&(Ae.onMouseMove=function(e){var t;null===(t=pe.onMouseMove)||void 0===t||t.call(pe,e)})),vt&&(At("onMouseLeave",!1,b),At("onPointerLeave",!1,b),bt=function(){we(!1,b)}),nt.has("focus")&&At("onFocus",!0,f),ot.has("focus")&&At("onBlur",!1,v),nt.has("contextMenu")&&(Ae.onContextMenu=function(e){var t;Be.current&&ot.has("contextMenu")?we(!1):(Ke(e),we(!0)),e.preventDefault();for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];null===(t=pe.onContextMenu)||void 0===t||t.call.apply(t,[pe,e].concat(o))}),P&&(Ae.className=Pr()(pe.className,P));var yt=gt(gt({},pe),Ae),Zt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){_[e]&&(Zt[e]=function(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null===(t=yt[e])||void 0===t||t.call.apply(t,[yt].concat(o)),_[e].apply(_,o)})}));var Gt=i.cloneElement(me,gt(gt({},yt),Zt)),St={x:je,y:Oe},Bt=z?gt({},!0!==z?z:{}):null;return i.createElement(i.Fragment,null,i.createElement(wC,{disabled:!Ge,ref:Ce,onResize:function(){pt(),it()}},i.createElement(Em,{getTriggerDOMNode:q},Gt)),i.createElement(hm.Provider,{value:ae},i.createElement(Nm,{portal:e,ref:se,prefixCls:r,popup:W,className:Pr()(w,lt),style:R,target:de,onMouseEnter:ht,onMouseLeave:bt,onPointerEnter:ht,zIndex:Y,open:Ge,keepDom:Xe,fresh:E,onClick:M,mask:y,motion:be,maskMotion:fe,onVisibleChanged:function(e){Je(!1),$e(),null===p||void 0===p||p(e)},onPrepare:function(){return new Promise((function(e){pt(),Ye((function(){return e}))}))},forceRender:B,autoDestroy:$,getPopupContainer:S,align:_e,arrow:Bt,arrowPos:St,ready:ze,offsetX:De,offsetY:Te,offsetR:Ue,offsetB:Qe,onAlign:it,stretch:N,targetWidth:ut/Pe,targetHeight:Ct/qe})))}));return t}(Cm),Lm={shiftX:64,adjustY:1},zm={adjustX:1,shiftY:!0},Dm=[0,0],Tm={left:{points:["cr","cl"],overflow:zm,offset:[-4,0],targetOffset:Dm},right:{points:["cl","cr"],overflow:zm,offset:[4,0],targetOffset:Dm},top:{points:["bc","tc"],overflow:Lm,offset:[0,-4],targetOffset:Dm},bottom:{points:["tc","bc"],overflow:Lm,offset:[0,4],targetOffset:Dm},topLeft:{points:["bl","tl"],overflow:Lm,offset:[0,-4],targetOffset:Dm},leftTop:{points:["tr","tl"],overflow:zm,offset:[-4,0],targetOffset:Dm},topRight:{points:["br","tr"],overflow:Lm,offset:[0,-4],targetOffset:Dm},rightTop:{points:["tl","tr"],overflow:zm,offset:[4,0],targetOffset:Dm},bottomRight:{points:["tr","br"],overflow:Lm,offset:[0,4],targetOffset:Dm},rightBottom:{points:["bl","br"],overflow:zm,offset:[4,0],targetOffset:Dm},bottomLeft:{points:["tl","bl"],overflow:Lm,offset:[0,4],targetOffset:Dm},leftBottom:{points:["br","bl"],overflow:zm,offset:[-4,0],targetOffset:Dm}};function Um(e){var t=e.children,n=e.prefixCls,o=e.id,r=e.overlayInnerStyle,a=e.className,l=e.style;return i.createElement("div",{className:Pr()("".concat(n,"-content"),a),style:l},i.createElement("div",{className:"".concat(n,"-inner"),id:o,role:"tooltip",style:r},"function"===typeof t?t():t))}var Qm=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],jm=function(e,t){var n=e.overlayClassName,o=e.trigger,r=void 0===o?["hover"]:o,a=e.mouseEnterDelay,l=void 0===a?0:a,g=e.mouseLeaveDelay,c=void 0===g?.1:g,s=e.overlayStyle,u=e.prefixCls,d=void 0===u?"rc-tooltip":u,I=e.children,C=e.onVisibleChange,m=e.afterVisibleChange,p=e.transitionName,A=e.animation,h=e.motion,b=e.placement,f=void 0===b?"right":b,v=e.align,y=void 0===v?{}:v,Z=e.destroyTooltipOnHide,G=void 0!==Z&&Z,S=e.defaultVisible,B=e.getTooltipContainer,k=e.overlayInnerStyle,V=(e.arrowContent,e.overlay),W=e.id,w=e.showArrow,R=void 0===w||w,X=ct(e,Qm),J=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return J.current}));var x=gt({},X);"visible"in e&&(x.popupVisible=e.visible);return i.createElement(Mm,$r({popupClassName:n,prefixCls:d,popup:function(){return i.createElement(Um,{key:"content",prefixCls:d,id:W,overlayInnerStyle:k},V)},action:r,builtinPlacements:Tm,popupPlacement:f,ref:J,popupAlign:y,getPopupContainer:B,onPopupVisibleChange:C,afterPopupVisibleChange:m,popupTransitionName:p,popupAnimation:A,popupMotion:h,defaultPopupVisible:S,autoDestroy:G,mouseLeaveDelay:c,popupStyle:s,mouseEnterDelay:l,arrow:R},x),I)},Om=(0,i.forwardRef)(jm),Pm=function(){return{height:0,opacity:0}},qm=function(e){return{height:e.scrollHeight,opacity:1}},_m=function(e){return{height:e?e.offsetHeight:0}},$m=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},ep=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},tp=function(){return{motionName:"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ant","-motion-collapse"),onAppearStart:Pm,onEnterStart:Pm,onAppearActive:qm,onEnterActive:qm,onLeaveStart:_m,onLeaveActive:Pm,onAppearEnd:$m,onEnterEnd:$m,onLeaveEnd:$m,motionDeadline:500}},np=function(e,t,n,o,r){var a=e/2,i=a,l=1*n/Math.sqrt(2),g=a-n*(1-1/Math.sqrt(2)),c=a-t*(1/Math.sqrt(2)),s=n*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),u=2*a-c,d=s,I=2*a-l,C=g,m=2*a-0,p=i,A=a*Math.sqrt(2)+n*(Math.sqrt(2)-2),h=n*(Math.sqrt(2)-1);return{pointerEvents:"none",width:e,height:e,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:e,height:e/2,background:o,clipPath:{_multi_value_:!0,value:["polygon(".concat(h,"px 100%, 50% ").concat(h,"px, ").concat(2*a-h,"px 100%, ").concat(h,"px 100%)"),"path('M ".concat(0," ").concat(i," A ").concat(n," ").concat(n," 0 0 0 ").concat(l," ").concat(g," L ").concat(c," ").concat(s," A ").concat(t," ").concat(t," 0 0 1 ").concat(u," ").concat(d," L ").concat(I," ").concat(C," A ").concat(n," ").concat(n," 0 0 0 ").concat(m," ").concat(p," Z')")]},content:'""'},"&::after":{content:'""',position:"absolute",width:A,height:A,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:"0 0 ".concat(t,"px 0")},transform:"translateY(50%) rotate(-135deg)",boxShadow:r,zIndex:0,background:"transparent"}}},op=8;function rp(e){var t=op,n=e.contentRadius,o=n>12?n+2:12;return{dropdownArrowOffset:o,dropdownArrowOffsetVertical:e.limitVerticalRadius?t:o}}function ap(e,t){return e?t:{}}function ip(e,t){var n,o,r,a,i=e.componentCls,l=e.sizePopupArrow,g=e.borderRadiusXS,c=e.borderRadiusOuter,s=e.boxShadowPopoverArrow,u=t.colorBg,d=t.contentRadius,I=void 0===d?e.borderRadiusLG:d,C=t.limitVerticalRadius,m=t.arrowDistance,p=void 0===m?0:m,A=t.arrowPlacement,h=void 0===A?{left:!0,right:!0,top:!0,bottom:!0}:A,b=rp({contentRadius:I,limitVerticalRadius:C}),f=b.dropdownArrowOffsetVertical,v=b.dropdownArrowOffset;return it({},i,Object.assign(Object.assign(Object.assign(Object.assign(it({},"".concat(i,"-arrow"),[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},np(l,g,c,u,s)),{"&:before":{background:u}})]),ap(!!h.top,(it(n={},["&-placement-top ".concat(i,"-arrow"),"&-placement-topLeft ".concat(i,"-arrow"),"&-placement-topRight ".concat(i,"-arrow")].join(","),{bottom:p,transform:"translateY(100%) rotate(180deg)"}),it(n,"&-placement-top ".concat(i,"-arrow"),{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"}),it(n,"&-placement-topLeft ".concat(i,"-arrow"),{left:{_skip_check_:!0,value:v}}),it(n,"&-placement-topRight ".concat(i,"-arrow"),{right:{_skip_check_:!0,value:v}}),n))),ap(!!h.bottom,(it(o={},["&-placement-bottom ".concat(i,"-arrow"),"&-placement-bottomLeft ".concat(i,"-arrow"),"&-placement-bottomRight ".concat(i,"-arrow")].join(","),{top:p,transform:"translateY(-100%)"}),it(o,"&-placement-bottom ".concat(i,"-arrow"),{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"}),it(o,"&-placement-bottomLeft ".concat(i,"-arrow"),{left:{_skip_check_:!0,value:v}}),it(o,"&-placement-bottomRight ".concat(i,"-arrow"),{right:{_skip_check_:!0,value:v}}),o))),ap(!!h.left,(it(r={},["&-placement-left ".concat(i,"-arrow"),"&-placement-leftTop ".concat(i,"-arrow"),"&-placement-leftBottom ".concat(i,"-arrow")].join(","),{right:{_skip_check_:!0,value:p},transform:"translateX(100%) rotate(90deg)"}),it(r,"&-placement-left ".concat(i,"-arrow"),{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"}),it(r,"&-placement-leftTop ".concat(i,"-arrow"),{top:f}),it(r,"&-placement-leftBottom ".concat(i,"-arrow"),{bottom:f}),r))),ap(!!h.right,(it(a={},["&-placement-right ".concat(i,"-arrow"),"&-placement-rightTop ".concat(i,"-arrow"),"&-placement-rightBottom ".concat(i,"-arrow")].join(","),{left:{_skip_check_:!0,value:p},transform:"translateX(-100%) rotate(-90deg)"}),it(a,"&-placement-right ".concat(i,"-arrow"),{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"}),it(a,"&-placement-rightTop ".concat(i,"-arrow"),{top:f}),it(a,"&-placement-rightBottom ".concat(i,"-arrow"),{bottom:f}),a))))}var lp={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},gp={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},cp=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function sp(e){var t=e.arrowWidth,n=e.autoAdjustOverflow,o=e.arrowPointAtCenter,r=e.offset,a=e.borderRadius,i=e.visibleFirst,l=t/2,g={};return Object.keys(lp).forEach((function(e){var c=o&&gp[e]||lp[e],s=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(g[e]=s,cp.has(e)&&(s.autoArrow=!1),e){case"top":case"topLeft":case"topRight":s.offset[1]=-l-r;break;case"bottom":case"bottomLeft":case"bottomRight":s.offset[1]=l+r;break;case"left":case"leftTop":case"leftBottom":s.offset[0]=-l-r;break;case"right":case"rightTop":case"rightBottom":s.offset[0]=l+r}var u=rp({contentRadius:a,limitVerticalRadius:!0});if(o)switch(e){case"topLeft":case"bottomLeft":s.offset[0]=-u.dropdownArrowOffset-l;break;case"topRight":case"bottomRight":s.offset[0]=u.dropdownArrowOffset+l;break;case"leftTop":case"rightTop":s.offset[1]=-u.dropdownArrowOffset-l;break;case"leftBottom":case"rightBottom":s.offset[1]=u.dropdownArrowOffset+l}s.overflow=function(e,t,n,o){if(!1===o)return{adjustX:!1,adjustY:!1};var r=o&&"object"===typeof o?o:{},a={};switch(e){case"top":case"bottom":a.shiftX=2*t.dropdownArrowOffset+n,a.shiftY=!0,a.adjustY=!0;break;case"left":case"right":a.shiftY=2*t.dropdownArrowOffsetVertical+n,a.shiftX=!0,a.adjustX=!0}var i=Object.assign(Object.assign({},a),r);return i.shiftX||(i.adjustX=!0),i.shiftY||(i.adjustY=!0),i}(e,u,t,n),i&&(s.htmlRegion="visibleFirst")})),g}function up(){}var dp=function(){var e=function(){};return e.deprecated=up,e},Ip=function(e,t,n,o){var r,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return it(r={},"\n      ".concat(a).concat(e,"-enter,\n      ").concat(a).concat(e,"-appear\n    "),Object.assign(Object.assign({},function(e){return{animationDuration:e,animationFillMode:"both"}}(o)),{animationPlayState:"paused"})),it(r,"".concat(a).concat(e,"-leave"),Object.assign(Object.assign({},function(e){return{animationDuration:e,animationFillMode:"both"}}(o)),{animationPlayState:"paused"})),it(r,"\n      ".concat(a).concat(e,"-enter").concat(e,"-enter-active,\n      ").concat(a).concat(e,"-appear").concat(e,"-appear-active\n    "),{animationName:t,animationPlayState:"running"}),it(r,"".concat(a).concat(e,"-leave").concat(e,"-leave-active"),{animationName:n,animationPlayState:"running",pointerEvents:"none"}),r},Cp=new Qg("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),mp=new Qg("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),pp=new Qg("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Ap=new Qg("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),hp=new Qg("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),bp=new Qg("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),fp={zoom:{inKeyframes:Cp,outKeyframes:mp},"zoom-big":{inKeyframes:pp,outKeyframes:Ap},"zoom-big-fast":{inKeyframes:pp,outKeyframes:Ap},"zoom-left":{inKeyframes:new Qg("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new Qg("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new Qg("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new Qg("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:hp,outKeyframes:bp},"zoom-down":{inKeyframes:new Qg("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new Qg("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},vp=function(e,t){var n,o=e.antCls,r="".concat(o,"-").concat(t),a=fp[t],i=a.inKeyframes,l=a.outKeyframes;return[Ip(r,i,l,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),(n={},it(n,"\n        ".concat(r,"-enter,\n        ").concat(r,"-appear\n      "),{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}}),it(n,"".concat(r,"-leave"),{animationTimingFunction:e.motionEaseInOutCirc}),n)]},yp=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Zp(e,t){return yp.reduce((function(n,o){var r=e["".concat(o,"1")],a=e["".concat(o,"3")],i=e["".concat(o,"6")],l=e["".concat(o,"7")];return Object.assign(Object.assign({},n),t(o,{lightColor:r,lightBorderColor:a,darkColor:i,textColor:l}))}),{})}var Gp=function(e){var t,n=e.componentCls,o=e.tooltipMaxWidth,r=e.tooltipColor,a=e.tooltipBg,i=e.tooltipBorderRadius,l=e.zIndexPopup,g=e.controlHeight,c=e.boxShadowSecondary,s=e.paddingSM,u=e.paddingXS,d=e.tooltipRadiusOuter;return[it({},n,Object.assign(Object.assign(Object.assign(Object.assign({},Ji(e)),(t={position:"absolute",zIndex:l,display:"block",width:"max-content",maxWidth:o,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":a},it(t,"".concat(n,"-inner"),{minWidth:g,minHeight:g,padding:"".concat(s/2,"px ").concat(u,"px"),color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:a,borderRadius:i,boxShadow:c,boxSizing:"border-box"}),it(t,["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(","),it({},"".concat(n,"-inner"),{borderRadius:Math.min(i,op)})),it(t,"".concat(n,"-content"),{position:"relative"}),t)),Zp(e,(function(e,t){var o,r=t.darkColor;return it({},"&".concat(n,"-").concat(e),(it(o={},"".concat(n,"-inner"),{backgroundColor:r}),it(o,"".concat(n,"-arrow"),{"--antd-arrow-background-color":r}),o))}))),{"&-rtl":{direction:"rtl"}})),ip(Mi(e,{borderRadiusOuter:d}),{colorBg:"var(--antd-arrow-background-color)",contentRadius:i,limitVerticalRadius:!0}),it({},"".concat(n,"-pure"),{position:"relative",maxWidth:"none",margin:e.sizePopupArrow})]},Sp=function(e,t){var n=gs("Tooltip",(function(e){if(!1===t)return[];var n=e.borderRadius,o=e.colorTextLightSolid,r=e.colorBgDefault,a=e.borderRadiusOuter,i=Mi(e,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:n,tooltipBg:r,tooltipRadiusOuter:a>4?4:a});return[Gp(i),vp(e,"zoom-big-fast")]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+70,colorBgDefault:e.colorBgSpotlight}}),{resetStyle:!1});return n(e)},Bp=yp.map((function(e){return"".concat(e,"-inverse")}));function kp(e,t){var n=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?yp.includes(e):[].concat(m(Bp),m(yp)).includes(e)}(t),o=Pr()(it({},"".concat(e,"-").concat(t),t&&n)),r={},a={};return t&&!n&&(r.background=t,a["--antd-arrow-background-color"]=t),{className:o,overlayStyle:r,arrowStyle:a}}var Vp=function(e){var t=e.prefixCls,n=e.className,o=e.placement,r=void 0===o?"top":o,a=e.title,l=e.color,g=e.overlayInnerStyle,c=(0,i.useContext(_r).getPrefixCls)("tooltip",t),s=I(Sp(c,!0),2),u=s[0],d=s[1],C=kp(c,l),m=C.arrowStyle,p=Object.assign(Object.assign({},g),C.overlayStyle),A=Pr()(d,c,"".concat(c,"-pure"),"".concat(c,"-placement-").concat(r),n,C.className);return u(i.createElement("div",{className:A,style:m},i.createElement("div",{className:"".concat(c,"-arrow")}),i.createElement(Um,Object.assign({},e,{className:d,prefixCls:c,overlayInnerStyle:p}),a)))},Wp=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},wp=i.forwardRef((function(e,t){var n,o,r=e.prefixCls,a=e.openClassName,l=e.getTooltipContainer,g=e.overlayClassName,c=e.color,s=e.overlayInnerStyle,u=e.children,d=e.afterOpenChange,C=e.afterVisibleChange,m=e.destroyTooltipOnHide,p=e.arrow,A=void 0===p||p,h=e.title,b=e.overlay,f=e.builtinPlacements,v=e.arrowPointAtCenter,y=void 0!==v&&v,Z=e.autoAdjustOverflow,G=void 0===Z||Z,S=!!A,B=I(is(),2)[1],k=i.useContext(_r),V=k.getPopupContainer,W=k.getPrefixCls,w=k.direction,R=dp("Tooltip"),X=i.useRef(null),J=function(){var e;null===(e=X.current)||void 0===e||e.forceAlign()};i.useImperativeHandle(t,(function(){return{forceAlign:J,forcePopupAlign:function(){R.deprecated(!1,"forcePopupAlign","forceAlign"),J()}}}));var x=I(_g(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(o=e.defaultOpen)&&void 0!==o?o:e.defaultVisible}),2),H=x[0],Y=x[1],N=!h&&!b&&0!==h,F=i.useMemo((function(){var e,t,n=y;return"object"===typeof A&&(n=null!==(t=null!==(e=A.pointAtCenter)&&void 0!==e?e:A.arrowPointAtCenter)&&void 0!==t?t:y),f||sp({arrowPointAtCenter:n,autoAdjustOverflow:G,arrowWidth:S?B.sizePopupArrow:0,borderRadius:B.borderRadius,offset:B.marginXXS,visibleFirst:!0})}),[y,A,f,B]),E=i.useMemo((function(){return 0===h?h:b||h||""}),[b,h]),K=i.createElement(mu,null,"function"===typeof E?E():E),M=e.getPopupContainer,L=e.placement,z=void 0===L?"top":L,D=e.mouseEnterDelay,T=void 0===D?.1:D,U=e.mouseLeaveDelay,Q=void 0===U?.1:U,j=e.overlayStyle,O=e.rootClassName,P=Wp(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),q=W("tooltip",r),_=W(),$=e["data-popover-inject"],ee=H;"open"in e||"visible"in e||!N||(ee=!1);var te=Yu(u)&&!Nu(u)?u:i.createElement("span",null,u),ne=te.props,oe=ne.className&&"string"!==typeof ne.className?ne.className:Pr()(ne.className,a||"".concat(q,"-open")),re=I(Sp(q,!$),2),ae=re[0],ie=re[1],le=kp(q,c),ge=le.arrowStyle,ce=Object.assign(Object.assign({},s),le.overlayStyle),se=Pr()(g,it({},"".concat(q,"-rtl"),"rtl"===w),le.className,O,ie);return ae(i.createElement(Om,Object.assign({},P,{showArrow:S,placement:z,mouseEnterDelay:T,mouseLeaveDelay:Q,prefixCls:q,overlayClassName:se,overlayStyle:Object.assign(Object.assign({},ge),j),getTooltipContainer:M||l||V,ref:X,builtinPlacements:F,overlay:K,visible:ee,onVisibleChange:function(t){var n,o;Y(!N&&t),N||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(o=e.onVisibleChange)||void 0===o||o.call(e,t))},afterVisibleChange:null!==d&&void 0!==d?d:C,overlayInnerStyle:ce,arrowContent:i.createElement("span",{className:"".concat(q,"-arrow-content")}),motion:{motionName:ep(_,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!m}),ee?Fu(te,{className:oe}):te))}));wp._InternalPanelDoNotUseOrYouWillBeFired=Vp;var Rp=wp,Xp=["xxl","xl","lg","md","sm","xs"],Jp=function(e){return{xs:"(max-width: ".concat(e.screenXSMax,"px)"),sm:"(min-width: ".concat(e.screenSM,"px)"),md:"(min-width: ".concat(e.screenMD,"px)"),lg:"(min-width: ".concat(e.screenLG,"px)"),xl:"(min-width: ".concat(e.screenXL,"px)"),xxl:"(min-width: ".concat(e.screenXXL,"px)")}},xp=function(e){var t=e,n=[].concat(Xp).reverse();return n.forEach((function(e,o){var r=e.toUpperCase(),a="screen".concat(r,"Min"),i="screen".concat(r);if(!(t[a]<=t[i]))throw new Error("".concat(a,"<=").concat(i," fails : !(").concat(t[a],"<=").concat(t[i],")"));if(o<n.length-1){var l="screen".concat(r,"Max");if(!(t[i]<=t[l]))throw new Error("".concat(i,"<=").concat(l," fails : !(").concat(t[i],"<=").concat(t[l],")"));var g=n[o+1].toUpperCase(),c="screen".concat(g,"Min");if(!(t[l]<=t[c]))throw new Error("".concat(l,"<=").concat(c," fails : !(").concat(t[l],"<=").concat(t[c],")"))}})),e};function Hp(){var e=i.useReducer((function(e){return e+1}),0);return I(e,2)[1]}var Yp=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,i.useRef)({}),n=Hp(),o=function(){var e=I(is(),2)[1],t=Jp(xp(e));return i.useMemo((function(){var e=new Map,n=-1,o={};return{matchHandlers:{},dispatch:function(t){return o=t,e.forEach((function(e){return e(o)})),e.size>=1},subscribe:function(t){return e.size||this.register(),n+=1,e.set(n,t),t(o),n},unsubscribe:function(t){e.delete(t),e.size||this.unregister()},unregister:function(){var n=this;Object.keys(t).forEach((function(e){var o=t[e],r=n.matchHandlers[o];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),e.clear()},register:function(){var e=this;Object.keys(t).forEach((function(n){var r=t[n],a=function(t){var r=t.matches;e.dispatch(Object.assign(Object.assign({},o),it({},n,r)))},i=window.matchMedia(r);i.addListener(a),e.matchHandlers[r]={mql:i,listener:a},a(i)}))},responsiveMap:t}}),[e])}();return Bl((function(){var r=o.subscribe((function(o){t.current=o,e&&n()}));return function(){return o.unsubscribe(r)}}),[]),t.current},Np=i.createContext({}),Fp=function(e){var t,n,o=e.antCls,r=e.componentCls,a=e.iconCls,i=e.avatarBg,l=e.avatarColor,g=e.containerSize,c=e.containerSizeLG,s=e.containerSizeSM,u=e.textFontSize,d=e.textFontSizeLG,I=e.textFontSizeSM,C=e.borderRadius,m=e.borderRadiusLG,p=e.borderRadiusSM,A=e.lineWidth,h=e.lineType,b=function(e,t,n){var o;return it(o={width:e,height:e,lineHeight:"".concat(e-2*A,"px"),borderRadius:"50%"},"&".concat(r,"-square"),{borderRadius:n}),it(o,"".concat(r,"-string"),{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"}),it(o,"&".concat(r,"-icon"),it({fontSize:t},"> ".concat(a),{margin:0})),o};return it({},r,Object.assign(Object.assign(Object.assign(Object.assign({},Ji(e)),(it(t={position:"relative",display:"inline-block",overflow:"hidden",color:l,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:i,border:"".concat(A,"px ").concat(h," transparent")},"&-image",{background:"transparent"}),it(t,"".concat(o,"-image-img"),{display:"block"}),t)),b(g,u,C)),(it(n={},"&-lg",Object.assign({},b(c,d,m))),it(n,"&-sm",Object.assign({},b(s,I,p))),it(n,"> img",{display:"block",width:"100%",height:"100%",objectFit:"cover"}),n)))},Ep=function(e){var t,n,o=e.componentCls,r=e.groupBorderColor,a=e.groupOverlapping,i=e.groupSpace;return it(n={},"".concat(o,"-group"),(it(t={display:"inline-flex"},"".concat(o),{borderColor:r}),it(t,"> *:not(:first-child)",{marginInlineStart:a}),t)),it(n,"".concat(o,"-group-popover"),it({},"".concat(o," + ").concat(o),{marginInlineStart:i})),n},Kp=gs("Avatar",(function(e){var t=e.colorTextLightSolid,n=Mi(e,{avatarBg:e.colorTextPlaceholder,avatarColor:t});return[Fp(n),Ep(n)]}),(function(e){var t=e.controlHeight,n=e.controlHeightLG,o=e.controlHeightSM,r=e.fontSize,a=e.fontSizeLG,i=e.fontSizeXL,l=e.fontSizeHeading3,g=e.marginXS,c=e.marginXXS,s=e.colorBorderBg;return{containerSize:t,containerSizeLG:n,containerSizeSM:o,textFontSize:Math.round((a+i)/2),textFontSizeLG:l,textFontSizeSM:r,groupSpace:c,groupOverlapping:-g,groupBorderColor:s}})),Mp=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Lp=function(e,t){var n,o,r=I(i.useState(1),2),a=r[0],l=r[1],g=I(i.useState(!1),2),c=g[0],s=g[1],u=I(i.useState(!0),2),d=u[0],C=u[1],m=i.useRef(null),p=i.useRef(null),A=ec(t,m),h=i.useContext(_r),b=h.getPrefixCls,f=h.avatar,v=i.useContext(Np),y=function(){if(p.current&&m.current){var t=p.current.offsetWidth,n=m.current.offsetWidth;if(0!==t&&0!==n){var o=e.gap,r=void 0===o?4:o;2*r<n&&l(n-2*r<t?(n-2*r)/t:1)}}};i.useEffect((function(){s(!0)}),[]),i.useEffect((function(){C(!0),l(1)}),[e.src]),i.useEffect(y,[e.gap]);var Z,G=e.prefixCls,S=e.shape,B=e.size,k=e.src,V=e.srcSet,W=e.icon,w=e.className,R=e.rootClassName,X=e.alt,J=e.draggable,x=e.children,H=e.crossOrigin,Y=Mp(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),N=lu((function(e){var t,n;return null!==(n=null!==(t=null!==B&&void 0!==B?B:null===v||void 0===v?void 0:v.size)&&void 0!==t?t:e)&&void 0!==n?n:"default"})),F=Object.keys("object"===typeof N&&N||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),E=Yp(F),K=i.useMemo((function(){if("object"!==typeof N)return{};var e=Xp.find((function(e){return E[e]})),t=N[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:W?t/2:18}:{}}),[E,N]),M=b("avatar",G),L=I(Kp(M),2),z=L[0],D=L[1],T=Pr()((it(n={},"".concat(M,"-lg"),"large"===N),it(n,"".concat(M,"-sm"),"small"===N),n)),U=i.isValidElement(k),Q=S||(null===v||void 0===v?void 0:v.shape)||"circle",j=Pr()(M,T,null===f||void 0===f?void 0:f.className,"".concat(M,"-").concat(Q),(it(o={},"".concat(M,"-image"),U||k&&d),it(o,"".concat(M,"-icon"),!!W),o),w,R,D),O="number"===typeof N?{width:N,height:N,lineHeight:"".concat(N,"px"),fontSize:W?N/2:18}:{};if("string"===typeof k&&d)Z=i.createElement("img",{src:k,draggable:J,srcSet:V,onError:function(){var t=e.onError;!1!==(null===t||void 0===t?void 0:t())&&C(!1)},alt:X,crossOrigin:H});else if(U)Z=k;else if(W)Z=W;else if(c||1!==a){var P="scale(".concat(a,") translateX(-50%)"),q={msTransform:P,WebkitTransform:P,transform:P},_="number"===typeof N?{lineHeight:"".concat(N,"px")}:{};Z=i.createElement(wC,{onResize:y},i.createElement("span",{className:"".concat(M,"-string"),ref:p,style:Object.assign(Object.assign({},_),q)},x))}else Z=i.createElement("span",{className:"".concat(M,"-string"),style:{opacity:0},ref:p},x);return delete Y.onError,delete Y.gap,z(i.createElement("span",Object.assign({},Y,{style:Object.assign(Object.assign(Object.assign(Object.assign({},O),K),null===f||void 0===f?void 0:f.style),Y.style),className:j,ref:A}),Z))};var zp=i.forwardRef(Lp),Dp=function(e){return e?"function"===typeof e?e():e:null},Tp=function(e){var t,n=e.componentCls,o=e.popoverColor,r=e.minWidth,a=e.fontWeightStrong,i=e.popoverPadding,l=e.boxShadowSecondary,g=e.colorTextHeading,c=e.borderRadiusLG,s=e.zIndexPopup,u=e.marginXS,d=e.colorBgElevated,I=e.popoverBg;return[it({},n,Object.assign(Object.assign({},Ji(e)),(t={position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:s,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":d,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"}},it(t,"".concat(n,"-content"),{position:"relative"}),it(t,"".concat(n,"-inner"),{backgroundColor:I,backgroundClip:"padding-box",borderRadius:c,boxShadow:l,padding:i}),it(t,"".concat(n,"-title"),{minWidth:r,marginBottom:u,color:g,fontWeight:a}),it(t,"".concat(n,"-inner-content"),{color:o}),t))),ip(e,{colorBg:"var(--antd-arrow-background-color)"}),it({},"".concat(n,"-pure"),it({position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block"},"".concat(n,"-content"),{display:"inline-block"}))]},Up=function(e){var t=e.componentCls;return it({},t,yp.map((function(n){var o,r=e["".concat(n,"6")];return it({},"&".concat(t,"-").concat(n),(it(o={"--antd-arrow-background-color":r},"".concat(t,"-inner"),{backgroundColor:r}),it(o,"".concat(t,"-arrow"),{background:"transparent"}),o))})))},Qp=function(e){var t,n=e.componentCls,o=e.lineWidth,r=e.lineType,a=e.colorSplit,i=e.paddingSM,l=e.controlHeight,g=e.fontSize,c=e.lineHeight,s=e.padding,u=l-Math.round(g*c),d=u/2,I=u/2-o,C=s;return it({},n,(it(t={},"".concat(n,"-inner"),{padding:0}),it(t,"".concat(n,"-title"),{margin:0,padding:"".concat(d,"px ").concat(C,"px ").concat(I,"px"),borderBottom:"".concat(o,"px ").concat(r," ").concat(a)}),it(t,"".concat(n,"-inner-content"),{padding:"".concat(i,"px ").concat(C,"px")}),t))},jp=gs("Popover",(function(e){var t=e.colorBgElevated,n=e.colorText,o=e.wireframe,r=Mi(e,{popoverPadding:12,popoverBg:t,popoverColor:n});return[Tp(r),Up(r),o&&Qp(r),vp(r,"zoom-big")]}),(function(e){return{width:177,minWidth:177,zIndexPopup:e.zIndexPopupBase+30}}),{resetStyle:!1,deprecatedTokens:[["width","minWidth"]]}),Op=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Pp=function(e){var t=e.hashId,n=e.prefixCls,o=e.className,r=e.style,a=e.placement,l=void 0===a?"top":a,g=e.title,c=e.content,s=e.children;return i.createElement("div",{className:Pr()(t,n,"".concat(n,"-pure"),"".concat(n,"-placement-").concat(l),o),style:r},i.createElement("div",{className:"".concat(n,"-arrow")}),i.createElement(Um,Object.assign({},e,{className:t,prefixCls:n}),s||function(e,t,n){if(t||n)return i.createElement(i.Fragment,null,t&&i.createElement("div",{className:"".concat(e,"-title")},Dp(t)),i.createElement("div",{className:"".concat(e,"-inner-content")},Dp(n)))}(n,g,c)))},qp=function(e){var t=e.prefixCls,n=Op(e,["prefixCls"]),o=(0,i.useContext(_r).getPrefixCls)("popover",t),r=I(jp(o),2),a=r[0],l=r[1];return a(i.createElement(Pp,Object.assign({},n,{prefixCls:o,hashId:l})))},_p=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},$p=function(e){var t=e.title,n=e.content,o=e.prefixCls;return i.createElement(i.Fragment,null,t&&i.createElement("div",{className:"".concat(o,"-title")},Dp(t)),i.createElement("div",{className:"".concat(o,"-inner-content")},Dp(n)))},eA=i.forwardRef((function(e,t){var n=e.prefixCls,o=e.title,r=e.content,a=e.overlayClassName,l=e.placement,g=void 0===l?"top":l,c=e.trigger,s=void 0===c?"hover":c,u=e.mouseEnterDelay,d=void 0===u?.1:u,C=e.mouseLeaveDelay,m=void 0===C?.1:C,p=e.overlayStyle,A=void 0===p?{}:p,h=_p(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),b=i.useContext(_r).getPrefixCls,f=b("popover",n),v=I(jp(f),2),y=v[0],Z=v[1],G=b(),S=Pr()(a,Z);return y(i.createElement(Rp,Object.assign({placement:g,trigger:s,mouseEnterDelay:d,mouseLeaveDelay:m,overlayStyle:A},h,{prefixCls:f,overlayClassName:S,ref:t,overlay:o||r?i.createElement($p,{prefixCls:f,title:o,content:r}):null,transitionName:ep(G,"zoom-big",h.transitionName),"data-popover-inject":!0})))}));eA._InternalPanelDoNotUseOrYouWillBeFired=qp;var tA=eA,nA=function(e){var t=i.useContext(Np),n=t.size,o=t.shape,r=i.useMemo((function(){return{size:e.size||n,shape:e.shape||o}}),[e.size,e.shape,n,o]);return i.createElement(Np.Provider,{value:r},e.children)},oA=function(e){var t=i.useContext(_r),n=t.getPrefixCls,o=t.direction,r=e.prefixCls,a=e.className,l=e.rootClassName,g=e.style,c=e.maxCount,s=e.maxStyle,u=e.size,d=e.shape,C=e.maxPopoverPlacement,m=void 0===C?"top":C,p=e.maxPopoverTrigger,A=void 0===p?"hover":p,h=e.children,b=n("avatar",r),f="".concat(b,"-group"),v=I(Kp(b),2),y=v[0],Z=v[1],G=Pr()(f,it({},"".concat(f,"-rtl"),"rtl"===o),a,l,Z),S=ta(h).map((function(e,t){return Fu(e,{key:"avatar-key-".concat(t)})})),B=S.length;if(c&&c<B){var k=S.slice(0,c),V=S.slice(c,B);return k.push(i.createElement(tA,{key:"avatar-popover-key",content:V,trigger:A,placement:m,overlayClassName:"".concat(f,"-popover")},i.createElement(zp,{style:s},"+".concat(B-c)))),y(i.createElement(nA,{shape:d,size:u},i.createElement("div",{className:G,style:g},k)))}return y(i.createElement(nA,{shape:d,size:u},i.createElement("div",{className:G,style:g},S)))},rA=zp;rA.Group=oA;var aA=rA,iA=function(e){var t=e.toString().replace(/[^0-9]/g,"");return"$ ".concat(t.replace(/\B(?=(\d{3})+(?!\d))/g,","))},lA=function(e){var t=new Date(e).toLocaleString("en-US").replace(/:\d{2}(?=\s[A|P]M$)/,"").split(", ");return{date:t[0],time:t[1]}};var gA=function(e){return function(e){if(!Array.isArray(e))return!1;var t,n=W(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(!o.hasOwnProperty("Id")||!o.hasOwnProperty("Name"))return!1}}catch(r){n.e(r)}finally{n.f()}return!0}(e)?e.map((function(e){return{value:e.Id,label:e.Name,complete:e}})):e};function cA(e,t,n){var o=new Date;o.setDate(o.getDate()+n);var r=encodeURIComponent(t)+"; expires="+o.toUTCString();document.cookie=e+"="+r}function sA(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var o=t[n].trim();if(o.startsWith(e+"="))return decodeURIComponent(o.substring(e.length+1))}return null}function uA(e){var t=new Date(0).toUTCString();document.cookie=e+"=; expires="+t}var dA=function(e,t,n,o,r){return{dataIndex:e,key:e,ellipsis:{showTitle:!0},filterDropdown:function(n){var r=n.setSelectedKeys,a=n.selectedKeys,i=n.confirm,l=n.clearFilters,g=n.close;return(0,nt.jsxs)("div",{style:{padding:8},onKeyDown:function(e){return e.stopPropagation()},children:[(0,nt.jsx)(UC,{ref:t,placeholder:"Buscar ".concat(e),value:a[0],onChange:function(e){return r(e.target.value?[e.target.value]:[])},onPressEnter:function(){i(),o(e)},style:{marginBottom:8,display:"block"}}),(0,nt.jsxs)(nm,{children:[(0,nt.jsx)(OI,{type:"primary",onClick:function(){i(),o(e)},icon:(0,nt.jsx)(Hu,{}),size:"small",style:{width:90},children:"Buscar"}),(0,nt.jsx)(OI,{onClick:function(){l&&l(),i({closeDropdown:!1}),o(e)},size:"small",children:"Limpiar"}),(0,nt.jsx)(OI,{type:"link",size:"small",onClick:function(){return g()},danger:!0,children:"cerrar"})]})]})},filterIcon:function(e){return(0,nt.jsx)(Hu,{style:{color:e?"#1677ff":void 0}})},onFilter:function(t,n){return n[e]&&n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){var e;return null===(e=t.current)||void 0===e?void 0:e.select()}),100)},render:function(t){return(0,nt.jsx)(Rp,{placement:"topLeft",title:"boolean"===typeof t?t?"Si":"No":"money"===r?iA(t):"date"===r?new Date(t).toLocaleDateString():"photo"===r?(0,nt.jsx)(aA,{icon:(0,nt.jsx)("img",{src:t?"https://tiolucho.somee.com/AssetsImages/".concat(t):rt,alt:"imagen del usuario tio lucho"})}):t,children:n===e?(0,nt.jsx)("b",{style:{color:"#1677ff"},children:"boolean"===typeof t?t?"Si":"No":"money"===r?iA(t):"date"===r?new Date(t).toLocaleDateString():"photo"===r?(0,nt.jsx)(aA,{icon:(0,nt.jsx)("img",{src:t?"https://tiolucho.somee.com/AssetsImages/".concat(t):rt,alt:"imagen del usuario tio lucho"})}):t}):"boolean"===typeof t?t?"Si":"No":"money"===r?iA(t):"date"===r?new Date(t).toLocaleDateString():"photo"===r?(0,nt.jsx)(aA,{icon:(0,nt.jsx)("img",{src:t?"https://tiolucho.somee.com/AssetsImages/".concat(t):rt,alt:"imagen del usuario tio lucho"})}):t})}}},IA=(0,i.createContext)(void 0);function CA(e){var t=e.children,n=Ze(),o=Vr(),r=o.setIsLoading,a=o.menuConfig,l=I((0,i.useState)(JSON.parse(sA("appUser"))||null),2),g=l[0],c=l[1],s=I((0,i.useState)(JSON.parse(sA("token"))||null),2),u=s[0],d=s[1],C={path:"https://tiolucho.somee.com/",user:g,token:u,login:function(e,t){c(e),d(t),cA("appUser",JSON.stringify(e),1),cA("token",JSON.stringify(t),1),n("/home")},logout:function(){r(!0),c(null),d(null),uA("appUser"),uA("token"),n("/auth/login")}};return(0,nt.jsxs)(IA.Provider,{value:C,children:[(0,nt.jsx)(jr,{config:a}),t]})}function mA(){var e=(0,i.useContext)(IA);if(!e)throw new Error("The auth must be used within a correct approach");return e}function pA(e){var t,n,o=e.children,r=mA();return r.user&&r.token?o:(null===(t=document.querySelector('meta[name="theme-color"]'))||void 0===t||t.setAttribute("content","#FEFEFE"),null===(n=document.querySelector('meta[name="background-color"]'))||void 0===n||n.setAttribute("content","#FEFEFE"),(0,nt.jsx)(Fe,{to:"/auth/login"}))}function AA(e){var t,n,o=e.children,r=mA();return r.user&&r.token&&"D1141F51-D57B-4376-915D-9D45DC29078C"===r.user.roleId.toUpperCase()?o:(null===(t=document.querySelector('meta[name="theme-color"]'))||void 0===t||t.setAttribute("content","#FEFEFE"),null===(n=document.querySelector('meta[name="background-color"]'))||void 0===n||n.setAttribute("content","#FEFEFE"),(0,nt.jsx)(Fe,{to:"/auth/login"}))}function hA(e,t){return function(){return e.apply(t,arguments)}}var bA,fA=Object.prototype.toString,vA=Object.getPrototypeOf,yA=(bA=Object.create(null),function(e){var t=fA.call(e);return bA[t]||(bA[t]=t.slice(8,-1).toLowerCase())}),ZA=function(e){return e=e.toLowerCase(),function(t){return yA(t)===e}},GA=function(e){return function(t){return typeof t===e}},SA=Array.isArray,BA=GA("undefined");var kA=ZA("ArrayBuffer");var VA=GA("string"),WA=GA("function"),wA=GA("number"),RA=function(e){return null!==e&&"object"===typeof e},XA=function(e){if("object"!==yA(e))return!1;var t=vA(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},JA=ZA("Date"),xA=ZA("File"),HA=ZA("Blob"),YA=ZA("FileList"),NA=ZA("URLSearchParams");function FA(e,t){var n,o,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==r&&r;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),SA(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{var i,l=a?Object.getOwnPropertyNames(e):Object.keys(e),g=l.length;for(n=0;n<g;n++)i=l[n],t.call(null,e[i],i,e)}}function EA(e,t){t=t.toLowerCase();for(var n,o=Object.keys(e),r=o.length;r-- >0;)if(t===(n=o[r]).toLowerCase())return n;return null}var KA="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,MA=function(e){return!BA(e)&&e!==KA};var LA,zA=(LA="undefined"!==typeof Uint8Array&&vA(Uint8Array),function(e){return LA&&e instanceof LA}),DA=ZA("HTMLFormElement"),TA=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),UA=ZA("RegExp"),QA=function(e,t){var n=Object.getOwnPropertyDescriptors(e),o={};FA(n,(function(n,r){var a;!1!==(a=t(n,r,e))&&(o[r]=a||n)})),Object.defineProperties(e,o)},jA="abcdefghijklmnopqrstuvwxyz",OA="0123456789",PA={DIGIT:OA,ALPHA:jA,ALPHA_DIGIT:jA+jA.toUpperCase()+OA};var qA=ZA("AsyncFunction"),_A={isArray:SA,isArrayBuffer:kA,isBuffer:function(e){return null!==e&&!BA(e)&&null!==e.constructor&&!BA(e.constructor)&&WA(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||WA(e.append)&&("formdata"===(t=yA(e))||"object"===t&&WA(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&kA(e.buffer)},isString:VA,isNumber:wA,isBoolean:function(e){return!0===e||!1===e},isObject:RA,isPlainObject:XA,isUndefined:BA,isDate:JA,isFile:xA,isBlob:HA,isRegExp:UA,isFunction:WA,isStream:function(e){return RA(e)&&WA(e.pipe)},isURLSearchParams:NA,isTypedArray:zA,isFileList:YA,forEach:FA,merge:function e(){for(var t=(MA(this)&&this||{}).caseless,n={},o=function(o,r){var a=t&&EA(n,r)||r;XA(n[a])&&XA(o)?n[a]=e(n[a],o):XA(o)?n[a]=e({},o):SA(o)?n[a]=o.slice():n[a]=o},r=0,a=arguments.length;r<a;r++)arguments[r]&&FA(arguments[r],o);return n},extend:function(e,t,n){return FA(t,(function(t,o){n&&WA(t)?e[o]=hA(t,n):e[o]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,o){e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,o){var r,a,i,l={};if(t=t||{},null==e)return t;do{for(a=(r=Object.getOwnPropertyNames(e)).length;a-- >0;)i=r[a],o&&!o(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==n&&vA(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:yA,kindOfTest:ZA,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var o=e.indexOf(t,n);return-1!==o&&o===n},toArray:function(e){if(!e)return null;if(SA(e))return e;var t=e.length;if(!wA(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,o=(e&&e[Symbol.iterator]).call(e);(n=o.next())&&!n.done;){var r=n.value;t.call(e,r[0],r[1])}},matchAll:function(e,t){for(var n,o=[];null!==(n=e.exec(t));)o.push(n);return o},isHTMLForm:DA,hasOwnProperty:TA,hasOwnProp:TA,reduceDescriptors:QA,freezeMethods:function(e){QA(e,(function(t,n){if(WA(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var o=e[n];WA(o)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},o=function(e){e.forEach((function(e){n[e]=!0}))};return SA(e)?o(e):o(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:EA,global:KA,isContextDefined:MA,ALPHABET:PA,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PA.ALPHA_DIGIT,n="",o=t.length;e--;)n+=t[Math.random()*o|0];return n},isSpecCompliantForm:function(e){return!!(e&&WA(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,o){if(RA(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[o]=n;var r=SA(n)?[]:{};return FA(n,(function(t,n){var a=e(t,o+1);!BA(a)&&(r[n]=a)})),t[o]=void 0,r}}return n}(e,0)},isAsyncFn:qA,isThenable:function(e){return e&&(RA(e)||WA(e))&&WA(e.then)&&WA(e.catch)}};function $A(e,t,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r)}_A.inherits($A,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_A.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var eh=$A.prototype,th={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){th[e]={value:e}})),Object.defineProperties($A,th),Object.defineProperty(eh,"isAxiosError",{value:!0}),$A.from=function(e,t,n,o,r,a){var i=Object.create(eh);return _A.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),$A.call(i,e.message,t,n,o,r),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};var nh=$A;function oh(e){return _A.isPlainObject(e)||_A.isArray(e)}function rh(e){return _A.endsWith(e,"[]")?e.slice(0,-2):e}function ah(e,t,n){return e?e.concat(t).map((function(e,t){return e=rh(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var ih=_A.toFlatObject(_A,{},null,(function(e){return/^is[A-Z]/.test(e)}));var lh=function(e,t,n){if(!_A.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var o=(n=_A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!_A.isUndefined(t[e])}))).metaTokens,r=n.visitor||c,a=n.dots,i=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&_A.isSpecCompliantForm(t);if(!_A.isFunction(r))throw new TypeError("visitor must be a function");function g(e){if(null===e)return"";if(_A.isDate(e))return e.toISOString();if(!l&&_A.isBlob(e))throw new nh("Blob is not supported. Use a Buffer instead.");return _A.isArrayBuffer(e)||_A.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){var l=e;if(e&&!r&&"object"===typeof e)if(_A.endsWith(n,"{}"))n=o?n:n.slice(0,-2),e=JSON.stringify(e);else if(_A.isArray(e)&&function(e){return _A.isArray(e)&&!e.some(oh)}(e)||(_A.isFileList(e)||_A.endsWith(n,"[]"))&&(l=_A.toArray(e)))return n=rh(n),l.forEach((function(e,o){!_A.isUndefined(e)&&null!==e&&t.append(!0===i?ah([n],o,a):null===i?n:n+"[]",g(e))})),!1;return!!oh(e)||(t.append(ah(r,n,a),g(e)),!1)}var s=[],u=Object.assign(ih,{defaultVisitor:c,convertValue:g,isVisitable:oh});if(!_A.isObject(e))throw new TypeError("data must be an object");return function e(n,o){if(!_A.isUndefined(n)){if(-1!==s.indexOf(n))throw Error("Circular reference detected in "+o.join("."));s.push(n),_A.forEach(n,(function(n,a){!0===(!(_A.isUndefined(n)||null===n)&&r.call(t,n,_A.isString(a)?a.trim():a,o,u))&&e(n,o?o.concat(a):[a])})),s.pop()}}(e),t};function gh(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ch(e,t){this._pairs=[],e&&lh(e,this,t)}var sh=ch.prototype;sh.append=function(e,t){this._pairs.push([e,t])},sh.toString=function(e){var t=e?function(t){return e.call(this,t,gh)}:gh;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var uh=ch;function dh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ih(e,t,n){if(!t)return e;var o,r=n&&n.encode||dh,a=n&&n.serialize;if(o=a?a(t,n):_A.isURLSearchParams(t)?t.toString():new uh(t,n).toString(r)){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}var Ch=function(){function e(){p(this,e),this.handlers=[]}return b(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){_A.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),mh=Ch,ph={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ah={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:uh,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var hh=function(e){function t(e,n,o,r){var a=e[r++],i=Number.isFinite(+a),l=r>=e.length;return a=!a&&_A.isArray(o)?o.length:a,l?(_A.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!i):(o[a]&&_A.isObject(o[a])||(o[a]=[]),t(e,n,o[a],r)&&_A.isArray(o[a])&&(o[a]=function(e){var t,n,o={},r=Object.keys(e),a=r.length;for(t=0;t<a;t++)o[n=r[t]]=e[n];return o}(o[a])),!i)}if(_A.isFormData(e)&&_A.isFunction(e.entries)){var n={};return _A.forEachEntry(e,(function(e,o){t(function(e){return _A.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),o,n,0)})),n}return null};var bh={transitional:ph,adapter:Ah.isNode?"http":"xhr",transformRequest:[function(e,t){var n,o=t.getContentType()||"",r=o.indexOf("application/json")>-1,a=_A.isObject(e);if(a&&_A.isHTMLForm(e)&&(e=new FormData(e)),_A.isFormData(e))return r&&r?JSON.stringify(hh(e)):e;if(_A.isArrayBuffer(e)||_A.isBuffer(e)||_A.isStream(e)||_A.isFile(e)||_A.isBlob(e))return e;if(_A.isArrayBufferView(e))return e.buffer;if(_A.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(o.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return lh(e,new Ah.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,o){return Ah.isNode&&_A.isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=_A.isFileList(e))||o.indexOf("multipart/form-data")>-1){var i=this.env&&this.env.FormData;return lh(n?{"files[]":e}:e,i&&new i,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(_A.isString(e))try{return(t||JSON.parse)(e),_A.trim(e)}catch(nY){if("SyntaxError"!==nY.name)throw nY}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||bh.transitional,n=t&&t.forcedJSONParsing,o="json"===this.responseType;if(e&&_A.isString(e)&&(n&&!this.responseType||o)){var r=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(nY){if(r){if("SyntaxError"===nY.name)throw nh.from(nY,nh.ERR_BAD_RESPONSE,this,null,this.response);throw nY}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ah.classes.FormData,Blob:Ah.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_A.forEach(["delete","get","head","post","put","patch"],(function(e){bh.headers[e]={}}));var fh=bh,vh=_A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yh=Symbol("internals");function Zh(e){return e&&String(e).trim().toLowerCase()}function Gh(e){return!1===e||null==e?e:_A.isArray(e)?e.map(Gh):String(e)}function Sh(e,t,n,o,r){return _A.isFunction(o)?o.call(this,t,n):(r&&(t=n),_A.isString(t)?_A.isString(o)?-1!==t.indexOf(o):_A.isRegExp(o)?o.test(t):void 0:void 0)}var Bh=function(e,t){function n(e){p(this,n),e&&this.set(e)}return b(n,[{key:"set",value:function(e,t,n){var o=this;function r(e,t,n){var r=Zh(t);if(!r)throw new Error("header name must be a non-empty string");var a=_A.findKey(o,r);(!a||void 0===o[a]||!0===n||void 0===n&&!1!==o[a])&&(o[a||t]=Gh(e))}var a=function(e,t){return _A.forEach(e,(function(e,n){return r(e,n,t)}))};return _A.isPlainObject(e)||e instanceof this.constructor?a(e,t):_A.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,o,r={};return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),t=e.substring(0,o).trim().toLowerCase(),n=e.substring(o+1).trim(),!t||r[t]&&vh[t]||("set-cookie"===t?r[t]?r[t].push(n):r[t]=[n]:r[t]=r[t]?r[t]+", "+n:n)})),r}(e),t):null!=e&&r(t,e,n),this}},{key:"get",value:function(e,t){if(e=Zh(e)){var n=_A.findKey(this,e);if(n){var o=this[n];if(!t)return o;if(!0===t)return function(e){for(var t,n=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=o.exec(e);)n[t[1]]=t[2];return n}(o);if(_A.isFunction(t))return t.call(this,o,n);if(_A.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Zh(e)){var n=_A.findKey(this,e);return!(!n||void 0===this[n]||t&&!Sh(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,o=!1;function r(e){if(e=Zh(e)){var r=_A.findKey(n,e);!r||t&&!Sh(0,n[r],r,t)||(delete n[r],o=!0)}}return _A.isArray(e)?e.forEach(r):r(e),o}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,o=!1;n--;){var r=t[n];e&&!Sh(0,this[r],r,e,!0)||(delete this[r],o=!0)}return o}},{key:"normalize",value:function(e){var t=this,n={};return _A.forEach(this,(function(o,r){var a=_A.findKey(n,r);if(a)return t[a]=Gh(o),void delete t[r];var i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(r):String(r).trim();i!==r&&delete t[r],t[i]=Gh(o),n[i]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return _A.forEach(this,(function(n,o){null!=n&&!1!==n&&(t[o]=e&&_A.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=I(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return o.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[yh]=this[yh]={accessors:{}}).accessors,n=this.prototype;function o(e){var o=Zh(e);t[o]||(!function(e,t){var n=_A.toCamelCase(" "+t);["get","set","has"].forEach((function(o){Object.defineProperty(e,o+n,{value:function(e,n,r){return this[o].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[o]=!0)}return _A.isArray(e)?e.forEach(o):o(e),this}}]),n}();Bh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_A.reduceDescriptors(Bh.prototype,(function(e,t){var n=e.value,o=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[o]=e}}})),_A.freezeMethods(Bh);var kh=Bh;function Vh(e,t){var n=this||fh,o=t||n,r=kh.from(o.headers),a=o.data;return _A.forEach(e,(function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)})),r.normalize(),a}function Wh(e){return!(!e||!e.__CANCEL__)}function wh(e,t,n){nh.call(this,null==e?"canceled":e,nh.ERR_CANCELED,t,n),this.name="CanceledError"}_A.inherits(wh,nh,{__CANCEL__:!0});var Rh=wh;var Xh=Ah.isStandardBrowserEnv?{write:function(e,t,n,o,r,a){var i=[];i.push(e+"="+encodeURIComponent(t)),_A.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),_A.isString(o)&&i.push("path="+o),_A.isString(r)&&i.push("domain="+r),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Jh(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var xh=Ah.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=_A.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var Hh=function(e,t){e=e||10;var n,o=new Array(e),r=new Array(e),a=0,i=0;return t=void 0!==t?t:1e3,function(l){var g=Date.now(),c=r[i];n||(n=g),o[a]=l,r[a]=g;for(var s=i,u=0;s!==a;)u+=o[s++],s%=e;if((a=(a+1)%e)===i&&(i=(i+1)%e),!(g-n<t)){var d=c&&g-c;return d?Math.round(1e3*u/d):void 0}}};function Yh(e,t){var n=0,o=Hh(50,250);return function(r){var a=r.loaded,i=r.lengthComputable?r.total:void 0,l=a-n,g=o(l);n=a;var c={loaded:a,total:i,progress:i?a/i:void 0,bytes:l,rate:g||void 0,estimated:g&&i&&a<=i?(i-a)/g:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}var Nh="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var o,r=e.data,a=kh.from(e.headers).normalize(),i=e.responseType;function l(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}_A.isFormData(r)&&(Ah.isStandardBrowserEnv||Ah.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var g=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",s=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+s))}var u=Jh(e.baseURL,e.url);function d(){if(g){var o=kh.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());!function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new nh("Request failed with status code "+n.status,[nh.ERR_BAD_REQUEST,nh.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),l()}),(function(e){n(e),l()}),{data:i&&"text"!==i&&"json"!==i?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:o,config:e,request:g}),g=null}}if(g.open(e.method.toUpperCase(),Ih(u,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=d:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(d)},g.onabort=function(){g&&(n(new nh("Request aborted",nh.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new nh("Network Error",nh.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",o=e.transitional||ph;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new nh(t,o.clarifyTimeoutError?nh.ETIMEDOUT:nh.ECONNABORTED,e,g)),g=null},Ah.isStandardBrowserEnv){var I=(e.withCredentials||xh(u))&&e.xsrfCookieName&&Xh.read(e.xsrfCookieName);I&&a.set(e.xsrfHeaderName,I)}void 0===r&&a.setContentType(null),"setRequestHeader"in g&&_A.forEach(a.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),_A.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),i&&"json"!==i&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",Yh(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",Yh(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=function(t){g&&(n(!t||t.type?new Rh(null,e,g):t),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));var C=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(u);C&&-1===Ah.protocols.indexOf(C)?n(new nh("Unsupported protocol "+C+":",nh.ERR_BAD_REQUEST,e)):g.send(r||null)}))},Fh={http:null,xhr:Nh};_A.forEach(Fh,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(nY){}Object.defineProperty(e,"adapterName",{value:t})}}));var Eh=function(e){for(var t,n,o=(e=_A.isArray(e)?e:[e]).length,r=0;r<o&&(t=e[r],!(n=_A.isString(t)?Fh[t.toLowerCase()]:t));r++);if(!n){if(!1===n)throw new nh("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(_A.hasOwnProp(Fh,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!_A.isFunction(n))throw new TypeError("adapter is not a function");return n};function Kh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rh(null,e)}function Mh(e){return Kh(e),e.headers=kh.from(e.headers),e.data=Vh.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Eh(e.adapter||fh.adapter)(e).then((function(t){return Kh(e),t.data=Vh.call(e,e.transformResponse,t),t.headers=kh.from(t.headers),t}),(function(t){return Wh(t)||(Kh(e),t&&t.response&&(t.response.data=Vh.call(e,e.transformResponse,t.response),t.response.headers=kh.from(t.response.headers))),Promise.reject(t)}))}var Lh=function(e){return e instanceof kh?e.toJSON():e};function zh(e,t){t=t||{};var n={};function o(e,t,n){return _A.isPlainObject(e)&&_A.isPlainObject(t)?_A.merge.call({caseless:n},e,t):_A.isPlainObject(t)?_A.merge({},t):_A.isArray(t)?t.slice():t}function r(e,t,n){return _A.isUndefined(t)?_A.isUndefined(e)?void 0:o(void 0,e,n):o(e,t,n)}function a(e,t){if(!_A.isUndefined(t))return o(void 0,t)}function i(e,t){return _A.isUndefined(t)?_A.isUndefined(e)?void 0:o(void 0,e):o(void 0,t)}function l(n,r,a){return a in t?o(n,r):a in e?o(void 0,n):void 0}var g={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:function(e,t){return r(Lh(e),Lh(t),!0)}};return _A.forEach(Object.keys(Object.assign({},e,t)),(function(o){var a=g[o]||r,i=a(e[o],t[o],o);_A.isUndefined(i)&&a!==l||(n[o]=i)})),n}var Dh="1.5.0",Th={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Th[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Uh={};Th.transitional=function(e,t,n){function o(e,t){return"[Axios v1.5.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new nh(o(r," has been removed"+(t?" in "+t:"")),nh.ERR_DEPRECATED);return t&&!Uh[r]&&(Uh[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}};var Qh={assertOptions:function(e,t,n){if("object"!==typeof e)throw new nh("options must be an object",nh.ERR_BAD_OPTION_VALUE);for(var o=Object.keys(e),r=o.length;r-- >0;){var a=o[r],i=t[a];if(i){var l=e[a],g=void 0===l||i(l,a,e);if(!0!==g)throw new nh("option "+a+" must be "+g,nh.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new nh("Unknown option "+a,nh.ERR_BAD_OPTION)}},validators:Th},jh=Qh.validators,Oh=function(){function e(t){p(this,e),this.defaults=t,this.interceptors={request:new mh,response:new mh}}return b(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=zh(this.defaults,t),o=n.transitional,r=n.paramsSerializer,a=n.headers;void 0!==o&&Qh.assertOptions(o,{silentJSONParsing:jh.transitional(jh.boolean),forcedJSONParsing:jh.transitional(jh.boolean),clarifyTimeoutError:jh.transitional(jh.boolean)},!1),null!=r&&(_A.isFunction(r)?t.paramsSerializer={serialize:r}:Qh.assertOptions(r,{encode:jh.function,serialize:jh.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var i=a&&_A.merge(a.common,a[t.method]);a&&_A.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=kh.concat(i,a);var l=[],g=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(g=g&&e.synchronous,l.unshift(e.fulfilled,e.rejected))}));var c,s=[];this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)}));var u,d=0;if(!g){var I=[Mh.bind(this),void 0];for(I.unshift.apply(I,l),I.push.apply(I,s),u=I.length,c=Promise.resolve(t);d<u;)c=c.then(I[d++],I[d++]);return c}u=l.length;var C=t;for(d=0;d<u;){var m=l[d++],p=l[d++];try{C=m(C)}catch(A){p.call(this,A);break}}try{c=Mh.call(this,C)}catch(A){return Promise.reject(A)}for(d=0,u=s.length;d<u;)c=c.then(s[d++],s[d++]);return c}},{key:"getUri",value:function(e){return Ih(Jh((e=zh(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();_A.forEach(["delete","get","head","options"],(function(e){Oh.prototype[e]=function(t,n){return this.request(zh(n||{},{method:e,url:t,data:(n||{}).data}))}})),_A.forEach(["post","put","patch"],(function(e){function t(t){return function(n,o,r){return this.request(zh(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}Oh.prototype[e]=t(),Oh.prototype[e+"Form"]=t(!0)}));var Ph=Oh,qh=function(){function e(t){if(p(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var o=this;this.promise.then((function(e){if(o._listeners){for(var t=o._listeners.length;t-- >0;)o._listeners[t](e);o._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){o.subscribe(e),t=e})).then(e);return n.cancel=function(){o.unsubscribe(t)},n},t((function(e,t,r){o.reason||(o.reason=new Rh(e,t,r),n(o.reason))}))}return b(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),_h=qh;var $h={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($h).forEach((function(e){var t=I(e,2),n=t[0],o=t[1];$h[o]=n}));var eb=$h;var tb=function e(t){var n=new Ph(t),o=hA(Ph.prototype.request,n);return _A.extend(o,Ph.prototype,n,{allOwnKeys:!0}),_A.extend(o,n,null,{allOwnKeys:!0}),o.create=function(n){return e(zh(t,n))},o}(fh);tb.Axios=Ph,tb.CanceledError=Rh,tb.CancelToken=_h,tb.isCancel=Wh,tb.VERSION=Dh,tb.toFormData=lh,tb.AxiosError=nh,tb.Cancel=tb.CanceledError,tb.all=function(e){return Promise.all(e)},tb.spread=function(e){return function(t){return e.apply(null,t)}},tb.isAxiosError=function(e){return _A.isObject(e)&&!0===e.isAxiosError},tb.mergeConfig=zh,tb.AxiosHeaders=kh,tb.formToJSON=function(e){return hh(_A.isHTMLForm(e)?new FormData(e):e)},tb.getAdapter=Eh,tb.HttpStatusCode=eb,tb.default=tb;var nb=tb,ob=(0,i.createContext)(void 0),rb=function(e){v(n,e);var t=S(n);function n(e){var o;return p(this,n),(o=t.call(this,e)).type=void 0,o.name="ApiWarning",o.type="warning",o}return b(n)}(k(Error)),ab=function(e){v(n,e);var t=S(n);function n(e){var o;return p(this,n),(o=t.call(this,e)).type=void 0,o.name="ApiError",o.type="error",o}return b(n)}(k(Error)),ib=function(e){v(n,e);var t=S(n);function n(e){var o;return p(this,n),(o=t.call(this,e)).type=void 0,o.name="ApiInfo",o.type="info",o}return b(n)}(k(Error));function lb(e){var n=e.children,o=mA(),a=o.path,i=o.token,l=o.logout,g=Vr(),c=g.setIsLoading,s=g.isOnline,u=nb.create({baseURL:"".concat(a,"api/"),withCredentials:!1}),d=function(e){if("-1"===e.data.cod)throw new rb(e.data.rpta);return c(!1),e.data},I=function(e){if(e.response&&401===e.response.status)throw l(),new ib("\xa1Tu sesion ha expirado! Por favor ingresa de nuevo.");if(c(!1),"ApiWarning"===e.name)throw e;if("ApiInfo"===e.name)throw e;throw new ab("\xa1Ha ocurrido un error! Por favor, int\xe9ntalo de nuevo o contacta a tu administrador.")},C=function(){var e=r(t().mark((function e(n,o){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new ib("Revisa tu conexion a internet.");case 2:return c(!0),r=o?{headers:{Authorization:"Bearer ".concat(i)}}:void 0,e.prev=4,e.next=7,u.get(n,r);case 7:return a=e.sent,e.abrupt("return",d(a));case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",I(e.t0));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=r(t().mark((function e(n,o,r,a){var l,g;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new ib("Revisa tu conexion a internet.");case 2:return c(!0),l=r?{headers:{Authorization:"Bearer ".concat(i),"Content-Type":a}}:{headers:{"Content-Type":a}},e.prev=4,e.next=7,u.post(n,o,l);case 7:return g=e.sent,e.abrupt("return",d(g));case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",I(e.t0));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n,o,r){return e.apply(this,arguments)}}(),p={getApiData:C,postApiData:m};return(0,nt.jsx)(ob.Provider,{value:p,children:n})}function gb(){var e=(0,i.useContext)(ob);if(!e)throw new Error("The api must be used within a correct approach");return e}var cb=n.p+"static/media/DefaultUser.7d2dc3e56822c71daee22915218c7b31.svg";var sb=n.p+"static/media/Menu0.7cb7b978965d6d32ca7d1e0348863df4.svg";var ub=n.p+"static/media/Menu1.d4e4fdc2c2bb4744a85ea39d260b4ec6.svg";function db(e){return xr({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 5.499c-.256 0-.512.097-.707.292-.195.196-.293.452-.293.708v2.559c-4.5.498-8 4.309-8 8.941v1c2.245-3.423 5.25-3.92 8-3.989v2.489c0 .255.098.512.293.707s.451.293.707.293.512-.098.707-.293l6.293-6.207-6.293-6.208c-.195-.195-.451-.292-.707-.292z"}}]})(e)}function Ib(e){return xr({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4c-4.419 0-8 3.582-8 8s3.581 8 8 8 8-3.582 8-8-3.581-8-8-8zm3.707 10.293c.391.391.391 1.023 0 1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293 2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023 0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023 0-1.414s1.023-.391 1.414 0l2.293 2.293 2.293-2.293c.391-.391 1.023-.391 1.414 0s.391 1.023 0 1.414l-2.293 2.293 2.293 2.293z"}}]})(e)}function Cb(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}},{tag:"path",attr:{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}},{tag:"path",attr:{d:"M16 5l3 3"}}]})(e)}function mb(e){return xr({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 2l.324 .001l.318 .004l.616 .017l.299 .013l.579 .034l.553 .046c4.785 .464 6.732 2.411 7.196 7.196l.046 .553l.034 .579c.005 .098 .01 .198 .013 .299l.017 .616l.005 .642l-.005 .642l-.017 .616l-.013 .299l-.034 .579l-.046 .553c-.464 4.785 -2.411 6.732 -7.196 7.196l-.553 .046l-.579 .034c-.098 .005 -.198 .01 -.299 .013l-.616 .017l-.642 .005l-.642 -.005l-.616 -.017l-.299 -.013l-.579 -.034l-.553 -.046c-4.785 -.464 -6.732 -2.411 -7.196 -7.196l-.046 -.553l-.034 -.579a28.058 28.058 0 0 1 -.013 -.299l-.017 -.616c-.003 -.21 -.005 -.424 -.005 -.642l.001 -.324l.004 -.318l.017 -.616l.013 -.299l.034 -.579l.046 -.553c.464 -4.785 2.411 -6.732 7.196 -7.196l.553 -.046l.579 -.034c.098 -.005 .198 -.01 .299 -.013l.616 -.017c.21 -.003 .424 -.005 .642 -.005zm0 6a1 1 0 0 0 -1 1v2h-2l-.117 .007a1 1 0 0 0 .117 1.993h2v2l.007 .117a1 1 0 0 0 1.993 -.117v-2h2l.117 -.007a1 1 0 0 0 -.117 -1.993h-2v-2l-.007 -.117a1 1 0 0 0 -.993 -.883z",fill:"currentColor",strokeWidth:"0"}}]})(e)}function pb(e){return xr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function Ab(e){return xr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function hb(e){return xr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"}}]})(e)}var bb={next:(0,nt.jsx)(db,{className:"button_icon",size:24}),add:(0,nt.jsx)(mb,{className:"button_icon",size:22}),send:(0,nt.jsx)(Ab,{className:"button_icon",size:18})};function fb(e){var t=e.name,n=e.type,o=e.onClick,r=e.icon,a=e.disabled,i=e.template;return(0,nt.jsx)("div",{className:"button_container",children:(0,nt.jsxs)("button",{className:"button_template ".concat(i),type:n,name:t.replaceAll(" ","-"),disabled:a,onClick:o,"aria-label":t.replaceAll(" ","-"),children:[t,r&&bb[r]]})})}function vb(e){var t=e.isLandingPage,n=Vr().setIsLoading,o=Ze(),r=mA(),a=r.user,l=r.path,g=null!==a&&void 0!==a&&a.imageUrl?"".concat(l,"AssetsImages/").concat(a.imageUrl):cb,c=(0,i.useCallback)((function(e){var n=e.currentTarget,o=e.currentTarget.nextElementSibling;"none"===o.style.display||""===o.style.display?(t&&(n.style.transform="rotate(270deg)",setTimeout((function(){n.src=sb}),400)),o.style.display="block",setTimeout((function(){o.style.height="calc(100vh - 90px)"}),100)):(t&&(n.style.transform="rotate(0deg)",setTimeout((function(){n.src=ub}),400)),o.style.height="0",setTimeout((function(){o.style.display="none"}),1100))}),[t]),s=(0,i.useCallback)((function(e,t){"web"===t?(document.querySelectorAll(".opt_web_menu").forEach((function(e){e.classList.remove("selected")})),e.classList.add("selected")):"mobile"===t&&(document.querySelectorAll(".opt_mobile_menu").forEach((function(e){e.classList.remove("selected")})),e.classList.add("selected"),setTimeout((function(){var t=e.parentElement.parentElement,n=e.parentElement.parentElement.previousElementSibling;n.style.transform="rotate(0deg)",t.style.height="0",setTimeout((function(){n.src=ub}),400),setTimeout((function(){t.style.display="none"}),1100)}),300))}),[]),u=(0,i.useCallback)((function(e,t){var n=e.currentTarget.classList.contains("opt_web_menu")?"web":"mobile",o=document.querySelector(".".concat(t,"_section"));s(e.currentTarget,n),t&&setTimeout((function(){window.scrollTo({top:o.offsetTop-110,behavior:"smooth"})}),"mobile"===n?1600:300)}),[s]),d=function(){window.open("https://api.whatsapp.com/send?phone=573137593407&text=%C2%A1Deseo%20solicitar%20un%20servicio%20a%20domicilio!")};return(0,nt.jsxs)("header",{className:t?"landingPage_header":"managementApp_header",children:[(0,nt.jsxs)("div",{className:"header_left",children:[(0,nt.jsx)("img",{onClick:function(){t&&(n(!0),o("/auth/login"))},src:rt,alt:"Logo arepas el T\xedo Lucho",draggable:"false",width:"70px"}),t&&(0,nt.jsxs)("div",{children:[(0,nt.jsx)("h1",{children:"AREPAS"}),(0,nt.jsx)("h2",{children:"T\xedo Lucho"})]})]}),t&&(0,nt.jsx)("nav",{className:"header_center",children:(0,nt.jsxs)("ul",{className:"web_menu",children:[(0,nt.jsx)("li",{children:(0,nt.jsx)($e,{className:"opt_web_menu selected",to:"/",onClick:function(e){return u(e,"home")},children:"Inicio"})}),(0,nt.jsx)("li",{children:(0,nt.jsx)($e,{className:"opt_web_menu",to:"/",onClick:function(e){return u(e,"us")},children:"Nosotros"})}),(0,nt.jsx)("li",{children:(0,nt.jsx)($e,{className:"opt_web_menu",to:"/",onClick:function(e){return u(e,"contact")},children:"Contacto"})}),(0,nt.jsx)("li",{children:(0,nt.jsx)($e,{className:"opt_web_menu",to:"/",onClick:d,children:"Domicilios"})})]})}),(0,nt.jsxs)("nav",{className:"header_rigth",children:[!t&&(0,nt.jsx)("h3",{children:null===a||void 0===a?void 0:a.name.split(" ")[0]}),(0,nt.jsx)("img",{src:t?ub:g,onClick:c,alt:"Menu T\xedo Lucho",draggable:"false",width:"50px",height:"50px"}),t?(0,nt.jsxs)("ul",{className:"mobile_menu",children:[(0,nt.jsx)("li",{children:(0,nt.jsx)($e,{className:"opt_mobile_menu selected",to:"/",onClick:function(e){return u(e,"home")},children:"Inicio"})}),(0,nt.jsx)("li",{children:(0,nt.jsx)($e,{className:"opt_mobile_menu",to:"/",onClick:function(e){return u(e,"us")},children:"Nosotros"})}),(0,nt.jsx)("li",{children:(0,nt.jsx)($e,{className:"opt_mobile_menu",to:"/",onClick:function(e){return u(e,"contact")},children:"Contacto"})}),(0,nt.jsx)("li",{children:(0,nt.jsx)($e,{className:"opt_mobile_menu",to:"/",onClick:d,children:"Domicilios"})})]}):(0,nt.jsxs)("div",{className:"mobile_menu",children:[(0,nt.jsx)("img",{src:g,alt:"Imagen de usuario T\xedo Lucho",draggable:"false",width:"180px",height:"180px"}),(0,nt.jsx)("h3",{children:null===a||void 0===a?void 0:a.name.split(" ")[0]}),(0,nt.jsxs)("div",{children:[(0,nt.jsx)(fb,{name:"Editar perfil",type:"button",icon:"next",template:"dark"}),(0,nt.jsx)(fb,{name:"Cambiar contrase\xf1a",type:"button",icon:"next",template:"dark"})]})]})]})]})}var yb=n(340);function Zb(e){return xr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"}}]})(e)}function Gb(e){return xr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"}}]})(e)}function Sb(e){return xr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zM5.496 6.033a.237.237 0 0 1-.24-.247C5.35 4.091 6.737 3.5 8.005 3.5c1.396 0 2.672.73 2.672 2.24 0 1.08-.635 1.594-1.244 2.057-.737.559-1.01.768-1.01 1.486v.105a.25.25 0 0 1-.25.25h-.81a.25.25 0 0 1-.25-.246l-.004-.217c-.038-.927.495-1.498 1.168-1.987.59-.444.965-.736.965-1.371 0-.825-.628-1.168-1.314-1.168-.803 0-1.253.478-1.342 1.134-.018.137-.128.25-.266.25h-.825zm2.325 6.443c-.584 0-1.009-.394-1.009-.927 0-.552.425-.94 1.01-.94.609 0 1.028.388 1.028.94 0 .533-.42.927-1.029.927z"}}]})(e)}function Bb(e){return xr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"}}]})(e)}var kb=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];var Vb=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(nY){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var Wb=function(e,t,n){for(var o=0,r=0;o=r,r=hg(),38===o&&12===r&&(t[n]=1),!vg(r);)Ag();return fg(e,ug)},wb=function(e,t){return Zg(function(e,t){var n=-1,o=44;do{switch(vg(o)){case 0:38===o&&12===hg()&&(t[n]=1),e[n]+=Wb(ug-1,t,n);break;case 2:e[n]+=Gg(o);break;case 4:if(44===o){e[++n]=58===hg()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Pl(o)}}while(o=Ag());return e}(yg(e),t))},Rb=new WeakMap,Xb=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,o=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Rb.get(n))&&!o){Rb.set(e,!0);for(var r=[],a=wb(t,r),i=n.props,l=0,g=0;l<a.length;l++)for(var c=0;c<i.length;c++,g++)e.props[g]=r[l]?a[l].replace(/&\f/g,i[c]):i[c]+" "+a[l]}}},Jb=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function xb(e,t){switch(function(e,t){return 45^tg(e,0)?(((t<<2^tg(e,0))<<2^tg(e,1))<<2^tg(e,2))<<2^tg(e,3):0}(e,t)){case 5103:return Ll+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ll+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ll+e+Ml+e+Kl+e+e;case 6828:case 4268:return Ll+e+Kl+e+e;case 6165:return Ll+e+Kl+"flex-"+e+e;case 5187:return Ll+e+$l(e,/(\w+).+(:[^]+)/,Ll+"box-$1$2"+Kl+"flex-$1$2")+e;case 5443:return Ll+e+Kl+"flex-item-"+$l(e,/flex-|-self/,"")+e;case 4675:return Ll+e+Kl+"flex-line-pack"+$l(e,/align-content|flex-|-self/,"")+e;case 5548:return Ll+e+Kl+$l(e,"shrink","negative")+e;case 5292:return Ll+e+Kl+$l(e,"basis","preferred-size")+e;case 6060:return Ll+"box-"+$l(e,"-grow","")+Ll+e+Kl+$l(e,"grow","positive")+e;case 4554:return Ll+$l(e,/([^-])(transform)/g,"$1"+Ll+"$2")+e;case 6187:return $l($l($l(e,/(zoom-|grab)/,Ll+"$1"),/(image-set)/,Ll+"$1"),e,"")+e;case 5495:case 3959:return $l(e,/(image-set\([^]*)/,Ll+"$1$`$1");case 4968:return $l($l(e,/(.+:)(flex-)?(.*)/,Ll+"box-pack:$3"+Kl+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ll+e+e;case 4095:case 3583:case 4068:case 2532:return $l(e,/(.+)-inline(.+)/,Ll+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(og(e)-1-t>6)switch(tg(e,t+1)){case 109:if(45!==tg(e,t+4))break;case 102:return $l(e,/(.+:)(.+)-([^]+)/,"$1"+Ll+"$2-$3$1"+Ml+(108==tg(e,t+3)?"$3":"$2-$3"))+e;case 115:return~eg(e,"stretch")?xb($l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==tg(e,t+1))break;case 6444:switch(tg(e,og(e)-3-(~eg(e,"!important")&&10))){case 107:return $l(e,":",":"+Ll)+e;case 101:return $l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ll+(45===tg(e,14)?"inline-":"")+"box$3$1"+Ll+"$2$3$1"+Kl+"$2box$3")+e}break;case 5936:switch(tg(e,t+11)){case 114:return Ll+e+Kl+$l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ll+e+Kl+$l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ll+e+Kl+$l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ll+e+Kl+e+e}return e}var Hb=[function(e,t,n,o){if(e.length>-1&&!e.return)switch(e.type){case Tl:e.return=xb(e.value,e.length);break;case Ql:return ig([mg(e,{value:$l(e.value,"@","@"+Ll)})],o);case Dl:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ig([mg(e,{props:[$l(t,/:(read-\w+)/,":-moz-$1")]})],o);case"::placeholder":return ig([mg(e,{props:[$l(t,/:(plac\w+)/,":"+Ll+"input-$1")]}),mg(e,{props:[$l(t,/:(plac\w+)/,":-moz-$1")]}),mg(e,{props:[$l(t,/:(plac\w+)/,Kl+"input-$1")]})],o)}return""}))}}],Yb=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o=e.stylisPlugins||Hb;var r,a,i={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;l.push(e)}));var g,c,s=[lg,(c=function(e){g.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],u=function(e){var t=rg(e);return function(n,o,r,a){for(var i="",l=0;l<t;l++)i+=e[l](n,o,r,a)||"";return i}}([Xb,Jb].concat(o,s));a=function(e,t,n,o){g=n,function(e){ig(wg(e),u)}(e?e+"{"+t.styles+"}":t.styles),o&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Vb({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return d.sheet.hydrate(l),d};var Nb=function(e,t,n){var o=e.key+"-"+t.name;!1===n&&void 0===e.registered[o]&&(e.registered[o]=t.styles)};var Fb={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Eb(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Kb=/[A-Z]|^ms/g,Mb=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Lb=function(e){return 45===e.charCodeAt(1)},zb=function(e){return null!=e&&"boolean"!==typeof e},Db=Eb((function(e){return Lb(e)?e:e.replace(Kb,"-$&").toLowerCase()})),Tb=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Mb,(function(e,t,n){return Qb={name:t,styles:n,next:Qb},t}))}return 1===Fb[e]||Lb(e)||"number"!==typeof t||0===t?t:t+"px"};function Ub(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Qb={name:n.name,styles:n.styles,next:Qb},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)Qb={name:o.name,styles:o.styles,next:Qb},o=o.next;return n.styles+";"}return function(e,t,n){var o="";if(Array.isArray(n))for(var r=0;r<n.length;r++)o+=Ub(e,t,n[r])+";";else for(var a in n){var i=n[a];if("object"!==typeof i)null!=t&&void 0!==t[i]?o+=a+"{"+t[i]+"}":zb(i)&&(o+=Db(a)+":"+Tb(a,i)+";");else if(!Array.isArray(i)||"string"!==typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=Ub(e,t,i);switch(a){case"animation":case"animationName":o+=Db(a)+":"+l+";";break;default:o+=a+"{"+l+"}"}}else for(var g=0;g<i.length;g++)zb(i[g])&&(o+=Db(a)+":"+Tb(a,i[g])+";")}return o}(e,t,n);case"function":if(void 0!==e){var r=Qb,a=n(e);return Qb=r,Ub(e,t,a)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var Qb,jb=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ob=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,r="";Qb=void 0;var a=e[0];null==a||void 0===a.raw?(o=!1,r+=Ub(n,t,a)):r+=a[0];for(var i=1;i<e.length;i++)r+=Ub(n,t,e[i]),o&&(r+=a[i]);jb.lastIndex=0;for(var l,g="";null!==(l=jb.exec(r));)g+="-"+l[1];var c=function(e){for(var t,n=0,o=0,r=e.length;r>=4;++o,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+g;return{name:c,styles:r,next:Qb}},Pb=!!l.useInsertionEffect&&l.useInsertionEffect,qb=Pb||function(e){return e()},_b=(Pb||i.useLayoutEffect,{}.hasOwnProperty),$b=i.createContext("undefined"!==typeof HTMLElement?Yb({key:"css"}):null);$b.Provider;var ef=function(e){return(0,i.forwardRef)((function(t,n){var o=(0,i.useContext)($b);return e(t,o,n)}))};var tf=i.createContext({});var nf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",of=function(e){var t=e.cache,n=e.serialized,o=e.isStringTag;return Nb(t,n,o),qb((function(){return function(e,t,n){Nb(e,t,n);var o=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+o:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,n,o)})),null},rf=ef((function(e,t,n){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var r=e[nf],a=[o],l="";"string"===typeof e.className?l=function(e,t,n){var o="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):o+=n+" "})),o}(t.registered,a,e.className):null!=e.className&&(l=e.className+" ");var g=Ob(a,void 0,i.useContext(tf));l+=t.key+"-"+g.name;var c={};for(var s in e)_b.call(e,s)&&"css"!==s&&s!==nf&&(c[s]=e[s]);return c.ref=n,c.className=l,i.createElement(i.Fragment,null,i.createElement(of,{cache:t,serialized:g,isStringTag:"string"===typeof r}),i.createElement(r,c))}));var af=rf,lf=(n(110),function(e,t){var n=arguments;if(null==t||!_b.call(t,"css"))return i.createElement.apply(void 0,n);var o=n.length,r=new Array(o);r[0]=af,r[1]=function(e,t){var n={};for(var o in t)_b.call(t,o)&&(n[o]=t[o]);return n[nf]=e,n}(e,t);for(var a=2;a<o;a++)r[a]=n[a];return i.createElement.apply(null,r)});function gf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ob(t)}var cf=Math.min,sf=Math.max,uf=Math.round,df=Math.floor,If=function(e){return{x:e,y:e}};function Cf(e){return gt(gt({},e),{},{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}function mf(e){return hf(e)?(e.nodeName||"").toLowerCase():"#document"}function pf(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Af(e){var t;return null==(t=(hf(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function hf(e){return e instanceof Node||e instanceof pf(e).Node}function bf(e){return e instanceof Element||e instanceof pf(e).Element}function ff(e){return e instanceof HTMLElement||e instanceof pf(e).HTMLElement}function vf(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof pf(e).ShadowRoot)}function yf(e){var t=Sf(e),n=t.overflow,o=t.overflowX,r=t.overflowY,a=t.display;return/auto|scroll|overlay|hidden|clip/.test(n+r+o)&&!["inline","contents"].includes(a)}function Zf(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Gf(e){return["html","body","#document"].includes(mf(e))}function Sf(e){return pf(e).getComputedStyle(e)}function Bf(e){if("html"===mf(e))return e;var t=e.assignedSlot||e.parentNode||vf(e)&&e.host||Af(e);return vf(t)?t.host:t}function kf(e){var t=Bf(e);return Gf(t)?e.ownerDocument?e.ownerDocument.body:e.body:ff(t)&&yf(t)?t:kf(t)}function Vf(e,t,n){var o;void 0===t&&(t=[]),void 0===n&&(n=!0);var r=kf(e),a=r===(null==(o=e.ownerDocument)?void 0:o.body),i=pf(r);return a?t.concat(i,i.visualViewport||[],yf(r)?r:[],i.frameElement&&n?Vf(i.frameElement):[]):t.concat(r,Vf(r,[],n))}function Wf(e){var t=Sf(e),n=parseFloat(t.width)||0,o=parseFloat(t.height)||0,r=ff(e),a=r?e.offsetWidth:n,i=r?e.offsetHeight:o,l=uf(n)!==a||uf(o)!==i;return l&&(n=a,o=i),{width:n,height:o,$:l}}function wf(e){return bf(e)?e:e.contextElement}function Rf(e){var t=wf(e);if(!ff(t))return If(1);var n=t.getBoundingClientRect(),o=Wf(t),r=o.width,a=o.height,i=o.$,l=(i?uf(n.width):n.width)/r,g=(i?uf(n.height):n.height)/a;return l&&Number.isFinite(l)||(l=1),g&&Number.isFinite(g)||(g=1),{x:l,y:g}}var Xf=If(0);function Jf(e){var t=pf(e);return Zf()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Xf}function xf(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=wf(e),i=If(1);t&&(o?bf(o)&&(i=Rf(o)):i=Rf(e));var l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==pf(e))&&t}(a,n,o)?Jf(a):If(0),g=(r.left+l.x)/i.x,c=(r.top+l.y)/i.y,s=r.width/i.x,u=r.height/i.y;if(a)for(var d=pf(a),I=o&&bf(o)?pf(o):o,C=d.frameElement;C&&o&&I!==d;){var m=Rf(C),p=C.getBoundingClientRect(),A=Sf(C),h=p.left+(C.clientLeft+parseFloat(A.paddingLeft))*m.x,b=p.top+(C.clientTop+parseFloat(A.paddingTop))*m.y;g*=m.x,c*=m.y,s*=m.x,u*=m.y,g+=h,c+=b,C=pf(C).frameElement}return Cf({width:s,height:u,x:g,y:c})}function Hf(e,t,n,o){void 0===o&&(o={});var r=o,a=r.ancestorScroll,i=void 0===a||a,l=r.ancestorResize,g=void 0===l||l,c=r.elementResize,s=void 0===c?"function"===typeof ResizeObserver:c,u=r.layoutShift,d=void 0===u?"function"===typeof IntersectionObserver:u,C=r.animationFrame,p=void 0!==C&&C,A=wf(e),h=i||g?[].concat(m(A?Vf(A):[]),m(Vf(t))):[];h.forEach((function(e){i&&e.addEventListener("scroll",n,{passive:!0}),g&&e.addEventListener("resize",n)}));var b,f=A&&d?function(e,t){var n,o=null,r=Af(e);function a(){clearTimeout(n),o&&o.disconnect(),o=null}return function i(l,g){void 0===l&&(l=!1),void 0===g&&(g=1),a();var c=e.getBoundingClientRect(),s=c.left,u=c.top,d=c.width,I=c.height;if(l||t(),d&&I){var C={rootMargin:-df(u)+"px "+-df(r.clientWidth-(s+d))+"px "+-df(r.clientHeight-(u+I))+"px "+-df(s)+"px",threshold:sf(0,cf(1,g))||1},m=!0;try{o=new IntersectionObserver(p,gt(gt({},C),{},{root:r.ownerDocument}))}catch(nY){o=new IntersectionObserver(p,C)}o.observe(e)}function p(e){var t=e[0].intersectionRatio;if(t!==g){if(!m)return i();t?i(!1,t):n=setTimeout((function(){i(!1,1e-7)}),100)}m=!1}}(!0),a}(A,n):null,v=-1,y=null;s&&(y=new ResizeObserver((function(e){var o=I(e,1)[0];o&&o.target===A&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame((function(){y&&y.observe(t)}))),n()})),A&&!p&&y.observe(A),y.observe(t));var Z=p?xf(e):null;return p&&function t(){var o=xf(e);!Z||o.x===Z.x&&o.y===Z.y&&o.width===Z.width&&o.height===Z.height||n();Z=o,b=requestAnimationFrame(t)}(),n(),function(){h.forEach((function(e){i&&e.removeEventListener("scroll",n),g&&e.removeEventListener("resize",n)})),f&&f(),y&&y.disconnect(),y=null,p&&cancelAnimationFrame(b)}}var Yf=i.useLayoutEffect,Nf=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ff=function(){};function Ef(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Kf(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];var a=[].concat(o);if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&a.push("".concat(Ef(e,i)));return a.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Mf=function(t){return n=t,Array.isArray(n)?t.filter(Boolean):"object"===e(t)&&null!==t?[t]:[];var n},Lf=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,gt({},ct(e,Nf))},zf=function(e,t,n){var o=e.cx,r=e.getStyles,a=e.getClassNames,i=e.className;return{css:r(t,e),className:o(null!==n&&void 0!==n?n:{},a(t,e),i)}};function Df(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Tf(e){return Df(e)?window.pageYOffset:e.scrollTop}function Uf(e,t){Df(e)?window.scrollTo(0,t):e.scrollTop=t}function Qf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ff,r=Tf(e),a=t-r,i=0;!function t(){var l=function(e,t,n,o){return n*((e=e/o-1)*e*e+1)+t}(i+=10,r,a,n);Uf(e,l),i<n?window.requestAnimationFrame(t):o(e)}()}function jf(e,t){var n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),r=t.offsetHeight/3;o.bottom+r>n.bottom?Uf(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):o.top-r<n.top&&Uf(e,Math.max(t.offsetTop-r,0))}function Of(){try{return document.createEvent("TouchEvent"),!0}catch(nY){return!1}}var Pf=!1,qf={get passive(){return Pf=!0}},_f="undefined"!==typeof window?window:{};_f.addEventListener&&_f.removeEventListener&&(_f.addEventListener("p",Ff,qf),_f.removeEventListener("p",Ff,!1));var $f=Pf;function ev(e){return null!=e}function tv(e,t,n){return e?t:n}var nv=["children","innerProps"],ov=["children","innerProps"];function rv(e){var t=e.maxHeight,n=e.menuEl,o=e.minHeight,r=e.placement,a=e.shouldScroll,i=e.isFixedPosition,l=e.controlHeight,g=function(e){var t=getComputedStyle(e),n="absolute"===t.position,o=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var r=e;r=r.parentElement;)if(t=getComputedStyle(r),(!n||"static"!==t.position)&&o.test(t.overflow+t.overflowY+t.overflowX))return r;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var s,u=g.getBoundingClientRect().height,d=n.getBoundingClientRect(),I=d.bottom,C=d.height,m=d.top,p=n.offsetParent.getBoundingClientRect().top,A=i?window.innerHeight:Df(s=g)?window.innerHeight:s.clientHeight,h=Tf(g),b=parseInt(getComputedStyle(n).marginBottom,10),f=parseInt(getComputedStyle(n).marginTop,10),v=p-f,y=A-m,Z=v+h,G=u-h-m,S=I-A+h+b,B=h+m-f,k=160;switch(r){case"auto":case"bottom":if(y>=C)return{placement:"bottom",maxHeight:t};if(G>=C&&!i)return a&&Qf(g,S,k),{placement:"bottom",maxHeight:t};if(!i&&G>=o||i&&y>=o)return a&&Qf(g,S,k),{placement:"bottom",maxHeight:i?y-b:G-b};if("auto"===r||i){var V=t,W=i?v:Z;return W>=o&&(V=Math.min(W-b-l,t)),{placement:"top",maxHeight:V}}if("bottom"===r)return a&&Uf(g,S),{placement:"bottom",maxHeight:t};break;case"top":if(v>=C)return{placement:"top",maxHeight:t};if(Z>=C&&!i)return a&&Qf(g,B,k),{placement:"top",maxHeight:t};if(!i&&Z>=o||i&&v>=o){var w=t;return(!i&&Z>=o||i&&v>=o)&&(w=i?v-f:Z-f),a&&Qf(g,B,k),{placement:"top",maxHeight:w}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}var av,iv=function(e){return"auto"===e?"bottom":e},lv=(0,i.createContext)(null),gv=function(e){var t=e.children,n=e.minMenuHeight,o=e.maxMenuHeight,r=e.menuPlacement,a=e.menuPosition,l=e.menuShouldScrollIntoView,g=e.theme,c=((0,i.useContext)(lv)||{}).setPortalPlacement,s=(0,i.useRef)(null),u=I((0,i.useState)(o),2),d=u[0],C=u[1],m=I((0,i.useState)(null),2),p=m[0],A=m[1],h=g.spacing.controlHeight;return Yf((function(){var e=s.current;if(e){var t="fixed"===a,i=rv({maxHeight:o,menuEl:e,minHeight:n,placement:r,shouldScroll:l&&!t,isFixedPosition:t,controlHeight:h});C(i.maxHeight),A(i.placement),null===c||void 0===c||c(i.placement)}}),[o,r,a,l,n,c,h]),t({ref:s,placerProps:gt(gt({},e),{},{placement:p||iv(r),maxHeight:d})})},cv=function(e){var t=e.children,n=e.innerRef,o=e.innerProps;return lf("div",$r({},zf(e,"menu",{menu:!0}),{ref:n},o),t)},sv=function(e,t){var n=e.theme,o=n.spacing.baseUnit,r=n.colors;return gt({textAlign:"center"},t?{}:{color:r.neutral40,padding:"".concat(2*o,"px ").concat(3*o,"px")})},uv=sv,dv=sv,Iv=["size"],Cv=["innerProps","isRtl","size"];var mv,pv,Av={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},hv=function(e){var t=e.size,n=ct(e,Iv);return lf("svg",$r({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Av},n))},bv=function(e){return lf(hv,$r({size:20},e),lf("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},fv=function(e){return lf(hv,$r({size:20},e),lf("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},vv=function(e,t){var n=e.isFocused,o=e.theme,r=o.spacing.baseUnit,a=o.colors;return gt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*r,":hover":{color:n?a.neutral80:a.neutral40}})},yv=vv,Zv=vv,Gv=function(){var e=gf.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(av||(mv=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],pv||(pv=mv.slice(0)),av=Object.freeze(Object.defineProperties(mv,{raw:{value:Object.freeze(pv)}})))),Sv=function(e){var t=e.delay,n=e.offset;return lf("span",{css:gf({animation:"".concat(Gv," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Bv=function(e){var t=e.children,n=e.isDisabled,o=e.isFocused,r=e.innerRef,a=e.innerProps,i=e.menuIsOpen;return lf("div",$r({ref:r},zf(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":o,"control--menu-is-open":i}),a),t)},kv=["data"],Vv=function(e){var t=e.children,n=e.cx,o=e.getStyles,r=e.getClassNames,a=e.Heading,i=e.headingProps,l=e.innerProps,g=e.label,c=e.theme,s=e.selectProps;return lf("div",$r({},zf(e,"group",{group:!0}),l),lf(a,$r({},i,{selectProps:s,theme:c,getStyles:o,getClassNames:r,cx:n}),g),lf("div",null,t))},Wv=["innerRef","isDisabled","isHidden","inputClassName"],wv={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Rv={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":gt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},wv)},Xv=function(e){return gt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},wv)},Jv=function(e){var t=e.children,n=e.innerProps;return lf("div",n,t)};var xv=function(e){var t=e.children,n=e.components,o=e.data,r=e.innerProps,a=e.isDisabled,i=e.removeProps,l=e.selectProps,g=n.Container,c=n.Label,s=n.Remove;return lf(g,{data:o,innerProps:gt(gt({},zf(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),r),selectProps:l},lf(c,{data:o,innerProps:gt({},zf(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},t),lf(s,{data:o,innerProps:gt(gt({},zf(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},i),selectProps:l}))},Hv={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return lf("div",$r({},zf(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||lf(bv,null))},Control:Bv,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return lf("div",$r({},zf(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||lf(fv,null))},DownChevron:fv,CrossIcon:bv,Group:Vv,GroupHeading:function(e){var t=Lf(e);t.data;var n=ct(t,kv);return lf("div",$r({},zf(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return lf("div",$r({},zf(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return lf("span",$r({},t,zf(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,o=Lf(e),r=o.innerRef,a=o.isDisabled,i=o.isHidden,l=o.inputClassName,g=ct(o,Wv);return lf("div",$r({},zf(e,"input",{"input-container":!0}),{"data-value":n||""}),lf("input",$r({className:t({input:!0},l),ref:r,style:Xv(i),disabled:a},g)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,o=e.size,r=void 0===o?4:o,a=ct(e,Cv);return lf("div",$r({},zf(gt(gt({},a),{},{innerProps:t,isRtl:n,size:r}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),lf(Sv,{delay:0,offset:n}),lf(Sv,{delay:160,offset:!0}),lf(Sv,{delay:320,offset:!n}))},Menu:cv,MenuList:function(e){var t=e.children,n=e.innerProps,o=e.innerRef,r=e.isMulti;return lf("div",$r({},zf(e,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:o},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,o=e.controlElement,r=e.innerProps,a=e.menuPlacement,l=e.menuPosition,g=(0,i.useRef)(null),c=(0,i.useRef)(null),s=I((0,i.useState)(iv(a)),2),u=s[0],d=s[1],C=(0,i.useMemo)((function(){return{setPortalPlacement:d}}),[]),m=I((0,i.useState)(null),2),p=m[0],A=m[1],h=(0,i.useCallback)((function(){if(o){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(o),t="fixed"===l?0:window.pageYOffset,n=e[u]+t;n===(null===p||void 0===p?void 0:p.offset)&&e.left===(null===p||void 0===p?void 0:p.rect.left)&&e.width===(null===p||void 0===p?void 0:p.rect.width)||A({offset:n,rect:e})}}),[o,l,u,null===p||void 0===p?void 0:p.offset,null===p||void 0===p?void 0:p.rect.left,null===p||void 0===p?void 0:p.rect.width]);Yf((function(){h()}),[h]);var b=(0,i.useCallback)((function(){"function"===typeof c.current&&(c.current(),c.current=null),o&&g.current&&(c.current=Hf(o,g.current,h,{elementResize:"ResizeObserver"in window}))}),[o,h]);Yf((function(){b()}),[b]);var f=(0,i.useCallback)((function(e){g.current=e,b()}),[b]);if(!t&&"fixed"!==l||!p)return null;var v=lf("div",$r({ref:f},zf(gt(gt({},e),{},{offset:p.offset,position:l,rect:p.rect}),"menuPortal",{"menu-portal":!0}),r),n);return lf(lv.Provider,{value:C},t?(0,_t.createPortal)(v,t):v)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,o=e.innerProps,r=ct(e,ov);return lf("div",$r({},zf(gt(gt({},r),{},{children:n,innerProps:o}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),o),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,o=e.innerProps,r=ct(e,nv);return lf("div",$r({},zf(gt(gt({},r),{},{children:n,innerProps:o}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),o),n)},MultiValue:xv,MultiValueContainer:Jv,MultiValueLabel:Jv,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return lf("div",$r({role:"button"},n),t||lf(bv,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,o=e.isFocused,r=e.isSelected,a=e.innerRef,i=e.innerProps;return lf("div",$r({},zf(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":o,"option--is-selected":r}),{ref:a,"aria-disabled":n},i),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return lf("div",$r({},zf(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,o=e.isDisabled,r=e.isRtl;return lf("div",$r({},zf(e,"container",{"--is-disabled":o,"--is-rtl":r}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,o=e.innerProps;return lf("div",$r({},zf(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),o),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,o=e.isMulti,r=e.hasValue;return lf("div",$r({},zf(e,"valueContainer",{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":r}),n),t)}},Yv=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Nv(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(o=e[n],r=t[n],!(o===r||Yv(o)&&Yv(r)))return!1;var o,r;return!0}for(var Fv={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Ev=function(e){return lf("span",$r({css:Fv},e))},Kv={guidance:function(e){var t=e.isSearchable,n=e.isMulti,o=e.isDisabled,r=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,o=void 0===n?"":n,r=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(o,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return"option ".concat(o,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,o=e.options,r=e.label,a=void 0===r?"":r,i=e.selectValue,l=e.isDisabled,g=e.isSelected,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&i)return"value ".concat(a," focused, ").concat(c(i,n),".");if("menu"===t){var s=l?" disabled":"",u="".concat(g?"selected":"focused").concat(s);return"option ".concat(a," ").concat(u,", ").concat(c(o,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},Mv=function(e){var t=e.ariaSelection,n=e.focusedOption,o=e.focusedValue,r=e.focusableOptions,a=e.isFocused,l=e.selectValue,g=e.selectProps,c=e.id,s=g.ariaLiveMessages,u=g.getOptionLabel,d=g.inputValue,I=g.isMulti,C=g.isOptionDisabled,m=g.isSearchable,p=g.menuIsOpen,A=g.options,h=g.screenReaderStatus,b=g.tabSelectsValue,f=g["aria-label"],v=g["aria-live"],y=(0,i.useMemo)((function(){return gt(gt({},Kv),s||{})}),[s]),Z=(0,i.useMemo)((function(){var e,n="";if(t&&y.onChange){var o=t.option,r=t.options,a=t.removedValue,i=t.removedValues,g=t.value,c=a||o||(e=g,Array.isArray(e)?null:e),s=c?u(c):"",d=r||i||void 0,I=d?d.map(u):[],m=gt({isDisabled:c&&C(c,l),label:s,labels:I},t);n=y.onChange(m)}return n}),[t,y,C,l,u]),G=(0,i.useMemo)((function(){var e="",t=n||o,a=!!(n&&l&&l.includes(n));if(t&&y.onFocus){var i={focused:t,label:u(t),isDisabled:C(t,l),isSelected:a,options:r,context:t===n?"menu":"value",selectValue:l};e=y.onFocus(i)}return e}),[n,o,u,C,y,r,l]),S=(0,i.useMemo)((function(){var e="";if(p&&A.length&&y.onFilter){var t=h({count:r.length});e=y.onFilter({inputValue:d,resultsMessage:t})}return e}),[r,d,p,y,A,h]),B=(0,i.useMemo)((function(){var e="";if(y.guidance){var t=o?"value":p?"menu":"input";e=y.guidance({"aria-label":f,context:t,isDisabled:n&&C(n,l),isMulti:I,isSearchable:m,tabSelectsValue:b})}return e}),[f,n,o,I,C,m,p,y,l,b]),k="".concat(G," ").concat(S," ").concat(B),V=lf(i.Fragment,null,lf("span",{id:"aria-selection"},Z),lf("span",{id:"aria-context"},k)),W="initial-input-focus"===(null===t||void 0===t?void 0:t.action);return lf(i.Fragment,null,lf(Ev,{id:c},W&&V),lf(Ev,{"aria-live":v,"aria-atomic":"false","aria-relevant":"additions text"},a&&!W&&V))},Lv=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],zv=new RegExp("["+Lv.map((function(e){return e.letters})).join("")+"]","g"),Dv={},Tv=0;Tv<Lv.length;Tv++)for(var Uv=Lv[Tv],Qv=0;Qv<Uv.letters.length;Qv++)Dv[Uv.letters[Qv]]=Uv.base;var jv=function(e){return e.replace(zv,(function(e){return Dv[e]}))},Ov=function(e,t){void 0===t&&(t=Nv);var n=null;function o(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var a=e.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return o.clear=function(){n=null},o}(jv),Pv=function(e){return e.replace(/^\s+|\s+$/g,"")},qv=function(e){return"".concat(e.label," ").concat(e.value)},_v=["innerRef"];function $v(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=Object.entries(e).filter((function(e){var t=I(e,1)[0];return!n.includes(t)}));return r.reduce((function(e,t){var n=I(t,2),o=n[0],r=n[1];return e[o]=r,e}),{})}(ct(e,_v),"onExited","in","enter","exit","appear");return lf("input",$r({ref:t},n,{css:gf({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var ey=function(e){e.preventDefault(),e.stopPropagation()};var ty=["boxSizing","height","overflow","paddingRight","position"],ny={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function oy(e){e.preventDefault()}function ry(e){e.stopPropagation()}function ay(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function iy(){return"ontouchstart"in window||navigator.maxTouchPoints}var ly=!("undefined"===typeof window||!window.document||!window.document.createElement),gy=0,cy={capture:!1,passive:!1};var sy=function(){return document.activeElement&&document.activeElement.blur()},uy={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function dy(e){var t=e.children,n=e.lockEnabled,o=e.captureEnabled,r=function(e){var t=e.isEnabled,n=e.onBottomArrive,o=e.onBottomLeave,r=e.onTopArrive,a=e.onTopLeave,l=(0,i.useRef)(!1),g=(0,i.useRef)(!1),c=(0,i.useRef)(0),s=(0,i.useRef)(null),u=(0,i.useCallback)((function(e,t){if(null!==s.current){var i=s.current,c=i.scrollTop,u=i.scrollHeight,d=i.clientHeight,I=s.current,C=t>0,m=u-d-c,p=!1;m>t&&l.current&&(o&&o(e),l.current=!1),C&&g.current&&(a&&a(e),g.current=!1),C&&t>m?(n&&!l.current&&n(e),I.scrollTop=u,p=!0,l.current=!0):!C&&-t>c&&(r&&!g.current&&r(e),I.scrollTop=0,p=!0,g.current=!0),p&&ey(e)}}),[n,o,r,a]),d=(0,i.useCallback)((function(e){u(e,e.deltaY)}),[u]),I=(0,i.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),C=(0,i.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;u(e,t)}),[u]),m=(0,i.useCallback)((function(e){if(e){var t=!!$f&&{passive:!1};e.addEventListener("wheel",d,t),e.addEventListener("touchstart",I,t),e.addEventListener("touchmove",C,t)}}),[C,I,d]),p=(0,i.useCallback)((function(e){e&&(e.removeEventListener("wheel",d,!1),e.removeEventListener("touchstart",I,!1),e.removeEventListener("touchmove",C,!1))}),[C,I,d]);return(0,i.useEffect)((function(){if(t){var e=s.current;return m(e),function(){p(e)}}}),[t,m,p]),function(e){s.current=e}}({isEnabled:void 0===o||o,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var t=e.isEnabled,n=e.accountForScrollbars,o=void 0===n||n,r=(0,i.useRef)({}),a=(0,i.useRef)(null),l=(0,i.useCallback)((function(e){if(ly){var t=document.body,n=t&&t.style;if(o&&ty.forEach((function(e){var t=n&&n[e];r.current[e]=t})),o&&gy<1){var a=parseInt(r.current.paddingRight,10)||0,i=document.body?document.body.clientWidth:0,l=window.innerWidth-i+a||0;Object.keys(ny).forEach((function(e){var t=ny[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(l,"px"))}t&&iy()&&(t.addEventListener("touchmove",oy,cy),e&&(e.addEventListener("touchstart",ay,cy),e.addEventListener("touchmove",ry,cy))),gy+=1}}),[o]),g=(0,i.useCallback)((function(e){if(ly){var t=document.body,n=t&&t.style;gy=Math.max(gy-1,0),o&&gy<1&&ty.forEach((function(e){var t=r.current[e];n&&(n[e]=t)})),t&&iy()&&(t.removeEventListener("touchmove",oy,cy),e&&(e.removeEventListener("touchstart",ay,cy),e.removeEventListener("touchmove",ry,cy)))}}),[o]);return(0,i.useEffect)((function(){if(t){var e=a.current;return l(e),function(){g(e)}}}),[t,l,g]),function(e){a.current=e}}({isEnabled:n});return lf(i.Fragment,null,n&&lf("div",{onClick:sy,css:uy}),t((function(e){r(e),a(e)})))}var Iy={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Cy=function(e){var t=e.name,n=e.onFocus;return lf("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Iy,value:"",onChange:function(){}})},my={clearIndicator:Zv,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,o=e.isFocused,r=e.theme,a=r.colors,i=r.borderRadius;return gt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:r.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:o?a.primary:a.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:o?a.primary:a.neutral30}})},dropdownIndicator:yv,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,o=n.colors,r=n.spacing;return gt({label:"group",cursor:"default",display:"block"},t?{}:{color:o.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*r.baseUnit,paddingRight:3*r.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,o=e.theme,r=o.spacing.baseUnit,a=o.colors;return gt({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?a.neutral10:a.neutral20,marginBottom:2*r,marginTop:2*r})},input:function(e,t){var n=e.isDisabled,o=e.value,r=e.theme,a=r.spacing,i=r.colors;return gt(gt({visibility:n?"hidden":"visible",transform:o?"translateZ(0)":""},Rv),t?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:i.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,o=e.size,r=e.theme,a=r.colors,i=r.spacing.baseUnit;return gt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*i})},loadingMessage:dv,menu:function(e,t){var n,o=e.placement,r=e.theme,a=r.borderRadius,i=r.spacing,l=r.colors;return gt((it(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(o),"100%"),it(n,"position","absolute"),it(n,"width","100%"),it(n,"zIndex",1),n),t?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:i.menuGutter,marginTop:i.menuGutter})},menuList:function(e,t){var n=e.maxHeight,o=e.theme.spacing.baseUnit;return gt({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:o,paddingTop:o})},menuPortal:function(e){var t=e.rect,n=e.offset,o=e.position;return{left:t.left,position:o,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,o=n.spacing,r=n.borderRadius,a=n.colors;return gt({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:a.neutral10,borderRadius:r/2,margin:o.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,o=n.borderRadius,r=n.colors,a=e.cropWithEllipsis;return gt({overflow:"hidden",textOverflow:a||void 0===a?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:o/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,o=n.spacing,r=n.borderRadius,a=n.colors,i=e.isFocused;return gt({alignItems:"center",display:"flex"},t?{}:{borderRadius:r/2,backgroundColor:i?a.dangerLight:void 0,paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},noOptionsMessage:uv,option:function(e,t){var n=e.isDisabled,o=e.isFocused,r=e.isSelected,a=e.theme,i=a.spacing,l=a.colors;return gt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:r?l.primary:o?l.primary25:"transparent",color:n?l.neutral20:r?l.neutral0:"inherit",padding:"".concat(2*i.baseUnit,"px ").concat(3*i.baseUnit,"px"),":active":{backgroundColor:n?void 0:r?l.primary:l.primary50}})},placeholder:function(e,t){var n=e.theme,o=n.spacing,r=n.colors;return gt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:r.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,o=e.theme,r=o.spacing,a=o.colors;return gt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?a.neutral40:a.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,o=e.isMulti,r=e.hasValue,a=e.selectProps.controlShouldRenderValue;return gt({alignItems:"center",display:o&&r&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var py,Ay={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},hy={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Of(),captureMenuScroll:!Of(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=gt({ignoreCase:!0,ignoreAccents:!0,stringify:qv,trim:!0,matchFrom:"any"},py),o=n.ignoreCase,r=n.ignoreAccents,a=n.stringify,i=n.trim,l=n.matchFrom,g=i?Pv(t):t,c=i?Pv(a(e)):a(e);return o&&(g=g.toLowerCase(),c=c.toLowerCase()),r&&(g=Ov(g),c=jv(c)),"start"===l?c.substr(0,g.length)===g:c.indexOf(g)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(nY){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function by(e,t,n,o){return{type:"option",data:t,isDisabled:Sy(e,t,n),isSelected:By(e,t,n),label:Zy(e,t),value:Gy(e,t),index:o}}function fy(e,t){return e.options.map((function(n,o){if("options"in n){var r=n.options.map((function(n,o){return by(e,n,t,o)})).filter((function(t){return yy(e,t)}));return r.length>0?{type:"group",data:n,options:r,index:o}:void 0}var a=by(e,n,t,o);return yy(e,a)?a:void 0})).filter(ev)}function vy(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,m(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function yy(e,t){var n=e.inputValue,o=void 0===n?"":n,r=t.data,a=t.isSelected,i=t.label,l=t.value;return(!Vy(e)||!a)&&ky(e,{label:i,value:l,data:r},o)}var Zy=function(e,t){return e.getOptionLabel(t)},Gy=function(e,t){return e.getOptionValue(t)};function Sy(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function By(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var o=Gy(e,t);return n.some((function(t){return Gy(e,t)===o}))}function ky(e,t,n){return!e.filterOption||e.filterOption(t,n)}var Vy=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},Wy=1,wy=function(e){v(n,e);var t=S(n);function n(e){var o;if(p(this,n),(o=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.instancePrefix="",o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.controlRef=null,o.getControlRef=function(e){o.controlRef=e},o.focusedOptionRef=null,o.getFocusedOptionRef=function(e){o.focusedOptionRef=e},o.menuListRef=null,o.getMenuListRef=function(e){o.menuListRef=e},o.inputRef=null,o.getInputRef=function(e){o.inputRef=e},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(e,t){var n=o.props,r=n.onChange,a=n.name;t.name=a,o.ariaOnChange(e,t),r(e,t)},o.setValue=function(e,t,n){var r=o.props,a=r.closeMenuOnSelect,i=r.isMulti,l=r.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:l}),a&&(o.setState({inputIsHiddenAfterUpdate:!i}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(e,{action:t,option:n})},o.selectOption=function(e){var t=o.props,n=t.blurInputOnSelect,r=t.isMulti,a=t.name,i=o.state.selectValue,l=r&&o.isOptionSelected(e,i),g=o.isOptionDisabled(e,i);if(l){var c=o.getOptionValue(e);o.setValue(i.filter((function(e){return o.getOptionValue(e)!==c})),"deselect-option",e)}else{if(g)return void o.ariaOnChange(e,{action:"select-option",option:e,name:a});r?o.setValue([].concat(m(i),[e]),"select-option",e):o.setValue(e,"select-option")}n&&o.blurInput()},o.removeValue=function(e){var t=o.props.isMulti,n=o.state.selectValue,r=o.getOptionValue(e),a=n.filter((function(e){return o.getOptionValue(e)!==r})),i=tv(t,a,a[0]||null);o.onChange(i,{action:"remove-value",removedValue:e}),o.focusInput()},o.clearValue=function(){var e=o.state.selectValue;o.onChange(tv(o.props.isMulti,[],null),{action:"clear",removedValues:e})},o.popValue=function(){var e=o.props.isMulti,t=o.state.selectValue,n=t[t.length-1],r=t.slice(0,t.length-1),a=tv(e,r,r[0]||null);o.onChange(a,{action:"pop-value",removedValue:n})},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Kf.apply(void 0,[o.props.classNamePrefix].concat(t))},o.getOptionLabel=function(e){return Zy(o.props,e)},o.getOptionValue=function(e){return Gy(o.props,e)},o.getStyles=function(e,t){var n=o.props.unstyled,r=my[e](t,n);r.boxSizing="border-box";var a=o.props.styles[e];return a?a(r,t):r},o.getClassNames=function(e,t){var n,r;return null===(n=(r=o.props.classNames)[e])||void 0===n?void 0:n.call(r,t)},o.getElementId=function(e){return"".concat(o.instancePrefix,"-").concat(e)},o.getComponents=function(){return e=o.props,gt(gt({},Hv),e.components);var e},o.buildCategorizedOptions=function(){return fy(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return vy(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(e,t){o.setState({ariaSelection:gt({value:e},t)})},o.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(e){o.blockOptionHover=!1},o.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&o.onMenuClose():t&&o.openMenu("first"):(t&&(o.openAfterFocus=!0),o.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},o.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!o.props.isDisabled){var t=o.props,n=t.isMulti,r=t.menuIsOpen;o.focusInput(),r?(o.setState({inputIsHiddenAfterUpdate:!n}),o.onMenuClose()):o.openMenu("first"),e.preventDefault()}},o.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(o.clearValue(),e.preventDefault(),o.openAfterFocus=!1,"touchend"===e.type?o.focusInput():setTimeout((function(){return o.focusInput()})))},o.onScroll=function(e){"boolean"===typeof o.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Df(e.target)&&o.props.onMenuClose():"function"===typeof o.props.closeMenuOnScroll&&o.props.closeMenuOnScroll(e)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(o.initialTouchX=n.clientX,o.initialTouchY=n.clientY,o.userIsDragging=!1)},o.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var r=Math.abs(n.clientX-o.initialTouchX),a=Math.abs(n.clientY-o.initialTouchY);o.userIsDragging=r>5||a>5}},o.onTouchEnd=function(e){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(e.target)&&o.menuListRef&&!o.menuListRef.contains(e.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(e){o.userIsDragging||o.onControlMouseDown(e)},o.onClearIndicatorTouchEnd=function(e){o.userIsDragging||o.onClearIndicatorMouseDown(e)},o.onDropdownIndicatorTouchEnd=function(e){o.userIsDragging||o.onDropdownIndicatorMouseDown(e)},o.handleInputChange=function(e){var t=o.props.inputValue,n=e.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(n,{action:"input-change",prevInputValue:t}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(e){o.props.onFocus&&o.props.onFocus(e),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(e){var t=o.props.inputValue;o.menuListRef&&o.menuListRef.contains(document.activeElement)?o.inputRef.focus():(o.props.onBlur&&o.props.onBlur(e),o.onInputChange("",{action:"input-blur",prevInputValue:t}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1}))},o.onOptionHover=function(e){o.blockOptionHover||o.state.focusedOption===e||o.setState({focusedOption:e})},o.shouldHideSelectedOptions=function(){return Vy(o.props)},o.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),o.focus()},o.onKeyDown=function(e){var t=o.props,n=t.isMulti,r=t.backspaceRemovesValue,a=t.escapeClearsValue,i=t.inputValue,l=t.isClearable,g=t.isDisabled,c=t.menuIsOpen,s=t.onKeyDown,u=t.tabSelectsValue,d=t.openMenuOnFocus,I=o.state,C=I.focusedOption,m=I.focusedValue,p=I.selectValue;if(!g&&("function"!==typeof s||(s(e),!e.defaultPrevented))){switch(o.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||i)return;o.focusValue("previous");break;case"ArrowRight":if(!n||i)return;o.focusValue("next");break;case"Delete":case"Backspace":if(i)return;if(m)o.removeValue(m);else{if(!r)return;n?o.popValue():l&&o.clearValue()}break;case"Tab":if(o.isComposing)return;if(e.shiftKey||!c||!u||!C||d&&o.isOptionSelected(C,p))return;o.selectOption(C);break;case"Enter":if(229===e.keyCode)break;if(c){if(!C)return;if(o.isComposing)return;o.selectOption(C);break}return;case"Escape":c?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:i}),o.onMenuClose()):l&&a&&o.clearValue();break;case" ":if(i)return;if(!c){o.openMenu("first");break}if(!C)return;o.selectOption(C);break;case"ArrowUp":c?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":c?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!c)return;o.focusOption("pageup");break;case"PageDown":if(!c)return;o.focusOption("pagedown");break;case"Home":if(!c)return;o.focusOption("first");break;case"End":if(!c)return;o.focusOption("last");break;default:return}e.preventDefault()}},o.instancePrefix="react-select-"+(o.props.instanceId||++Wy),o.state.selectValue=Mf(e.value),e.menuIsOpen&&o.state.selectValue.length){var r=o.buildFocusableOptions(),a=r.indexOf(o.state.selectValue[0]);o.state.focusedOption=r[a]}return o}return b(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&jf(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,o=t.menuIsOpen,r=this.state.isFocused;(r&&!n&&e.isDisabled||r&&o&&!e.menuIsOpen)&&this.focusInput(),r&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):r||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(jf(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,o=n.selectValue,r=n.isFocused,a=this.buildFocusableOptions(),i="first"===e?0:a.length-1;if(!this.props.isMulti){var l=a.indexOf(o[0]);l>-1&&(i=l)}this.scrollToFocusedOptionOnUpdate=!(r&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:a[i]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,o=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var r=n.indexOf(o);o||(r=-1);var a=n.length-1,i=-1;if(n.length){switch(e){case"previous":i=0===r?0:-1===r?a:r-1;break;case"next":r>-1&&r<a&&(i=r+1)}this.setState({inputIsHidden:-1!==i,focusedValue:n[i]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var r=0,a=o.indexOf(n);n||(a=-1),"up"===e?r=a>0?a-1:o.length-1:"down"===e?r=(a+1)%o.length:"pageup"===e?(r=a-t)<0&&(r=0):"pagedown"===e?(r=a+t)>o.length-1&&(r=o.length-1):"last"===e&&(r=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[r],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(Ay):gt(gt({},Ay),this.props.theme):Ay}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,o=this.getClassNames,r=this.getValue,a=this.selectOption,i=this.setValue,l=this.props,g=l.isMulti,c=l.isRtl,s=l.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:o,getValue:r,hasValue:this.hasValue(),isMulti:g,isRtl:c,options:s,selectOption:a,selectProps:l,setValue:i,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return Sy(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return By(this.props,e,t)}},{key:"filterOption",value:function(e,t){return ky(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:o})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,o=e.inputId,r=e.inputValue,a=e.tabIndex,l=e.form,g=e.menuIsOpen,c=e.required,s=this.getComponents().Input,u=this.state,d=u.inputIsHidden,I=u.ariaSelection,C=this.commonProps,m=o||this.getElementId("input"),p=gt(gt(gt({"aria-autocomplete":"list","aria-expanded":g,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox"},g&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===I||void 0===I?void 0:I.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?i.createElement(s,$r({},C,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:d,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:l,type:"text",value:r},p)):i.createElement($v,$r({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ff,onFocus:this.onInputFocus,disabled:t,tabIndex:a,inputMode:"none",form:l,value:""},p))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,o=t.MultiValueContainer,r=t.MultiValueLabel,a=t.MultiValueRemove,l=t.SingleValue,g=t.Placeholder,c=this.commonProps,s=this.props,u=s.controlShouldRenderValue,d=s.isDisabled,I=s.isMulti,C=s.inputValue,m=s.placeholder,p=this.state,A=p.selectValue,h=p.focusedValue,b=p.isFocused;if(!this.hasValue()||!u)return C?null:i.createElement(g,$r({},c,{key:"placeholder",isDisabled:d,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),m);if(I)return A.map((function(t,l){var g=t===h,s="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return i.createElement(n,$r({},c,{components:{Container:o,Label:r,Remove:a},isFocused:g,isDisabled:d,key:s,index:l,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(C)return null;var f=A[0];return i.createElement(l,$r({},c,{data:f,isDisabled:d}),this.formatOptionLabel(f,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,o=n.isDisabled,r=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||o||!this.hasValue()||r)return null;var l={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return i.createElement(e,$r({},t,{innerProps:l,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,o=n.isDisabled,r=n.isLoading,a=this.state.isFocused;if(!e||!r)return null;return i.createElement(e,$r({},t,{innerProps:{"aria-hidden":"true"},isDisabled:o,isFocused:a}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var o=this.commonProps,r=this.props.isDisabled,a=this.state.isFocused;return i.createElement(n,$r({},o,{isDisabled:r,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,o=this.state.isFocused,r={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return i.createElement(e,$r({},t,{innerProps:r,isDisabled:n,isFocused:o}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,o=t.GroupHeading,r=t.Menu,a=t.MenuList,l=t.MenuPortal,g=t.LoadingMessage,c=t.NoOptionsMessage,s=t.Option,u=this.commonProps,d=this.state.focusedOption,I=this.props,C=I.captureMenuScroll,m=I.inputValue,p=I.isLoading,A=I.loadingMessage,h=I.minMenuHeight,b=I.maxMenuHeight,f=I.menuIsOpen,v=I.menuPlacement,y=I.menuPosition,Z=I.menuPortalTarget,G=I.menuShouldBlockScroll,S=I.menuShouldScrollIntoView,B=I.noOptionsMessage,k=I.onMenuScrollToTop,V=I.onMenuScrollToBottom;if(!f)return null;var W,w=function(t,n){var o=t.type,r=t.data,a=t.isDisabled,l=t.isSelected,g=t.label,c=t.value,I=d===r,C=a?void 0:function(){return e.onOptionHover(r)},m=a?void 0:function(){return e.selectOption(r)},p="".concat(e.getElementId("option"),"-").concat(n),A={id:p,onClick:m,onMouseMove:C,onMouseOver:C,tabIndex:-1};return i.createElement(s,$r({},u,{innerProps:A,data:r,isDisabled:a,isSelected:l,key:p,label:g,type:o,value:c,isFocused:I,innerRef:I?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())W=this.getCategorizedOptions().map((function(t){if("group"===t.type){var r=t.data,a=t.options,l=t.index,g="".concat(e.getElementId("group"),"-").concat(l),c="".concat(g,"-heading");return i.createElement(n,$r({},u,{key:g,data:r,options:a,Heading:o,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return w(e,"".concat(l,"-").concat(e.index))})))}if("option"===t.type)return w(t,"".concat(t.index))}));else if(p){var R=A({inputValue:m});if(null===R)return null;W=i.createElement(g,u,R)}else{var X=B({inputValue:m});if(null===X)return null;W=i.createElement(c,u,X)}var J={minMenuHeight:h,maxMenuHeight:b,menuPlacement:v,menuPosition:y,menuShouldScrollIntoView:S},x=i.createElement(gv,$r({},u,J),(function(t){var n=t.ref,o=t.placerProps,l=o.placement,g=o.maxHeight;return i.createElement(r,$r({},u,J,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:p,placement:l}),i.createElement(dy,{captureEnabled:C,onTopArrive:k,onBottomArrive:V,lockEnabled:G},(function(t){return i.createElement(a,$r({},u,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:p,maxHeight:g,focusedOption:d}),W)})))}));return Z||"fixed"===y?i.createElement(l,$r({},u,{appendTo:Z,controlElement:this.controlRef,menuPlacement:v,menuPosition:y}),x):x}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,o=t.isDisabled,r=t.isMulti,a=t.name,l=t.required,g=this.state.selectValue;if(l&&!this.hasValue()&&!o)return i.createElement(Cy,{name:a,onFocus:this.onValueInputFocus});if(a&&!o){if(r){if(n){var c=g.map((function(t){return e.getOptionValue(t)})).join(n);return i.createElement("input",{name:a,type:"hidden",value:c})}var s=g.length>0?g.map((function(t,n){return i.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:e.getOptionValue(t)})})):i.createElement("input",{name:a,type:"hidden",value:""});return i.createElement("div",null,s)}var u=g[0]?this.getOptionValue(g[0]):"";return i.createElement("input",{name:a,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,o=t.focusedOption,r=t.focusedValue,a=t.isFocused,l=t.selectValue,g=this.getFocusableOptions();return i.createElement(Mv,$r({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:o,focusedValue:r,isFocused:a,selectValue:l,focusableOptions:g}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,o=e.SelectContainer,r=e.ValueContainer,a=this.props,l=a.className,g=a.id,c=a.isDisabled,s=a.menuIsOpen,u=this.state.isFocused,d=this.commonProps=this.getCommonProps();return i.createElement(o,$r({},d,{className:l,innerProps:{id:g,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:u}),this.renderLiveRegion(),i.createElement(t,$r({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:u,menuIsOpen:s}),i.createElement(r,$r({},d,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),i.createElement(n,$r({},d,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,o=t.clearFocusValueOnUpdate,r=t.inputIsHiddenAfterUpdate,a=t.ariaSelection,i=t.isFocused,l=t.prevWasFocused,g=e.options,c=e.value,s=e.menuIsOpen,u=e.inputValue,d=e.isMulti,I=Mf(c),C={};if(n&&(c!==n.value||g!==n.options||s!==n.menuIsOpen||u!==n.inputValue)){var m=s?function(e,t){return vy(fy(e,t))}(e,I):[],p=o?function(e,t){var n=e.focusedValue,o=e.selectValue.indexOf(n);if(o>-1){if(t.indexOf(n)>-1)return n;if(o<t.length)return t[o]}return null}(t,I):null,A=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,m);C={selectValue:I,focusedOption:A,focusedValue:p,clearFocusValueOnUpdate:!1}}var h=null!=r&&e!==n?{inputIsHidden:r,inputIsHiddenAfterUpdate:void 0}:{},b=a,f=i&&l;return i&&!f&&(b={value:tv(d,I,I[0]||null),options:I,action:"initial-input-focus"},f=!l),"initial-input-focus"===(null===a||void 0===a?void 0:a.action)&&(b=null),gt(gt(gt({},C),h),{},{prevProps:e,ariaSelection:b,prevWasFocused:f})}}]),n}(i.Component);wy.defaultProps=hy;var Ry=(0,i.forwardRef)((function(e,t){var n=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,o=e.defaultMenuIsOpen,r=void 0!==o&&o,a=e.defaultValue,l=void 0===a?null:a,g=e.inputValue,c=e.menuIsOpen,s=e.onChange,u=e.onInputChange,d=e.onMenuClose,C=e.onMenuOpen,m=e.value,p=ct(e,kb),A=I((0,i.useState)(void 0!==g?g:n),2),h=A[0],b=A[1],f=I((0,i.useState)(void 0!==c?c:r),2),v=f[0],y=f[1],Z=I((0,i.useState)(void 0!==m?m:l),2),G=Z[0],S=Z[1],B=(0,i.useCallback)((function(e,t){"function"===typeof s&&s(e,t),S(e)}),[s]),k=(0,i.useCallback)((function(e,t){var n;"function"===typeof u&&(n=u(e,t)),b(void 0!==n?n:e)}),[u]),V=(0,i.useCallback)((function(){"function"===typeof C&&C(),y(!0)}),[C]),W=(0,i.useCallback)((function(){"function"===typeof d&&d(),y(!1)}),[d]),w=void 0!==g?g:h,R=void 0!==c?c:v,X=void 0!==m?m:G;return gt(gt({},p),{},{inputValue:w,menuIsOpen:R,onChange:B,onInputChange:k,onMenuClose:W,onMenuOpen:V,value:X})}(e);return i.createElement(wy,$r({ref:t},n))})),Xy=Ry,Jy=function(e){var t=e.center,n=e.setCenter,o=e.address,r=e.setAddress,a=e.onlyView,l=void 0!==a&&a,g=e.zoom,c=void 0===g?15:g,s=e.className,u=e.clickable,d=e.icon,C=Vr().apiMapsIsLoaded,m=I((0,i.useState)(null),2),p=m[0],A=m[1];(0,i.useEffect)((function(){!l&&n&&setTimeout((function(){o&&(new window.google.maps.Geocoder).geocode({address:o},(function(e,t){if("OK"===t&&e&&e.length>0){var o=e[0].geometry.location,r=o.lat,a=o.lng;n({lat:r(),lng:a()})}else console.error("Geocode was not successful for the following reason: ",t)}));setTimeout((function(){t||n({lat:6.1753777,lng:-75.6345297})}),100)}),2e3)}),[]),(0,i.useEffect)((function(){p&&p.setZoom(15)}),[p,t]);return C?(0,nt.jsxs)(hn,{center:t||{lat:6.1753777,lng:-75.6345297},zoom:c,mapContainerClassName:"map_for_".concat(s),options:{zoomControl:!0,streetViewControl:!0,mapTypeControl:!0,fullscreenControl:!0},onLoad:function(e){setTimeout((function(){A(e)}),300)},onClick:u?function(e){var t=e.latLng;p&&t&&n&&r&&(n({lat:t.lat(),lng:t.lng()}),(new window.google.maps.Geocoder).geocode({location:t},(function(e,t){"OK"===t&&e&&e.length>0?(r(e[0].formatted_address),p.setZoom(15)):console.error("Geocode was not successful for the following reason: ",t)})))}:void 0,children:[(0,nt.jsx)(Kr,{size:30,className:"center_map_button",onClick:function(){p&&t&&(p.panTo(t),p.setZoom(15))}}),p&&t&&(0,nt.jsx)(Ln,{position:t,icon:d})]}):(0,nt.jsx)("div",{style:{display:"block",width:"100%"},children:"Cargando el mapa..."})};function xy(e){var t=e.id,n=e.value,o=e.setValue,r=e.name,a=e.required,l=e.disabled,g=e.onChange,c=I((0,i.useState)(!0),2),s=c[0],u=c[1],d=mA().path,C=(0,i.useRef)(null),m=(0,i.useCallback)((function(){C.current.click()}),[]),p=(0,i.useCallback)((function(e){var t=e.currentTarget.files[0];if(t){var n=new FileReader;n.onload=function(e){var n,r=new Image;r.onload=function(){var e=r.width,n=r.height,a=Math.min(e,n),i=document.createElement("canvas");i.width=a,i.height=a;var l=i.getContext("2d");if(l){var g=e>n?(e-a)/2:0,c=n>e?(n-a)/2:0;l.drawImage(r,g,c,a,a,0,0,a,a),i.toBlob((function(e){if(e){var n=new File([e],t.name,{type:"image/jpeg"});o(n),u(!1)}}),"image/jpeg",.9)}else o(null)},r.src=null===(n=e.target)||void 0===n?void 0:n.result},n.readAsDataURL(t),g&&g(e)}else o(null)}),[g,o]);return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsxs)("div",{className:"image_body",children:[(0,nt.jsx)("div",{className:"image_container",id:t+"_imageContainer",onClick:m,children:n&&(0,nt.jsx)("img",{className:"uploaded_image",src:s||"string"===typeof n?"".concat(d,"AssetsImages/").concat(n):URL.createObjectURL(n),alt:"Imagen seleccionada",width:"210px",height:"210px"})}),(0,nt.jsx)("p",{className:"image_description",children:"Tama\xf1o recomendado (300x300). Formatos (JPG, JPEG, PNG)."})]}),(0,nt.jsxs)("div",{className:"input_field",children:[(0,nt.jsx)("label",{className:"field_name",htmlFor:t,children:r}),(0,nt.jsx)("input",{className:"field_type_input",id:t,name:r.replaceAll(" ","-"),type:"file",onChange:p,accept:"image/png, image/jpg, image/jpeg",required:a,disabled:l,ref:C})]})]})}function Hy(e){var t=e.id,n=e.value,o=e.setValue,r=e.name,a=e.required,l=e.disabled,g=e.onChange,c=e.options,s=e.defaultValue,u=e.isSearchable,d=e.isMultiSelect,C=I((0,i.useState)(null),2),m=C[0],p=C[1],A={control:function(e){return gt(gt({},e),{},{width:"100%",height:"56px",background:"var(--inputs)",color:"var(--dark)",border:"none",boxShadow:"none",outline:"none",borderRadius:"2vh",textAlign:"center",fontSize:"1rem",padding:"0 2vh",display:"flex"})}};(0,i.useEffect)((function(){s&&"string"===typeof n&&setTimeout((function(){var e=c.filter((function(e){return e.value===s}))[0];p(e),o(e)}),100)}),[s]);var h=(0,i.useCallback)((function(e){o(e),g&&g(e)}),[o,g]);return(0,nt.jsxs)("div",{className:"input_field",children:[(0,nt.jsx)("label",{className:"field_name",htmlFor:t,children:r}),(0,nt.jsx)(Xy,{styles:A,inputId:t,name:r.replaceAll(" ","-"),value:n,defaultValue:m,options:c,onChange:h,isSearchable:u,isDisabled:l,isMulti:d,isClearable:!0,required:a,placeholder:r,noOptionsMessage:function(){return"Sin resultados de ".concat(r)},closeMenuOnSelect:!d,tabSelectsValue:!0})]})}function Yy(e){var t=e.id,n=e.value,o=e.setValue,r=e.name,a=e.required,l=e.disabled,g=e.onChange,c=Vr().apiMapsIsLoaded,s=I((0,i.useState)(),2),u=s[0],d=s[1],C=I((0,i.useState)(),2),m=C[0],p=C[1],A=(0,i.useCallback)((function(e){o(e.currentTarget.value),g&&g(e)}),[o,g]),h=(0,i.useCallback)((function(){if(m){var e=m.getPlace().formatted_address||"";if(o(e),!e)return void d({lat:0,lng:0});(new window.google.maps.Geocoder).geocode({address:e},(function(e,t){if("OK"===t&&e&&e.length>0){var n=e[0].geometry.location,o=n.lat,r=n.lng;d({lat:o(),lng:r()})}else console.error("Geocode was not successful for the following reason: ",t)}))}}),[m,o]);return(0,nt.jsxs)("div",{className:"input_field",children:[(0,nt.jsx)("label",{className:"field_name",htmlFor:t,children:r}),c&&(0,nt.jsx)(br,{className:"field_type_geolocation",onLoad:function(e){p(e)},onPlaceChanged:h,children:(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)("input",{className:"field_type_input",id:t,name:r.replaceAll(" ","-"),type:"text",onChange:A,value:n,placeholder:r,required:a,disabled:l}),(0,nt.jsx)(pb,{size:23,className:"field_icon_geolocation",onClick:function(){document.querySelector(".container_map").classList.toggle("active")}}),(0,nt.jsx)("div",{className:"container_map",children:(0,nt.jsx)(Jy,{center:u,setCenter:d,address:n,setAddress:o,className:"inputs",clickable:!0})})]})})]})}function Ny(e){var t=e.id,n=e.value,o=e.setValue,r=e.name,a=e.required,l=e.disabled,g=e.onChange,c=(0,i.useCallback)((function(e){o(e.currentTarget.value),g&&g(e)}),[o,g]);return(0,nt.jsxs)("div",{className:"input_field",children:[(0,nt.jsx)("label",{className:"field_name",htmlFor:t,children:r}),(0,nt.jsx)("textarea",{className:"field_type_textarea",id:t,name:r.replaceAll(" ","-"),onChange:c,value:n,placeholder:r,required:a,disabled:l})]})}function Fy(e){var t=e.id,n=e.value,o=e.setValue,r=e.name,a=e.required,l=e.disabled,g=e.onChange,c=e.autoComplete,s=e.min,u=e.max,d=e.type,C=I((0,i.useState)(d),2),m=C[0],p=C[1];(0,i.useEffect)((function(){"money"!==d||"string"!==typeof n&&"number"!==typeof n||(o(iA(n)),p("text"))}),[n]);var A=(0,i.useCallback)((function(e){o("money"!==d||"string"!==typeof n&&"number"!==typeof n?"checkbox"===d?e.currentTarget.checked:e.currentTarget.value:iA(e.currentTarget.value)),g&&g(e)}),[d,n,o,g]);return(0,nt.jsxs)("div",{className:"input_field",children:[(0,nt.jsx)("label",{className:"field_name",htmlFor:t,children:r}),(0,nt.jsxs)("div",{className:"checkbox"===m?"field_type_slider":"",children:[(0,nt.jsx)("input",{className:"checkbox"!==m?"field_type_input":"",id:t,name:r.replaceAll(" ","-"),type:d,onChange:A,value:"checkbox"!==m&&"boolean"!==typeof n?n:void 0,checked:"checkbox"===m&&"boolean"===typeof n?n:void 0,placeholder:r,required:"checkbox"!==m&&a,disabled:l,autoComplete:c,min:s,max:u}),"checkbox"===m&&(0,nt.jsx)("label",{htmlFor:t})]})]})}function Ey(e){var t=e.type,n=e.name,o=e.value,r=e.setValue,a=e.onChange,i=e.required,l=void 0===i||i,g=e.disabled,c=e.autoComplete,s=void 0===c?"off":c,u=e.min,d=e.max,I=e.options,C=e.isMultiSelect,m=e.defaultValue,p=e.isSearchable,A=void 0===p||p,h=Vr().newId;return(0,nt.jsx)(nt.Fragment,{children:"photo"===t?(0,nt.jsx)(xy,{id:h(),value:o,setValue:r,name:n,required:l,disabled:g,onChange:a}):"select"===t&&I?(0,nt.jsx)(Hy,{id:h(),value:o,setValue:r,name:n,required:l,disabled:g,onChange:a,options:I,defaultValue:m,isSearchable:A,isMultiSelect:C}):"geolocation"===t?(0,nt.jsx)(Yy,{id:h(),value:o,setValue:r,name:n,required:l,disabled:g,onChange:a}):"textarea"===t?(0,nt.jsx)(Ny,{id:h(),value:o,setValue:r,name:n,required:l,disabled:g,onChange:a}):["text","number","checkbox","date","time","email","tel","password","money"].includes(t)?(0,nt.jsx)(Fy,{id:h(),value:o,setValue:r,name:n,required:l,disabled:g,onChange:a,autoComplete:s,min:u,max:d,type:t}):null})}var Ky=n(830),My=n.n(Ky);function Ly(){var e=Vr().addToastr,n=I((0,i.useState)(""),2),o=n[0],a=n[1],l=I((0,i.useState)(""),2),g=l[0],c=l[1],s=I((0,i.useState)(""),2),u=s[0],d=s[1],C=I((0,i.useState)(""),2),m=C[0],p=C[1],A=I((0,i.useState)(""),2),h=A[0],b=A[1],f=function(){var n=r(t().mark((function n(o){var r;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.preventDefault(),t.next=3,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(Sb,{size:130,color:"var(--principal)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfDeseas enviar la notificaci\xf3n al equipo de arepas T\xedo Lucho?</div>"),showCancelButton:!0,confirmButtonColor:"var(--green)",confirmButtonText:"Enviar",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 3:r=t.sent,r.isConfirmed&&e("mensaje enviado correctamente");case 6:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,nt.jsxs)("form",{className:"form_inputs",onSubmit:f,children:[(0,nt.jsx)(Ey,{type:"text",value:o,setValue:a,name:"Nombre"}),(0,nt.jsx)(Ey,{type:"email",value:g,setValue:c,name:"Email"}),(0,nt.jsx)(Ey,{type:"tel",value:u,setValue:d,name:"Tel\xe9fono"}),(0,nt.jsx)(Ey,{type:"select",value:m,setValue:p,name:"Tipo",options:gA([{Id:"Pregunta",Name:"Pregunta"},{Id:"Queja",Name:"Queja"},{Id:"Reclamo",Name:"Reclamo"},{Id:"Sugerencia",Name:"Sugerencia"}])}),(0,nt.jsx)(Ey,{type:"textarea",value:h,setValue:b,name:"Mensaje"}),(0,nt.jsx)(fb,{name:"Contactar",type:"submit",icon:"send"})]})}function zy(){return(0,nt.jsxs)("footer",{children:[(0,nt.jsx)("span",{className:"section_title reverse",style:{margin:"0"}}),(0,nt.jsx)("img",{src:rt,alt:"Logotipo de El Piloncito",draggable:"false",width:"180px"}),(0,nt.jsxs)("div",{children:[(0,nt.jsx)("h1",{children:"AREPAS"}),(0,nt.jsx)("h2",{children:"T\xedo Lucho"})]}),(0,nt.jsxs)("div",{className:"socialnetworks_container",children:[(0,nt.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",children:(0,nt.jsx)(Zb,{size:30,color:"var(--white)"})}),(0,nt.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",children:(0,nt.jsx)(Gb,{size:30,color:"var(--white)"})}),(0,nt.jsx)("a",{href:"https://api.whatsapp.com/send?phone=573137593407&text=%C2%A1Deseo%20solicitar%20un%20servicio%20de%20domicilio!",target:"_blank",rel:"noopener noreferrer",children:(0,nt.jsx)(Bb,{size:30,color:"var(--white)"})})]}),(0,nt.jsxs)("p",{className:"copyrigth",children:["Copyright \xa9 2023 T\xedo Lucho.",(0,nt.jsx)("br",{}),"Todos los derechos reservados."]})]})}function Dy(){var e=Vr(),t=e.setIsLoading,n=e.addToastr,o=e.setMenuConfig,r=Ze();return(0,i.useEffect)((function(){var e,r;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#FEFEFE"),null===(r=document.querySelector('meta[name="background-color"]'))||void 0===r||r.setAttribute("content","#FEFEFE"),o({active:!1}),setTimeout((function(){t(!1),n("Bienvenido")}),300)}),[]),(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(vb,{isLandingPage:!0}),(0,nt.jsxs)("div",{className:"section home_section",children:[(0,nt.jsx)("img",{src:rt,alt:"Banner inicio arepas T\xedo Lucho",width:"350px"}),(0,nt.jsxs)("div",{className:"fastOptions",children:[(0,nt.jsx)(fb,{type:"button",name:"Aliados",icon:"next",onClick:function(){return window.open("https://api.whatsapp.com/send?phone=573137593407&text=%C2%A1Deseo%20solicitar%20un%20pedido!")}}),(0,nt.jsx)(fb,{type:"button",name:"Domicilios",icon:"next",onClick:function(){return window.open("https://api.whatsapp.com/send?phone=573137593407&text=%C2%A1Deseo%20solicitar%20un%20servicio%20a%20domicilio!")},template:"dark"}),(0,nt.jsx)(fb,{type:"button",name:"Embajadores",icon:"next",onClick:function(){return r("/auth/login")}})]}),(0,nt.jsxs)("p",{children:["\xa1Bienvenidos al aut\xe9ntico sabor de las arepas en su m\xe1xima expresi\xf3n! ",(0,nt.jsx)("br",{}),(0,nt.jsx)("br",{}),"En Arepas T\xedo Lucho, sabemos que la verdadera esencia de nuestras arepas radica en la combinaci\xf3n perfecta de ingredientes frescos, saz\xf3n inigualable y la rapidez que necesitas. ",(0,nt.jsx)("br",{}),"Nuestra aplicaci\xf3n te permitir\xe1 descubrir nuestras irresistibles arepas, desde las cl\xe1sicas hasta las m\xe1s creativas y llenas de sabor. Realizar tus pedidos con solo unos pocos toques ahora es posible a trav\xe9s de nuestra app. ",(0,nt.jsx)("br",{}),"\xa1Prep\xe1rate para satisfacer tus antojos y deleitarte con cada bocado de nuestras deliciosas arepas. En Arepas T\xedo Lucho, nos enorgullece ofrecerte autenticidad, calidad y el genuino sabor de las arepas. Ven y disfruta de una experiencia culinaria aut\xe9ntica que te har\xe1 volver por m\xe1s!"]}),(0,nt.jsx)(fb,{type:"button",name:"Domicilios",icon:"next",onClick:function(){return window.open("https://api.whatsapp.com/send?phone=573137593407&text=%C2%A1Deseo%20solicitar%20un%20servicio%20a%20domicilio!")}})]}),(0,nt.jsxs)("div",{className:"section us_section",children:[(0,nt.jsx)("h2",{className:"section_title reverse",children:"Nosotros"}),(0,nt.jsxs)("p",{children:["En Arepas T\xedo Lucho, nos apasiona brindarte una experiencia \xfanica y aut\xe9ntica. Con a\xf1os de experiencia en la industria, nuestro equipo de talentosos amantes de las arepas trabaja incansablemente para ofrecerte los sabores m\xe1s exquisitos y una atenci\xf3n excepcional. ",(0,nt.jsx)("br",{}),(0,nt.jsx)("br",{}),"Creemos en la importancia de preservar la tradici\xf3n culinaria y resaltar los ingredientes frescos y de alta calidad que hacen que nuestras arepas sean inigualables. Cada arepa que servimos es cuidadosamente preparada con pasi\xf3n y creatividad, para brindarte una explosi\xf3n de sabores en cada bocado."]}),(0,nt.jsx)(fb,{type:"button",name:"Domicilios",icon:"next",onClick:function(){return window.open("https://api.whatsapp.com/send?phone=573137593407&text=%C2%A1Deseo%20solicitar%20un%20servicio%20a%20domicilio!")},template:"dark"})]}),(0,nt.jsxs)("div",{className:"section contact_section",children:[(0,nt.jsx)("h2",{className:"section_title",children:"Contacto"}),(0,nt.jsx)(Ly,{})]}),(0,nt.jsx)(zy,{})]})}function Ty(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=e.setMenuConfig,l=gb().postApiData,g=mA(),c=I((0,i.useState)(""),2),s=c[0],u=c[1],d=I((0,i.useState)(""),2),C=d[0],m=d[1];(0,i.useEffect)((function(){var e,t;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#FEFEFE"),null===(t=document.querySelector('meta[name="background-color"]'))||void 0===t||t.setAttribute("content","#FEFEFE"),a({isBasic:!0,active:!0,path:"/"}),setTimeout((function(){n(!1)}),300)}),[]);var p=function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,r={UserName:s,Password:C},e.next=5,l("Auth/Login",r,!1,"application/json");case 5:a=e.sent,g.login(a.appUser,a.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),o(e.t0.message,e.t0.type||"error");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return g.user&&g.token?(0,nt.jsx)(Fe,{to:"/home"}):(0,nt.jsxs)("form",{className:"auth_form",onSubmit:p,children:[(0,nt.jsx)("img",{className:"auth_image",src:rt,alt:"Logo T\xedo Lucho",draggable:"false",width:"140px"}),(0,nt.jsx)("h2",{className:"auth_title",children:"Iniciar Sesi\xf3n"}),(0,nt.jsx)("input",{className:"auth_input user",id:"input_user",onChange:function(e){u(e.target.value)},value:s,type:"text",placeholder:"Ingresa usuario",required:!0,autoComplete:"username"}),(0,nt.jsx)("input",{className:"auth_input password",id:"input_pass",onChange:function(e){m(e.target.value)},value:C,type:"password",placeholder:"Ingresa contrase\xf1a",required:!0,autoComplete:"off"}),(0,nt.jsx)(fb,{name:"Ingresar",type:"submit",icon:"next"}),(0,nt.jsx)($e,{className:"recovery_link",to:"/auth/recovery",onClick:function(){n(!0)},children:"\xbfOlvidaste tu contrase\xf1a?"})]})}function Uy(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=e.setMenuConfig,l=gb().postApiData,g=mA(),c=g.login,s=g.user,u=g.token,d=I((0,i.useState)(""),2),C=d[0],m=d[1],p=I((0,i.useState)(""),2),A=p[0],h=p[1],b=I((0,i.useState)(""),2),f=b[0],v=b[1],y=I((0,i.useState)(""),2),Z=y[0],G=y[1],S=I((0,i.useState)(""),2),B=S[0],k=S[1];(0,i.useEffect)((function(){a({isBasic:!0,path:"/auth/login"}),setTimeout((function(){n(!1)}),300)}),[]);var V=function(e,t){switch(t){case"user":m(e.target.value);break;case"otp":h(e.target.value);break;case"pass1":v(e.target.value);break;case"pass2":G(e.target.value)}},W=function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,r={userName:C},e.next=5,l("Auth/GetOTP",r,!1,"application/json");case 5:a=e.sent,n.currentTarget.style.display="none",n.currentTarget.nextElementSibling.style.display="block",o(a.rpta),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),o(e.t0.message,e.t0.type||"error");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),6===A.length){e.next=4;break}return o("El codigo debe ser de 6 digitos","info"),e.abrupt("return");case 4:return e.prev=4,a={userName:C,codeOTP:A},e.next=8,l("Auth/ValidateOTP",a,!1,"application/json");case 8:i=e.sent,r.currentTarget.style.display="none",r.currentTarget.nextElementSibling.style.display="block",k(i.id),o(i.rpta),n(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),o(e.t0.message,e.t0.type||"error");case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=r(t().mark((function e(n){var r,a,i,g;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),f===Z){e.next=4;break}return o("Las contrase\xf1as deben coincidir","info"),e.abrupt("return");case 4:return e.prev=4,i={user_Id:B,password:f,codeOTP:A},e.next=8,l("Auth/ChangePasswordByOTP",i,!1,"application/json");case 8:g=e.sent,o(g.rpta),c(g.appUser,g.token),null===(r=document.querySelector('meta[name="theme-color"]'))||void 0===r||r.setAttribute("content","#F2A819"),null===(a=document.querySelector('meta[name="background-color"]'))||void 0===a||a.setAttribute("content","#F2A819"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),o(e.t0.message,e.t0.type||"error");case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return s&&u?(0,nt.jsx)(Fe,{to:"/home"}):(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsxs)("form",{className:"auth_form form_user",onSubmit:W,children:[(0,nt.jsx)("img",{className:"auth_image",src:rt,alt:"Logo T\xedo Lucho",draggable:"false",width:"140px"}),(0,nt.jsx)("h2",{className:"auth_title",children:"Recuperar contrase\xf1a"}),(0,nt.jsx)("input",{className:"auth_input user",id:"input_user",onChange:function(e){V(e,"user")},value:C,type:"text",placeholder:"Ingresa usuario",required:!0,autoComplete:"username"}),(0,nt.jsx)(fb,{name:"Enviar c\xf3digo",type:"submit",icon:"next"})]}),(0,nt.jsxs)("form",{className:"auth_form form_code",onSubmit:w,children:[(0,nt.jsx)("img",{className:"auth_image",src:rt,alt:"Logo T\xedo Lucho",draggable:"false",width:"140px"}),(0,nt.jsx)("h2",{className:"auth_title",children:"Restablecer contrase\xf1a"}),(0,nt.jsx)("input",{className:"auth_input code",id:"input_code",onChange:function(e){V(e,"otp")},value:A,type:"number",placeholder:"Ingresa c\xf3digo",required:!0,autoComplete:"off"}),(0,nt.jsx)(fb,{name:"Validar c\xf3digo",type:"submit",icon:"next"})]}),(0,nt.jsxs)("form",{className:"auth_form form_pass",onSubmit:R,children:[(0,nt.jsx)("img",{className:"auth_image",src:rt,alt:"Logo T\xedo Lucho",draggable:"false",width:"140px"}),(0,nt.jsx)("h2",{className:"auth_title",children:"Restablecer contrase\xf1a"}),(0,nt.jsx)("input",{className:"auth_input password",id:"input_pass1",onChange:function(e){V(e,"pass1")},value:f,type:"password",placeholder:"Ingresa contrase\xf1a",required:!0,autoComplete:"off"}),(0,nt.jsx)("input",{className:"auth_input password",id:"input_pass2",onChange:function(e){V(e,"pass2")},value:Z,type:"password",placeholder:"Confirmar contrase\xf1a",required:!0,autoComplete:"off"}),(0,nt.jsx)(fb,{name:"Cambiar contrase\xf1a",type:"submit",icon:"next"})]})]})}function Qy(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=e.setMenuConfig,l=gb().postApiData,g=Se(),c=Ze();(0,i.useEffect)((function(){var e,t;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#FEFEFE"),null===(t=document.querySelector('meta[name="background-color"]'))||void 0===t||t.setAttribute("content","#FEFEFE"),a({isBasic:!0,path:"/auth/login"}),setTimeout((function(){n(!1)}),300)}),[]);var s=function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,r={user_Id:g.id},e.next=5,l("Auth/EmailConfirm",r,!1,"application/json");case 5:a=e.sent,o(a.rpta),c("/auth/login"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),o(e.t0.message,e.t0.type||"error");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,nt.jsxs)("form",{className:"auth_form",onSubmit:s,children:[(0,nt.jsx)("img",{className:"auth_image",src:rt,alt:"Logo T\xedo Lucho",draggable:"false",width:"140px"}),(0,nt.jsx)("h2",{className:"auth_title",children:"Confirmar Email"}),(0,nt.jsx)(fb,{name:"Confirmar",type:"submit",icon:"next"})]})}function jy(){var e=Vr(),t=e.setIsLoading,n=e.setMenuConfig;return(0,i.useEffect)((function(){var e,o;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#F2A819"),null===(o=document.querySelector('meta[name="background-color"]'))||void 0===o||o.setAttribute("content","#F2A819"),n({isHome:!0,tabOption:"home"}),setTimeout((function(){t(!1)}),300)}),[]),(0,nt.jsx)(nt.Fragment,{children:(0,nt.jsx)(vb,{})})}var Oy=n(8),Py=n.n(Oy);function qy(){var e=Vr(),t=e.setIsLoading,n=e.addToastr,o=e.setMenuConfig,r=Ze();(0,i.useEffect)((function(){var e,n;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#F2A819"),null===(n=document.querySelector('meta[name="background-color"]'))||void 0===n||n.setAttribute("content","#F2A819"),o({tabOption:"sale"}),setTimeout((function(){t(!1)}),300)}),[]);return(0,nt.jsxs)("div",{className:"container_qr_reader",children:[(0,nt.jsx)(vb,{}),(0,nt.jsx)("h3",{children:"Lector"}),(0,nt.jsx)("div",{className:"qrReader",children:(0,nt.jsx)(Py(),{delay:500,onError:function(e){console.error(e)},onScan:function(e){if(e){if(!e.text.includes("https://tiolucho.com/#/home/newSale/")||!e.text.split("/")[6])return void n("Cliente no valido");r(e.text.split("/")[6])}}})})]})}var _y=n.p+"static/media/Admin.35eaf333355d860ccc88c3720ea3995f.svg";var $y=n.p+"static/media/Clients.4b9798e22a81a3bf9c1493687f60e27f.svg";var eZ=n.p+"static/media/Categories.34d845f10dcc6b2809e0dead5d0f46f3.svg";var tZ=n.p+"static/media/Products.7e7c2b38f90de512d27a97134ae3d1f9.svg";var nZ=n.p+"static/media/Routes.3e48f4680eeef21e61627ad0cc88d1e8.svg";var oZ=n.p+"static/media/Sales.1d6e5ee64e644d619ccc61b6d2723d1e.svg";var rZ=n.p+"static/media/NotSales.1a350b1159bdd46a8e7be0604acfa68f.svg";var aZ=n.p+"static/media/Inventory.41d4d9398917d0179681dcf0a1a16a73.svg";var iZ=n.p+"static/media/Liquidation.eae1d22f598c1965880978b6dc977585.svg";var lZ=n.p+"static/media/Users.84e8da71afef95e59b35e13a77961cec.svg";var gZ=n.p+"static/media/Movements.fa98471bdf3e46c640c400e8349a671a.svg";function cZ(e){var t=e.image,n=e.title,o={admin:_y,clients:$y,categories:eZ,products:tZ,routes:nZ,sales:oZ,notSales:rZ,inventories:aZ,liquidations:iZ,users:lZ,movements:gZ};return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)("img",{className:"icon_page",src:o[t],alt:"Icono ".concat(n),draggable:"false",width:"80px"}),(0,nt.jsx)("h3",{className:"title_page",children:n})]})}function sZ(e){var t=e.onEdit,n=e.onSee,o=e.onDelete,r=e.item;return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)("h4",{className:"card_title",children:r.name}),(0,nt.jsxs)("div",{className:"card_options",children:[t&&(0,nt.jsx)(Cb,{className:"option_edit",onClick:t,size:27}),n&&(0,nt.jsx)(Yr,{className:"option_see",onClick:n,size:27}),o&&(0,nt.jsx)(Ib,{className:"option_delete",onClick:o,size:27})]})]})}function uZ(e){var t=e.onEdit,n=e.onSee,o=e.onDelete,r=e.item;return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)("h4",{className:"card_title",children:r.name}),(0,nt.jsxs)("h5",{className:"card_quantity",children:["x",r.quantity]}),(0,nt.jsx)("h6",{className:"card_total",children:iA(r.total)}),(0,nt.jsx)("p",{className:"card_remarks",children:r.remarks}),(0,nt.jsxs)("div",{className:"card_options",children:[t&&(0,nt.jsx)(Cb,{className:"option_edit",onClick:t,size:27}),n&&(0,nt.jsx)(Yr,{className:"option_see",onClick:n,size:27}),o&&(0,nt.jsx)(Ib,{className:"option_delete",onClick:o,size:27})]})]})}function dZ(e){var t=e.onEdit,n=e.item;return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)("div",{className:"card_options",children:(0,nt.jsxs)("button",{onClick:t,children:["Enviar a cocina ",(0,nt.jsx)(Ab,{size:17})]})}),(0,nt.jsxs)("h3",{className:"card_serial",children:[n.type,": # ",n.type[0],"-",n.serial]}),(0,nt.jsxs)("p",{className:"card_info",children:[(0,nt.jsx)("b",{children:"Hora:"}),(0,nt.jsx)("br",{})," ",lA(n.created).time]}),(0,nt.jsxs)("p",{className:"card_info",children:[(0,nt.jsx)("b",{children:"Mesa:"}),(0,nt.jsx)("br",{})," ",n.table]}),(0,nt.jsxs)("p",{className:"card_info",children:[(0,nt.jsx)("b",{children:"Total:"}),(0,nt.jsx)("br",{})," ",iA(n.total)]}),(0,nt.jsxs)("p",{className:"card_info",children:[(0,nt.jsx)("b",{children:"Atendio:"}),(0,nt.jsx)("br",{})," ",n.waiter]}),(0,nt.jsxs)("p",{className:"card_info",children:[(0,nt.jsx)("b",{children:"Metodo de pago:"}),(0,nt.jsx)("br",{})," ",n.paymentMethod]}),(0,nt.jsxs)("p",{className:"card_info",children:[(0,nt.jsx)("b",{children:"Paga al final:"}),(0,nt.jsx)("br",{})," ",n.prepaid?"Si":"No"]})]})}function IZ(e){var t=e.onEdit,n=e.onSee,o=e.onDelete,r=e.type,a=e.item;return(0,nt.jsx)("div",{className:"card_template ".concat(r),children:"basic"===r&&"name"in a?(0,nt.jsx)(sZ,{onEdit:t,onSee:n,onDelete:o,item:a}):"order"===r&&"quantity"in a?(0,nt.jsx)(uZ,{onEdit:t,onSee:n,onDelete:o,item:a}):"invoice"===r&&"id"in a?(0,nt.jsx)(dZ,{onEdit:t,item:a}):null})}function CZ(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=e.setMenuConfig,l=e.newId,g=gb(),c=g.getApiData,s=g.postApiData,u=Ze(),d=I((0,i.useState)(),2),C=d[0],p=d[1],A=I((0,i.useState)(""),2),h=A[0],b=A[1],f=I((0,i.useState)(0),2),v=f[0],y=f[1],Z=I((0,i.useState)(0),2),G=Z[0],S=Z[1],B=I((0,i.useState)(""),2),k=B[0],V=B[1],W=I((0,i.useState)(""),2),w=W[0],R=W[1],X=I((0,i.useState)(0),2),J=X[0],x=X[1],H=I((0,i.useState)([]),2),Y=H[0],N=H[1],F=I((0,i.useState)([]),2),E=F[0],K=F[1],M=(0,i.memo)(Sb),L=Se(),z=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("Client/GetClientById?Client_Id=".concat(L.clientId),!0);case 3:n=e.sent,p(n.client),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o(e.t0.message,e.t0.type||"error"),setTimeout((function(){u("/home")}),400);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[c,L,o,u]),D=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===Y.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,c("Product/GetProducts",!0);case 5:(n=e.sent).products.length||o("Registra tu primer producto","info"),N(n.products),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),o(e.t0.message,e.t0.type||"error");case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),[Y,o,c]);(0,i.useEffect)((function(){var e,t;z(),D(),null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#F2A819"),null===(t=document.querySelector('meta[name="background-color"]'))||void 0===t||t.setAttribute("content","#F2A819"),a({path:"/home",tabOption:"sale"}),setTimeout((function(){n(!1)}),300)}),[]);var T=(0,i.useCallback)((function(){if(h)if(!v||v<0||!G||G<0)o("Debes seleccionar una cantidad v\xe1lida","warning");else{var e=h.complete,t=[].concat(m(E),[{Id:l(),Product:e.Id,Name:e.Name,Sale:v,Change:G,Total:e.Price*v,Remarks:k}]);K(t),b(""),y(0),S(0),V("");var n=t.reduce((function(e,t){return e+t.Total}),0);x(n),o("Producto agregado exitosamente")}else o("Debes seleccionar un producto","warning")}),[o,l,h,v,G,k,E]),U=(0,i.useCallback)((function(e){var t=E.filter((function(t){return t.Id!==e}));K(t);var n=t.reduce((function(e,t){return e+t.Total}),0);x(n)}),[E]),Q=(0,i.useCallback)((function(e){return e.map((function(e){return{ProductFk:e.Product,IntSale:e.Sale,IntChange:e.Change,StrRemarks:e.Remarks}}))}),[]),j=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(M,{size:130,color:"var(--green)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color: var(--green);'>Crear</b> una nueva factura?</div>"),showCancelButton:!0,confirmButtonColor:"var(--green)",confirmButtonText:"Crear",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 3:if(r=e.sent,!r.isConfirmed){e.next=20;break}if(E){e.next=9;break}return o("Debes ingresar por lo menos un producto","warning"),e.abrupt("return");case 9:return e.prev=9,a={Client_Id:L.clientId,Remark:k,productsByInvoice:Q(E)},e.next=13,s("Invoice/CreateOrderInvoice",a,!0,"application/json");case 13:i=e.sent,o(i.rpta),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),o(e.t0.message,e.t0.type||"error");case 20:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t){return e.apply(this,arguments)}}(),[o,L,k,E,s,Q,M]);return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(vb,{}),(0,nt.jsx)(cZ,{image:"sales",title:"Nueva venta a ".concat(C.Name||"")}),(0,nt.jsxs)("form",{className:"form_inputs",onSubmit:j,children:[(0,nt.jsxs)("div",{className:"order_description",children:[(0,nt.jsx)(Ey,{type:"select",value:h,setValue:b,name:"Producto",options:gA(Y),required:!1}),(0,nt.jsx)(Ey,{type:"number",value:v,setValue:y,name:"Venta",min:0,required:!1}),(0,nt.jsx)(Ey,{type:"number",value:G,setValue:S,name:"Cambio",min:0,required:!1}),(0,nt.jsx)(Ey,{type:"textarea",name:"Comentarios",value:k,setValue:V,required:!1}),(0,nt.jsx)(fb,{name:"Agregar",type:"button",icon:"add",onClick:T}),(0,nt.jsxs)("div",{className:"order_products_container",children:[(0,nt.jsxs)("h3",{children:[(0,nt.jsx)(hb,{size:25,color:"var(--principal)"}),"Tu carrito"]}),(0,nt.jsx)("div",{className:"card_container",children:E[0]?E.map((function(e){var t=e.Id,n=e.Name,o=e.Sale,r=(e.Change,e.Total);e.Remarks;return(0,nt.jsx)(IZ,{onDelete:function(){return U(t)},type:"order",item:{name:n,quantity:o,total:r,remarks:k}},t)})):(0,nt.jsx)("h4",{children:"Actualmente no tienes productos en el carrito."})})]})]}),(0,nt.jsx)(Ey,{name:"Total a pagar",type:"money",value:J,setValue:x,disabled:!0}),(0,nt.jsx)(Ey,{name:"Comentarios del pedido",type:"textarea",value:w,setValue:R,required:!1}),(0,nt.jsx)(fb,{name:"Confirmar pedido",type:"submit",icon:"next"})]})]})}function mZ(){var e=Vr(),t=e.setIsLoading,n=e.setMenuConfig,o=Ze();(0,i.useEffect)((function(){var e,o;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#F2A819"),null===(o=document.querySelector('meta[name="background-color"]'))||void 0===o||o.setAttribute("content","#F2A819"),n({isHome:!0,tabOption:"admin"}),setTimeout((function(){t(!1)}),300)}),[]);var r=function(e){t(!0),o(e)};return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(vb,{}),(0,nt.jsx)(cZ,{image:"admin",title:"Panel Admin"}),(0,nt.jsxs)("div",{className:"adminOptions_container",children:[(0,nt.jsxs)("div",{className:"adminOption",onClick:function(){return r("routes")},children:[(0,nt.jsx)("img",{src:nZ,alt:"Opcion de rutas",draggable:"false",width:"75px"}),(0,nt.jsx)("h5",{children:"Rutas"})]}),(0,nt.jsxs)("div",{className:"adminOption",onClick:function(){return r("categories")},children:[(0,nt.jsx)("img",{src:eZ,alt:"Opcion de categor\xedas",draggable:"false",width:"75px"}),(0,nt.jsx)("h5",{children:"categor\xedas"})]}),(0,nt.jsxs)("div",{className:"adminOption",onClick:function(){return r("products")},children:[(0,nt.jsx)("img",{src:tZ,alt:"Opcion de productos",draggable:"false",width:"75px"}),(0,nt.jsx)("h5",{children:"Productos"})]}),(0,nt.jsxs)("div",{className:"adminOption",onClick:function(){return r("clients")},children:[(0,nt.jsx)("img",{src:$y,alt:"Opcion de clientes",draggable:"false",width:"75px"}),(0,nt.jsx)("h5",{children:"Clientes"})]}),(0,nt.jsxs)("div",{className:"adminOption",onClick:function(){return r("users")},children:[(0,nt.jsx)("img",{src:lZ,alt:"Opcion de usuarios",draggable:"false",width:"75px"}),(0,nt.jsx)("h5",{children:"Usuarios"})]}),(0,nt.jsxs)("div",{className:"adminOption",onClick:function(){return r("inventories")},children:[(0,nt.jsx)("img",{src:aZ,alt:"Opcion de inventarios",draggable:"false",width:"75px"}),(0,nt.jsx)("h5",{children:"Inventarios"})]}),(0,nt.jsxs)("div",{className:"adminOption",onClick:function(){return r("sales")},children:[(0,nt.jsx)("img",{src:oZ,alt:"Opcion de ventas",draggable:"false",width:"75px"}),(0,nt.jsx)("h5",{children:"Ventas"})]}),(0,nt.jsxs)("div",{className:"adminOption",onClick:function(){return r("notSales")},children:[(0,nt.jsx)("img",{src:rZ,alt:"Opcion de no compras",draggable:"false",width:"75px"}),(0,nt.jsx)("h5",{children:"No compras"})]}),(0,nt.jsxs)("div",{className:"adminOption",onClick:function(){return r("movements")},children:[(0,nt.jsx)("img",{src:gZ,alt:"Opcion de movimientos",draggable:"false",width:"75px"}),(0,nt.jsx)("h5",{children:"Movimientos"})]}),(0,nt.jsxs)("div",{className:"adminOption",onClick:function(){return r("liquidations")},children:[(0,nt.jsx)("img",{src:iZ,alt:"Opcion de liquidaciones",draggable:"false",width:"75px"}),(0,nt.jsx)("h5",{children:"Liquidaciones"})]})]})]})}function pZ(e){return xr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 128c0-35.3-28.7-64-64-64H205.3c-17 0-33.3 6.7-45.3 18.7L9.4 233.4c-6 6-9.4 14.1-9.4 22.6s3.4 16.6 9.4 22.6L160 429.3c12 12 28.3 18.7 45.3 18.7H512c35.3 0 64-28.7 64-64V128zM271 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"}}]})(e)}var AZ={},hZ="rc-table-internal-hook";function bZ(e){var t=i.createContext(void 0);return{Context:t,Provider:function(e){var n=e.value,o=e.children,r=i.useRef(n);r.current=n;var a=I(i.useState((function(){return{getValue:function(){return r.current},listeners:new Set}})),1)[0];return Bl((function(){(0,_t.unstable_batchedUpdates)((function(){a.listeners.forEach((function(e){e(n)}))}))}),[n]),i.createElement(t.Provider,{value:a},o)},defaultValue:e}}function fZ(e,t){var n=Og("function"===typeof t?t:function(e){if(void 0===t)return e;if(!Array.isArray(t))return e[t];var n={};return t.forEach((function(t){n[t]=e[t]})),n}),o=i.useContext(null===e||void 0===e?void 0:e.Context),r=o||{},a=r.listeners,l=r.getValue,g=i.useRef();g.current=n(o?l():null===e||void 0===e?void 0:e.defaultValue);var c=I(i.useState({}),2)[1];return Bl((function(){if(o)return a.add(e),function(){a.delete(e)};function e(e){var t=n(e);ca(g.current,t,!0)||c({})}}),[o]),g.current}function vZ(){var e=i.createContext(null);function t(){return i.useContext(e)}return{makeImmutable:function(n,o){var r=nc(n),a=function(a,l){var g=r?{ref:l}:{},c=i.useRef(0),s=i.useRef(a);return null!==t()?i.createElement(n,$r({},a,g)):(o&&!o(s.current,a)||(c.current+=1),s.current=a,i.createElement(e.Provider,{value:c.current},i.createElement(n,$r({},a,g))))};return r?i.forwardRef(a):a},responseImmutable:function(e,n){var o=nc(e),r=function(n,r){var a=o?{ref:r}:{};return t(),i.createElement(e,$r({},n,a))};return o?i.memo(i.forwardRef(r),n):i.memo(r,n)},useImmutableMark:t}}var yZ=vZ(),ZZ=(yZ.makeImmutable,yZ.responseImmutable,yZ.useImmutableMark,vZ()),GZ=ZZ.makeImmutable,SZ=ZZ.responseImmutable,BZ=ZZ.useImmutableMark,kZ=bZ();var VZ=i.memo((function(){var e=function(e,t){var n=i.useRef(0);n.current+=1;var o=i.useRef(e),r=[];Object.keys(e||{}).map((function(t){var n;(null===e||void 0===e?void 0:e[t])!==(null===(n=o.current)||void 0===n?void 0:n[t])&&r.push(t)})),o.current=e;var a=i.useRef([]);return r.length&&(a.current=r),i.useDebugValue(n.current),i.useDebugValue(a.current.join(", ")),t&&console.log("".concat(t,":"),n.current,a.current),n.current}();return i.createElement("h1",null,"Render Times: ",e)}));VZ.displayName="RenderBlock";var WZ=i.createContext({renderWithProps:!1}),wZ="RC_TABLE_KEY";function RZ(e){var t=[],n={};return e.forEach((function(e){for(var o,r=e||{},a=r.key,i=r.dataIndex,l=a||(o=i,void 0===o||null===o?[]:Array.isArray(o)?o:[o]).join("-")||wZ;n[l];)l="".concat(l,"_next");n[l]=!0,t.push(l)})),t}function XZ(e){return null!==e&&void 0!==e}function JZ(t,n,o,r,a,l){var g=i.useContext(WZ),c=Ti((function(){if(XZ(r))return[r];var l,c=null===n||void 0===n||""===n?[]:Array.isArray(n)?n:[n],s=za(t,c),u=s,d=void 0;if(a){var I=a(s,t,o);!(l=I)||"object"!==e(l)||Array.isArray(l)||i.isValidElement(l)?u=I:(u=I.children,d=I.props,g.renderWithProps=!0)}return[u,d]}),[BZ(),t,r,n,a,o],(function(e,t){if(l){var n=I(e,2)[1],o=I(t,2)[1];return l(o,n)}return!!g.renderWithProps||!ca(e,t,!0)}));return c}function xZ(t){var n,o,r,a,l,g,c,s;var u=t.component,d=t.children,C=t.ellipsis,m=t.scope,p=t.prefixCls,A=t.className,h=t.align,b=t.record,f=t.render,v=t.dataIndex,y=t.renderIndex,Z=t.shouldCellUpdate,G=t.index,S=t.rowType,B=t.colSpan,k=t.rowSpan,V=t.fixLeft,W=t.fixRight,w=t.firstFixLeft,R=t.lastFixLeft,X=t.firstFixRight,J=t.lastFixRight,x=t.appendNode,H=t.additionalProps,Y=void 0===H?{}:H,N=t.isSticky,F="".concat(p,"-cell"),E=fZ(kZ,["supportSticky","allColumnsFixedLeft"]),K=E.supportSticky,M=E.allColumnsFixedLeft,L=I(JZ(b,v,y,d,f,Z),2),z=L[0],D=L[1],T={},U="number"===typeof V&&K,Q="number"===typeof W&&K;U&&(T.position="sticky",T.left=V),Q&&(T.position="sticky",T.right=W);var j=null!==(n=null!==(o=null!==(r=null===D||void 0===D?void 0:D.colSpan)&&void 0!==r?r:Y.colSpan)&&void 0!==o?o:B)&&void 0!==n?n:1,O=null!==(a=null!==(l=null!==(g=null===D||void 0===D?void 0:D.rowSpan)&&void 0!==g?g:Y.rowSpan)&&void 0!==l?l:k)&&void 0!==a?a:1,P=function(e,t){return fZ(kZ,(function(n){var o,r,a,i;return[(o=e,r=t||1,a=n.hoverStartRow,i=n.hoverEndRow,o<=i&&o+r-1>=a),n.onHover]}))}(G,O),q=I(P,2),_=q[0],$=q[1];if(0===j||0===O)return null;var ee=null!==(c=Y.title)&&void 0!==c?c:function(e){var t,n=e.ellipsis,o=e.rowType,r=e.children,a=!0===n?{showTitle:!0}:n;return a&&(a.showTitle||"header"===o)&&("string"===typeof r||"number"===typeof r?t=r.toString():i.isValidElement(r)&&"string"===typeof r.props.children&&(t=r.props.children)),t}({rowType:S,ellipsis:C,children:z}),te=Pr()(F,A,(it(s={},"".concat(F,"-fix-left"),U&&K),it(s,"".concat(F,"-fix-left-first"),w&&K),it(s,"".concat(F,"-fix-left-last"),R&&K),it(s,"".concat(F,"-fix-left-all"),R&&M&&K),it(s,"".concat(F,"-fix-right"),Q&&K),it(s,"".concat(F,"-fix-right-first"),X&&K),it(s,"".concat(F,"-fix-right-last"),J&&K),it(s,"".concat(F,"-ellipsis"),C),it(s,"".concat(F,"-with-append"),x),it(s,"".concat(F,"-fix-sticky"),(U||Q)&&N&&K),it(s,"".concat(F,"-row-hover"),!D&&_),s),Y.className,null===D||void 0===D?void 0:D.className),ne={};h&&(ne.textAlign=h);var oe=gt(gt(gt(gt({},T),Y.style),ne),null===D||void 0===D?void 0:D.style),re=z;return"object"!==e(re)||Array.isArray(re)||i.isValidElement(re)||(re=null),C&&(R||X)&&(re=i.createElement("span",{className:"".concat(F,"-content")},re)),i.createElement(u,$r({},D,Y,{className:te,style:oe,title:ee,scope:m,onMouseEnter:function(e){var t;b&&$(G,G+O-1),null===Y||void 0===Y||null===(t=Y.onMouseEnter)||void 0===t||t.call(Y,e)},onMouseLeave:function(e){var t;b&&$(-1,-1),null===Y||void 0===Y||null===(t=Y.onMouseLeave)||void 0===t||t.call(Y,e)},colSpan:1!==j?j:null,rowSpan:1!==O?O:null}),x,re)}var HZ=i.memo(xZ);function YZ(e,t,n,o,r,a){var i,l,g=n[e]||{},c=n[t]||{};"left"===g.fixed?i=o.left["rtl"===r?t:e]:"right"===c.fixed&&(l=o.right["rtl"===r?e:t]);var s=!1,u=!1,d=!1,I=!1,C=n[t+1],m=n[e-1],p=!(null!==a&&void 0!==a&&a.children);if("rtl"===r){if(void 0!==i)I=!(m&&"left"===m.fixed)&&p;else if(void 0!==l){d=!(C&&"right"===C.fixed)&&p}}else if(void 0!==i){s=!(C&&"left"===C.fixed)&&p}else if(void 0!==l){u=!(m&&"right"===m.fixed)&&p}return{fixLeft:i,fixRight:l,lastFixLeft:s,firstFixRight:u,lastFixRight:d,firstFixLeft:I,isSticky:o.isSticky}}var NZ=i.createContext({});var FZ=["children"];function EZ(e){return e.children}EZ.Row=function(e){var t=e.children,n=ct(e,FZ);return i.createElement("tr",n,t)},EZ.Cell=function(e){var t=e.className,n=e.index,o=e.children,r=e.colSpan,a=void 0===r?1:r,l=e.rowSpan,g=e.align,c=fZ(kZ,["prefixCls","direction"]),s=c.prefixCls,u=c.direction,d=i.useContext(NZ),I=d.scrollColumnIndex,C=d.stickyOffsets,m=d.flattenColumns,p=d.columns,A=n+a-1+1===I?a+1:a,h=YZ(n,n+A-1,m,C,u,null===p||void 0===p?void 0:p[n]);return i.createElement(HZ,$r({className:t,index:n,component:"td",prefixCls:s,record:null,dataIndex:null,align:g,colSpan:A,rowSpan:l,render:function(){return o}},h))};var KZ=EZ;var MZ=SZ((function(e){var t=e.children,n=e.stickyOffsets,o=e.flattenColumns,r=e.columns,a=fZ(kZ,"prefixCls"),l=o.length-1,g=o[l],c=i.useMemo((function(){return{stickyOffsets:n,flattenColumns:o,scrollColumnIndex:null!==g&&void 0!==g&&g.scrollbar?l:null,columns:r}}),[g,o,l,n,r]);return i.createElement(NZ.Provider,{value:c},i.createElement("tfoot",{className:"".concat(a,"-summary")},t))})),LZ=KZ,zZ=function(e){if(el()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1},DZ=function(e,t){if(!zZ(e))return!1;var n=document.createElement("div"),o=n.style[e];return n.style[e]=t,n.style[e]!==o};var TZ="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),UZ="aria-",QZ="data-";function jZ(e,t){return 0===e.indexOf(t)}function OZ(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:gt({},n);var o={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||jZ(n,UZ))||t.data&&jZ(n,QZ)||t.attr&&TZ.includes(n))&&(o[n]=e[n])})),o}function PZ(e,t,n,o,r,a,i){e.push({record:t,indent:n,index:i});var l=a(t),g=null===r||void 0===r?void 0:r.has(l);if(t&&Array.isArray(t[o])&&g)for(var c=0;c<t[o].length;c+=1)PZ(e,t[o][c],n+1,o,r,a,c)}function qZ(e,t,n,o){var r=i.useMemo((function(){if(null!==n&&void 0!==n&&n.size){for(var r=[],a=0;a<(null===e||void 0===e?void 0:e.length);a+=1){PZ(r,e[a],0,t,n,o,a)}return r}return null===e||void 0===e?void 0:e.map((function(e,t){return{record:e,indent:0,index:t}}))}),[e,t,n,o]);return r}function _Z(e,t,n,o){var r,a=fZ(kZ,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),i=a.flattenColumns,l=a.expandableType,g=a.expandedKeys,c=a.childrenColumnName,s=a.onTriggerExpand,u=a.rowExpandable,d=a.onRow,I=a.expandRowByClick,C=a.rowClassName,m="nest"===l,p="row"===l&&(!u||u(e)),A=p||m,h=g&&g.has(t),b=c&&e&&e[c],f=Og(s),v=null===d||void 0===d?void 0:d(e,n),y=null===v||void 0===v?void 0:v.onClick;"string"===typeof C?r=C:"function"===typeof C&&(r=C(e,n,o));var Z=RZ(i);return gt(gt({},a),{},{columnsKey:Z,nestExpandable:m,expanded:h,hasNestChildren:b,record:e,onTriggerExpand:f,rowSupportExpand:p,expandable:A,rowProps:gt(gt({},v),{},{className:Pr()(r,null===v||void 0===v?void 0:v.className),onClick:function(t){I&&A&&s(e,t);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];null===y||void 0===y||y.apply(void 0,[t].concat(o))}})})}var $Z=function(e){var t=e.prefixCls,n=e.children,o=e.component,r=e.cellComponent,a=e.className,l=e.expanded,g=e.colSpan,c=e.isEmpty,s=fZ(kZ,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),u=s.scrollbarSize,d=s.fixHeader,I=s.fixColumn,C=s.componentWidth,m=s.horizonScroll,p=n;return(c?m&&C:I)&&(p=i.createElement("div",{style:{width:C-(d?u:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},p)),i.createElement(o,{className:a,style:{display:l?null:"none"}},i.createElement(HZ,{component:r,prefixCls:t,colSpan:g},p))};function eG(e,t,n,o,r){var a,l,g=e.record,c=e.prefixCls,s=e.columnsKey,u=e.fixedInfoList,d=e.expandIconColumnIndex,I=e.nestExpandable,C=e.indentSize,m=e.expandIcon,p=e.expanded,A=e.hasNestChildren,h=e.onTriggerExpand,b=s[n],f=u[n];return n===(d||0)&&I&&(a=i.createElement(i.Fragment,null,i.createElement("span",{style:{paddingLeft:"".concat(C*o,"px")},className:"".concat(c,"-row-indent indent-level-").concat(o)}),m({prefixCls:c,expanded:p,expandable:A,record:g,onExpand:h}))),t.onCell&&(l=t.onCell(g,r)),{key:b,fixedInfo:f,appendCellNode:a,additionalCellProps:l||{}}}function tG(e){var t=e.className,n=e.style,o=e.record,r=e.index,a=e.renderIndex,l=e.rowKey,g=e.indent,c=void 0===g?0:g,s=e.rowComponent,u=e.cellComponent,d=e.scopeCellComponent,I=_Z(o,l,r,c),C=I.prefixCls,m=I.flattenColumns,p=I.expandedRowClassName,A=I.expandedRowRender,h=I.rowProps,b=I.expanded,f=I.rowSupportExpand,v=i.useRef(!1);v.current||(v.current=b);var y,Z=i.createElement(s,$r({},h,{"data-row-key":l,className:Pr()(t,"".concat(C,"-row"),"".concat(C,"-row-level-").concat(c),null===h||void 0===h?void 0:h.className),style:gt(gt({},n),null===h||void 0===h?void 0:h.style)}),m.map((function(e,t){var n=e.render,l=e.dataIndex,g=e.className,s=eG(I,e,t,c,r),m=s.key,p=s.fixedInfo,A=s.appendCellNode,h=s.additionalCellProps;return i.createElement(HZ,$r({className:g,ellipsis:e.ellipsis,align:e.align,scope:e.rowScope,component:e.rowScope?d:u,prefixCls:C,key:m,record:o,index:r,renderIndex:a,dataIndex:l,render:n,shouldCellUpdate:e.shouldCellUpdate},p,{appendNode:A,additionalProps:h}))})));if(f&&(v.current||b)){var G=A(o,r,c+1,b),S=p&&p(o,r,c);y=i.createElement($Z,{expanded:b,className:Pr()("".concat(C,"-expanded-row"),"".concat(C,"-expanded-row-level-").concat(c+1),S),prefixCls:C,component:s,cellComponent:u,colSpan:m.length,isEmpty:!1},G)}return i.createElement(i.Fragment,null,Z,y)}tG.displayName="BodyRow";var nG=SZ(tG);function oG(e){var t=e.columnKey,n=e.onColumnResize,o=i.useRef();return i.useEffect((function(){o.current&&n(t,o.current.offsetWidth)}),[]),i.createElement(wC,{data:t},i.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},i.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}function rG(e){var t=e.prefixCls,n=e.columnsKey,o=e.onColumnResize;return i.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},i.createElement(wC.Collection,{onBatchResize:function(e){e.forEach((function(e){var t=e.data,n=e.size;o(t,n.offsetWidth)}))}},n.map((function(e){return i.createElement(oG,{key:e,columnKey:e,onColumnResize:o})}))))}function aG(e){var t,n=e.data,o=e.measureColumnWidth,r=fZ(kZ,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),a=r.prefixCls,l=r.getComponent,g=r.onColumnResize,c=r.flattenColumns,s=r.getRowKey,u=r.expandedKeys,d=r.childrenColumnName,I=r.emptyNode,C=qZ(n,d,u,s),m=i.useRef({renderWithProps:!1}),p=l(["body","wrapper"],"tbody"),A=l(["body","row"],"tr"),h=l(["body","cell"],"td"),b=l(["body","cell"],"th");t=n.length?C.map((function(e,t){var n=e.record,o=e.indent,r=e.index,a=s(n,t);return i.createElement(nG,{key:a,rowKey:a,record:n,index:t,renderIndex:r,rowComponent:A,cellComponent:h,scopeCellComponent:b,getRowKey:s,indent:o})})):i.createElement($Z,{expanded:!0,className:"".concat(a,"-placeholder"),prefixCls:a,component:A,cellComponent:h,colSpan:c.length,isEmpty:!0},I);var f=RZ(c);return i.createElement(WZ.Provider,{value:m.current},i.createElement(p,{className:"".concat(a,"-tbody")},o&&i.createElement(rG,{prefixCls:a,columnsKey:f,onColumnResize:g}),t))}aG.displayName="Body";var iG=SZ(aG),lG=["expandable"],gG="RC_TABLE_INTERNAL_COL_DEFINE";var cG=["columnType"];var sG=function(e){for(var t=e.colWidths,n=e.columns,o=[],r=!1,a=(e.columCount||n.length)-1;a>=0;a-=1){var l=t[a],g=n&&n[a],c=g&&g[gG];if(l||c||r){var s=c||{},u=(s.columnType,ct(s,cG));o.unshift(i.createElement("col",$r({key:a,style:{width:l}},u))),r=!0}}return i.createElement("colgroup",null,o)},uG=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var dG=i.forwardRef((function(e,t){var n=e.className,o=e.noData,r=e.columns,a=e.flattenColumns,l=e.colWidths,g=e.columCount,c=e.stickyOffsets,s=e.direction,u=e.fixHeader,d=e.stickyTopOffset,I=e.stickyBottomOffset,C=e.stickyClassName,p=e.onScroll,A=e.maxContentScroll,h=e.children,b=ct(e,uG),f=fZ(kZ,["prefixCls","scrollbarSize","isSticky"]),v=f.prefixCls,y=f.scrollbarSize,Z=f.isSticky,G=Z&&!u?0:y,S=i.useRef(null),B=i.useCallback((function(e){$g(t,e),$g(S,e)}),[]);i.useEffect((function(){var e;function t(e){var t=e,n=t.currentTarget,o=t.deltaX;o&&(p({currentTarget:n,scrollLeft:n.scrollLeft+o}),e.preventDefault())}return null===(e=S.current)||void 0===e||e.addEventListener("wheel",t),function(){var e;null===(e=S.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var k=i.useMemo((function(){return a.every((function(e){return e.width}))}),[a]),V=a[a.length-1],W={fixed:V?V.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(v,"-cell-scrollbar")}}},w=(0,i.useMemo)((function(){return G?[].concat(m(r),[W]):r}),[G,r]),R=(0,i.useMemo)((function(){return G?[].concat(m(a),[W]):a}),[G,a]),X=(0,i.useMemo)((function(){var e=c.right,t=c.left;return gt(gt({},c),{},{left:"rtl"===s?[].concat(m(t.map((function(e){return e+G}))),[0]):t,right:"rtl"===s?e:[].concat(m(e.map((function(e){return e+G}))),[0]),isSticky:Z})}),[G,c,Z]),J=function(e,t){return(0,i.useMemo)((function(){for(var n=[],o=0;o<t;o+=1){var r=e[o];if(void 0===r)return null;n[o]=r}return n}),[e.join("_"),t])}(l,g);return i.createElement("div",{style:gt({overflow:"hidden"},Z?{top:d,bottom:I}:{}),ref:B,className:Pr()(n,it({},C,!!C))},i.createElement("table",{style:{tableLayout:"fixed",visibility:o||J?null:"hidden"}},(!o||!A||k)&&i.createElement(sG,{colWidths:J?[].concat(m(J),[G]):[],columCount:g+1,columns:R}),h(gt(gt({},b),{},{stickyOffsets:X,columns:w,flattenColumns:R}))))}));dG.displayName="FixedHolder";var IG=i.memo(dG);function CG(e){var t,n=e.cells,o=e.stickyOffsets,r=e.flattenColumns,a=e.rowComponent,l=e.cellComponent,g=e.tdCellComponent,c=e.onHeaderRow,s=e.index,u=fZ(kZ,["prefixCls","direction"]),d=u.prefixCls,I=u.direction;c&&(t=c(n.map((function(e){return e.column})),s));var C=RZ(n.map((function(e){return e.column})));return i.createElement(a,t,n.map((function(e,t){var n,a=e.column,c=YZ(e.colStart,e.colEnd,r,o,I,a);return a&&a.onHeaderCell&&(n=e.column.onHeaderCell(a)),i.createElement(HZ,$r({},e,{scope:a.title?e.colSpan>1?"colgroup":"col":null,ellipsis:a.ellipsis,align:a.align,component:a.title?l:g,prefixCls:d,key:C[t]},c,{additionalProps:n,rowType:"header"}))})))}CG.displayName="HeaderRow";var mG=CG;var pG=SZ((function(e){var t=e.stickyOffsets,n=e.columns,o=e.flattenColumns,r=e.onHeaderRow,a=fZ(kZ,["prefixCls","getComponent"]),l=a.prefixCls,g=a.getComponent,c=i.useMemo((function(){return function(e){var t=[];!function e(n,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[r]=t[r]||[];var a=o,i=n.filter(Boolean).map((function(n){var o={key:n.key,className:n.className||"",children:n.title,column:n,colStart:a},i=1,l=n.children;return l&&l.length>0&&(i=e(l,a,r+1).reduce((function(e,t){return e+t}),0),o.hasSubColumns=!0),"colSpan"in n&&(i=n.colSpan),"rowSpan"in n&&(o.rowSpan=n.rowSpan),o.colSpan=i,o.colEnd=o.colStart+i-1,t[r].push(o),a+=i,i}));return i}(e,0);for(var n=t.length,o=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},r=0;r<n;r+=1)o(r);return t}(n)}),[n]),s=g(["header","wrapper"],"thead"),u=g(["header","row"],"tr"),d=g(["header","cell"],"th"),I=g(["header","cell"],"td");return i.createElement(s,{className:"".concat(l,"-thead")},c.map((function(e,n){return i.createElement(mG,{key:n,flattenColumns:o,cells:e,stickyOffsets:t,rowComponent:u,cellComponent:d,tdCellComponent:I,onHeaderRow:r,index:n})})))}));function AG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"number"===typeof t?t:t.endsWith("%")?e*parseFloat(t)/100:null}var hG=["children"],bG=["fixed"];function fG(e){return ta(e).filter((function(e){return i.isValidElement(e)})).map((function(e){var t=e.key,n=e.props,o=n.children,r=gt({key:t},ct(n,hG));return o&&(r.children=fG(o)),r}))}function vG(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";return t.filter((function(t){return t&&"object"===e(t)})).reduce((function(e,t,o){var r=t.fixed,a=!0===r?"left":r,i="".concat(n,"-").concat(o),l=t.children;return l&&l.length>0?[].concat(m(e),m(vG(l,i).map((function(e){return gt({fixed:a},e)})))):[].concat(m(e),[gt(gt({key:i},t),{},{fixed:a})])}),[])}var yG=function(e,t){var n=e.prefixCls,o=e.columns,r=e.children,a=e.expandable,l=e.expandedKeys,g=e.columnTitle,c=e.getRowKey,s=e.onTriggerExpand,u=e.expandIcon,d=e.rowExpandable,C=e.expandIconColumnIndex,m=e.direction,p=e.expandRowByClick,A=e.columnWidth,h=e.fixed,b=e.scrollWidth,f=e.clientWidth,v=i.useMemo((function(){return o||fG(r)}),[o,r]),y=i.useMemo((function(){if(a){var e,t=v.slice();if(!t.includes(AZ)){var o=C||0;o>=0&&t.splice(o,0,AZ)}0;var r=t.indexOf(AZ);t=t.filter((function(e,t){return e!==AZ||t===r}));var I,m=v[r];I="left"!==h&&!h||C?"right"!==h&&!h||C!==v.length?m?m.fixed:null:"right":"left";var b=(it(e={},gG,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),it(e,"title",g),it(e,"fixed",I),it(e,"className","".concat(n,"-row-expand-icon-cell")),it(e,"width",A),it(e,"render",(function(e,t,o){var r=c(t,o),a=l.has(r),g=!d||d(t),I=u({prefixCls:n,expanded:a,expandable:g,record:t,onExpand:s});return p?i.createElement("span",{onClick:function(e){return e.stopPropagation()}},I):I})),e);return t.map((function(e){return e===AZ?b:e}))}return v.filter((function(e){return e!==AZ}))}),[a,v,c,l,u,m]),Z=i.useMemo((function(){var e=y;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e}),[t,y,m]),G=i.useMemo((function(){return"rtl"===m?function(e){return e.map((function(e){var t=e.fixed,n=t;return"left"===t?n="right":"right"===t&&(n="left"),gt({fixed:n},ct(e,bG))}))}(vG(Z)):vG(Z)}),[Z,m,b]),S=function(e,t,n){return i.useMemo((function(){if(t&&t>0){var o=0,r=0;e.forEach((function(e){var n=AG(t,e.width);n?o+=n:r+=1}));var a=Math.max(t-o,r),i=r,l=a/r,g=0,c=e.map((function(e){var n=gt({},e),o=AG(t,n.width);if(o)n.width=o;else{var r=Math.floor(l);n.width=1===i?a:r,a-=r,i-=1}return g+=n.width,n})),s=Math.max(t,n);if(g<s){var u=s/g;a=s,c.forEach((function(e,t){var n=Math.floor(e.width*u);e.width=t===c.length-1?a:n,a-=n}))}return[c,Math.max(g,s)]}return[e,t]}),[e,t,n])}(G,b,f),B=I(S,2),k=B[0],V=B[1];return[Z,k,V]};function ZG(e){var t,n=e.prefixCls,o=e.record,r=e.onExpand,a=e.expanded,l=e.expandable,g="".concat(n,"-row-expand-icon");if(!l)return i.createElement("span",{className:Pr()(g,"".concat(n,"-row-spaced"))});return i.createElement("span",{className:Pr()(g,(t={},it(t,"".concat(n,"-row-expanded"),a),it(t,"".concat(n,"-row-collapsed"),!a),t)),onClick:function(e){r(o,e),e.stopPropagation()}})}function GG(t,n,o){var r=function(e){var t,n=e.expandable,o=ct(e,lG);return!1===(t="expandable"in e?gt(gt({},o),n):o).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(t),a=r.expandIcon,l=r.expandedRowKeys,g=r.defaultExpandedRowKeys,c=r.defaultExpandAllRows,s=r.expandedRowRender,u=r.onExpand,d=r.onExpandedRowsChange,C=a||ZG,p=r.childrenColumnName||"children",A=i.useMemo((function(){return s?"row":!!(t.expandable&&t.internalHooks===hZ&&t.expandable.__PARENT_RENDER_ICON__||n.some((function(t){return t&&"object"===e(t)&&t[p]})))&&"nest"}),[!!s,n]),h=i.useState((function(){return g||(c?function(e,t,n){var o=[];return function e(r){(r||[]).forEach((function(r,a){o.push(t(r,a)),e(r[n])}))}(e),o}(n,o,p):[])})),b=I(h,2),f=b[0],v=b[1],y=i.useMemo((function(){return new Set(l||f||[])}),[l,f]),Z=i.useCallback((function(e){var t,r=o(e,n.indexOf(e)),a=y.has(r);a?(y.delete(r),t=m(y)):t=[].concat(m(y),[r]),v(t),u&&u(!a,e),d&&d(t)}),[o,y,n,u,d]);return[r,A,y,C,p,Z]}function SG(e){var t=(0,i.useRef)(e),n=I((0,i.useState)({}),2)[1],o=(0,i.useRef)(null),r=(0,i.useRef)([]);return(0,i.useEffect)((function(){return function(){o.current=null}}),[]),[t.current,function(e){r.current.push(e);var a=Promise.resolve();o.current=a,a.then((function(){if(o.current===a){var e=r.current,i=t.current;r.current=[],e.forEach((function(e){t.current=e(t.current)})),o.current=null,i!==t.current&&n({})}}))}]}var BG=el()?window:null;var kG=function(e,t,n){return(0,i.useMemo)((function(){for(var o=[],r=[],a=0,i=0,l=0;l<t;l+=1)if("rtl"===n){r[l]=i,i+=e[l]||0;var g=t-l-1;o[g]=a,a+=e[g]||0}else{o[l]=a,a+=e[l]||0;var c=t-l-1;r[c]=i,i+=e[c]||0}return{left:o,right:r}}),[e,t,n])};var VG=function(e){var t=e.className,n=e.children;return i.createElement("div",{className:t},n)};function WG(e,t,n,o){var r=_t.unstable_batchedUpdates?function(e){_t.unstable_batchedUpdates(n,e)}:n;return null!==e&&void 0!==e&&e.addEventListener&&e.addEventListener(t,r,o),{remove:function(){null!==e&&void 0!==e&&e.removeEventListener&&e.removeEventListener(t,r,o)}}}function wG(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var RG=function(e,t){var n,o,r=e.scrollBodyRef,a=e.onScroll,l=e.offsetScroll,g=e.container,c=fZ(kZ,"prefixCls"),s=(null===(n=r.current)||void 0===n?void 0:n.scrollWidth)||0,u=(null===(o=r.current)||void 0===o?void 0:o.clientWidth)||0,d=s&&u*(u/s),C=i.useRef(),m=I(SG({scrollLeft:0,isHiddenScrollBar:!1}),2),p=m[0],A=m[1],h=i.useRef({delta:0,x:0}),b=I(i.useState(!1),2),f=b[0],v=b[1],y=function(){v(!1)},Z=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(f&&0!==n){var o=h.current.x+e.pageX-h.current.x-h.current.delta;o<=0&&(o=0),o+d>=u&&(o=u-d),a({scrollLeft:o/u*(s+2)}),h.current.x=e.pageX}else f&&v(!1)},G=function(){if(r.current){var e=wG(r.current).top,t=e+r.current.offsetHeight,n=g===window?document.documentElement.scrollTop+window.innerHeight:wG(g).top+g.clientHeight;t-am()<=n||e>=n-l?A((function(e){return gt(gt({},e),{},{isHiddenScrollBar:!0})})):A((function(e){return gt(gt({},e),{},{isHiddenScrollBar:!1})}))}},S=function(e){A((function(t){return gt(gt({},t),{},{scrollLeft:e/s*u||0})}))};return i.useImperativeHandle(t,(function(){return{setScrollLeft:S}})),i.useEffect((function(){var e=WG(document.body,"mouseup",y,!1),t=WG(document.body,"mousemove",Z,!1);return G(),function(){e.remove(),t.remove()}}),[d,f]),i.useEffect((function(){var e=WG(g,"scroll",G,!1),t=WG(window,"resize",G,!1);return function(){e.remove(),t.remove()}}),[g]),i.useEffect((function(){p.isHiddenScrollBar||A((function(e){var t=r.current;return t?gt(gt({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[p.isHiddenScrollBar]),s<=u||!d||p.isHiddenScrollBar?null:i.createElement("div",{style:{height:am(),width:u,bottom:l},className:"".concat(c,"-sticky-scroll")},i.createElement("div",{onMouseDown:function(e){e.persist(),h.current.delta=e.pageX-p.scrollLeft,h.current.x=0,v(!0),e.preventDefault()},ref:C,className:Pr()("".concat(c,"-sticky-scroll-bar"),it({},"".concat(c,"-sticky-scroll-bar-active"),f)),style:{width:"".concat(d,"px"),transform:"translate3d(".concat(p.scrollLeft,"px, 0, 0)")}}))},XG=i.forwardRef(RG);var JG=function(e){return null};var xG=function(e){return null},HG="rc-table",YG=[],NG={};function FG(){return"No Data"}function EG(t){var n,o=gt({rowKey:"key",prefixCls:HG,emptyText:FG},t),r=o.prefixCls,a=o.className,l=o.rowClassName,g=o.style,c=o.data,s=o.rowKey,u=o.scroll,d=o.tableLayout,C=o.direction,m=o.title,p=o.footer,A=o.summary,h=o.caption,b=o.id,f=o.showHeader,v=o.components,y=o.emptyText,Z=o.onRow,G=o.onHeaderRow,S=o.internalHooks,B=o.transformColumns,k=o.internalRefs,V=o.tailor,W=o.getContainerWidth,w=o.sticky,R=c||YG,X=!!R.length,J=S===hZ;var x,H,Y,N=i.useCallback((function(e,t){return za(v,e)||t}),[v]),F=i.useMemo((function(){return"function"===typeof s?s:function(e){return e&&e[s]}}),[s]),E=N(["body"]),K=function(){var e=I(i.useState(-1),2),t=e[0],n=e[1],o=I(i.useState(-1),2),r=o[0],a=o[1];return[t,r,i.useCallback((function(e,t){n(e),a(t)}),[])]}(),M=I(K,3),L=M[0],z=M[1],D=M[2],T=I(GG(o,R,F),6),U=T[0],Q=T[1],j=T[2],O=T[3],P=T[4],q=T[5],_=null===u||void 0===u?void 0:u.x,$=I(i.useState(0),2),ee=$[0],te=$[1],ne=I(yG(gt(gt(gt({},o),U),{},{expandable:!!U.expandedRowRender,columnTitle:U.columnTitle,expandedKeys:j,getRowKey:F,onTriggerExpand:q,expandIcon:O,expandIconColumnIndex:U.expandIconColumnIndex,direction:C,scrollWidth:J&&V&&"number"===typeof _?_:null,clientWidth:ee}),J?B:null),3),oe=ne[0],re=ne[1],ae=ne[2],ie=null!==ae&&void 0!==ae?ae:_,le=i.useMemo((function(){return{columns:oe,flattenColumns:re}}),[oe,re]),ge=i.useRef(),ce=i.useRef(),se=i.useRef(),ue=i.useRef(),de=i.useRef(),Ie=I(i.useState(!1),2),Ce=Ie[0],me=Ie[1],pe=I(i.useState(!1),2),Ae=pe[0],he=pe[1],be=I(SG(new Map),2),fe=be[0],ve=be[1],ye=RZ(re).map((function(e){return fe.get(e)})),Ze=i.useMemo((function(){return ye}),[ye.join("_")]),Ge=kG(Ze,re.length,C),Se=u&&XZ(u.y),Be=u&&XZ(ie)||Boolean(U.fixed),ke=Be&&re.some((function(e){return e.fixed})),Ve=i.useRef(),We=function(t,n){var o="object"===e(t)?t:{},r=o.offsetHeader,a=void 0===r?0:r,l=o.offsetSummary,g=void 0===l?0:l,c=o.offsetScroll,s=void 0===c?0:c,u=o.getContainer,d=(void 0===u?function(){return BG}:u)()||BG;return i.useMemo((function(){var e=!!t;return{isSticky:e,stickyClassName:e?"".concat(n,"-sticky-holder"):"",offsetHeader:a,offsetSummary:g,offsetScroll:s,container:d}}),[s,a,g,n,d])}(w,r),we=We.isSticky,Re=We.offsetHeader,Xe=We.offsetSummary,Je=We.offsetScroll,xe=We.stickyClassName,He=We.container,Ye=i.useMemo((function(){return null===A||void 0===A?void 0:A(R)}),[A,R]),Ne=(Se||we)&&i.isValidElement(Ye)&&Ye.type===KZ&&Ye.props.fixed;Se&&(H={overflowY:"scroll",maxHeight:u.y}),Be&&(x={overflowX:"auto"},Se||(H={overflowY:"hidden"}),Y={width:!0===ie?"auto":ie,minWidth:"100%"});var Fe=i.useCallback((function(e,t){Eu(ge.current)&&ve((function(n){if(n.get(e)!==t){var o=new Map(n);return o.set(e,t),o}return n}))}),[]),Ee=I(function(e){var t=(0,i.useRef)(e||null),n=(0,i.useRef)();function o(){window.clearTimeout(n.current)}return(0,i.useEffect)((function(){return o}),[]),[function(e){t.current=e,o(),n.current=window.setTimeout((function(){t.current=null,n.current=void 0}),100)},function(){return t.current}]}(null),2),Ke=Ee[0],Me=Ee[1];function Le(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e,t.scrollLeft!==e&&setTimeout((function(){t.scrollLeft=e}),0)))}var ze=Og((function(e){var t,n=e.currentTarget,o=e.scrollLeft,r="rtl"===C,a="number"===typeof o?o:n.scrollLeft,i=n||NG;Me()&&Me()!==i||(Ke(i),Le(a,ce.current),Le(a,se.current),Le(a,de.current),Le(a,null===(t=Ve.current)||void 0===t?void 0:t.setScrollLeft));var l=n||ce.current;if(l){var g=l.scrollWidth,c=l.clientWidth;if(g===c)return me(!1),void he(!1);r?(me(-a<g-c),he(-a>0)):(me(a>0),he(a<g-c))}})),De=function(){Be&&se.current?ze({currentTarget:se.current}):(me(!1),he(!1))},Te=i.useRef(!1);i.useEffect((function(){Te.current&&De()}),[Be,c,oe.length]),i.useEffect((function(){Te.current=!0}),[]);var Ue=I(i.useState(0),2),Qe=Ue[0],je=Ue[1],Oe=I(i.useState(!0),2),Pe=Oe[0],qe=Oe[1];i.useEffect((function(){var e,t;V&&J||(se.current instanceof Element?je(lm(se.current).width):je(lm(ue.current).width)),qe((e="position",t="sticky",Array.isArray(e)||void 0===t?zZ(e):DZ(e,t)))}),[]),i.useEffect((function(){J&&k&&(k.body.current=se.current)}));var _e,$e=i.useCallback((function(e){return i.createElement(i.Fragment,null,i.createElement(pG,e),"top"===Ne&&i.createElement(MZ,e,Ye))}),[Ne,Ye]),et=i.useCallback((function(e){return i.createElement(MZ,e,Ye)}),[Ye]),tt=N(["table"],"table"),nt=i.useMemo((function(){return d||(ke?"max-content"===ie?"auto":"fixed":Se||we||re.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[Se,ke,re,d,we]),ot={colWidths:Ze,columCount:re.length,stickyOffsets:Ge,onHeaderRow:G,fixHeader:Se,scroll:u},rt=i.useMemo((function(){return X?null:"function"===typeof y?y():y}),[X,y]),at=i.createElement(iG,{data:R,measureColumnWidth:Se||Be||we}),lt=i.createElement(sG,{colWidths:re.map((function(e){return e.width})),columns:re}),ct=null!==h&&void 0!==h?i.createElement("caption",{className:"".concat(r,"-caption")},h):void 0,st=OZ(o,{data:!0}),ut=OZ(o,{aria:!0});if(Se||we){var dt;"function"===typeof E?(dt=E(R,{scrollbarSize:Qe,ref:se,onScroll:ze}),ot.colWidths=re.map((function(e,t){var n=e.width,o=t===re.length-1?n-Qe:n;return"number"!==typeof o||Number.isNaN(o)?0:o}))):dt=i.createElement("div",{style:gt(gt({},x),H),onScroll:ze,ref:se,className:Pr()("".concat(r,"-body"))},i.createElement(tt,$r({style:gt(gt({},Y),{},{tableLayout:nt})},ut),ct,lt,at,!Ne&&Ye&&i.createElement(MZ,{stickyOffsets:Ge,flattenColumns:re,columns:oe},Ye)));var It=gt(gt(gt({noData:!R.length,maxContentScroll:Be&&"max-content"===ie},ot),le),{},{direction:C,stickyClassName:xe,onScroll:ze});_e=i.createElement(i.Fragment,null,!1!==f&&i.createElement(IG,$r({},It,{stickyTopOffset:Re,className:"".concat(r,"-header"),ref:ce}),$e),dt,Ne&&"top"!==Ne&&i.createElement(IG,$r({},It,{stickyBottomOffset:Xe,className:"".concat(r,"-summary"),ref:de}),et),we&&se.current&&se.current instanceof Element&&i.createElement(XG,{ref:Ve,offsetScroll:Je,scrollBodyRef:se,onScroll:ze,container:He}))}else _e=i.createElement("div",{style:gt(gt({},x),H),className:Pr()("".concat(r,"-content")),onScroll:ze,ref:se},i.createElement(tt,$r({style:gt(gt({},Y),{},{tableLayout:nt})},ut),ct,lt,!1!==f&&i.createElement(pG,$r({},ot,le)),at,Ye&&i.createElement(MZ,{stickyOffsets:Ge,flattenColumns:re,columns:oe},Ye)));var Ct=i.createElement("div",$r({className:Pr()(r,a,(n={},it(n,"".concat(r,"-rtl"),"rtl"===C),it(n,"".concat(r,"-ping-left"),Ce),it(n,"".concat(r,"-ping-right"),Ae),it(n,"".concat(r,"-layout-fixed"),"fixed"===d),it(n,"".concat(r,"-fixed-header"),Se),it(n,"".concat(r,"-fixed-column"),ke),it(n,"".concat(r,"-scroll-horizontal"),Be),it(n,"".concat(r,"-has-fix-left"),re[0]&&re[0].fixed),it(n,"".concat(r,"-has-fix-right"),re[re.length-1]&&"right"===re[re.length-1].fixed),n)),style:g,id:b,ref:ge},st),m&&i.createElement(VG,{className:"".concat(r,"-title")},m(R)),i.createElement("div",{ref:ue,className:"".concat(r,"-container")},_e),p&&i.createElement(VG,{className:"".concat(r,"-footer")},p(R)));Be&&(Ct=i.createElement(wC,{onResize:function(e){var t=e.width,n=ge.current?ge.current.offsetWidth:t;J&&W&&ge.current&&(n=W(ge.current,n)||n),n!==ee&&(De(),te(n))}},Ct));var mt=function(e,t,n,o){var r=e.map((function(r,a){return YZ(a,a,e,t,n,null===o||void 0===o?void 0:o[a])}));return Ti((function(){return r}),[r],(function(e,t){return!ca(e,t)}))}(re,Ge,C,oe),pt=i.useMemo((function(){return{scrollX:ie,prefixCls:r,getComponent:N,scrollbarSize:Qe,direction:C,fixedInfoList:mt,isSticky:we,supportSticky:Pe,componentWidth:ee,fixHeader:Se,fixColumn:ke,horizonScroll:Be,tableLayout:nt,rowClassName:l,expandedRowClassName:U.expandedRowClassName,expandIcon:O,expandableType:Q,expandRowByClick:U.expandRowByClick,expandedRowRender:U.expandedRowRender,onTriggerExpand:q,expandIconColumnIndex:U.expandIconColumnIndex,indentSize:U.indentSize,allColumnsFixedLeft:re.every((function(e){return"left"===e.fixed})),emptyNode:rt,columns:oe,flattenColumns:re,onColumnResize:Fe,hoverStartRow:L,hoverEndRow:z,onHover:D,rowExpandable:U.rowExpandable,onRow:Z,getRowKey:F,expandedKeys:j,childrenColumnName:P}}),[ie,r,N,Qe,C,mt,we,Pe,ee,Se,ke,Be,nt,l,U.expandedRowClassName,O,Q,U.expandRowByClick,U.expandedRowRender,q,U.expandIconColumnIndex,U.indentSize,rt,oe,re,Fe,L,z,D,U.rowExpandable,Z,F,j,P]);return i.createElement(kZ.Provider,{value:pt},Ct)}function KG(e){return GZ(EG,e)}var MG=KG();MG.EXPAND_COLUMN=AZ,MG.INTERNAL_HOOKS=hZ,MG.Column=JG,MG.ColumnGroup=xG,MG.Summary=LZ;var LG=MG,zG=i.forwardRef((function(e,t){var n,o=e.height,r=e.offsetY,a=e.offsetX,l=e.children,g=e.prefixCls,c=e.onInnerResize,s=e.innerProps,u=e.rtl,d=e.extra,I={},C={display:"flex",flexDirection:"column"};void 0!==r&&(I={height:o,position:"relative",overflow:"hidden"},C=gt(gt({},C),{},(it(n={transform:"translateY(".concat(r,"px)")},u?"marginRight":"marginLeft",-a),it(n,"position","absolute"),it(n,"left",0),it(n,"right",0),it(n,"top",0),n)));return i.createElement("div",{style:I},i.createElement(wC,{onResize:function(e){e.offsetHeight&&c&&c()}},i.createElement("div",$r({style:C,className:Pr()(it({},"".concat(g,"-holder-inner"),g)),ref:t},s),l,d)))}));zG.displayName="Filler";var DG=zG;function TG(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]}var UG=i.forwardRef((function(e,t){var n,o=e.prefixCls,r=e.rtl,a=e.scrollOffset,l=e.scrollRange,g=e.onStartMove,c=e.onStopMove,s=e.onScroll,u=e.horizontal,d=e.spinSize,C=e.containerSize,m=e.style,p=e.thumbStyle,A=I(i.useState(!1),2),h=A[0],b=A[1],f=I(i.useState(null),2),v=f[0],y=f[1],Z=I(i.useState(null),2),G=Z[0],S=Z[1],B=!r,k=i.useRef(),V=i.useRef(),W=I(i.useState(!1),2),w=W[0],R=W[1],X=i.useRef(),J=function(){clearTimeout(X.current),R(!0),X.current=setTimeout((function(){R(!1)}),3e3)},x=l-C||0,H=C-d||0,Y=x>0,N=i.useMemo((function(){return 0===a||0===x?0:a/x*H}),[a,x,H]),F=i.useRef({top:N,dragging:h,pageY:v,startTop:G});F.current={top:N,dragging:h,pageY:v,startTop:G};var E=function(e){b(!0),y(TG(e,u)),S(F.current.top),g(),e.stopPropagation(),e.preventDefault()};i.useEffect((function(){var e=function(e){e.preventDefault()},t=k.current,n=V.current;return t.addEventListener("touchstart",e),n.addEventListener("touchstart",E),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",E)}}),[]);var K=i.useRef();K.current=x;var M=i.useRef();M.current=H,i.useEffect((function(){if(h){var e,t=function(t){var n=F.current,o=n.dragging,r=n.pageY,a=n.startTop;if(ju.cancel(e),o){var i=TG(t,u)-r,l=a;!B&&u?l-=i:l+=i;var g=K.current,c=M.current,d=c?l/c:0,I=Math.ceil(d*g);I=Math.max(I,0),I=Math.min(I,g),e=ju((function(){s(I,u)}))}},n=function(){b(!1),c()};return window.addEventListener("mousemove",t),window.addEventListener("touchmove",t),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),ju.cancel(e)}}}),[h]),i.useEffect((function(){J()}),[a]),i.useImperativeHandle(t,(function(){return{delayHidden:J}}));var L="".concat(o,"-scrollbar"),z={position:"absolute",visibility:w&&Y?null:"hidden"},D={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return u?(z.height=8,z.left=0,z.right=0,z.bottom=0,D.height="100%",D.width=d,B?D.left=N:D.right=N):(z.width=8,z.top=0,z.bottom=0,B?z.right=0:z.left=0,D.width="100%",D.height=d,D.top=N),i.createElement("div",{ref:k,className:Pr()(L,(n={},it(n,"".concat(L,"-horizontal"),u),it(n,"".concat(L,"-vertical"),!u),it(n,"".concat(L,"-visible"),w),n)),style:gt(gt({},z),m),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:J},i.createElement("div",{ref:V,className:Pr()("".concat(L,"-thumb"),it({},"".concat(L,"-thumb-moving"),h)),style:gt(gt({},D),p),onMouseDown:E}))}));var QG=UG;function jG(e){var t=e.children,n=e.setRef,o=i.useCallback((function(e){n(e)}),[]);return i.cloneElement(t,{ref:o})}var OG=function(){function e(){p(this,e),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return b(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),e}(),PG=OG;var qG=10;function _G(e,t,n){var o=I(i.useState(e),2),r=o[0],a=o[1],l=I(i.useState(null),2),g=l[0],c=l[1];return i.useEffect((function(){var o=function(e,t,n){var o,r,a=e.length,i=t.length;if(0===a&&0===i)return null;a<i?(o=e,r=t):(o=t,r=e);var l={__EMPTY_ITEM__:!0};function g(e){return void 0!==e?n(e):l}for(var c=null,s=1!==Math.abs(a-i),u=0;u<r.length;u+=1){var d=g(o[u]);if(d!==g(r[u])){c=u,s=s||d!==g(r[u+1]);break}}return null===c?null:{index:c,multiple:s}}(r||[],e||[],t);void 0!==(null===o||void 0===o?void 0:o.index)&&(null===n||void 0===n||n(o.index),c(e[o.index])),a(e)}),[e]),[g]}var $G="object"===("undefined"===typeof navigator?"undefined":e(navigator))&&/Firefox/i.test(navigator.userAgent),eS=function(e,t){var n=(0,i.useRef)(!1),o=(0,i.useRef)(null);var r=(0,i.useRef)({top:e,bottom:t});return r.current.top=e,r.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e<0&&r.current.top||e>0&&r.current.bottom;return t&&a?(clearTimeout(o.current),n.current=!1):a&&!n.current||(clearTimeout(o.current),n.current=!0,o.current=setTimeout((function(){n.current=!1}),50)),!n.current&&a}};function tS(e,t,n,o,r){var a=(0,i.useRef)(0),l=(0,i.useRef)(null),g=(0,i.useRef)(null),c=(0,i.useRef)(!1),s=eS(t,n);var u=(0,i.useRef)(null),d=(0,i.useRef)(null);return[function(t){if(e){ju.cancel(d.current),d.current=ju((function(){u.current=null}),2);var n=t.deltaX,i=t.deltaY,I=t.shiftKey,C=n,m=i;("sx"===u.current||!u.current&&I&&i&&!n)&&(C=i,m=0,u.current="sx");var p=Math.abs(C),A=Math.abs(m);null===u.current&&(u.current=o&&p>A?"x":"y"),"y"===u.current?function(e,t){ju.cancel(l.current),a.current+=t,g.current=t,s(t)||($G||e.preventDefault(),l.current=ju((function(){var e=c.current?10:1;r(a.current*e),a.current=0})))}(t,m):function(e,t){r(t,!0),$G||e.preventDefault()}(t,C)}},function(t){e&&(c.current=t.detail===g.current)}]}var nS=14/15;var oS=20;function rS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*100;return isNaN(t)&&(t=0),t=Math.max(t,oS),t=Math.min(t,e/2),Math.floor(t)}var aS=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],iS=[],lS={overflowY:"auto",overflowAnchor:"none"};function gS(t,n){var o=t.prefixCls,r=void 0===o?"rc-virtual-list":o,a=t.className,l=t.height,g=t.itemHeight,c=t.fullHeight,s=void 0===c||c,u=t.style,d=t.data,C=t.children,m=t.itemKey,p=t.virtual,A=t.direction,h=t.scrollWidth,b=t.component,f=void 0===b?"div":b,v=t.onScroll,y=t.onVirtualScroll,Z=t.onVisibleChange,G=t.innerProps,S=t.extraRender,B=t.styles,k=ct(t,aS),V=!(!1===p||!l||!g),W=V&&d&&(g*d.length>l||!!h),w="rtl"===A,R=Pr()(r,it({},"".concat(r,"-rtl"),w),a),X=d||iS,J=(0,i.useRef)(),x=(0,i.useRef)(),H=I((0,i.useState)(0),2),Y=H[0],N=H[1],F=I((0,i.useState)(0),2),E=F[0],K=F[1],M=I((0,i.useState)(!1),2),L=M[0],z=M[1],D=function(){z(!0)},T=function(){z(!1)},U=i.useCallback((function(e){return"function"===typeof m?m(e):null===e||void 0===e?void 0:e[m]}),[m]),Q={getKey:U};function j(e){N((function(t){var n=function(e){var t=e;Number.isNaN(Ae.current)||(t=Math.min(t,Ae.current));return t=Math.max(t,0),t}("function"===typeof e?e(t):e);return J.current.scrollTop=n,n}))}var O=(0,i.useRef)({start:0,end:X.length}),P=(0,i.useRef)(),q=I(_G(X,U),1)[0];P.current=q;var _=function(e,t,n){var o=I(i.useState(0),2),r=o[0],a=o[1],l=(0,i.useRef)(new Map),g=(0,i.useRef)(new PG),c=(0,i.useRef)();function s(){ju.cancel(c.current)}function u(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s();var t=function(){l.current.forEach((function(e,t){if(e&&e.offsetParent){var n=Pu(e),o=n.offsetHeight;g.current.get(t)!==o&&g.current.set(t,n.offsetHeight)}})),a((function(e){return e+1}))};e?t():c.current=ju(t)}return(0,i.useEffect)((function(){return s}),[]),[function(o,r){var a=e(o),i=l.current.get(a);r?(l.current.set(a,r),u()):l.current.delete(a),!i!==!r&&(r?null===t||void 0===t||t(o):null===n||void 0===n||n(o))},u,g.current,r]}(U,null,null),$=I(_,4),ee=$[0],te=$[1],ne=$[2],oe=$[3],re=i.useMemo((function(){if(!V)return{scrollHeight:void 0,start:0,end:X.length-1,offset:void 0};var e;if(!W)return{scrollHeight:(null===(e=x.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:X.length-1,offset:void 0};for(var t,n,o,r=0,a=X.length,i=0;i<a;i+=1){var c=X[i],s=U(c),u=ne.get(s),d=r+(void 0===u?g:u);d>=Y&&void 0===t&&(t=i,n=r),d>Y+l&&void 0===o&&(o=i),r=d}return void 0===t&&(t=0,n=0,o=Math.ceil(l/g)),void 0===o&&(o=X.length-1),{scrollHeight:r,start:t,end:o=Math.min(o+1,X.length-1),offset:n}}),[W,V,Y,X,oe,l]),ae=re.scrollHeight,ie=re.start,le=re.end,ge=re.offset;O.current.start=ie,O.current.end=le;var ce=I(i.useState({width:0,height:l}),2),se=ce[0],ue=ce[1],de=(0,i.useRef)(),Ie=(0,i.useRef)(),Ce=i.useMemo((function(){return rS(se.width,h)}),[se.width,h]),me=i.useMemo((function(){return rS(se.height,ae)}),[se.height,ae]),pe=ae-l,Ae=(0,i.useRef)(pe);Ae.current=pe;var he=Y<=0,be=Y>=pe,fe=eS(he,be),ve=function(){return{x:w?-E:E,y:Y}},ye=(0,i.useRef)(ve()),Ze=Og((function(){if(y){var e=ve();ye.current.x===e.x&&ye.current.y===e.y||(y(e),ye.current=e)}}));function Ge(e,t){var n=e;t?((0,_t.flushSync)((function(){K(n)})),Ze()):j(n)}var Se=function(e){var t=e,n=h-se.width;return t=Math.max(t,0),t=Math.min(t,n)},Be=Og((function(e,t){t?((0,_t.flushSync)((function(){K((function(t){return Se(t+(w?-e:e))}))})),Ze()):j((function(t){return t+e}))})),ke=I(tS(V,he,be,!!h,Be),2),Ve=ke[0],We=ke[1];!function(e,t,n){var o,r=(0,i.useRef)(!1),a=(0,i.useRef)(0),l=(0,i.useRef)(null),g=(0,i.useRef)(null),c=function(e){if(r.current){var t=Math.ceil(e.touches[0].pageY),o=a.current-t;a.current=t,n(o)&&e.preventDefault(),clearInterval(g.current),g.current=setInterval((function(){(!n(o*=nS,!0)||Math.abs(o)<=.1)&&clearInterval(g.current)}),16)}},s=function(){r.current=!1,o()},u=function(e){o(),1!==e.touches.length||r.current||(r.current=!0,a.current=Math.ceil(e.touches[0].pageY),l.current=e.target,l.current.addEventListener("touchmove",c),l.current.addEventListener("touchend",s))};o=function(){l.current&&(l.current.removeEventListener("touchmove",c),l.current.removeEventListener("touchend",s))},Bl((function(){return e&&t.current.addEventListener("touchstart",u),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",u),o(),clearInterval(g.current)}}),[e])}(V,J,(function(e,t){return!fe(e,t)&&(Ve({preventDefault:function(){},deltaY:e}),!0)})),Bl((function(){function e(e){V&&e.preventDefault()}var t=J.current;return t.addEventListener("wheel",Ve),t.addEventListener("DOMMouseScroll",We),t.addEventListener("MozMousePixelScroll",e),function(){t.removeEventListener("wheel",Ve),t.removeEventListener("DOMMouseScroll",We),t.removeEventListener("MozMousePixelScroll",e)}}),[V]),Bl((function(){h&&K((function(e){return Se(e)}))}),[se.width,h]);var we=function(){var e,t;null===(e=de.current)||void 0===e||e.delayHidden(),null===(t=Ie.current)||void 0===t||t.delayHidden()},Re=function(t,n,o,r,a,l,g,c){var s=i.useRef(),u=I(i.useState(null),2),d=u[0],C=u[1];return Bl((function(){if(d&&d.times<qG){if(!t.current)return void C((function(e){return gt({},e)}));l();var e=d.targetAlign,i=d.originAlign,c=d.index,s=d.offset,u=t.current.clientHeight,I=!1,m=e,p=null;if(u){for(var A=e||i,h=0,b=0,f=0,v=Math.min(n.length-1,c),y=0;y<=v;y+=1){var Z=a(n[y]);b=h;var G=o.get(Z);h=f=b+(void 0===G?r:G)}for(var S="top"===A?s:u-s,B=v;B>=0;B-=1){var k=a(n[B]),V=o.get(k);if(void 0===V){I=!0;break}if((S-=V)<=0)break}switch(A){case"top":p=b-s;break;case"bottom":p=f-u+s;break;default:var W=t.current.scrollTop;b<W?m="top":f>W+u&&(m="bottom")}null!==p&&g(p),p!==d.lastTop&&(I=!0)}I&&C((function(e){return gt(gt({},e),{},{times:e.times+1,targetAlign:m,lastTop:p})}))}}),[d,t.current]),function(t){if(null!==t&&void 0!==t){if(ju.cancel(s.current),"number"===typeof t)g(t);else if(t&&"object"===e(t)){var o,r=t.align;o="index"in t?t.index:n.findIndex((function(e){return a(e)===t.key}));var i=t.offset;C({times:0,index:o,offset:void 0===i?0:i,originAlign:r})}}else c()}}(J,X,ne,g,U,(function(){return te(!0)}),j,we);i.useImperativeHandle(n,(function(){return{getScrollInfo:ve,scrollTo:function(t){var n;(n=t)&&"object"===e(n)&&("left"in n||"top"in n)?(void 0!==t.left&&K(Se(t.left)),Re(t.top)):Re(t)}}})),Bl((function(){if(Z){var e=X.slice(ie,le+1);Z(e,X)}}),[ie,le,X]);var Xe=function(e,t,n,o){var r=I(i.useMemo((function(){return[new Map,[]]}),[e,n.id,o]),2),a=r[0],l=r[1];return function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,g=a.get(r),c=a.get(i);if(void 0===g||void 0===c)for(var s=e.length,u=l.length;u<s;u+=1){var d,I=e[u],C=t(I);a.set(C,u);var m=null!==(d=n.get(C))&&void 0!==d?d:o;if(l[u]=(l[u-1]||0)+m,C===r&&(g=u),C===i&&(c=u),void 0!==g&&void 0!==c)break}return{top:l[g-1]||0,bottom:l[c]}}}(X,U,ne,g),Je=null===S||void 0===S?void 0:S({start:ie,end:le,virtual:W,offsetX:E,offsetY:ge,rtl:w,getSize:Xe}),xe=function(e,t,n,o,r,a,l){var g=l.getKey;return e.slice(t,n+1).map((function(e,n){var l=a(e,t+n,{style:{width:o}}),c=g(e);return i.createElement(jG,{key:c,setRef:function(t){return r(e,t)}},l)}))}(X,ie,le,h,ee,C,Q),He=null;l&&(He=gt(it({},s?"height":"maxHeight",l),lS),V&&(He.overflowY="hidden",h&&(He.overflowX="hidden"),L&&(He.pointerEvents="none")));var Ye={};return w&&(Ye.dir="rtl"),i.createElement("div",$r({style:gt(gt({},u),{},{position:"relative"}),className:R},Ye,k),i.createElement(wC,{onResize:function(e){ue(e)}},i.createElement(f,{className:"".concat(r,"-holder"),style:He,ref:J,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==Y&&j(t),null===v||void 0===v||v(e),Ze()},onMouseEnter:we},i.createElement(DG,{prefixCls:r,height:ae,offsetX:E,offsetY:ge,scrollWidth:h,onInnerResize:te,ref:x,innerProps:G,rtl:w,extra:Je},xe))),W&&ae>l&&i.createElement(QG,{ref:de,prefixCls:r,scrollOffset:Y,scrollRange:ae,rtl:w,onScroll:Ge,onStartMove:D,onStopMove:T,spinSize:me,containerSize:se.height,style:null===B||void 0===B?void 0:B.verticalScrollBar,thumbStyle:null===B||void 0===B?void 0:B.verticalScrollBarThumb}),W&&h&&i.createElement(QG,{ref:Ie,prefixCls:r,scrollOffset:E,scrollRange:h,rtl:w,onScroll:Ge,onStartMove:D,onStopMove:T,spinSize:Ce,containerSize:se.width,horizontal:!0,style:null===B||void 0===B?void 0:B.horizontalScrollBar,thumbStyle:null===B||void 0===B?void 0:B.horizontalScrollBarThumb}))}var cS=i.forwardRef(gS);cS.displayName="List";var sS=cS,uS=bZ(null),dS=bZ(null);var IS=function(e){var t=e.rowInfo,n=e.column,o=e.colIndex,r=e.indent,a=e.index,l=e.renderIndex,g=e.record,c=e.style,s=e.className,u=e.inverse,d=e.getHeight,I=n.render,C=n.dataIndex,m=n.className,p=n.width,A=fZ(dS,["columnsOffset"]).columnsOffset,h=eG(t,n,o,r,a),b=h.key,f=h.fixedInfo,v=h.appendCellNode,y=h.additionalCellProps,Z=y.style,G=y.colSpan,S=void 0===G?1:G,B=y.rowSpan,k=void 0===B?1:B,V=function(e,t,n){return n[e+(t||1)]-(n[e]||0)}(o-1,S,A),W=S>1?p-V:0,w=gt(gt(gt({},Z),c),{},{flex:"0 0 ".concat(V,"px"),width:"".concat(V,"px"),marginRight:W,pointerEvents:"auto"}),R=i.useMemo((function(){return u?k<=1:0===S||0===k||k>1}),[k,S,u]);R?w.visibility="hidden":u&&(w.height=null===d||void 0===d?void 0:d(k));var X=R?function(){return null}:I,J={};return 0!==k&&0!==S||(J.rowSpan=1,J.colSpan=1),i.createElement(HZ,$r({className:Pr()(m,s),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:"div",prefixCls:t.prefixCls,key:b,record:g,index:a,renderIndex:l,dataIndex:C,render:X,shouldCellUpdate:n.shouldCellUpdate},f,{appendNode:v,additionalProps:gt(gt({},y),{},{style:w},J)}))},CS=["data","index","className","rowKey","style","extra","getHeight"],mS=i.forwardRef((function(e,t){var n,o=e.data,r=e.index,a=e.className,l=e.rowKey,g=e.style,c=e.extra,s=e.getHeight,u=ct(e,CS),d=o.record,I=o.indent,C=o.index,m=fZ(kZ,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),p=m.scrollX,A=m.flattenColumns,h=m.prefixCls,b=m.fixColumn,f=m.componentWidth,v=_Z(d,l,r,I),y=v.rowSupportExpand,Z=v.expanded,G=v.rowProps,S=v.expandedRowRender,B=v.expandedRowClassName;if(y&&Z){var k=S(d,r,I+1,Z),V=null===B||void 0===B?void 0:B(d,r,I),W={};b&&(W={style:it({},"--virtual-width","".concat(f,"px"))});var w="".concat(h,"-expanded-row-cell");n=i.createElement("div",{className:Pr()("".concat(h,"-expanded-row"),"".concat(h,"-expanded-row-level-").concat(I+1),V)},i.createElement(HZ,{component:"div",prefixCls:h,className:Pr()(w,it({},"".concat(w,"-fixed"),b)),additionalProps:W},k))}var R=gt(gt({},g),{},{width:p});c&&(R.position="absolute",R.pointerEvents="none");var X=i.createElement("div",$r({},G,u,{ref:y?null:t,className:Pr()(a,"".concat(h,"-row"),null===G||void 0===G?void 0:G.className,it({},"".concat(h,"-row-extra"),c)),style:gt(gt({},R),null===G||void 0===G?void 0:G.style)}),A.map((function(e,t){return i.createElement(IS,{key:t,rowInfo:v,column:e,colIndex:t,indent:I,index:r,renderIndex:C,record:d,inverse:c,getHeight:s})})));return y?i.createElement("div",{ref:t},X,n):X}));var pS=SZ(mS),AS=i.forwardRef((function(t,n){var o=t.data,r=t.onScroll,a=fZ(kZ,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","emptyNode","scrollX"]),l=a.flattenColumns,g=a.onColumnResize,c=a.getRowKey,s=a.expandedKeys,u=a.prefixCls,d=a.childrenColumnName,C=a.emptyNode,m=a.scrollX,p=fZ(uS),A=p.sticky,h=p.scrollY,b=p.listItemHeight,f=i.useRef(),v=qZ(o,d,s,c),y=i.useMemo((function(){var e=0;return l.map((function(t){var n=t.width;return[t.key,n,e+=n]}))}),[l]),Z=i.useMemo((function(){return y.map((function(e){return e[2]}))}),[y]);i.useEffect((function(){y.forEach((function(e){var t=I(e,2),n=t[0],o=t[1];g(n,o)}))}),[y]),i.useImperativeHandle(n,(function(){var e={};return Object.defineProperty(e,"scrollLeft",{get:function(){var e;return(null===(e=f.current)||void 0===e?void 0:e.getScrollInfo().x)||0},set:function(e){var t;null===(t=f.current)||void 0===t||t.scrollTo({left:e})}}),e}));var G,S=function(e,t){var n,o=null===(n=v[t])||void 0===n?void 0:n.record,r=e.onCell;if(r){var a,i=r(o,t);return null!==(a=null===i||void 0===i?void 0:i.rowSpan)&&void 0!==a?a:1}return 1},B=i.useMemo((function(){return{columnsOffset:Z}}),[Z]),k="".concat(u,"-tbody");if(v.length){var V={};A&&(V.position="sticky",V.bottom=0,"object"===e(A)&&A.offsetScroll&&(V.bottom=A.offsetScroll)),G=i.createElement(sS,{fullHeight:!1,ref:f,styles:{horizontalScrollBar:V},className:Pr()(k,"".concat(k,"-virtual")),height:h,itemHeight:b||24,data:v,itemKey:function(e){return c(e.record)},scrollWidth:m,onVirtualScroll:function(e){var t=e.x;r({scrollLeft:t})},extraRender:function(e){var t=e.start,n=e.end,o=e.getSize,r=e.offsetY;if(n<0)return null;for(var a=l.filter((function(e){return 0===S(e,t)})),g=t,s=function(e){if(a=a.filter((function(t){return 0===S(t,e)})),!a.length)return g=e,"break"},u=t;u>=0&&"break"!==s(u);u-=1);for(var d=l.filter((function(e){return 1!==S(e,n)})),I=n,C=function(e){if(d=d.filter((function(t){return 1!==S(t,e)})),!d.length)return I=Math.max(e-1,n),"break"},m=n;m<v.length&&"break"!==C(m);m+=1);for(var p=[],A=function(e){if(!v[e])return"continue";l.some((function(t){return S(t,e)>1}))&&p.push(e)},h=g;h<=I;h+=1)A(h);var b=p.map((function(e){var t=v[e],n=c(t.record,e),a=o(n);return i.createElement(pS,{key:e,data:t,rowKey:n,index:e,style:{top:-r+a.top},extra:!0,getHeight:function(t){var r=e+t-1,a=c(v[r].record,r),i=o(n,a);return i.bottom-i.top}})}));return b}},(function(e,t,n){var o=c(e.record,t);return i.createElement(pS,$r({data:e,rowKey:o,index:t},n))}))}else G=i.createElement("div",{className:Pr()("".concat(u,"-placeholder"))},i.createElement(HZ,{component:"div",prefixCls:u},C));return i.createElement(dS.Provider,{value:B},G)}));var hS=SZ(AS),bS=function(e,t){var n=t.ref,o=t.onScroll;return i.createElement(hS,{ref:n,data:e,onScroll:o})};function fS(e){var t=e.columns,n=e.scroll,o=e.sticky,r=e.prefixCls,a=void 0===r?HG:r,l=e.className,g=e.listItemHeight,c=n||{},s=c.x,u=c.y;"number"!==typeof s&&(s=1),"number"!==typeof u&&(u=500);var d=i.useMemo((function(){return{sticky:o,scrollY:u,listItemHeight:g}}),[o,u,g]);return i.createElement(uS.Provider,{value:d},i.createElement(LG,$r({},e,{className:Pr()(l,"".concat(a,"-virtual")),scroll:gt(gt({},n),{},{x:s}),components:{body:bS},columns:t,internalHooks:hZ,tailor:!0})))}function vS(e){return GZ(fS,e)}vS();var yS=function(e){return null};var ZS=function(e){return null};function GS(e){return null!==e&&void 0!==e&&e===e.window}function SS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getContainer,o=void 0===n?function(){return window}:n,r=t.callback,a=t.duration,i=void 0===a?450:a,l=o(),g=function(e,t){var n,o;if("undefined"===typeof window)return 0;var r=t?"scrollTop":"scrollLeft",a=0;return GS(e)?a=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?a=e.documentElement[r]:(e instanceof HTMLElement||e)&&(a=e[r]),e&&!GS(e)&&"number"!==typeof a&&(a=null===(o=(null!==(n=e.ownerDocument)&&void 0!==n?n:e).documentElement)||void 0===o?void 0:o[r]),a}(l,!0),c=Date.now();ju((function t(){var n=Date.now()-c,o=function(e,t,n,o){var r=n-t;return(e/=o/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}(n>i?i:n,g,e,i);GS(l)?l.scrollTo(window.pageXOffset,o):l instanceof Document||"HTMLDocument"===l.constructor.name?l.documentElement.scrollTop=o:l.scrollTop=o,n<i?ju(t):"function"===typeof r&&r()}))}var BS=(0,i.createContext)(void 0),kS={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},VS={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},WS={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},wS={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},VS),timePickerLocale:Object.assign({},WS)},RS="${label} is not a valid ${type}",XS={locale:"en",Pagination:kS,DatePicker:wS,TimePicker:WS,Calendar:wS,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:RS,method:RS,array:RS,object:RS,number:RS,date:RS,boolean:RS,integer:RS,float:RS,regexp:RS,email:RS,url:RS,hex:RS},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}},JS=function(e,t){var n=i.useContext(BS),o=i.useMemo((function(){var o,r=t||XS[e],a=null!==(o=null===n||void 0===n?void 0:n[e])&&void 0!==o?o:{};return Object.assign(Object.assign({},"function"===typeof r?r():r),a||{})}),[e,t,n]);return[o,i.useMemo((function(){var e=null===n||void 0===n?void 0:n.locale;return(null===n||void 0===n?void 0:n.exist)&&!e?XS.locale:e}),[n])]};var xS=function(){var e=I(is(),2)[1],t=new Dc(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return i.createElement("svg",{style:t,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("g",{transform:"translate(24 31.67)"},i.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),i.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),i.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),i.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),i.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),i.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),i.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},i.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),i.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};var HS=function(){var e=I(is(),2)[1],t=e.colorFill,n=e.colorFillTertiary,o=e.colorFillQuaternary,r=e.colorBgContainer,a=(0,i.useMemo)((function(){return{borderColor:new Dc(t).onBackground(r).toHexShortString(),shadowColor:new Dc(n).onBackground(r).toHexShortString(),contentColor:new Dc(o).onBackground(r).toHexShortString()}}),[t,n,o,r]),l=a.borderColor,g=a.shadowColor,c=a.contentColor;return i.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},i.createElement("ellipse",{fill:g,cx:"32",cy:"33",rx:"32",ry:"7"}),i.createElement("g",{fillRule:"nonzero",stroke:l},i.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),i.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:c}))))},YS=function(e){var t,n,o=e.componentCls,r=e.margin,a=e.marginXS,i=e.marginXL;return it({},o,(it(n={marginInline:a,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center"},"".concat(o,"-image"),{height:e.emptyImgHeight,marginBottom:a,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}}),it(n,"".concat(o,"-description"),{color:e.colorText}),it(n,"".concat(o,"-footer"),{marginTop:r}),it(n,"&-normal",(it(t={marginBlock:i,color:e.colorTextDisabled},"".concat(o,"-description"),{color:e.colorTextDisabled}),it(t,"".concat(o,"-image"),{height:e.emptyImgHeightMD}),t)),it(n,"&-small",it({marginBlock:a,color:e.colorTextDisabled},"".concat(o,"-image"),{height:e.emptyImgHeightSM})),n))},NS=gs("Empty",(function(e){var t=e.componentCls,n=e.controlHeightLG,o=Mi(e,{emptyImgCls:"".concat(t,"-img"),emptyImgHeight:2.5*n,emptyImgHeightMD:n,emptyImgHeightSM:.875*n});return[YS(o)]})),FS=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},ES=i.createElement(xS,null),KS=i.createElement(HS,null),MS=function(e){var t,n=e.className,o=e.rootClassName,r=e.prefixCls,a=e.image,l=void 0===a?ES:a,g=e.description,c=e.children,s=e.imageStyle,u=e.style,d=FS(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]),C=i.useContext(_r),m=C.getPrefixCls,p=C.direction,A=C.empty,h=m("empty",r),b=I(NS(h),2),f=b[0],v=b[1],y=I(JS("Empty"),1)[0],Z="undefined"!==typeof g?g:null===y||void 0===y?void 0:y.description,G="string"===typeof Z?Z:"empty",S=null;return S="string"===typeof l?i.createElement("img",{alt:G,src:l}):l,f(i.createElement("div",Object.assign({className:Pr()(v,h,null===A||void 0===A?void 0:A.className,(t={},it(t,"".concat(h,"-normal"),l===KS),it(t,"".concat(h,"-rtl"),"rtl"===p),t),n,o),style:Object.assign(Object.assign({},null===A||void 0===A?void 0:A.style),u)},d),i.createElement("div",{className:"".concat(h,"-image"),style:s},S),Z&&i.createElement("div",{className:"".concat(h,"-description")},Z),c&&i.createElement("div",{className:"".concat(h,"-footer")},c)))};MS.PRESENTED_IMAGE_DEFAULT=ES,MS.PRESENTED_IMAGE_SIMPLE=KS;var LS=MS,zS=function(e){var t=e.componentName,n=(0,(0,i.useContext)(_r).getPrefixCls)("empty");switch(t){case"Table":case"List":return i.createElement(LS,{image:LS.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return i.createElement(LS,{image:LS.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return i.createElement(LS,null)}},DS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},TS=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:DS}))};var US=i.forwardRef(TS),QS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},jS=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:QS}))};var OS=i.forwardRef(jS),PS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},qS=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:PS}))};var _S=i.forwardRef(qS),$S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},eB=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:$S}))};var tB=i.forwardRef(eB),nB={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},oB=function(e){v(n,e);var t=S(n);function n(){var e;p(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={goInputText:""},e.getValidValue=function(){var t=e.state.goInputText;return!t||Number.isNaN(t)?void 0:Number(t)},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,o=n.goButton,r=n.quickGo,a=n.rootPrefixCls,i=e.state.goInputText;o||""===i||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(a,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(a,"-item"))>=0)||r(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==nB.ENTER&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return b(n,[{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(Number.isNaN(Number(e))?0:Number(e))-(Number.isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,o=t.locale,r=t.rootPrefixCls,a=t.changeSize,l=t.quickGo,g=t.goButton,c=t.selectComponentClass,s=t.buildOptionText,u=t.selectPrefixCls,d=t.disabled,I=this.state.goInputText,C="".concat(r,"-options"),m=c,p=null,A=null,h=null;if(!a&&!l)return null;var b=this.getPageSizeOptions();if(a&&m){var f=b.map((function(t,n){return i.createElement(m.Option,{key:n,value:t.toString()},(s||e.buildOptionText)(t))}));p=i.createElement(m,{disabled:d,prefixCls:u,showSearch:!1,className:"".concat(C,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(n||b[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":o.page_size,defaultOpen:!1},f)}return l&&(g&&(h="boolean"===typeof g?i.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:d,className:"".concat(C,"-quick-jumper-button")},o.jump_to_confirm):i.createElement("span",{onClick:this.go,onKeyUp:this.go},g)),A=i.createElement("div",{className:"".concat(C,"-quick-jumper")},o.jump_to,i.createElement("input",{disabled:d,type:"text",value:I,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":o.page}),o.page,h)),i.createElement("li",{className:"".concat(C)},p,A)}}]),n}(i.Component);oB.defaultProps={pageSizeOptions:["10","20","50","100"]};var rB=oB,aB=function(e){var t,n=e.rootPrefixCls,o=e.page,r=e.active,a=e.className,l=e.showTitle,g=e.onClick,c=e.onKeyPress,s=e.itemRender,u="".concat(n,"-item"),d=Pr()(u,"".concat(u,"-").concat(o),(it(t={},"".concat(u,"-active"),r),it(t,"".concat(u,"-disabled"),!o),it(t,e.className,a),t)),I=s(o,"page",i.createElement("a",{rel:"nofollow"},o));return I?i.createElement("li",{title:l?o.toString():null,className:d,onClick:function(){g(o)},onKeyPress:function(e){c(e,g,o)},tabIndex:0},I):null};function iB(){}function lB(e){var t=Number(e);return"number"===typeof t&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function gB(e,t,n){var o="undefined"===typeof e?t.pageSize:e;return Math.floor((n.total-1)/o)+1}var cB=function(e){v(n,e);var t=S(n);function n(e){var o;p(this,n),(o=t.call(this,e)).paginationNode=i.createRef(),o.getJumpPrevPage=function(){return Math.max(1,o.state.current-(o.props.showLessItems?3:5))},o.getJumpNextPage=function(){return Math.min(gB(void 0,o.state,o.props),o.state.current+(o.props.showLessItems?3:5))},o.getItemIcon=function(e,t){var n=o.props.prefixCls,r=e||i.createElement("button",{type:"button","aria-label":t,className:"".concat(n,"-item-link")});return"function"===typeof e&&(r=i.createElement(e,gt({},o.props))),r},o.isValid=function(e){var t=o.props.total;return lB(e)&&e!==o.state.current&&lB(t)&&t>0},o.shouldDisplayQuickJumper=function(){var e=o.props,t=e.showQuickJumper;return!(e.total<=o.state.pageSize)&&t},o.handleKeyDown=function(e){e.keyCode!==nB.ARROW_UP&&e.keyCode!==nB.ARROW_DOWN||e.preventDefault()},o.handleKeyUp=function(e){var t=o.getValidValue(e);t!==o.state.currentInputValue&&o.setState({currentInputValue:t}),e.keyCode===nB.ENTER?o.handleChange(t):e.keyCode===nB.ARROW_UP?o.handleChange(t-1):e.keyCode===nB.ARROW_DOWN&&o.handleChange(t+1)},o.handleBlur=function(e){var t=o.getValidValue(e);o.handleChange(t)},o.changePageSize=function(e){var t=o.state.current,n=gB(e,o.state,o.props);t=t>n?n:t,0===n&&(t=o.state.current),"number"===typeof e&&("pageSize"in o.props||o.setState({pageSize:e}),"current"in o.props||o.setState({current:t,currentInputValue:t})),o.props.onShowSizeChange(t,e),"onChange"in o.props&&o.props.onChange&&o.props.onChange(t,e)},o.handleChange=function(e){var t=o.props,n=t.disabled,r=t.onChange,a=o.state,i=a.pageSize,l=a.current,g=a.currentInputValue;if(o.isValid(e)&&!n){var c=gB(void 0,o.state,o.props),s=e;return e>c?s=c:e<1&&(s=1),"current"in o.props||o.setState({current:s}),s!==g&&o.setState({currentInputValue:s}),r(s,i),s}return l},o.prev=function(){o.hasPrev()&&o.handleChange(o.state.current-1)},o.next=function(){o.hasNext()&&o.handleChange(o.state.current+1)},o.jumpPrev=function(){o.handleChange(o.getJumpPrevPage())},o.jumpNext=function(){o.handleChange(o.getJumpNextPage())},o.hasPrev=function(){return o.state.current>1},o.hasNext=function(){return o.state.current<gB(void 0,o.state,o.props)},o.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];t.apply(void 0,o)}},o.runIfEnterPrev=function(e){o.runIfEnter(e,o.prev)},o.runIfEnterNext=function(e){o.runIfEnter(e,o.next)},o.runIfEnterJumpPrev=function(e){o.runIfEnter(e,o.jumpPrev)},o.runIfEnterJumpNext=function(e){o.runIfEnter(e,o.jumpNext)},o.handleGoTO=function(e){e.keyCode!==nB.ENTER&&"click"!==e.type||o.handleChange(o.state.currentInputValue)},o.renderPrev=function(e){var t=o.props,n=t.prevIcon,r=(0,t.itemRender)(e,"prev",o.getItemIcon(n,"prev page")),a=!o.hasPrev();return(0,i.isValidElement)(r)?(0,i.cloneElement)(r,{disabled:a}):r},o.renderNext=function(e){var t=o.props,n=t.nextIcon,r=(0,t.itemRender)(e,"next",o.getItemIcon(n,"next page")),a=!o.hasNext();return(0,i.isValidElement)(r)?(0,i.cloneElement)(r,{disabled:a}):r};var r=e.onChange!==iB;"current"in e&&!r&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var a=e.defaultCurrent;"current"in e&&(a=e.current);var l=e.defaultPageSize;return"pageSize"in e&&(l=e.pageSize),a=Math.min(a,gB(l,void 0,e)),o.state={current:a,currentInputValue:a,pageSize:l},o}return b(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode.current){var o,r=this.paginationNode.current.querySelector(".".concat(n,"-item-").concat(t.current));if(r&&document.activeElement===r)null===r||void 0===r||null===(o=r.blur)||void 0===o||o.call(r)}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=gB(void 0,this.state,this.props),o=this.state.currentInputValue;return""===t?t:Number.isNaN(Number(t))?o:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,o=e.totalBoundaryShowSizeChanger;return"undefined"!==typeof t?t:n>o}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,o=e.style,r=e.disabled,a=e.hideOnSinglePage,l=e.total,g=e.locale,c=e.showQuickJumper,s=e.showLessItems,u=e.showTitle,d=e.showTotal,I=e.simple,C=e.itemRender,m=e.showPrevNextJumpers,p=e.jumpPrevIcon,A=e.jumpNextIcon,h=e.selectComponentClass,b=e.selectPrefixCls,f=e.pageSizeOptions,v=this.state,y=v.current,Z=v.pageSize,G=v.currentInputValue;if(!0===a&&l<=Z)return null;var S=gB(void 0,this.state,this.props),B=[],k=null,V=null,W=null,w=null,R=null,X=c&&c.goButton,J=s?1:2,x=y-1>0?y-1:0,H=y+1<S?y+1:S,Y=OZ(this.props,{aria:!0,data:!0}),N=d&&i.createElement("li",{className:"".concat(t,"-total-text")},d(l,[0===l?0:(y-1)*Z+1,y*Z>l?l:y*Z]));if(I){X&&(R="boolean"===typeof X?i.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},g.jump_to_confirm):i.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},X),R=i.createElement("li",{title:u?"".concat(g.jump_to).concat(y,"/").concat(S):null,className:"".concat(t,"-simple-pager")},R));var F=this.renderPrev(x);return i.createElement("ul",$r({className:Pr()(t,"".concat(t,"-simple"),it({},"".concat(t,"-disabled"),r),n),style:o,ref:this.paginationNode},Y),N,F?i.createElement("li",{title:u?g.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:Pr()("".concat(t,"-prev"),it({},"".concat(t,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},F):null,i.createElement("li",{title:u?"".concat(y,"/").concat(S):null,className:"".concat(t,"-simple-pager")},i.createElement("input",{type:"text",value:G,disabled:r,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),i.createElement("span",{className:"".concat(t,"-slash")},"/"),S),i.createElement("li",{title:u?g.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:Pr()("".concat(t,"-next"),it({},"".concat(t,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(H)),R)}if(S<=3+2*J){var E={locale:g,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:u,itemRender:C};S||B.push(i.createElement(aB,$r({},E,{key:"noPager",page:1,className:"".concat(t,"-item-disabled")})));for(var K=1;K<=S;K+=1){var M=y===K;B.push(i.createElement(aB,$r({},E,{key:K,page:K,active:M})))}}else{var L=s?g.prev_3:g.prev_5,z=s?g.next_3:g.next_5,D=C(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(p,"prev page")),T=C(this.getJumpNextPage(),"jump-next",this.getItemIcon(A,"next page"));m&&(k=D?i.createElement("li",{title:u?L:null,key:"prev",onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:Pr()("".concat(t,"-jump-prev"),it({},"".concat(t,"-jump-prev-custom-icon"),!!p))},D):null,V=T?i.createElement("li",{title:u?z:null,key:"next",tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:Pr()("".concat(t,"-jump-next"),it({},"".concat(t,"-jump-next-custom-icon"),!!A))},T):null),w=i.createElement(aB,{locale:g,last:!0,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:S,page:S,active:!1,showTitle:u,itemRender:C}),W=i.createElement(aB,{locale:g,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:u,itemRender:C});var U=Math.max(1,y-J),Q=Math.min(y+J,S);y-1<=J&&(Q=1+2*J),S-y<=J&&(U=S-2*J);for(var j=U;j<=Q;j+=1){var O=y===j;B.push(i.createElement(aB,{locale:g,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:j,page:j,active:O,showTitle:u,itemRender:C}))}y-1>=2*J&&3!==y&&(B[0]=(0,i.cloneElement)(B[0],{className:"".concat(t,"-item-after-jump-prev")}),B.unshift(k)),S-y>=2*J&&y!==S-2&&(B[B.length-1]=(0,i.cloneElement)(B[B.length-1],{className:"".concat(t,"-item-before-jump-next")}),B.push(V)),1!==U&&B.unshift(W),Q!==S&&B.push(w)}var P=!this.hasPrev()||!S,q=!this.hasNext()||!S,_=this.renderPrev(x),$=this.renderNext(H);return i.createElement("ul",$r({className:Pr()(t,n,it({},"".concat(t,"-disabled"),r)),style:o,ref:this.paginationNode},Y),N,_?i.createElement("li",{title:u?g.prev_page:null,onClick:this.prev,tabIndex:P?null:0,onKeyPress:this.runIfEnterPrev,className:Pr()("".concat(t,"-prev"),it({},"".concat(t,"-disabled"),P)),"aria-disabled":P},_):null,B,$?i.createElement("li",{title:u?g.next_page:null,onClick:this.next,tabIndex:q?null:0,onKeyPress:this.runIfEnterNext,className:Pr()("".concat(t,"-next"),it({},"".concat(t,"-disabled"),q)),"aria-disabled":q},$):null,i.createElement(rB,{disabled:r,locale:g,rootPrefixCls:t,selectComponentClass:h,selectPrefixCls:b,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:y,pageSize:Z,pageSizeOptions:f,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:X}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var o=t.current,r=gB(e.pageSize,t,e);o=o>r?r:o,"current"in e||(n.current=o,n.currentInputValue=o),n.pageSize=e.pageSize}return n}}]),n}(i.Component);cB.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:iB,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:iB,locale:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var sB=cB,uB={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=uB.F1&&t<=uB.F12)return!1;switch(t){case uB.ALT:case uB.CAPS_LOCK:case uB.CONTEXT_MENU:case uB.CTRL:case uB.DOWN:case uB.END:case uB.ESC:case uB.HOME:case uB.INSERT:case uB.LEFT:case uB.MAC_FF_META:case uB.META:case uB.NUMLOCK:case uB.NUM_CENTER:case uB.PAGE_DOWN:case uB.PAGE_UP:case uB.PAUSE:case uB.PRINT_SCREEN:case uB.RIGHT:case uB.SHIFT:case uB.UP:case uB.WIN_KEY:case uB.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=uB.ZERO&&e<=uB.NINE)return!0;if(e>=uB.NUM_ZERO&&e<=uB.NUM_MULTIPLY)return!0;if(e>=uB.A&&e<=uB.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case uB.SPACE:case uB.QUESTION_MARK:case uB.NUM_PLUS:case uB.NUM_MINUS:case uB.NUM_PERIOD:case uB.NUM_DIVISION:case uB.SEMICOLON:case uB.DASH:case uB.EQUALS:case uB.COMMA:case uB.PERIOD:case uB.SLASH:case uB.APOSTROPHE:case uB.SINGLE_QUOTE:case uB.OPEN_SQUARE_BRACKET:case uB.BACKSLASH:case uB.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},dB=uB,IB=function(e){var t,n=e.className,o=e.customizeIcon,r=e.customizeIconProps,a=e.onMouseDown,l=e.onClick,g=e.children;return t="function"===typeof o?o(r):o,i.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),a&&a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:l,"aria-hidden":!0},void 0!==t?t:i.createElement("span",{className:Pr()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},g))};var CB=i.createContext(null);function mB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=i.useRef(null),n=i.useRef(null);return i.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},function(o){(o||null===t.current)&&(t.current=o),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}]}var pB=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],AB=void 0;function hB(e,t){var n=e.prefixCls,o=e.invalidate,r=e.item,a=e.renderItem,l=e.responsive,g=e.responsiveDisabled,c=e.registerSize,s=e.itemKey,u=e.className,d=e.style,I=e.children,C=e.display,m=e.order,p=e.component,A=void 0===p?"div":p,h=ct(e,pB),b=l&&!C;function f(e){c(s,e)}i.useEffect((function(){return function(){f(null)}}),[]);var v,y=a&&r!==AB?a(r):I;o||(v={opacity:b?0:1,height:b?0:AB,overflowY:b?"hidden":AB,order:l?m:AB,pointerEvents:b?"none":AB,position:b?"absolute":AB});var Z={};b&&(Z["aria-hidden"]=!0);var G=i.createElement(A,$r({className:Pr()(!o&&n,u),style:gt(gt({},v),d)},Z,h,{ref:t}),y);return l&&(G=i.createElement(wC,{onResize:function(e){f(e.offsetWidth)},disabled:g},G)),G}var bB=i.forwardRef(hB);bB.displayName="Item";var fB=bB;function vB(){var e=i.useRef(null);return function(t){e.current||(e.current=[],function(e){if("undefined"===typeof MessageChannel)ju(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}((function(){(0,_t.unstable_batchedUpdates)((function(){e.current.forEach((function(e){e()})),e.current=null}))}))),e.current.push(t)}}function yB(e,t){var n=I(i.useState(t),2),o=n[0],r=n[1];return[o,Og((function(t){e((function(){r(t)}))}))]}var ZB=i.createContext(null),GB=["component"],SB=["className"],BB=["className"],kB=function(e,t){var n=i.useContext(ZB);if(!n){var o=e.component,r=void 0===o?"div":o,a=ct(e,GB);return i.createElement(r,$r({},a,{ref:t}))}var l=n.className,g=ct(n,SB),c=e.className,s=ct(e,BB);return i.createElement(ZB.Provider,{value:null},i.createElement(fB,$r({ref:t,className:Pr()(l,c)},g,s)))},VB=i.forwardRef(kB);VB.displayName="RawItem";var WB=VB,wB=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],RB="responsive",XB="invalidate";function JB(e){return"+ ".concat(e.length," ...")}function xB(e,t){var n=e.prefixCls,o=void 0===n?"rc-overflow":n,r=e.data,a=void 0===r?[]:r,l=e.renderItem,g=e.renderRawItem,c=e.itemKey,s=e.itemWidth,u=void 0===s?10:s,d=e.ssr,C=e.style,m=e.className,p=e.maxCount,A=e.renderRest,h=e.renderRawRest,b=e.suffix,f=e.component,v=void 0===f?"div":f,y=e.itemComponent,Z=e.onVisibleChange,G=ct(e,wB),S="full"===d,B=vB(),k=I(yB(B,null),2),V=k[0],W=k[1],w=V||0,R=I(yB(B,new Map),2),X=R[0],J=R[1],x=I(yB(B,0),2),H=x[0],Y=x[1],N=I(yB(B,0),2),F=N[0],E=N[1],K=I(yB(B,0),2),M=K[0],L=K[1],z=I((0,i.useState)(null),2),D=z[0],T=z[1],U=I((0,i.useState)(null),2),Q=U[0],j=U[1],O=i.useMemo((function(){return null===Q&&S?Number.MAX_SAFE_INTEGER:Q||0}),[Q,V]),P=I((0,i.useState)(!1),2),q=P[0],_=P[1],$="".concat(o,"-item"),ee=Math.max(H,F),te=p===RB,ne=a.length&&te,oe=p===XB,re=ne||"number"===typeof p&&a.length>p,ae=(0,i.useMemo)((function(){var e=a;return ne?e=null===V&&S?a:a.slice(0,Math.min(a.length,w/u)):"number"===typeof p&&(e=a.slice(0,p)),e}),[a,u,V,p,ne]),ie=(0,i.useMemo)((function(){return ne?a.slice(O+1):a.slice(ae.length)}),[a,ae,ne,O]),le=(0,i.useCallback)((function(e,t){var n;return"function"===typeof c?c(e):null!==(n=c&&(null===e||void 0===e?void 0:e[c]))&&void 0!==n?n:t}),[c]),ge=(0,i.useCallback)(l||function(e){return e},[l]);function ce(e,t,n){(Q!==e||void 0!==t&&t!==D)&&(j(e),n||(_(e<a.length-1),null===Z||void 0===Z||Z(e)),void 0!==t&&T(t))}function se(e,t){J((function(n){var o=new Map(n);return null===t?o.delete(e):o.set(e,t),o}))}function ue(e){return X.get(le(ae[e],e))}Bl((function(){if(w&&"number"===typeof ee&&ae){var e=M,t=ae.length,n=t-1;if(!t)return void ce(0,null);for(var o=0;o<t;o+=1){var r=ue(o);if(S&&(r=r||0),void 0===r){ce(o-1,void 0,!0);break}if(e+=r,0===n&&e<=w||o===n-1&&e+ue(n)<=w){ce(n,null);break}if(e+ee>w){ce(o-1,e-r-M+F);break}}b&&ue(0)+M>w&&T(null)}}),[w,X,F,M,le,ae]);var de=q&&!!ie.length,Ie={};null!==D&&ne&&(Ie={position:"absolute",left:D,top:0});var Ce,me={prefixCls:$,responsive:ne,component:y,invalidate:oe},pe=g?function(e,t){var n=le(e,t);return i.createElement(ZB.Provider,{key:n,value:gt(gt({},me),{},{order:t,item:e,itemKey:n,registerSize:se,display:t<=O})},g(e,t))}:function(e,t){var n=le(e,t);return i.createElement(fB,$r({},me,{order:t,key:n,item:e,renderItem:ge,itemKey:n,registerSize:se,display:t<=O}))},Ae={order:de?O:Number.MAX_SAFE_INTEGER,className:"".concat($,"-rest"),registerSize:function(e,t){E(t),Y(F)},display:de};if(h)h&&(Ce=i.createElement(ZB.Provider,{value:gt(gt({},me),Ae)},h(ie)));else{var he=A||JB;Ce=i.createElement(fB,$r({},me,Ae),"function"===typeof he?he(ie):he)}var be=i.createElement(v,$r({className:Pr()(!oe&&o,m),style:C,ref:t},G),ae.map(pe),re?Ce:null,b&&i.createElement(fB,$r({},me,{responsive:te,responsiveDisabled:!ne,order:O,className:"".concat($,"-suffix"),registerSize:function(e,t){L(t)},display:!0,style:Ie}),b));return te&&(be=i.createElement(wC,{onResize:function(e,t){W(t.clientWidth)},disabled:!ne},be)),be}var HB=i.forwardRef(xB);HB.displayName="Overflow",HB.Item=WB,HB.RESPONSIVE=RB,HB.INVALIDATE=XB;var YB=HB,NB=function(e,t){var n,o,r=e.prefixCls,a=e.id,l=e.inputElement,g=e.disabled,c=e.tabIndex,s=e.autoFocus,u=e.autoComplete,d=e.editable,I=e.activeDescendantId,C=e.value,m=e.maxLength,p=e.onKeyDown,A=e.onMouseDown,h=e.onChange,b=e.onPaste,f=e.onCompositionStart,v=e.onCompositionEnd,y=e.open,Z=e.attrs,G=l||i.createElement("input",null),S=G,B=S.ref,k=S.props,V=k.onKeyDown,W=k.onChange,w=k.onMouseDown,R=k.onCompositionStart,X=k.onCompositionEnd,J=k.style;return G.props,G=i.cloneElement(G,gt(gt(gt({type:"search"},k),{},{id:a,ref:ec(t,B),disabled:g,tabIndex:c,autoComplete:u||"off",autoFocus:s,className:Pr()("".concat(r,"-selection-search-input"),null===(n=G)||void 0===n||null===(o=n.props)||void 0===o?void 0:o.className),role:"combobox","aria-label":"Search","aria-expanded":y||!1,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":y?I:void 0},Z),{},{value:d?C:"",maxLength:m,readOnly:!d,unselectable:d?null:"on",style:gt(gt({},J),{},{opacity:d?null:0}),onKeyDown:function(e){p(e),V&&V(e)},onMouseDown:function(e){A(e),w&&w(e)},onChange:function(e){h(e),W&&W(e)},onCompositionStart:function(e){f(e),R&&R(e)},onCompositionEnd:function(e){v(e),X&&X(e)},onPaste:b}))},FB=i.forwardRef(NB);FB.displayName="Input";var EB=FB;function KB(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var MB="undefined"!==typeof window&&window.document&&window.document.documentElement;function LB(t){return["string","number"].includes(e(t))}function zB(e){var t=void 0;return e&&(LB(e.title)?t=e.title.toString():LB(e.label)&&(t=e.label.toString())),t}function DB(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var TB=function(e){e.preventDefault(),e.stopPropagation()},UB=function(e){var t,n,o=e.id,r=e.prefixCls,a=e.values,l=e.open,g=e.searchValue,c=e.autoClearSearchValue,s=e.inputRef,u=e.placeholder,d=e.disabled,C=e.mode,m=e.showSearch,p=e.autoFocus,A=e.autoComplete,h=e.activeDescendantId,b=e.tabIndex,f=e.removeIcon,v=e.maxTagCount,y=e.maxTagTextLength,Z=e.maxTagPlaceholder,G=void 0===Z?function(e){return"+ ".concat(e.length," ...")}:Z,S=e.tagRender,B=e.onToggleOpen,k=e.onRemove,V=e.onInputChange,W=e.onInputPaste,w=e.onInputKeyDown,R=e.onInputMouseDown,X=e.onInputCompositionStart,J=e.onInputCompositionEnd,x=i.useRef(null),H=I((0,i.useState)(0),2),Y=H[0],N=H[1],F=I((0,i.useState)(!1),2),E=F[0],K=F[1],M="".concat(r,"-selection"),L=l||"multiple"===C&&!1===c||"tags"===C?g:"",z="tags"===C||"multiple"===C&&!1===c||m&&(l||E);function D(e,t,n,o,r){return i.createElement("span",{className:Pr()("".concat(M,"-item"),it({},"".concat(M,"-item-disabled"),n)),title:zB(e)},i.createElement("span",{className:"".concat(M,"-item-content")},t),o&&i.createElement(IB,{className:"".concat(M,"-item-remove"),onMouseDown:TB,onClick:r,customizeIcon:f},"\xd7"))}t=function(){N(x.current.scrollWidth)},n=[L],MB?i.useLayoutEffect(t,n):i.useEffect(t,n);var T=i.createElement("div",{className:"".concat(M,"-search"),style:{width:Y},onFocus:function(){K(!0)},onBlur:function(){K(!1)}},i.createElement(EB,{ref:s,open:l,prefixCls:r,id:o,inputElement:null,disabled:d,autoFocus:p,autoComplete:A,editable:z,activeDescendantId:h,value:L,onKeyDown:w,onMouseDown:R,onChange:V,onPaste:W,onCompositionStart:X,onCompositionEnd:J,tabIndex:b,attrs:OZ(e,!0)}),i.createElement("span",{ref:x,className:"".concat(M,"-search-mirror"),"aria-hidden":!0},L,"\xa0")),U=i.createElement(YB,{prefixCls:"".concat(M,"-overflow"),data:a,renderItem:function(e){var t=e.disabled,n=e.label,o=e.value,r=!d&&!t,a=n;if("number"===typeof y&&("string"===typeof n||"number"===typeof n)){var g=String(a);g.length>y&&(a="".concat(g.slice(0,y),"..."))}var c=function(t){t&&t.stopPropagation(),k(e)};return"function"===typeof S?function(e,t,n,o,r){return i.createElement("span",{onMouseDown:function(e){TB(e),B(!l)}},S({label:t,value:e,disabled:n,closable:o,onClose:r}))}(o,a,t,r,c):D(e,a,t,r,c)},renderRest:function(e){var t="function"===typeof G?G(e):G;return D({title:t},t,!1)},suffix:T,itemKey:DB,maxCount:v});return i.createElement(i.Fragment,null,U,!a.length&&!L&&i.createElement("span",{className:"".concat(M,"-placeholder")},u))},QB=function(e){var t=e.inputElement,n=e.prefixCls,o=e.id,r=e.inputRef,a=e.disabled,l=e.autoFocus,g=e.autoComplete,c=e.activeDescendantId,s=e.mode,u=e.open,d=e.values,C=e.placeholder,m=e.tabIndex,p=e.showSearch,A=e.searchValue,h=e.activeValue,b=e.maxLength,f=e.onInputKeyDown,v=e.onInputMouseDown,y=e.onInputChange,Z=e.onInputPaste,G=e.onInputCompositionStart,S=e.onInputCompositionEnd,B=e.title,k=I(i.useState(!1),2),V=k[0],W=k[1],w="combobox"===s,R=w||p,X=d[0],J=A||"";w&&h&&!V&&(J=h),i.useEffect((function(){w&&W(!1)}),[w,h]);var x=!("combobox"!==s&&!u&&!p)&&!!J,H=void 0===B?zB(X):B;return i.createElement(i.Fragment,null,i.createElement("span",{className:"".concat(n,"-selection-search")},i.createElement(EB,{ref:r,prefixCls:n,id:o,open:u,inputElement:t,disabled:a,autoFocus:l,autoComplete:g,editable:R,activeDescendantId:c,value:J,onKeyDown:f,onMouseDown:v,onChange:function(e){W(!0),y(e)},onPaste:Z,onCompositionStart:G,onCompositionEnd:S,tabIndex:m,attrs:OZ(e,!0),maxLength:w?b:void 0})),!w&&X?i.createElement("span",{className:"".concat(n,"-selection-item"),title:H,style:x?{visibility:"hidden"}:void 0},X.label):null,function(){if(X)return null;var e=x?{visibility:"hidden"}:void 0;return i.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},C)}())};var jB=function(e,t){var n=(0,i.useRef)(null),o=(0,i.useRef)(!1),r=e.prefixCls,a=e.open,l=e.mode,g=e.showSearch,c=e.tokenWithEnter,s=e.autoClearSearchValue,u=e.onSearch,d=e.onSearchSubmit,C=e.onToggleOpen,m=e.onInputKeyDown,p=e.domRef;i.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var A=I(mB(0),2),h=A[0],b=A[1],f=(0,i.useRef)(null),v=function(e){!1!==u(e,!0,o.current)&&C(!0)},y={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==dB.UP&&n!==dB.DOWN||e.preventDefault(),m&&m(e),n!==dB.ENTER||"tags"!==l||o.current||a||null===d||void 0===d||d(e.target.value),t=n,[dB.ESC,dB.SHIFT,dB.BACKSPACE,dB.TAB,dB.WIN_KEY,dB.ALT,dB.META,dB.WIN_KEY_RIGHT,dB.CTRL,dB.SEMICOLON,dB.EQUALS,dB.CAPS_LOCK,dB.CONTEXT_MENU,dB.F1,dB.F2,dB.F3,dB.F4,dB.F5,dB.F6,dB.F7,dB.F8,dB.F9,dB.F10,dB.F11,dB.F12].includes(t)||C(!0)},onInputMouseDown:function(){b(!0)},onInputChange:function(e){var t=e.target.value;if(c&&f.current&&/[\r\n]/.test(f.current)){var n=f.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,f.current)}f.current=null,v(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");f.current=t},onInputCompositionStart:function(){o.current=!0},onInputCompositionEnd:function(e){o.current=!1,"combobox"!==l&&v(e.target.value)}},Z="multiple"===l||"tags"===l?i.createElement(UB,$r({},e,y)):i.createElement(QB,$r({},e,y));return i.createElement("div",{ref:p,className:"".concat(r,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=h();e.target===n.current||t||"combobox"===l||e.preventDefault(),("combobox"===l||g&&t)&&a||(a&&!1!==s&&u("",!0,!1),C())}},Z)},OB=i.forwardRef(jB);OB.displayName="Selector";var PB=OB,qB=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],_B=function(e,t){var n=e.prefixCls,o=(e.disabled,e.visible),r=e.children,a=e.popupElement,l=e.animation,g=e.transitionName,c=e.dropdownStyle,s=e.dropdownClassName,u=e.direction,d=void 0===u?"ltr":u,I=e.placement,C=e.builtinPlacements,m=e.dropdownMatchSelectWidth,p=e.dropdownRender,A=e.dropdownAlign,h=e.getPopupContainer,b=e.empty,f=e.getTriggerDOMNode,v=e.onPopupVisibleChange,y=e.onPopupMouseEnter,Z=ct(e,qB),G="".concat(n,"-dropdown"),S=a;p&&(S=p(a));var B=i.useMemo((function(){return C||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(m)}),[C,m]),k=l?"".concat(G,"-").concat(l):g,V="number"===typeof m,W=i.useMemo((function(){return V?null:!1===m?"minWidth":"width"}),[m,V]),w=c;V&&(w=gt(gt({},w),{},{width:m}));var R=i.useRef(null);return i.useImperativeHandle(t,(function(){return{getPopupElement:function(){return R.current}}})),i.createElement(Mm,$r({},Z,{showAction:v?["click"]:[],hideAction:v?["click"]:[],popupPlacement:I||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:B,prefixCls:G,popupTransitionName:k,popup:i.createElement("div",{ref:R,onMouseEnter:y},S),stretch:W,popupAlign:A,popupVisible:o,getPopupContainer:h,popupClassName:Pr()(s,it({},"".concat(G,"-empty"),b)),popupStyle:w,getTriggerDOMNode:f,onPopupVisibleChange:v}),r)},$B=i.forwardRef(_B);$B.displayName="SelectTrigger";var ek=$B;function tk(e,t){var n,o=e.key;return"value"in e&&(n=e.value),null!==o&&void 0!==o?o:void 0!==n?n:"rc-index-key-".concat(t)}function nk(e,t){var n=e||{},o=n.label||(t?"children":"label");return{label:o,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||o}}function ok(e){var t=gt({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return ga(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var rk=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],ak=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function ik(e){return"tags"===e||"multiple"===e}var lk=i.forwardRef((function(t,n){var o,r,a=t.id,l=t.prefixCls,g=t.className,c=t.showSearch,s=t.tagRender,u=t.direction,d=t.omitDomProps,C=t.displayValues,p=t.onDisplayValuesChange,A=t.emptyOptions,h=t.notFoundContent,b=void 0===h?"Not Found":h,f=t.onClear,v=t.mode,y=t.disabled,Z=t.loading,G=t.getInputElement,S=t.getRawInputElement,B=t.open,k=t.defaultOpen,W=t.onDropdownVisibleChange,w=t.activeValue,R=t.onActiveValueChange,X=t.activeDescendantId,J=t.searchValue,x=t.autoClearSearchValue,H=t.onSearch,Y=t.onSearchSplit,N=t.tokenSeparators,F=t.allowClear,E=t.suffixIcon,K=t.clearIcon,M=t.OptionList,L=t.animation,z=t.transitionName,D=t.dropdownStyle,T=t.dropdownClassName,U=t.dropdownMatchSelectWidth,Q=t.dropdownRender,j=t.dropdownAlign,O=t.placement,P=t.builtinPlacements,q=t.getPopupContainer,_=t.showAction,$=void 0===_?[]:_,ee=t.onFocus,te=t.onBlur,ne=t.onKeyUp,oe=t.onKeyDown,re=t.onMouseDown,ae=ct(t,rk),ie=ik(v),le=(void 0!==c?c:ie)||"combobox"===v,ge=gt({},ae);ak.forEach((function(e){delete ge[e]})),null===d||void 0===d||d.forEach((function(e){delete ge[e]}));var ce=I(i.useState(!1),2),se=ce[0],ue=ce[1];i.useEffect((function(){ue(Am())}),[]);var de=i.useRef(null),Ie=i.useRef(null),Ce=i.useRef(null),me=i.useRef(null),pe=i.useRef(null),Ae=i.useRef(!1),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=I(i.useState(!1),2),n=t[0],o=t[1],r=i.useRef(null),a=function(){window.clearTimeout(r.current)};return i.useEffect((function(){return a}),[]),[n,function(t,n){a(),r.current=window.setTimeout((function(){o(t),n&&n()}),e)},a]}(),be=I(he,3),fe=be[0],ve=be[1],ye=be[2];i.useImperativeHandle(n,(function(){var e,t;return{focus:null===(e=me.current)||void 0===e?void 0:e.focus,blur:null===(t=me.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=pe.current)||void 0===t?void 0:t.scrollTo(e)}}}));var Ze=i.useMemo((function(){var e;if("combobox"!==v)return J;var t=null===(e=C[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[J,v,C]),Ge="combobox"===v&&"function"===typeof G&&G()||null,Se="function"===typeof S&&S(),Be=tc(Ie,null===Se||void 0===Se||null===(o=Se.props)||void 0===o?void 0:o.ref),ke=I(i.useState(!1),2),Ve=ke[0],We=ke[1];Bl((function(){We(!0)}),[]);var we=I(_g(!1,{defaultValue:k,value:B}),2),Re=we[0],Xe=we[1],Je=!!Ve&&Re,xe=!b&&A;(y||xe&&Je&&"combobox"===v)&&(Je=!1);var He=!xe&&Je,Ye=i.useCallback((function(e){var t=void 0!==e?e:!Je;y||(Xe(t),Je!==t&&(null===W||void 0===W||W(t)))}),[y,Je,Xe,W]),Ne=i.useMemo((function(){return(N||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[N]),Fe=function(e,t,n){var o=!0,r=e;null===R||void 0===R||R(null);var a=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,o=function e(t,o){var r=V(o),a=r[0],i=r.slice(1);if(!a)return[t];var l=t.split(a);return n=n||l.length>1,l.reduce((function(t,n){return[].concat(m(t),m(e(n,i)))}),[]).filter((function(e){return e}))}(e,t);return n?o:null}(e,N);return"combobox"!==v&&a&&(r="",null===Y||void 0===Y||Y(a),Ye(!1),o=!1),H&&Ze!==r&&H(r,{source:t?"typing":"effect"}),o};i.useEffect((function(){Je||ie||"combobox"===v||Fe("",!1,!1)}),[Je]),i.useEffect((function(){Re&&y&&Xe(!1),y&&!Ae.current&&ve(!1)}),[y]);var Ee=I(mB(),2),Ke=Ee[0],Me=Ee[1],Le=i.useRef(!1),ze=[];i.useEffect((function(){return function(){ze.forEach((function(e){return clearTimeout(e)})),ze.splice(0,ze.length)}}),[]);var De,Te=I(i.useState({}),2)[1];Se&&(De=function(e){Ye(e)}),function(e,t,n,o){var r=i.useRef(null);r.current={open:t,triggerOpen:n,customizedTrigger:o},i.useEffect((function(){function t(t){var n;if(null===(n=r.current)||void 0===n||!n.customizedTrigger){var o=t.target;o.shadowRoot&&t.composed&&(o=t.composedPath()[0]||o),r.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(o)&&e!==o}))&&r.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[de.current,null===(e=Ce.current)||void 0===e?void 0:e.getPopupElement()]}),He,Ye,!!Se);var Ue,Qe=i.useMemo((function(){return gt(gt({},t),{},{notFoundContent:b,open:Je,triggerOpen:He,id:a,showSearch:le,multiple:ie,toggleOpen:Ye})}),[t,b,He,Je,a,le,ie,Ye]),je=!!E||Z;je&&(Ue=i.createElement(IB,{className:Pr()("".concat(l,"-arrow"),it({},"".concat(l,"-arrow-loading"),Z)),customizeIcon:E,customizeIconProps:{loading:Z,searchValue:Ze,open:Je,focused:fe,showSearch:le}}));var Oe,Pe=function(t,n,o,r,a){var l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],g=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,s=i.useMemo((function(){return"object"===e(r)?r.clearIcon:a||void 0}),[r,a]);return{allowClear:i.useMemo((function(){return!(l||!r||!o.length&&!g||"combobox"===c&&""===g)}),[r,l,o.length,g,c]),clearIcon:i.createElement(IB,{className:"".concat(t,"-clear"),onMouseDown:n,customizeIcon:s},"\xd7")}}(l,(function(){var e;null===f||void 0===f||f(),null===(e=me.current)||void 0===e||e.focus(),p([],{type:"clear",values:C}),Fe("",!1,!1)}),C,F,K,y,Ze,v),qe=Pe.allowClear,_e=Pe.clearIcon,$e=i.createElement(M,{ref:pe}),et=Pr()(l,g,(it(r={},"".concat(l,"-focused"),fe),it(r,"".concat(l,"-multiple"),ie),it(r,"".concat(l,"-single"),!ie),it(r,"".concat(l,"-allow-clear"),F),it(r,"".concat(l,"-show-arrow"),je),it(r,"".concat(l,"-disabled"),y),it(r,"".concat(l,"-loading"),Z),it(r,"".concat(l,"-open"),Je),it(r,"".concat(l,"-customize-input"),Ge),it(r,"".concat(l,"-show-search"),le),r)),tt=i.createElement(ek,{ref:Ce,disabled:y,prefixCls:l,visible:He,popupElement:$e,animation:L,transitionName:z,dropdownStyle:D,dropdownClassName:T,direction:u,dropdownMatchSelectWidth:U,dropdownRender:Q,dropdownAlign:j,placement:O,builtinPlacements:P,getPopupContainer:q,empty:A,getTriggerDOMNode:function(){return Ie.current},onPopupVisibleChange:De,onPopupMouseEnter:function(){Te({})}},Se?i.cloneElement(Se,{ref:Be}):i.createElement(PB,$r({},t,{domRef:Ie,prefixCls:l,inputElement:Ge,ref:me,id:a,showSearch:le,autoClearSearchValue:x,mode:v,activeDescendantId:X,tagRender:s,values:C,open:Je,onToggleOpen:Ye,activeValue:w,searchValue:Ze,onSearch:Fe,onSearchSubmit:function(e){e&&e.trim()&&H(e,{source:"submit"})},onRemove:function(e){var t=C.filter((function(t){return t!==e}));p(t,{type:"remove",values:[e]})},tokenWithEnter:Ne})));return Oe=Se?tt:i.createElement("div",$r({className:et},ge,{ref:de,onMouseDown:function(e){var t,n=e.target,o=null===(t=Ce.current)||void 0===t?void 0:t.getPopupElement();if(o&&o.contains(n)){var r=setTimeout((function(){var e,t=ze.indexOf(r);-1!==t&&ze.splice(t,1),ye(),se||o.contains(document.activeElement)||null===(e=me.current)||void 0===e||e.focus()}));ze.push(r)}for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];null===re||void 0===re||re.apply(void 0,[e].concat(i))},onKeyDown:function(e){var t,n=Ke(),o=e.which;if(o===dB.ENTER&&("combobox"!==v&&e.preventDefault(),Je||Ye(!0)),Me(!!Ze),o===dB.BACKSPACE&&!n&&ie&&!Ze&&C.length){for(var r=m(C),a=null,i=r.length-1;i>=0;i-=1){var l=r[i];if(!l.disabled){r.splice(i,1),a=l;break}}a&&p(r,{type:"remove",values:[a]})}for(var g=arguments.length,c=new Array(g>1?g-1:0),s=1;s<g;s++)c[s-1]=arguments[s];Je&&pe.current&&(t=pe.current).onKeyDown.apply(t,[e].concat(c)),null===oe||void 0===oe||oe.apply(void 0,[e].concat(c))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r;Je&&pe.current&&(r=pe.current).onKeyUp.apply(r,[e].concat(n)),null===ne||void 0===ne||ne.apply(void 0,[e].concat(n))},onFocus:function(){ve(!0),y||(ee&&!Le.current&&ee.apply(void 0,arguments),$.includes("focus")&&Ye(!0)),Le.current=!0},onBlur:function(){Ae.current=!0,ve(!1,(function(){Le.current=!1,Ae.current=!1,Ye(!1)})),y||(Ze&&("tags"===v?H(Ze,{source:"submit"}):"multiple"===v&&H("",{source:"blur"})),te&&te.apply(void 0,arguments))}}),fe&&!Je&&i.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(C.map((function(t){var n=t.label,o=t.value;return["number","string"].includes(e(n))?n:o})).join(", "))),tt,Ue,qe&&_e),i.createElement(CB.Provider,{value:Qe},Oe)}));var gk=lk;function ck(e,t){return KB(e).join("").toUpperCase().includes(t)}var sk=0,uk=el();function dk(e){var t=I(i.useState(),2),n=t[0],o=t[1];return i.useEffect((function(){o("rc_select_".concat(function(){var e;return uk?(e=sk,sk+=1):e="TEST_OR_SSR",e}()))}),[]),e||n}var Ik=["children","value"],Ck=["children"];function mk(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ta(e).map((function(e,n){if(!i.isValidElement(e)||!e.type)return null;var o=e,r=o.type.isSelectOptGroup,a=o.key,l=o.props,g=l.children,c=ct(l,Ck);return t||!r?function(e){var t=e,n=t.key,o=t.props,r=o.children,a=o.value;return gt({key:n,value:void 0!==a?a:n,children:r},ct(o,Ik))}(e):gt(gt({key:"__RC_SELECT_GRP__".concat(null===a?n:a,"__"),label:a},c),{},{options:mk(g)})})).filter((function(e){return e}))}function pk(e){var t=i.useRef();t.current=e;var n=i.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var Ak=function(){return null};Ak.isSelectOptGroup=!0;var hk=Ak,bk=function(){return null};bk.isSelectOption=!0;var fk=bk,vk=i.createContext(null);var yk=["disabled","title","children","style","className"];function Zk(e){return"string"===typeof e||"number"===typeof e}var Gk=function(e,t){var n=i.useContext(CB),o=n.prefixCls,r=n.id,a=n.open,l=n.multiple,g=n.mode,c=n.searchValue,s=n.toggleOpen,u=n.notFoundContent,d=n.onPopupScroll,C=i.useContext(vk),p=C.flattenOptions,A=C.onActiveValue,h=C.defaultActiveFirstOption,b=C.onSelect,f=C.menuItemSelectedIcon,v=C.rawValues,y=C.fieldNames,Z=C.virtual,G=C.direction,S=C.listHeight,B=C.listItemHeight,k="".concat(o,"-item"),V=Ti((function(){return p}),[a,p],(function(e,t){return t[0]&&e[1]!==t[1]})),W=i.useRef(null),w=function(e){e.preventDefault()},R=function(e){W.current&&W.current.scrollTo("number"===typeof e?{index:e}:e)},X=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=V.length,o=0;o<n;o+=1){var r=(e+o*t+n)%n,a=V[r],i=a.group,l=a.data;if(!i&&!l.disabled)return r}return-1},J=I(i.useState((function(){return X(0)})),2),x=J[0],H=J[1],Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];H(e);var n={source:t?"keyboard":"mouse"},o=V[e];o?A(o.value,e,n):A(null,-1,n)};(0,i.useEffect)((function(){Y(!1!==h?X(0):-1)}),[V.length,c]);var N=i.useCallback((function(e){return v.has(e)&&"combobox"!==g}),[g,m(v).toString(),v.size]);(0,i.useEffect)((function(){var e,t=setTimeout((function(){if(!l&&a&&1===v.size){var e=Array.from(v)[0],t=V.findIndex((function(t){return t.data.value===e}));-1!==t&&(Y(t),R(t))}}));a&&(null===(e=W.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[a,c,p.length]);var F=function(e){void 0!==e&&b(e,{selected:!v.has(e)}),l||s(!1)};if(i.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case dB.N:case dB.P:case dB.UP:case dB.DOWN:var o=0;if(t===dB.UP?o=-1:t===dB.DOWN?o=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===dB.N?o=1:t===dB.P&&(o=-1)),0!==o){var r=X(x+o,o);R(r),Y(r,!0)}break;case dB.ENTER:var i=V[x];i&&!i.data.disabled?F(i.value):F(void 0),a&&e.preventDefault();break;case dB.ESC:s(!1),a&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){R(e)}}})),0===V.length)return i.createElement("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(k,"-empty"),onMouseDown:w},u);var E=Object.keys(y).map((function(e){return y[e]})),K=function(e){return e.label};function M(e,t){return{role:e.group?"presentation":"option",id:"".concat(r,"_list_").concat(t)}}var L=function(e){var t=V[e];if(!t)return null;var n=t.data||{},o=n.value,r=t.group,a=OZ(n,!0),l=K(t);return t?i.createElement("div",$r({"aria-label":"string"!==typeof l||r?null:l},a,{key:e},M(t,e),{"aria-selected":N(o)}),o):null},z={role:"listbox",id:"".concat(r,"_list")};return i.createElement(i.Fragment,null,Z&&i.createElement("div",$r({},z,{style:{height:0,width:0,overflow:"hidden"}}),L(x-1),L(x),L(x+1)),i.createElement(sS,{itemKey:"key",ref:W,data:V,height:S,itemHeight:B,fullHeight:!1,onMouseDown:w,onScroll:d,virtual:Z,direction:G,innerProps:Z?null:z},(function(e,t){var n,o=e.group,r=e.groupOption,a=e.data,l=e.label,g=e.value,c=a.key;if(o){var s,u=null!==(s=a.title)&&void 0!==s?s:Zk(l)?l.toString():void 0;return i.createElement("div",{className:Pr()(k,"".concat(k,"-group")),title:u},void 0!==l?l:c)}var d=a.disabled,I=a.title,C=(a.children,a.style),m=a.className,p=Os(ct(a,yk),E),A=N(g),h="".concat(k,"-option"),b=Pr()(k,h,m,(it(n={},"".concat(h,"-grouped"),r),it(n,"".concat(h,"-active"),x===t&&!d),it(n,"".concat(h,"-disabled"),d),it(n,"".concat(h,"-selected"),A),n)),v=K(e),y=!f||"function"===typeof f||A,G="number"===typeof v?v:v||g,S=Zk(G)?G.toString():void 0;return void 0!==I&&(S=I),i.createElement("div",$r({},OZ(p),Z?{}:M(e,t),{"aria-selected":A,className:b,title:S,onMouseMove:function(){x===t||d||Y(t)},onClick:function(){d||F(g)},style:C}),i.createElement("div",{className:"".concat(h,"-content")},G),i.isValidElement(f)||A,y&&i.createElement(IB,{className:"".concat(k,"-option-state"),customizeIcon:f,customizeIconProps:{value:g,disabled:d,isSelected:A}},A?"\u2713":null))})))},Sk=i.forwardRef(Gk);Sk.displayName="OptionList";var Bk=Sk;var kk=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],Vk=["inputValue"];var Wk=i.forwardRef((function(t,n){var o=t.id,r=t.mode,a=t.prefixCls,l=void 0===a?"rc-select":a,g=t.backfill,c=t.fieldNames,s=t.inputValue,u=t.searchValue,d=t.onSearch,C=t.autoClearSearchValue,p=void 0===C||C,A=t.onSelect,h=t.onDeselect,b=t.dropdownMatchSelectWidth,f=void 0===b||b,v=t.filterOption,y=t.filterSort,Z=t.optionFilterProp,G=t.optionLabelProp,S=t.options,B=t.children,k=t.defaultActiveFirstOption,V=t.menuItemSelectedIcon,W=t.virtual,w=t.direction,R=t.listHeight,X=void 0===R?200:R,J=t.listItemHeight,x=void 0===J?20:J,H=t.value,Y=t.defaultValue,N=t.labelInValue,F=t.onChange,E=ct(t,kk),K=dk(o),M=ik(r),L=!(S||!B),z=i.useMemo((function(){return(void 0!==v||"combobox"!==r)&&v}),[v,r]),D=i.useMemo((function(){return nk(c,L)}),[JSON.stringify(c),L]),T=I(_g("",{value:void 0!==u?u:s,postState:function(e){return e||""}}),2),U=T[0],Q=T[1],j=function(e,t,n,o,r){return i.useMemo((function(){var a=e;!e&&(a=mk(t));var i=new Map,l=new Map,g=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var s=t[c];!s[n.options]||a?(i.set(s[n.value],s),g(l,s,n.label),g(l,s,o),g(l,s,r)):e(s[n.options],!0)}}(a),{options:a,valueOptions:i,labelOptions:l}}),[e,t,n,o,r])}(S,B,D,Z,G),O=j.valueOptions,P=j.labelOptions,q=j.options,_=i.useCallback((function(t){return KB(t).map((function(t){var n,o,r,a,i,l;(function(t){return!t||"object"!==e(t)})(t)?n=t:(r=t.key,o=t.label,n=null!==(l=t.value)&&void 0!==l?l:r);var g,c=O.get(n);c&&(void 0===o&&(o=null===c||void 0===c?void 0:c[G||D.label]),void 0===r&&(r=null!==(g=null===c||void 0===c?void 0:c.key)&&void 0!==g?g:n),a=null===c||void 0===c?void 0:c.disabled,i=null===c||void 0===c?void 0:c.title);return{label:o,value:n,key:r,disabled:a,title:i}}))}),[D,G,O]),$=I(_g(Y,{value:H}),2),ee=$[0],te=$[1],ne=i.useMemo((function(){var e,t=_(ee);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t}),[ee,_,r]),oe=function(e,t){var n=i.useRef({values:new Map,options:new Map});return[i.useMemo((function(){var o=n.current,r=o.values,a=o.options,i=e.map((function(e){var t;return void 0===e.label?gt(gt({},e),{},{label:null===(t=r.get(e.value))||void 0===t?void 0:t.label}):e})),l=new Map,g=new Map;return i.forEach((function(e){l.set(e.value,e),g.set(e.value,t.get(e.value)||a.get(e.value))})),n.current.values=l,n.current.options=g,i}),[e,t]),i.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(ne,O),re=I(oe,2),ae=re[0],ie=re[1],le=i.useMemo((function(){if(!r&&1===ae.length){var e=ae[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ae.map((function(e){var t;return gt(gt({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[r,ae]),ge=i.useMemo((function(){return new Set(ae.map((function(e){return e.value})))}),[ae]);i.useEffect((function(){if("combobox"===r){var e,t=null===(e=ae[0])||void 0===e?void 0:e.value;Q(function(e){return void 0!==e&&null!==e}(t)?String(t):"")}}),[ae]);var ce=pk((function(e,t){var n,o=null!==t&&void 0!==t?t:e;return it(n={},D.value,e),it(n,D.label,o),n})),se=i.useMemo((function(){if("tags"!==r)return q;var e=m(q);return m(ae).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return O.has(e)})(n)||e.push(ce(n,t.label))})),e}),[ce,q,O,ae,r]),ue=function(e,t,n,o,r){return i.useMemo((function(){if(!n||!1===o)return e;var a=t.options,i=t.label,l=t.value,g=[],c="function"===typeof o,s=n.toUpperCase(),u=c?o:function(e,t){return r?ck(t[r],s):t[a]?ck(t["children"!==i?i:"label"],s):ck(t[l],s)},d=c?function(e){return ok(e)}:function(e){return e};return e.forEach((function(e){if(e[a])if(u(n,d(e)))g.push(e);else{var t=e[a].filter((function(e){return u(n,d(e))}));t.length&&g.push(gt(gt({},e),{},it({},a,t)))}else u(n,d(e))&&g.push(e)})),g}),[e,o,r,n,t])}(se,D,U,z,Z),de=i.useMemo((function(){return"tags"!==r||!U||ue.some((function(e){return e[Z||"value"]===U}))||ue.some((function(e){return e[D.value]===U}))?ue:[ce(U)].concat(m(ue))}),[ce,Z,r,ue,U,D]),Ie=i.useMemo((function(){return y?m(de).sort((function(e,t){return y(e,t)})):de}),[de,y]),Ce=i.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,o=t.childrenAsData,r=[],a=nk(n,!1),i=a.label,l=a.value,g=a.options,c=a.groupLabel;return function e(t,n){t.forEach((function(t){if(n||!(g in t)){var a=t[l];r.push({key:tk(t,r.length),groupOption:n,data:t,label:t[i],value:a})}else{var s=t[c];void 0===s&&o&&(s=t.label),r.push({key:tk(t,r.length),group:!0,data:t,label:s}),e(t[g],!0)}}))}(e,!1),r}(Ie,{fieldNames:D,childrenAsData:L})}),[Ie,D,L]),me=function(e){var t=_(e);if(te(t),F&&(t.length!==ae.length||t.some((function(e,t){var n;return(null===(n=ae[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=N?t:t.map((function(e){return e.value})),o=t.map((function(e){return ok(ie(e.value))}));F(M?n:n[0],M?o:o[0])}},pe=I(i.useState(null),2),Ae=pe[0],he=pe[1],be=I(i.useState(0),2),fe=be[0],ve=be[1],ye=void 0!==k?k:"combobox"!==r,Ze=i.useCallback((function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,o=void 0===n?"keyboard":n;ve(t),g&&"combobox"===r&&null!==e&&"keyboard"===o&&he(String(e))}),[g,r]),Ge=function(e,t,n){var o=function(){var t,n=ie(e);return[N?{label:null===n||void 0===n?void 0:n[D.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,ok(n)]};if(t&&A){var r=I(o(),2),a=r[0],i=r[1];A(a,i)}else if(!t&&h&&"clear"!==n){var l=I(o(),2),g=l[0],c=l[1];h(g,c)}},Se=pk((function(e,t){var n,o=!M||t.selected;n=o?M?[].concat(m(ae),[e]):[e]:ae.filter((function(t){return t.value!==e})),me(n),Ge(e,o),"combobox"===r?he(""):ik&&!p||(Q(""),he(""))})),Be=i.useMemo((function(){var e=!1!==W&&!1!==f;return gt(gt({},j),{},{flattenOptions:Ce,onActiveValue:Ze,defaultActiveFirstOption:ye,onSelect:Se,menuItemSelectedIcon:V,rawValues:ge,fieldNames:D,virtual:e,direction:w,listHeight:X,listItemHeight:x,childrenAsData:L})}),[j,Ce,Ze,ye,Se,V,ge,D,W,f,X,x,L]);return i.createElement(vk.Provider,{value:Be},i.createElement(gk,$r({},E,{id:K,prefixCls:l,ref:n,omitDomProps:Vk,mode:r,displayValues:le,onDisplayValuesChange:function(e,t){me(e);var n=t.type,o=t.values;"remove"!==n&&"clear"!==n||o.forEach((function(e){Ge(e.value,!1,n)}))},direction:w,searchValue:U,onSearch:function(e,t){if(Q(e),he(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&me(e),null===d||void 0===d||d(e));else{var n=(e||"").trim();if(n){var o=Array.from(new Set([].concat(m(ge),[n])));me(o),Ge(n,!0),Q("")}}},autoClearSearchValue:p,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=P.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat(m(ge),m(t))));me(n),n.forEach((function(e){Ge(e,!0)}))},dropdownMatchSelectWidth:f,OptionList:Bk,emptyOptions:!Ce.length,activeValue:Ae,activeDescendantId:"".concat(K,"_list_").concat(fe)})))}));var wk=Wk;wk.Option=fk,wk.OptGroup=hk;var Rk=wk,Xk=(0,i.createContext)(void 0),Jk=(Object.assign({},XS.Modal),[]),xk=function(){return Jk.reduce((function(e,t){return Object.assign(Object.assign({},e),t)}),XS.Modal)};var Hk=function(e){var t=e.locale,n=void 0===t?{}:t,o=e.children;e._ANT_MARK__;i.useEffect((function(){var e=function(e){if(e){var t=Object.assign({},e);return Jk.push(t),xk(),function(){Jk=Jk.filter((function(e){return e!==t})),xk()}}Object.assign({},XS.Modal)}(n&&n.Modal);return e}),[n]);var r=i.useMemo((function(){return Object.assign(Object.assign({},n),{exist:!0})}),[n]);return i.createElement(BS.Provider,{value:r},o)},Yk="-ant-".concat(Date.now(),"-").concat(Math.random());function Nk(e,t){var n=function(e,t){var n={},o=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},r=function(e,t){var r=new Dc(e),a=Yc(r.toRgbString());n["".concat(t,"-color")]=o(r),n["".concat(t,"-color-disabled")]=a[1],n["".concat(t,"-color-hover")]=a[4],n["".concat(t,"-color-active")]=a[6],n["".concat(t,"-color-outline")]=r.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=a[0],n["".concat(t,"-color-deprecated-border")]=a[2]};if(t.primaryColor){r(t.primaryColor,"primary");var a=new Dc(t.primaryColor),i=Yc(a.toRgbString());i.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=o(a,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=o(a,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=o(a,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=o(a,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=o(a,(function(e){return e.setAlpha(.12*e.getAlpha())}));var l=new Dc(i[0]);n["primary-color-active-deprecated-f-30"]=o(l,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=o(l,(function(e){return e.darken(2)}))}t.successColor&&r(t.successColor,"success"),t.warningColor&&r(t.warningColor,"warning"),t.errorColor&&r(t.errorColor,"error"),t.infoColor&&r(t.infoColor,"info");var g=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(g.join("\n"),"\n  }\n  ").trim()}(e,t);el()&&ul(n,"".concat(Yk,"-dynamic-theme"))}var Fk=function(){return{componentDisabled:(0,i.useContext)(ou),componentSize:(0,i.useContext)(iu)}};function Ek(e){var t=e.children,n=I(is(),2)[1].motion,o=i.useRef(!1);return o.current=o.current||!1===n,o.current?i.createElement($u,{motion:n},t):t}var Kk,Mk=function(){return null},Lk=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},zk=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"];function Dk(){return Kk||"ant"}var Tk=function(e){var t=e.children,n=e.csp,o=e.autoInsertSpaceInButton,r=e.alert,a=e.anchor,l=e.form,g=e.locale,c=e.componentSize,s=e.direction,u=e.space,d=e.virtual,C=e.dropdownMatchSelectWidth,m=e.popupMatchSelectWidth,p=e.popupOverflow,A=e.legacyLocale,h=e.parentContext,b=e.iconPrefixCls,f=e.theme,v=e.componentDisabled,y=e.segmented,Z=e.statistic,G=e.spin,S=e.calendar,B=e.carousel,k=e.cascader,V=e.collapse,W=e.typography,w=e.checkbox,R=e.descriptions,X=e.divider,J=e.drawer,x=e.skeleton,H=e.steps,Y=e.image,N=e.layout,F=e.list,E=e.mentions,K=e.modal,M=e.progress,L=e.result,z=e.slider,D=e.breadcrumb,T=e.menu,U=e.pagination,Q=e.input,j=e.empty,O=e.badge,P=e.radio,q=e.rate,_=e.switch,$=e.transfer,ee=e.avatar,te=e.message,ne=e.tag,oe=e.table,re=e.card,ae=e.tabs,ie=e.timeline,le=e.timePicker,ge=e.upload,ce=e.notification,se=e.tree,ue=e.colorPicker,de=e.datePicker,Ie=e.wave,Ce=i.useCallback((function(t,n){var o=e.prefixCls;if(n)return n;var r=o||h.getPrefixCls("");return t?"".concat(r,"-").concat(t):r}),[h.getPrefixCls,e.prefixCls]),me=b||h.iconPrefixCls||qr,pe=n||h.csp;ls(me,pe);var Ae=function(e,t){var n=e||{},o=!1!==n.inherit&&t?t:_c;return Ti((function(){if(!e)return t;var r=Object.assign({},o.components);return Object.keys(e.components||{}).forEach((function(t){r[t]=Object.assign(Object.assign({},r[t]),e.components[t])})),Object.assign(Object.assign(Object.assign({},o),n),{token:Object.assign(Object.assign({},o.token),n.token),components:r})}),[n,o],(function(e,t){return e.some((function(e,n){var o=t[n];return!ca(e,o,!0)}))}))}(f,h.theme);var he={csp:pe,autoInsertSpaceInButton:o,alert:r,anchor:a,locale:g||A,direction:s,space:u,virtual:d,popupMatchSelectWidth:null!==m&&void 0!==m?m:C,popupOverflow:p,getPrefixCls:Ce,iconPrefixCls:me,theme:Ae,segmented:y,statistic:Z,spin:G,calendar:S,carousel:B,cascader:k,collapse:V,typography:W,checkbox:w,descriptions:R,divider:X,drawer:J,skeleton:x,steps:H,image:Y,input:Q,layout:N,list:F,mentions:E,modal:K,progress:M,result:L,slider:z,breadcrumb:D,menu:T,pagination:U,empty:j,badge:O,radio:P,rate:q,switch:_,transfer:$,avatar:ee,message:te,tag:ne,table:oe,card:re,tabs:ae,timeline:ie,timePicker:le,upload:ge,notification:ce,tree:se,colorPicker:ue,datePicker:de,wave:Ie},be=Object.assign({},h);Object.keys(he).forEach((function(e){void 0!==he[e]&&(be[e]=he[e])})),zk.forEach((function(t){var n=e[t];n&&(be[t]=n)}));var fe=Ti((function(){return be}),be,(function(e,t){var n=Object.keys(e),o=Object.keys(t);return n.length!==o.length||n.some((function(n){return e[n]!==t[n]}))})),ve=i.useMemo((function(){return{prefixCls:me,csp:pe}}),[me,pe]),ye=i.createElement(i.Fragment,null,i.createElement(Mk,{dropdownMatchSelectWidth:C}),t),Ze=i.useMemo((function(){var e,t,n,o;return ja((null===(e=XS.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(n=null===(t=fe.locale)||void 0===t?void 0:t.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(o=fe.form)||void 0===o?void 0:o.validateMessages)||{},(null===l||void 0===l?void 0:l.validateMessages)||{})}),[fe,null===l||void 0===l?void 0:l.validateMessages]);Object.keys(Ze).length>0&&(ye=i.createElement(Xk.Provider,{value:Ze},ye)),g&&(ye=i.createElement(Hk,{locale:g,_ANT_MARK__:"internalMark"},ye)),(me||pe)&&(ye=i.createElement(Bs.Provider,{value:ve},ye)),c&&(ye=i.createElement(au,{size:c},ye)),ye=i.createElement(Ek,null,ye);var Ge=i.useMemo((function(){var e=Ae||{},t=e.algorithm,n=e.token,o=e.components,r=Lk(e,["algorithm","token","components"]),a=t&&(!Array.isArray(t)||t.length>0)?pl(t):qc,i={};return Object.entries(o||{}).forEach((function(e){var t=I(e,2),n=t[0],o=t[1],r=Object.assign({},o);"algorithm"in r&&(!0===r.algorithm?r.theme=a:(Array.isArray(r.algorithm)||"function"===typeof r.algorithm)&&(r.theme=pl(r.algorithm)),delete r.algorithm),i[n]=r})),Object.assign(Object.assign({},r),{theme:a,token:Object.assign(Object.assign({},zc),n),components:i})}),[Ae]);return f&&(ye=i.createElement($c.Provider,{value:Ge},ye)),void 0!==v&&(ye=i.createElement(nu,{disabled:v},ye)),i.createElement(_r.Provider,{value:fe},ye)},Uk=function(e){var t=i.useContext(_r),n=i.useContext(BS);return i.createElement(Tk,Object.assign({parentContext:t,legacyLocale:n},e))};Uk.ConfigContext=_r,Uk.SizeContext=iu,Uk.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,o=e.theme;void 0!==t&&(Kk=t),void 0!==n&&n,o&&(!function(e){return Object.keys(e).some((function(e){return e.endsWith("Color")}))}(o)?o:Nk(Dk(),o))},Uk.useConfig=Fk,Object.defineProperty(Uk,"SizeContext",{get:function(){return iu}});var Qk=Uk;function jk(e,t,n,o){return function(e){return function(t){return i.createElement(Qk,{theme:{token:{motion:!1,zIndexPopupBase:0}}},i.createElement(e,Object.assign({},t)))}}((function(r){var a=r.prefixCls,l=r.style,g=i.useRef(null),c=I(i.useState(0),2),s=c[0],u=c[1],d=I(i.useState(0),2),C=d[0],m=d[1],p=I(_g(!1,{value:r.open}),2),A=p[0],h=p[1],b=(0,i.useContext(_r).getPrefixCls)(t||"select",a);i.useEffect((function(){if(h(!0),"undefined"!==typeof ResizeObserver){var e=new ResizeObserver((function(e){var t=e[0].target;u(t.offsetHeight+8),m(t.offsetWidth)})),t=setInterval((function(){var o,r=n?".".concat(n(b)):".".concat(b,"-dropdown"),a=null===(o=g.current)||void 0===o?void 0:o.querySelector(r);a&&(clearInterval(t),e.observe(a))}),10);return function(){clearInterval(t),e.disconnect()}}}),[]);var f=Object.assign(Object.assign({},r),{style:Object.assign(Object.assign({},l),{margin:0}),open:A,visible:A,getPopupContainer:function(){return g.current}});return o&&(f=o(f)),i.createElement("div",{ref:g,style:{paddingBottom:s,position:"relative",minWidth:C}},i.createElement(e,Object.assign({},f)))}))}var Ok=new Qg("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),Pk=new Qg("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),qk=new Qg("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),_k=new Qg("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),$k=new Qg("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),eV=new Qg("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),tV=new Qg("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),nV=new Qg("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),oV={"slide-up":{inKeyframes:Ok,outKeyframes:Pk},"slide-down":{inKeyframes:qk,outKeyframes:_k},"slide-left":{inKeyframes:$k,outKeyframes:eV},"slide-right":{inKeyframes:tV,outKeyframes:nV}},rV=function(e,t){var n,o=e.antCls,r="".concat(o,"-").concat(t),a=oV[t],i=a.inKeyframes,l=a.outKeyframes;return[Ip(r,i,l,e.motionDurationMid),(n={},it(n,"\n      ".concat(r,"-enter,\n      ").concat(r,"-appear\n    "),it({transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint},"&-prepare",{transform:"scale(1)"})),it(n,"".concat(r,"-leave"),{animationTimingFunction:e.motionEaseInQuint}),n)]},aV=new Qg("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),iV=new Qg("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),lV=new Qg("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),gV=new Qg("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),cV=new Qg("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),sV=new Qg("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),uV={"move-up":{inKeyframes:new Qg("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new Qg("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:aV,outKeyframes:iV},"move-left":{inKeyframes:lV,outKeyframes:gV},"move-right":{inKeyframes:cV,outKeyframes:sV}},dV=function(e,t){var n,o=e.antCls,r="".concat(o,"-").concat(t),a=uV[t],i=a.inKeyframes,l=a.outKeyframes;return[Ip(r,i,l,e.motionDurationMid),(n={},it(n,"\n        ".concat(r,"-enter,\n        ").concat(r,"-appear\n      "),{opacity:0,animationTimingFunction:e.motionEaseOutCirc}),it(n,"".concat(r,"-leave"),{animationTimingFunction:e.motionEaseInOutCirc}),n)]},IV=function(e){var t=e.optionHeight,n=e.optionFontSize,o=e.optionLineHeight;return{position:"relative",display:"block",minHeight:t,padding:e.optionPadding,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:o,boxSizing:"border-box"}},CV=function(e){var t,n,o,r=e.antCls,a=e.componentCls,i="".concat(a,"-item"),l="&".concat(r,"-slide-up-enter").concat(r,"-slide-up-enter-active"),g="&".concat(r,"-slide-up-appear").concat(r,"-slide-up-appear-active"),c="&".concat(r,"-slide-up-leave").concat(r,"-slide-up-leave-active"),s="".concat(a,"-dropdown-placement-");return[it({},"".concat(a,"-dropdown"),Object.assign(Object.assign({},Ji(e)),(o={position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},it(o,"\n          ".concat(l).concat(s,"bottomLeft,\n          ").concat(g).concat(s,"bottomLeft\n        "),{animationName:Ok}),it(o,"\n          ".concat(l).concat(s,"topLeft,\n          ").concat(g).concat(s,"topLeft,\n          ").concat(l).concat(s,"topRight,\n          ").concat(g).concat(s,"topRight\n        "),{animationName:qk}),it(o,"".concat(c).concat(s,"bottomLeft"),{animationName:Pk}),it(o,"\n          ".concat(c).concat(s,"topLeft,\n          ").concat(c).concat(s,"topRight\n        "),{animationName:_k}),it(o,"&-hidden",{display:"none"}),it(o,"".concat(i),Object.assign(Object.assign({},IV(e)),{cursor:"pointer",transition:"background ".concat(e.motionDurationSlow," ease"),borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":(n={display:"flex","&-content":Object.assign({flex:"auto"},Xi),"&-state":{flex:"none",display:"flex",alignItems:"center"}},it(n,"&-active:not(".concat(i,"-option-disabled)"),{backgroundColor:e.optionActiveBg}),it(n,"&-selected:not(".concat(i,"-option-disabled)"),it({color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg},"".concat(i,"-option-state"),{color:e.colorPrimary})),it(n,"&-disabled",(t={},it(t,"&".concat(i,"-option-selected"),{backgroundColor:e.colorBgContainerDisabled}),it(t,"color",e.colorTextDisabled),it(t,"cursor","not-allowed"),t)),it(n,"&-grouped",{paddingInlineStart:2*e.controlPaddingHorizontal}),n)})),it(o,"&-rtl",{direction:"rtl"}),o))),rV(e,"slide-up"),rV(e,"slide-down"),dV(e,"move-up"),dV(e,"move-down")]},mV=function(e){var t=e.multipleSelectItemHeight,n=(e.selectHeight-t)/2-e.lineWidth;return[n,Math.ceil(n/2)]};function pV(e,t){var n,o,r,a,i,l=e.componentCls,g=e.iconCls,c="".concat(l,"-selection-overflow"),s=e.multipleSelectItemHeight,u=I(mV(e),1)[0],d=t?"".concat(l,"-").concat(t):"";return it({},"".concat(l,"-multiple").concat(d),(it(i={fontSize:e.fontSize},c,{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}}),it(i,"".concat(l,"-selector"),(it(n={display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",padding:"".concat(u-2,"px ").concat(4,"px"),borderRadius:e.borderRadius},"".concat(l,"-show-search&"),{cursor:"text"}),it(n,"".concat(l,"-disabled&"),{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"}),it(n,"&:after",{display:"inline-block",width:0,margin:"".concat(2,"px 0"),lineHeight:"".concat(s,"px"),visibility:"hidden",content:'"\\a0"'}),n)),it(i,"\n        &".concat(l,"-show-arrow ").concat(l,"-selector,\n        &").concat(l,"-allow-clear ").concat(l,"-selector\n      "),{paddingInlineEnd:e.fontSizeIcon+e.controlPaddingHorizontal}),it(i,"".concat(l,"-selection-item"),(it(r={display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:s,marginTop:2,marginBottom:2,lineHeight:"".concat(s-2*e.lineWidth,"px"),background:e.multipleItemBg,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.multipleItemBorderColor),borderRadius:e.borderRadiusSM,cursor:"default",transition:"font-size ".concat(e.motionDurationSlow,", line-height ").concat(e.motionDurationSlow,", height ").concat(e.motionDurationSlow),marginInlineEnd:4,paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS/2},"".concat(l,"-disabled&"),{color:e.multipleItemColorDisabled,borderColor:e.multipleItemBorderColorDisabled,cursor:"not-allowed"}),it(r,"&-content",{display:"inline-block",marginInlineEnd:e.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"}),it(r,"&-remove",Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),(it(o={display:"inline-flex",alignItems:"center",color:e.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer"},"> ".concat(g),{verticalAlign:"-0.2em"}),it(o,"&:hover",{color:e.colorIconHover}),o))),r)),it(i,"".concat(c,"-item + ").concat(c,"-item"),it({},"".concat(l,"-selection-search"),{marginInlineStart:0})),it(i,"".concat(c,"-item-suffix"),{height:"100%"}),it(i,"".concat(l,"-selection-search"),(it(a={display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.inputPaddingHorizontalBase-u},"\n          &-input,\n          &-mirror\n        ",{height:s,fontFamily:e.fontFamily,lineHeight:"".concat(s,"px"),transition:"all ".concat(e.motionDurationSlow)}),it(a,"&-input",{width:"100%",minWidth:4.1}),it(a,"&-mirror",{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}),a)),it(i,"".concat(l,"-selection-placeholder"),{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:"all ".concat(e.motionDurationSlow)}),i))}var AV=function(e){var t,n=e.componentCls,o=Mi(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.controlHeightXS,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),r=Mi(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius}),a=I(mV(e),2)[1];return[pV(e),pV(o,"sm"),it({},"".concat(n,"-multiple").concat(n,"-sm"),(t={},it(t,"".concat(n,"-selection-placeholder"),{insetInline:e.controlPaddingHorizontalSM-e.lineWidth}),it(t,"".concat(n,"-selection-search"),{marginInlineStart:a}),t)),pV(r,"lg")]};function hV(e,t){var n,o,r,a,i=e.componentCls,l=e.inputPaddingHorizontalBase,g=e.borderRadius,c=e.controlHeight-2*e.lineWidth,s=Math.ceil(1.25*e.fontSize),u=t?"".concat(i,"-").concat(t):"";return it({},"".concat(i,"-single").concat(u),(it(a={fontSize:e.fontSize,height:e.controlHeight},"".concat(i,"-selector"),Object.assign(Object.assign({},Ji(e)),(it(n={display:"flex",borderRadius:g},"".concat(i,"-selection-search"),{position:"absolute",top:0,insetInlineStart:l,insetInlineEnd:l,bottom:0,"&-input":{width:"100%"}}),it(n,"\n          ".concat(i,"-selection-item,\n          ").concat(i,"-selection-placeholder\n        "),{padding:0,lineHeight:"".concat(c,"px"),transition:"all ".concat(e.motionDurationSlow,", visibility 0s"),alignSelf:"center"}),it(n,"".concat(i,"-selection-placeholder"),{transition:"none",pointerEvents:"none"}),it(n,["&:after","".concat(i,"-selection-item:empty:after"),"".concat(i,"-selection-placeholder:empty:after")].join(","),{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}),n))),it(a,"\n        &".concat(i,"-show-arrow ").concat(i,"-selection-item,\n        &").concat(i,"-show-arrow ").concat(i,"-selection-placeholder\n      "),{paddingInlineEnd:s}),it(a,"&".concat(i,"-open ").concat(i,"-selection-item"),{color:e.colorTextPlaceholder}),it(a,"&:not(".concat(i,"-customize-input)"),it({},"".concat(i,"-selector"),(it(o={width:"100%",height:"100%",padding:"0 ".concat(l,"px")},"".concat(i,"-selection-search-input"),{height:c}),it(o,"&:after",{lineHeight:"".concat(c,"px")}),o))),it(a,"&".concat(i,"-customize-input"),it({},"".concat(i,"-selector"),(it(r={"&:after":{display:"none"}},"".concat(i,"-selection-search"),{position:"static",width:"100%"}),it(r,"".concat(i,"-selection-placeholder"),{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:"0 ".concat(l,"px"),"&:after":{display:"none"}}),r))),a))}function bV(e){var t,n=e.componentCls,o=e.controlPaddingHorizontalSM-e.lineWidth;return[hV(e),hV(Mi(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),it({},"".concat(n,"-single").concat(n,"-sm"),it({},"&:not(".concat(n,"-customize-input)"),(t={},it(t,"".concat(n,"-selection-search"),{insetInlineStart:o,insetInlineEnd:o}),it(t,"".concat(n,"-selector"),{padding:"0 ".concat(o,"px")}),it(t,"&".concat(n,"-show-arrow ").concat(n,"-selection-search"),{insetInlineEnd:o+1.5*e.fontSize}),it(t,"\n            &".concat(n,"-show-arrow ").concat(n,"-selection-item,\n            &").concat(n,"-show-arrow ").concat(n,"-selection-placeholder\n          "),{paddingInlineEnd:1.5*e.fontSize}),t))),hV(Mi(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}var fV=function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.componentCls,a=t.borderHoverColor,i=t.outlineColor,l=t.antCls,g=o?it({},"".concat(r,"-selector"),{borderColor:a}):{};return it({},e,it({},"&:not(".concat(r,"-disabled):not(").concat(r,"-customize-input):not(").concat(l,"-pagination-size-changer)"),Object.assign(Object.assign({},g),(it(n={},"".concat(r,"-focused& ").concat(r,"-selector"),{borderColor:a,boxShadow:"0 0 0 ".concat(t.controlOutlineWidth,"px ").concat(i),outline:0}),it(n,"&:hover ".concat(r,"-selector"),{borderColor:a}),n))))},vV=function(e){var t,n,o,r=e.antCls,a=e.componentCls,i=e.inputPaddingHorizontalBase,l=e.iconCls;return it(o={},a,Object.assign(Object.assign({},Ji(e)),(it(n={position:"relative",display:"inline-block",cursor:"pointer"},"&:not(".concat(a,"-customize-input) ").concat(a,"-selector"),Object.assign(Object.assign({},function(e){var t,n,o=e.componentCls;return it(n={position:"relative",backgroundColor:e.selectorBg,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),input:{cursor:"pointer"}},"".concat(o,"-show-search&"),{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}}),it(n,"".concat(o,"-disabled&"),(it(t={color:e.colorTextDisabled,background:e.colorBgContainerDisabled,cursor:"not-allowed"},"".concat(o,"-multiple&"),{background:e.multipleSelectorBgDisabled}),it(t,"input",{cursor:"not-allowed"}),t)),n}(e)),function(e){var t=e.componentCls;return it({},"".concat(t,"-selection-search-input"),{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}})}(e))),it(n,"".concat(a,"-selection-item"),Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Xi),it({},"> ".concat(r,"-typography"),{display:"inline"}))),it(n,"".concat(a,"-selection-placeholder"),Object.assign(Object.assign({},Xi),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"})),it(n,"".concat(a,"-arrow"),Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),(it(t={position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center"},l,it({verticalAlign:"top",transition:"transform ".concat(e.motionDurationSlow),"> svg":{verticalAlign:"top"}},"&:not(".concat(a,"-suffix)"),{pointerEvents:"auto"})),it(t,"".concat(a,"-disabled &"),{cursor:"not-allowed"}),it(t,"> *:not(:last-child)",{marginInlineEnd:8}),t))),it(n,"".concat(a,"-clear"),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:e.clearBg,cursor:"pointer",opacity:0,transition:"color ".concat(e.motionDurationMid," ease, opacity ").concat(e.motionDurationSlow," ease"),textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}}),it(n,"&:hover",it({},"".concat(a,"-clear"),{opacity:1})),n))),it(o,"".concat(a,"-has-feedback"),it({},"".concat(a,"-clear"),{insetInlineEnd:i+e.fontSize+e.paddingXS})),o},yV=function(e){var t,n=e.componentCls;return[it({},n,(t={},it(t,"&-borderless ".concat(n,"-selector"),{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"}),it(t,"&".concat(n,"-in-form-item"),{width:"100%"}),t)),vV(e),bV(e),AV(e),CV(e),it({},"".concat(n,"-rtl"),{direction:"rtl"}),fV(n,Mi(e,{borderHoverColor:e.colorPrimaryHover,outlineColor:e.controlOutline})),fV("".concat(n,"-status-error"),Mi(e,{borderHoverColor:e.colorErrorHover,outlineColor:e.colorErrorOutline}),!0),fV("".concat(n,"-status-warning"),Mi(e,{borderHoverColor:e.colorWarningHover,outlineColor:e.colorWarningOutline}),!0),Fi(e,{borderElCls:"".concat(n,"-selector"),focusElCls:"".concat(n,"-focused")})]},ZV=gs("Select",(function(e,t){var n=Mi(e,{rootPrefixCls:t.rootPrefixCls,inputPaddingHorizontalBase:e.paddingSM-1,multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[yV(n)]}),(function(e){var t=e.fontSize,n=e.lineHeight,o=e.controlHeight,r=e.controlPaddingHorizontal,a=e.zIndexPopupBase,i=e.colorText,l=e.fontWeightStrong,g=e.controlItemBgActive,c=e.controlItemBgHover,s=e.colorBgContainer,u=e.colorFillSecondary,d=e.controlHeightLG,I=e.controlHeightSM,C=e.colorBgContainerDisabled,m=e.colorTextDisabled;return{zIndexPopup:a+50,optionSelectedColor:i,optionSelectedFontWeight:l,optionSelectedBg:g,optionActiveBg:c,optionPadding:"".concat((o-t*n)/2,"px ").concat(r,"px"),optionFontSize:t,optionLineHeight:n,optionHeight:o,selectorBg:s,clearBg:s,singleItemHeightLG:d,multipleItemBg:u,multipleItemBorderColor:"transparent",multipleItemHeight:I,multipleItemHeightLG:o,multipleSelectorBgDisabled:C,multipleItemColorDisabled:m,multipleItemBorderColorDisabled:"transparent"}}));function GV(e,t){return e||function(e){var t={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:"scroll"===e?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},t),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},t),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},t),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},t),{points:["br","tr"],offset:[0,-4]})}}(t)}var SV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},BV=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:SV}))};var kV=i.forwardRef(BV),VV={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},WV=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:VV}))};var wV=i.forwardRef(WV),RV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},XV=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:RV}))};var JV=i.forwardRef(XV);var xV=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},HV="SECRET_COMBOBOX_MODE_DO_NOT_USE",YV=function(e,t){var n,o,r,a=e.prefixCls,l=e.bordered,g=void 0===l||l,c=e.className,s=e.rootClassName,u=e.getPopupContainer,d=e.popupClassName,C=e.dropdownClassName,m=e.listHeight,p=void 0===m?256:m,A=e.placement,h=e.listItemHeight,b=void 0===h?24:h,f=e.size,v=e.disabled,y=e.notFoundContent,Z=e.status,G=e.builtinPlacements,S=e.dropdownMatchSelectWidth,B=e.popupMatchSelectWidth,k=e.direction,V=e.style,W=e.allowClear,w=xV(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear"]),R=i.useContext(_r),X=R.getPopupContainer,J=R.getPrefixCls,x=R.renderEmpty,H=R.direction,Y=R.virtual,N=R.popupMatchSelectWidth,F=R.popupOverflow,E=R.select,K=J("select",a),M=J(),L=null!==k&&void 0!==k?k:H,z=Cu(K,L),D=z.compactSize,T=z.compactItemClassnames,U=I(ZV(K),2),Q=U[0],j=U[1],O=i.useMemo((function(){var e=w.mode;if("combobox"!==e)return e===HV?"combobox":e}),[w.mode]),P="multiple"===O||"tags"===O,q=function(e,t){return void 0!==t?t:null!==e}(w.suffixIcon,w.showArrow),_=null!==(o=null!==B&&void 0!==B?B:S)&&void 0!==o?o:N,$=i.useContext(wi),ee=$.status,te=$.hasFeedback,ne=$.isFormItemInput,oe=$.feedbackIcon,re=eu(ee,Z);r=void 0!==y?y:"combobox"===O?null:(null===x||void 0===x?void 0:x("Select"))||i.createElement(zS,{componentName:"Select"});var ae=function(e){var t=e.suffixIcon,n=e.clearIcon,o=e.menuItemSelectedIcon,r=e.removeIcon,a=e.loading,l=e.multiple,g=e.hasFeedback,c=e.prefixCls,s=e.showSuffixIcon,u=e.feedbackIcon,d=e.showArrow,I=(e.componentName,null!==n&&void 0!==n?n:i.createElement(zs,null)),C=function(e){return null!==t||g||d?i.createElement(i.Fragment,null,!1!==s&&e,g&&u):null},m=null;if(void 0!==t)m=C(t);else if(a)m=C(i.createElement(bI,{spin:!0}));else{var p="".concat(c,"-suffix");m=function(e){var t=e.open,n=e.showSearch;return C(t&&n?i.createElement(Hu,{className:p}):i.createElement(JV,{className:p}))}}return{clearIcon:I,suffixIcon:m,itemIcon:void 0!==o?o:l?i.createElement(kV,null):null,removeIcon:void 0!==r?r:i.createElement(wV,null)}}(Object.assign(Object.assign({},w),{multiple:P,hasFeedback:te,feedbackIcon:oe,showSuffixIcon:q,prefixCls:K,showArrow:w.showArrow,componentName:"Select"})),ie=ae.suffixIcon,le=ae.itemIcon,ge=ae.removeIcon,ce=ae.clearIcon,se=!0===W?{clearIcon:ce}:W,ue=Os(w,["suffixIcon","itemIcon"]),de=Pr()(d||C,it({},"".concat(K,"-dropdown-").concat(L),"rtl"===L),s,j),Ie=lu((function(e){var t;return null!==(t=null!==f&&void 0!==f?f:D)&&void 0!==t?t:e})),Ce=i.useContext(ou),me=null!==v&&void 0!==v?v:Ce,pe=Pr()((it(n={},"".concat(K,"-lg"),"large"===Ie),it(n,"".concat(K,"-sm"),"small"===Ie),it(n,"".concat(K,"-rtl"),"rtl"===L),it(n,"".concat(K,"-borderless"),!g),it(n,"".concat(K,"-in-form-item"),ne),n),$s(K,re,te),T,null===E||void 0===E?void 0:E.className,c,s,j),Ae=i.useMemo((function(){return void 0!==A?A:"rtl"===L?"bottomRight":"bottomLeft"}),[A,L]),he=GV(G,F);return Q(i.createElement(Rk,Object.assign({ref:t,virtual:Y,showSearch:null===E||void 0===E?void 0:E.showSearch},ue,{style:Object.assign(Object.assign({},null===E||void 0===E?void 0:E.style),V),dropdownMatchSelectWidth:_,builtinPlacements:he,transitionName:ep(M,"slide-up",w.transitionName),listHeight:p,listItemHeight:b,mode:O,prefixCls:K,placement:Ae,direction:L,suffixIcon:ie,menuItemSelectedIcon:le,removeIcon:ge,allowClear:se,notFoundContent:r,className:pe,getPopupContainer:u||X,dropdownClassName:de,disabled:me})))};var NV=i.forwardRef(YV),FV=jk(NV);NV.SECRET_COMBOBOX_MODE_DO_NOT_USE=HV,NV.Option=fk,NV.OptGroup=hk,NV._InternalPanelDoNotUseOrYouWillBeFired=FV;var EV=NV,KV=function(e){return i.createElement(EV,Object.assign({},e,{showSearch:!0,size:"small"}))},MV=function(e){return i.createElement(EV,Object.assign({},e,{showSearch:!0,size:"middle"}))};KV.Option=EV.Option,MV.Option=EV.Option;var LV=function(e){var t,n,o=e.componentCls;return it(n={},o,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ji(e)),it({"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'}},"".concat(o,"-total-text"),{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:"".concat(e.itemSize-2,"px"),verticalAlign:"middle"})),function(e){var t,n=e.componentCls;return it({},"".concat(n,"-item"),(it(t={display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:"".concat(e.itemSize-2,"px"),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:"0 ".concat(e.paginationItemPaddingInline,"px"),color:e.colorText,"&:hover":{textDecoration:"none"}}},"&:not(".concat(n,"-item-active)"),{"&:hover":{transition:"all ".concat(e.motionDurationMid),backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}}),it(t,"&-active",{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}),t))}(e)),function(e){var t,n,o,r,a,i=e.componentCls;return it(a={},"".concat(i,"-jump-prev, ").concat(i,"-jump-next"),(it(o={outline:0},"".concat(i,"-item-container"),(it(t={position:"relative"},"".concat(i,"-item-link-icon"),{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:"all ".concat(e.motionDurationMid),"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}}),it(t,"".concat(i,"-item-ellipsis"),{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:"all ".concat(e.motionDurationMid)}),t)),it(o,"&:hover",(it(n={},"".concat(i,"-item-link-icon"),{opacity:1}),it(n,"".concat(i,"-item-ellipsis"),{opacity:0}),n)),o)),it(a,"\n    ".concat(i,"-prev,\n    ").concat(i,"-jump-prev,\n    ").concat(i,"-jump-next\n    "),{marginInlineEnd:e.marginXS}),it(a,"\n    ".concat(i,"-prev,\n    ").concat(i,"-next,\n    ").concat(i,"-jump-prev,\n    ").concat(i,"-jump-next\n    "),{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:"".concat(e.itemSize,"px"),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:"all ".concat(e.motionDurationMid)}),it(a,"".concat(i,"-prev, ").concat(i,"-next"),(it(r={fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"}},"".concat(i,"-item-link"),{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),borderRadius:e.borderRadius,outline:"none",transition:"all ".concat(e.motionDurationMid)}),it(r,"&:hover ".concat(i,"-item-link"),{backgroundColor:e.colorBgTextHover}),it(r,"&:active ".concat(i,"-item-link"),{backgroundColor:e.colorBgTextActive}),it(r,"&".concat(i,"-disabled:hover"),it({},"".concat(i,"-item-link"),{backgroundColor:"transparent"})),r)),it(a,"".concat(i,"-slash"),{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart}),it(a,"".concat(i,"-options"),{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:"".concat(e.controlHeight,"px"),verticalAlign:"top",input:Object.assign(Object.assign({},ms(e)),{width:1.25*e.controlHeightLG,height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}),a}(e)),function(e){var t,n=e.componentCls;return it(t={},"\n    &".concat(n,"-simple ").concat(n,"-prev,\n    &").concat(n,"-simple ").concat(n,"-next\n    "),it({height:e.itemSizeSM,lineHeight:"".concat(e.itemSizeSM,"px"),verticalAlign:"top"},"".concat(n,"-item-link"),{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:"".concat(e.itemSizeSM,"px")}})),it(t,"&".concat(n,"-simple ").concat(n,"-simple-pager"),{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:e.marginXS,padding:"0 ".concat(e.paginationItemPaddingInline,"px"),textAlign:"center",backgroundColor:e.itemInputBg,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadius,outline:"none",transition:"border-color ".concat(e.motionDurationMid),color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:"".concat(e.inputOutlineOffset,"px 0 ").concat(e.controlOutlineWidth,"px ").concat(e.controlOutline)},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}),t}(e)),function(e){var t,n,o,r=e.componentCls;return it(o={},"&".concat(r,"-mini ").concat(r,"-total-text, &").concat(r,"-mini ").concat(r,"-simple-pager"),{height:e.itemSizeSM,lineHeight:"".concat(e.itemSizeSM,"px")}),it(o,"&".concat(r,"-mini ").concat(r,"-item"),{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:"".concat(e.itemSizeSM-2,"px")}),it(o,"&".concat(r,"-mini:not(").concat(r,"-disabled) ").concat(r,"-item:not(").concat(r,"-item-active)"),{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}}),it(o,"&".concat(r,"-mini ").concat(r,"-prev, &").concat(r,"-mini ").concat(r,"-next"),{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:"".concat(e.itemSizeSM,"px")}),it(o,"&".concat(r,"-mini:not(").concat(r,"-disabled)"),it({},"".concat(r,"-prev, ").concat(r,"-next"),(it(t={},"&:hover ".concat(r,"-item-link"),{backgroundColor:e.colorBgTextHover}),it(t,"&:active ".concat(r,"-item-link"),{backgroundColor:e.colorBgTextActive}),it(t,"&".concat(r,"-disabled:hover ").concat(r,"-item-link"),{backgroundColor:"transparent"}),t))),it(o,"\n    &".concat(r,"-mini ").concat(r,"-prev ").concat(r,"-item-link,\n    &").concat(r,"-mini ").concat(r,"-next ").concat(r,"-item-link\n    "),{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:"".concat(e.itemSizeSM,"px")}}),it(o,"&".concat(r,"-mini ").concat(r,"-jump-prev, &").concat(r,"-mini ").concat(r,"-jump-next"),{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:"".concat(e.itemSizeSM,"px")}),it(o,"&".concat(r,"-mini ").concat(r,"-options"),(it(n={marginInlineStart:e.paginationMiniOptionsMarginInlineStart},"&-size-changer",{top:e.miniOptionsSizeChangerTop}),it(n,"&-quick-jumper",{height:e.itemSizeSM,lineHeight:"".concat(e.itemSizeSM,"px"),input:Object.assign(Object.assign({},Is(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}),n)),o}(e)),function(e){var t,n,o,r=e.componentCls;return it(o={},"".concat(r,"-disabled"),{"&, &:hover":it({cursor:"not-allowed"},"".concat(r,"-item-link"),{color:e.colorTextDisabled,cursor:"not-allowed"}),"&:focus-visible":it({cursor:"not-allowed"},"".concat(r,"-item-link"),{color:e.colorTextDisabled,cursor:"not-allowed"})}),it(o,"&".concat(r,"-disabled"),(it(n={cursor:"not-allowed"},"".concat(r,"-item"),{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}}),it(n,"".concat(r,"-item-link"),it({color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"}},"".concat(r,"-simple&"),{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}})),it(n,"".concat(r,"-simple-pager"),{color:e.colorTextDisabled}),it(n,"".concat(r,"-jump-prev, ").concat(r,"-jump-next"),(it(t={},"".concat(r,"-item-link-icon"),{opacity:0}),it(t,"".concat(r,"-item-ellipsis"),{opacity:1}),t)),n)),it(o,"&".concat(r,"-simple"),it({},"".concat(r,"-prev, ").concat(r,"-next"),it({},"&".concat(r,"-disabled ").concat(r,"-item-link"),{"&:hover, &:active":{backgroundColor:"transparent"}}))),o}(e)),(it(t={},"@media only screen and (max-width: ".concat(e.screenLG,"px)"),it({},"".concat(o,"-item"),{"&-after-jump-prev, &-before-jump-next":{display:"none"}})),it(t,"@media only screen and (max-width: ".concat(e.screenSM,"px)"),it({},"".concat(o,"-options"),{display:"none"})),t))),it(n,"&".concat(e.componentCls,"-rtl"),{direction:"rtl"}),n},zV=function(e){var t,n,o,r,a,i,l=e.componentCls;return it(i={},"".concat(l).concat(l,"-disabled:not(").concat(l,"-mini)"),(n={"&, &:hover":it({},"".concat(l,"-item-link"),{borderColor:e.colorBorder}),"&:focus-visible":it({},"".concat(l,"-item-link"),{borderColor:e.colorBorder})},it(n,"".concat(l,"-item, ").concat(l,"-item-link"),(it(t={backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder},"&:hover:not(".concat(l,"-item-active)"),{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}}),it(t,"&".concat(l,"-item-active"),{backgroundColor:e.itemActiveBgDisabled}),t)),it(n,"".concat(l,"-prev, ").concat(l,"-next"),it({"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled}},"".concat(l,"-item-link"),{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder})),n)),it(i,"".concat(l,":not(").concat(l,"-mini)"),(it(a={},"".concat(l,"-prev, ").concat(l,"-next"),(it(o={"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg}},"".concat(l,"-item-link"),{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder}),it(o,"&:hover ".concat(l,"-item-link"),{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary}),it(o,"&".concat(l,"-disabled"),it({},"".concat(l,"-item-link"),{borderColor:e.colorBorder,color:e.colorTextDisabled})),o)),it(a,"".concat(l,"-item"),(it(r={backgroundColor:e.itemBg,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder)},"&:hover:not(".concat(l,"-item-active)"),{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}}),it(r,"&-active",{borderColor:e.colorPrimary}),r)),a)),i},DV=function(e){var t,n,o=e.componentCls;return it({},"".concat(o,":not(").concat(o,"-disabled)"),(it(n={},"".concat(o,"-item"),Object.assign({},Ni(e))),it(n,"".concat(o,"-jump-prev, ").concat(o,"-jump-next"),{"&:focus-visible":Object.assign((t={},it(t,"".concat(o,"-item-link-icon"),{opacity:1}),it(t,"".concat(o,"-item-ellipsis"),{opacity:0}),t),Yi(e))}),it(n,"".concat(o,"-prev, ").concat(o,"-next"),it({},"&:focus-visible ".concat(o,"-item-link"),Object.assign({},Yi(e)))),n))},TV=gs("Pagination",(function(e){var t=Mi(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.marginXXS/2,paginationMiniQuickJumperInputWidth:1.1*e.controlHeightLG,paginationItemPaddingInline:1.5*e.marginXXS,paginationEllipsisLetterSpacing:e.marginXXS/2,paginationSlashMarginInlineStart:e.marginXXS,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},vs(e),ys(e));return[LV(t),DV(t),e.wireframe&&zV(t)]}),(function(e){return{itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0}})),UV=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};var QV=function(e){var t,n=e.prefixCls,o=e.selectPrefixCls,r=e.className,a=e.rootClassName,l=e.style,g=e.size,c=e.locale,s=e.selectComponentClass,u=e.responsive,d=e.showSizeChanger,C=UV(e,["prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),m=Yp(u).xs,p=i.useContext(_r),A=p.getPrefixCls,h=p.direction,b=p.pagination,f=void 0===b?{}:b,v=A("pagination",n),y=I(TV(v),2),Z=y[0],G=y[1],S=null!==d&&void 0!==d?d:f.showSizeChanger,B=i.useMemo((function(){var e=i.createElement("span",{className:"".concat(v,"-item-ellipsis")},"\u2022\u2022\u2022");return{prevIcon:i.createElement("button",{className:"".concat(v,"-item-link"),type:"button",tabIndex:-1},"rtl"===h?i.createElement(tB,null):i.createElement(_S,null)),nextIcon:i.createElement("button",{className:"".concat(v,"-item-link"),type:"button",tabIndex:-1},"rtl"===h?i.createElement(_S,null):i.createElement(tB,null)),jumpPrevIcon:i.createElement("a",{className:"".concat(v,"-item-link")},i.createElement("div",{className:"".concat(v,"-item-container")},"rtl"===h?i.createElement(OS,{className:"".concat(v,"-item-link-icon")}):i.createElement(US,{className:"".concat(v,"-item-link-icon")}),e)),jumpNextIcon:i.createElement("a",{className:"".concat(v,"-item-link")},i.createElement("div",{className:"".concat(v,"-item-container")},"rtl"===h?i.createElement(US,{className:"".concat(v,"-item-link-icon")}):i.createElement(OS,{className:"".concat(v,"-item-link-icon")}),e))}}),[h,v]),k=I(JS("Pagination",kS),1)[0],V=Object.assign(Object.assign({},k),c),W=lu(g),w="small"===W||!(!m||W||!u),R=A("select",o),X=Pr()((it(t={},"".concat(v,"-mini"),w),it(t,"".concat(v,"-rtl"),"rtl"===h),t),null===f||void 0===f?void 0:f.className,r,a,G),J=Object.assign(Object.assign({},null===f||void 0===f?void 0:f.style),l);return Z(i.createElement(sB,Object.assign({},B,C,{style:J,prefixCls:v,selectPrefixCls:R,className:X,selectComponentClass:s||(w?KV:MV),locale:V,showSizeChanger:S})))},jV=QV;function OV(e,t,n){var o=(n||{}).atBegin;return function(e,t,n){var o,r=n||{},a=r.noTrailing,i=void 0!==a&&a,l=r.noLeading,g=void 0!==l&&l,c=r.debounceMode,s=void 0===c?void 0:c,u=!1,d=0;function I(){o&&clearTimeout(o)}function C(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var l=this,c=Date.now()-d;function C(){d=Date.now(),t.apply(l,r)}function m(){o=void 0}u||(g||!s||o||C(),I(),void 0===s&&c>e?g?(d=Date.now(),i||(o=setTimeout(s?m:C,e))):C():!0!==i&&(o=setTimeout(s?m:C,void 0===s?e-c:e)))}return C.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;I(),u=!n},C}(e,t,{debounceMode:!1!==(void 0!==o&&o)})}var PV=new Qg("antSpinMove",{to:{opacity:1}}),qV=new Qg("antRotate",{to:{transform:"rotate(405deg)"}}),_V=function(e){var t,n,o,r,a;return it({},"".concat(e.componentCls),Object.assign(Object.assign({},Ji(e)),(a={position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:"transform ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOutCirc),"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":(r={position:"relative"},it(r,"> div > ".concat(e.componentCls),(o={position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight},it(o,"".concat(e.componentCls,"-dot"),{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-e.dotSize/2}),it(o,"".concat(e.componentCls,"-text"),{position:"absolute",top:"50%",width:"100%",paddingTop:(e.dotSize-e.fontSize)/2+2,textShadow:"0 1px 2px ".concat(e.colorBgContainer),fontSize:e.fontSize}),it(o,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-dot"),{marginTop:-e.dotSize/2-10}),it(o,"&-sm",(t={},it(t,"".concat(e.componentCls,"-dot"),{margin:-e.dotSizeSM/2}),it(t,"".concat(e.componentCls,"-text"),{paddingTop:(e.dotSizeSM-e.fontSize)/2+2}),it(t,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-dot"),{marginTop:-e.dotSizeSM/2-10}),t)),it(o,"&-lg",(n={},it(n,"".concat(e.componentCls,"-dot"),{margin:-e.dotSizeLG/2}),it(n,"".concat(e.componentCls,"-text"),{paddingTop:(e.dotSizeLG-e.fontSize)/2+2}),it(n,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-dot"),{marginTop:-e.dotSizeLG/2-10}),n)),o)),it(r,"".concat(e.componentCls,"-container"),{position:"relative",transition:"opacity ".concat(e.motionDurationSlow),"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:"all ".concat(e.motionDurationSlow),content:'""',pointerEvents:"none"}}),it(r,"".concat(e.componentCls,"-blur"),it({clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none"},"&::after",{opacity:.4,pointerEvents:"auto"})),r)},it(a,"&-tip",{color:e.spinDotDefault}),it(a,"".concat(e.componentCls,"-dot"),{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(e.dotSize-e.marginXXS/2)/2,height:(e.dotSize-e.marginXXS/2)/2,backgroundColor:e.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:PV,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:qV,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}}),it(a,"&-sm ".concat(e.componentCls,"-dot"),{fontSize:e.dotSizeSM,i:{width:(e.dotSizeSM-e.marginXXS/2)/2,height:(e.dotSizeSM-e.marginXXS/2)/2}}),it(a,"&-lg ".concat(e.componentCls,"-dot"),{fontSize:e.dotSizeLG,i:{width:(e.dotSizeLG-e.marginXXS)/2,height:(e.dotSizeLG-e.marginXXS)/2}}),it(a,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-text"),{display:"block"}),a)))},$V=gs("Spin",(function(e){var t=Mi(e,{spinDotDefault:e.colorTextDescription});return[_V(t)]}),(function(e){return{contentHeight:400,dotSize:e.controlHeightLG/2,dotSizeSM:.35*e.controlHeightLG,dotSizeLG:e.controlHeight}})),eW=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},tW=null;var nW=function(e){var t,n=e.spinPrefixCls,o=e.spinning,r=void 0===o||o,a=e.delay,l=void 0===a?0:a,g=e.className,c=e.rootClassName,s=e.size,u=void 0===s?"default":s,d=e.tip,C=e.wrapperClassName,m=e.style,p=e.children,A=e.hashId,h=eW(e,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),b=i.useState((function(){return r&&!function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(r,l)})),f=I(b,2),v=f[0],y=f[1];i.useEffect((function(){if(r){var e=OV(l,(function(){y(!0)}));return e(),function(){var t;null===(t=null===e||void 0===e?void 0:e.cancel)||void 0===t||t.call(e)}}y(!1)}),[l,r]);var Z=i.useMemo((function(){return"undefined"!==typeof p}),[p]),G=i.useContext(_r),S=G.direction,B=G.spin,k=Pr()(n,null===B||void 0===B?void 0:B.className,(it(t={},"".concat(n,"-sm"),"small"===u),it(t,"".concat(n,"-lg"),"large"===u),it(t,"".concat(n,"-spinning"),v),it(t,"".concat(n,"-show-text"),!!d),it(t,"".concat(n,"-rtl"),"rtl"===S),t),g,c,A),V=Pr()("".concat(n,"-container"),it({},"".concat(n,"-blur"),v)),W=Os(h,["indicator","prefixCls"]),w=Object.assign(Object.assign({},null===B||void 0===B?void 0:B.style),m),R=i.createElement("div",Object.assign({},W,{style:w,className:k,"aria-live":"polite","aria-busy":v}),function(e,t){var n=t.indicator,o="".concat(e,"-dot");return null===n?null:Yu(n)?Fu(n,{className:Pr()(n.props.className,o)}):Yu(tW)?Fu(tW,{className:Pr()(tW.props.className,o)}):i.createElement("span",{className:Pr()(o,"".concat(e,"-dot-spin"))},i.createElement("i",{className:"".concat(e,"-dot-item"),key:1}),i.createElement("i",{className:"".concat(e,"-dot-item"),key:2}),i.createElement("i",{className:"".concat(e,"-dot-item"),key:3}),i.createElement("i",{className:"".concat(e,"-dot-item"),key:4}))}(n,e),d&&Z?i.createElement("div",{className:"".concat(n,"-text")},d):null);return Z?i.createElement("div",Object.assign({},W,{className:Pr()("".concat(n,"-nested-loading"),C,A)}),v&&i.createElement("div",{key:"loading"},R),i.createElement("div",{className:V,key:"container"},p)):R},oW=function(e){var t=e.prefixCls,n=(0,i.useContext(_r).getPrefixCls)("spin",t),o=I($V(n),2),r=o[0],a=o[1],l=Object.assign(Object.assign({},e),{spinPrefixCls:n,hashId:a});return r(i.createElement(nW,Object.assign({},l)))};oW.setDefaultIndicator=function(e){tW=e};var rW=oW;var aW=function(e){return function(t){var n,o=t.prefixCls,r=t.onExpand,a=t.record,l=t.expanded,g=t.expandable,c="".concat(o,"-row-expand-icon");return i.createElement("button",{type:"button",onClick:function(e){r(a,e),e.stopPropagation()},className:Pr()(c,(n={},it(n,"".concat(c,"-spaced"),!g),it(n,"".concat(c,"-expanded"),g&&l),it(n,"".concat(c,"-collapsed"),g&&!l),n)),"aria-label":l?e.collapse:e.expand,"aria-expanded":l})}};function iW(e,t){return"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function lW(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}function gW(e,t){return"function"===typeof e?e(t):e}var cW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},sW=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:cW}))};var uW=i.forwardRef(sW);var dW=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],IW=(0,i.forwardRef)((function(e,t){var n,o=e.prefixCls,r=void 0===o?"rc-checkbox":o,a=e.className,l=e.style,g=e.checked,c=e.disabled,s=e.defaultChecked,u=void 0!==s&&s,d=e.type,C=void 0===d?"checkbox":d,m=e.title,p=e.onChange,A=ct(e,dW),h=(0,i.useRef)(null),b=I(_g(u,{value:g}),2),f=b[0],v=b[1];(0,i.useImperativeHandle)(t,(function(){return{focus:function(){var e;null===(e=h.current)||void 0===e||e.focus()},blur:function(){var e;null===(e=h.current)||void 0===e||e.blur()},input:h.current}}));var y=Pr()(r,a,(it(n={},"".concat(r,"-checked"),f),it(n,"".concat(r,"-disabled"),c),n));return i.createElement("span",{className:y,title:m,style:l},i.createElement("input",$r({},A,{className:"".concat(r,"-input"),ref:h,onChange:function(t){c||("checked"in e||v(t.target.checked),null===p||void 0===p||p({target:gt(gt({},e),{},{type:C,checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t.nativeEvent}))},disabled:c,checked:!!f,type:C})),i.createElement("span",{className:"".concat(r,"-inner")}))})),CW=IW,mW=i.createContext(null),pW=function(e){var t,n,o,r,a,i,l,g,c=e.checkboxCls,s="".concat(c,"-wrapper");return[(o={},it(o,"".concat(c,"-group"),Object.assign(Object.assign({},Ji(e)),it({display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS},"> ".concat(e.antCls,"-row"),{flex:1}))),it(o,s,Object.assign(Object.assign({},Ji(e)),(t={display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"}},it(t,"& + ".concat(s),{marginInlineStart:0}),it(t,"&".concat(s,"-in-form-item"),{'input[type="checkbox"]':{width:14,height:14}}),t))),it(o,c,Object.assign(Object.assign({},Ji(e)),(n={position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center"},it(n,"".concat(c,"-input"),it({position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0},"&:focus-visible + ".concat(c,"-inner"),Object.assign({},Yi(e)))),it(n,"".concat(c,"-inner"),{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:"all ".concat(e.motionDurationSlow),"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:"".concat(e.lineWidthBold,"px solid ").concat(e.colorWhite),borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:"all ".concat(e.motionDurationFast," ").concat(e.motionEaseInBack,", opacity ").concat(e.motionDurationFast)}}),it(n,"& + span",{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}),n))),o),(a={},it(a,"\n        ".concat(s,":not(").concat(s,"-disabled),\n        ").concat(c,":not(").concat(c,"-disabled)\n      "),it({},"&:hover ".concat(c,"-inner"),{borderColor:e.colorPrimary})),it(a,"".concat(s,":not(").concat(s,"-disabled)"),(r={},it(r,"&:hover ".concat(c,"-checked:not(").concat(c,"-disabled) ").concat(c,"-inner"),{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}),it(r,"&:hover ".concat(c,"-checked:not(").concat(c,"-disabled):after"),{borderColor:e.colorPrimaryHover}),r)),a),(i={},it(i,"".concat(c,"-checked"),it({},"".concat(c,"-inner"),{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseOutBack," ").concat(e.motionDurationFast)}})),it(i,"\n        ".concat(s,"-checked:not(").concat(s,"-disabled),\n        ").concat(c,"-checked:not(").concat(c,"-disabled)\n      "),it({},"&:hover ".concat(c,"-inner"),{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"})),i),it({},c,{"&-indeterminate":it({},"".concat(c,"-inner"),{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}})}),(g={},it(g,"".concat(s,"-disabled"),{cursor:"not-allowed"}),it(g,"".concat(c,"-disabled"),(l={},it(l,"&, ".concat(c,"-input"),{cursor:"not-allowed",pointerEvents:"none"}),it(l,"".concat(c,"-inner"),{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}}),it(l,"&:after",{display:"none"}),it(l,"& + span",{color:e.colorTextDisabled}),it(l,"&".concat(c,"-indeterminate ").concat(c,"-inner::after"),{background:e.colorTextDisabled}),l)),g)]};function AW(e,t){var n=Mi(t,{checkboxCls:".".concat(e),checkboxSize:t.controlInteractiveSize});return[pW(n)]}var hW=gs("Checkbox",(function(e,t){return[AW(t.prefixCls,e)]})),bW=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},fW=function(e,t){var n,o,r=e.prefixCls,a=e.className,l=e.rootClassName,g=e.children,c=e.indeterminate,s=void 0!==c&&c,u=e.style,d=e.onMouseEnter,C=e.onMouseLeave,m=e.skipGroup,p=void 0!==m&&m,A=e.disabled,h=bW(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),b=i.useContext(_r),f=b.getPrefixCls,v=b.direction,y=b.checkbox,Z=i.useContext(mW),G=i.useContext(wi).isFormItemInput,S=i.useContext(ou),B=null!==(o=(null===Z||void 0===Z?void 0:Z.disabled)||A)&&void 0!==o?o:S,k=i.useRef(h.value);i.useEffect((function(){null===Z||void 0===Z||Z.registerValue(h.value)}),[]),i.useEffect((function(){if(!p)return h.value!==k.current&&(null===Z||void 0===Z||Z.cancelValue(k.current),null===Z||void 0===Z||Z.registerValue(h.value),k.current=h.value),function(){return null===Z||void 0===Z?void 0:Z.cancelValue(h.value)}}),[h.value]);var V=f("checkbox",r),W=I(hW(V),2),w=W[0],R=W[1],X=Object.assign({},h);Z&&!p&&(X.onChange=function(){h.onChange&&h.onChange.apply(h,arguments),Z.toggleOption&&Z.toggleOption({label:g,value:h.value})},X.name=Z.name,X.checked=Z.value.includes(h.value));var J=Pr()("".concat(V,"-wrapper"),(it(n={},"".concat(V,"-rtl"),"rtl"===v),it(n,"".concat(V,"-wrapper-checked"),X.checked),it(n,"".concat(V,"-wrapper-disabled"),B),it(n,"".concat(V,"-wrapper-in-form-item"),G),n),null===y||void 0===y?void 0:y.className,a,l,R),x=Pr()(it({},"".concat(V,"-indeterminate"),s),nI,R),H=s?"mixed":void 0;return w(i.createElement(iI,{component:"Checkbox",disabled:B},i.createElement("label",{className:J,style:Object.assign(Object.assign({},null===y||void 0===y?void 0:y.style),u),onMouseEnter:d,onMouseLeave:C},i.createElement(CW,Object.assign({"aria-checked":H},X,{prefixCls:V,className:x,disabled:B,ref:t})),void 0!==g&&i.createElement("span",null,g))))};var vW=i.forwardRef(fW),yW=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},ZW=function(e,t){var n=e.defaultValue,o=e.children,r=e.options,a=void 0===r?[]:r,l=e.prefixCls,g=e.className,c=e.rootClassName,s=e.style,u=e.onChange,d=yW(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),C=i.useContext(_r),p=C.getPrefixCls,A=C.direction,h=I(i.useState(d.value||n||[]),2),b=h[0],f=h[1],v=I(i.useState([]),2),y=v[0],Z=v[1];i.useEffect((function(){"value"in d&&f(d.value||[])}),[d.value]);var G=i.useMemo((function(){return a.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))}),[a]),S=p("checkbox",l),B="".concat(S,"-group"),k=I(hW(S),2),V=k[0],W=k[1],w=Os(d,["value","disabled"]),R=a.length?G.map((function(e){return i.createElement(vW,{prefixCls:S,key:e.value.toString(),disabled:"disabled"in e?e.disabled:d.disabled,value:e.value,checked:b.includes(e.value),onChange:e.onChange,className:"".concat(B,"-item"),style:e.style,title:e.title},e.label)})):o,X={toggleOption:function(e){var t=b.indexOf(e.value),n=m(b);-1===t?n.push(e.value):n.splice(t,1),"value"in d||f(n),null===u||void 0===u||u(n.filter((function(e){return y.includes(e)})).sort((function(e,t){return G.findIndex((function(t){return t.value===e}))-G.findIndex((function(e){return e.value===t}))})))},value:b,disabled:d.disabled,name:d.name,registerValue:function(e){Z((function(t){return[].concat(m(t),[e])}))},cancelValue:function(e){Z((function(t){return t.filter((function(t){return t!==e}))}))}},J=Pr()(B,it({},"".concat(B,"-rtl"),"rtl"===A),g,c,W);return V(i.createElement("div",Object.assign({className:J,style:s},w,{ref:t}),i.createElement(mW.Provider,{value:X},R)))},GW=i.forwardRef(ZW),SW=i.memo(GW),BW=vW;BW.Group=SW,BW.__ANT_CHECKBOX=!0;var kW=BW,VW=dB.ESC,WW=dB.TAB;var wW=(0,i.forwardRef)((function(e,t){var n=e.overlay,o=e.arrow,r=e.prefixCls,a=(0,i.useMemo)((function(){return"function"===typeof n?n():n}),[n]),l=ec(t,null===a||void 0===a?void 0:a.ref);return i.createElement(i.Fragment,null,o&&i.createElement("div",{className:"".concat(r,"-arrow")}),i.cloneElement(a,{ref:nc(a)?l:void 0}))})),RW={adjustX:1,adjustY:1},XW=[0,0],JW={topLeft:{points:["bl","tl"],overflow:RW,offset:[0,-4],targetOffset:XW},top:{points:["bc","tc"],overflow:RW,offset:[0,-4],targetOffset:XW},topRight:{points:["br","tr"],overflow:RW,offset:[0,-4],targetOffset:XW},bottomLeft:{points:["tl","bl"],overflow:RW,offset:[0,4],targetOffset:XW},bottom:{points:["tc","bc"],overflow:RW,offset:[0,4],targetOffset:XW},bottomRight:{points:["tr","br"],overflow:RW,offset:[0,4],targetOffset:XW}},xW=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function HW(e,t){var n,o=e.arrow,r=void 0!==o&&o,a=e.prefixCls,l=void 0===a?"rc-dropdown":a,g=e.transitionName,c=e.animation,s=e.align,u=e.placement,d=void 0===u?"bottomLeft":u,C=e.placements,m=void 0===C?JW:C,p=e.getPopupContainer,A=e.showAction,h=e.hideAction,b=e.overlayClassName,f=e.overlayStyle,v=e.visible,y=e.trigger,Z=void 0===y?["hover"]:y,G=e.autoFocus,S=e.overlay,B=e.children,k=e.onVisibleChange,V=ct(e,xW),W=I(i.useState(),2),w=W[0],R=W[1],X="visible"in e?v:w,J=i.useRef(null),x=i.useRef(null),H=i.useRef(null);i.useImperativeHandle(t,(function(){return J.current}));var Y=function(e){R(e),null===k||void 0===k||k(e)};!function(e){var t=e.visible,n=e.triggerRef,o=e.onVisibleChange,r=e.autoFocus,a=e.overlayRef,l=i.useRef(!1),g=function(){var e,r;t&&(null===(e=n.current)||void 0===e||null===(r=e.focus)||void 0===r||r.call(e),null===o||void 0===o||o(!1))},c=function(){var e;return!(null===(e=a.current)||void 0===e||!e.focus)&&(a.current.focus(),l.current=!0,!0)},s=function(e){switch(e.keyCode){case VW:g();break;case WW:var t=!1;l.current||(t=c()),t?e.preventDefault():g()}};i.useEffect((function(){return t?(window.addEventListener("keydown",s),r&&ju(c,3),function(){window.removeEventListener("keydown",s),l.current=!1}):function(){l.current=!1}}),[t])}({visible:X,triggerRef:H,onVisibleChange:Y,autoFocus:G,overlayRef:x});var N=function(){return i.createElement(wW,{ref:x,overlay:S,prefixCls:l,arrow:r})},F=i.cloneElement(B,{className:Pr()(null===(n=B.props)||void 0===n?void 0:n.className,X&&function(){var t=e.openClassName;return void 0!==t?t:"".concat(l,"-open")}()),ref:nc(B)?ec(H,B.ref):void 0}),E=h;return E||-1===Z.indexOf("contextMenu")||(E=["click"]),i.createElement(Mm,$r({builtinPlacements:m},V,{prefixCls:l,ref:J,popupClassName:Pr()(b,it({},"".concat(l,"-show-arrow"),r)),popupStyle:f,action:Z,showAction:A,hideAction:E,popupPlacement:d,popupAlign:s,popupTransitionName:g,popupAnimation:c,popupVisible:X,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof S?N:N(),onPopupVisibleChange:Y,onPopupClick:function(t){var n=e.onOverlayClick;R(!1),n&&n(t)},getPopupContainer:p}),F)}var YW=i.forwardRef(HW),NW=i.createContext(null);function FW(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function EW(e){return FW(i.useContext(NW),e)}var KW=["children","locked"],MW=i.createContext(null);function LW(e){var t=e.children,n=e.locked,o=ct(e,KW),r=i.useContext(MW),a=Ti((function(){return function(e,t){var n=gt({},e);return Object.keys(t).forEach((function(e){var o=t[e];void 0!==o&&(n[e]=o)})),n}(r,o)}),[r,o],(function(e,t){return!n&&(e[0]!==t[0]||!ca(e[1],t[1],!0))}));return i.createElement(MW.Provider,{value:a},t)}var zW=[],DW=i.createContext(null);function TW(){return i.useContext(DW)}var UW=i.createContext(zW);function QW(e){var t=i.useContext(UW);return i.useMemo((function(){return void 0!==e?[].concat(m(t),[e]):t}),[t,e])}var jW=i.createContext(null),OW=i.createContext({});function PW(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Eu(e)){var n=e.nodeName.toLowerCase(),o=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),r=e.getAttribute("tabindex"),a=Number(r),i=null;return r&&!Number.isNaN(a)?i=a:o&&null===i&&(i=0),o&&e.disabled&&(i=null),null!==i&&(i>=0||t&&i<0)}return!1}function qW(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=m(e.querySelectorAll("*")).filter((function(e){return PW(e,t)}));return PW(e,t)&&n.unshift(e),n}var _W=dB.LEFT,$W=dB.RIGHT,ew=dB.UP,tw=dB.DOWN,nw=dB.ENTER,ow=dB.ESC,rw=dB.HOME,aw=dB.END,iw=[ew,tw,_W,$W];function lw(e,t){return qW(e,!0).filter((function(e){return t.has(e)}))}function gw(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var r=lw(e,t),a=r.length,i=r.findIndex((function(e){return n===e}));return o<0?-1===i?i=a-1:i-=1:o>0&&(i+=1),r[i=(i+a)%a]}function cw(e,t,n,o,r,a,l,g,c,s){var u=i.useRef(),d=i.useRef();d.current=t;var I=function(){ju.cancel(u.current)};return i.useEffect((function(){return function(){I()}}),[]),function(i){var C=i.which;if([].concat(iw,[nw,ow,rw,aw]).includes(C)){var m,p,A,h=function(){return m=new Set,p=new Map,A=new Map,a().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(FW(o,e),"']"));t&&(m.add(t),A.set(t,e),p.set(e,t))})),m};h();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(p.get(t),m),f=A.get(b),v=function(e,t,n,o){var r,a,i,l,g="prev",c="next",s="children",u="parent";if("inline"===e&&o===nw)return{inlineTrigger:!0};var d=(it(r={},ew,g),it(r,tw,c),r),I=(it(a={},_W,n?c:g),it(a,$W,n?g:c),it(a,tw,s),it(a,nw,s),a),C=(it(i={},ew,g),it(i,tw,c),it(i,nw,s),it(i,ow,u),it(i,_W,n?s:u),it(i,$W,n?u:s),i);switch(null===(l={inline:d,horizontal:I,vertical:C,inlineSub:d,horizontalSub:C,verticalSub:C}["".concat(e).concat(t?"":"Sub")])||void 0===l?void 0:l[o]){case g:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case u:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}(e,1===l(f,!0).length,n,C);if(!v&&C!==rw&&C!==aw)return;(iw.includes(C)||[rw,aw].includes(C))&&i.preventDefault();var y=function(e){if(e){var t=e,n=e.querySelector("a");null!==n&&void 0!==n&&n.getAttribute("href")&&(t=n);var o=A.get(e);g(o),I(),u.current=ju((function(){d.current===o&&t.focus()}))}};if([rw,aw].includes(C)||v.sibling||!b){var Z,G,S=lw(Z=b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):r.current,m);G=C===rw?S[0]:C===aw?S[S.length-1]:gw(Z,m,b,v.offset),y(G)}else if(v.inlineTrigger)c(f);else if(v.offset>0)c(f,!0),I(),u.current=ju((function(){h();var e=b.getAttribute("aria-controls"),t=gw(document.getElementById(e),m);y(t)}),5);else if(v.offset<0){var B=l(f,!0),k=B[B.length-2],V=p.get(k);c(k,!1),y(V)}}null===s||void 0===s||s(i)}}var sw="__RC_UTIL_PATH_SPLIT__",uw=function(e){return e.join(sw)},dw="rc-menu-more";function Iw(){var e=I(i.useState({}),2)[1],t=(0,i.useRef)(new Map),n=(0,i.useRef)(new Map),o=I(i.useState([]),2),r=o[0],a=o[1],l=(0,i.useRef)(0),g=(0,i.useRef)(!1),c=(0,i.useCallback)((function(o,r){var a=uw(r);n.current.set(a,o),t.current.set(o,a),l.current+=1;var i,c=l.current;i=function(){c===l.current&&(g.current||e({}))},Promise.resolve().then(i)}),[]),s=(0,i.useCallback)((function(e,o){var r=uw(o);n.current.delete(r),t.current.delete(e)}),[]),u=(0,i.useCallback)((function(e){a(e)}),[]),d=(0,i.useCallback)((function(e,n){var o=t.current.get(e)||"",a=o.split(sw);return n&&r.includes(a[0])&&a.unshift(dw),a}),[r]),C=(0,i.useCallback)((function(e,t){return e.some((function(e){return d(e,!0).includes(t)}))}),[d]),p=(0,i.useCallback)((function(e){var o="".concat(t.current.get(e)).concat(sw),r=new Set;return m(n.current.keys()).forEach((function(e){e.startsWith(o)&&r.add(n.current.get(e))})),r}),[]);return i.useEffect((function(){return function(){g.current=!0}}),[]),{registerPath:c,unregisterPath:s,refreshOverflowKeys:u,isSubPathKey:C,getKeyPath:d,getKeys:function(){var e=m(t.current.keys());return r.length&&e.push(dw),e},getSubPathKeys:p}}function Cw(e){var t=i.useRef(e);t.current=e;var n=i.useCallback((function(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(o))}),[]);return e?n:void 0}var mw=Math.random().toFixed(5).toString().slice(2),pw=0;function Aw(e,t,n,o){var r=i.useContext(MW),a=r.activeKey,l=r.onActive,g=r.onInactive,c={active:a===e};return t||(c.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),l(e)},c.onMouseLeave=function(t){null===o||void 0===o||o({key:e,domEvent:t}),g(e)}),c}function hw(e){var t=i.useContext(MW),n=t.mode,o=t.rtl,r=t.inlineIndent;if("inline"!==n)return null;return o?{paddingRight:e*r}:{paddingLeft:e*r}}function bw(e){var t,n=e.icon,o=e.props,r=e.children;return null===n||!1===n?null:("function"===typeof n?t=i.createElement(n,gt({},o)):"boolean"!==typeof n&&(t=n),t||r||null)}var fw=["item"];function vw(e){var t=e.item,n=ct(e,fw);return Object.defineProperty(n,"item",{get:function(){return ga(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}var yw=["title","attribute","elementRef"],Zw=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Gw=["active"],Sw=function(e){v(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return b(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,o=e.elementRef,r=Os(ct(e,yw),["eventKey","popupClassName","popupOffset","onTitleClick"]);return ga(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),i.createElement(YB.Item,$r({},n,{title:"string"===typeof t?t:void 0},r,{ref:o}))}}]),n}(i.Component),Bw=i.forwardRef((function(e,t){var n,o=e.style,r=e.className,a=e.eventKey,l=(e.warnKey,e.disabled),g=e.itemIcon,c=e.children,s=e.role,u=e.onMouseEnter,d=e.onMouseLeave,I=e.onClick,C=e.onKeyDown,p=e.onFocus,A=ct(e,Zw),h=EW(a),b=i.useContext(MW),f=b.prefixCls,v=b.onItemClick,y=b.disabled,Z=b.overflowDisabled,G=b.itemIcon,S=b.selectedKeys,B=b.onActive,k=i.useContext(OW)._internalRenderMenuItem,V="".concat(f,"-item"),W=i.useRef(),w=i.useRef(),R=y||l,X=tc(t,w),J=QW(a);var x=function(e){return{key:a,keyPath:m(J).reverse(),item:W.current,domEvent:e}},H=g||G,Y=Aw(a,R,u,d),N=Y.active,F=ct(Y,Gw),E=S.includes(a),K=hw(J.length),M={};"option"===e.role&&(M["aria-selected"]=E);var L=i.createElement(Sw,$r({ref:W,elementRef:X,role:null===s?"none":s||"menuitem",tabIndex:l?null:-1,"data-menu-id":Z&&h?null:h},A,F,M,{component:"li","aria-disabled":l,style:gt(gt({},K),o),className:Pr()(V,(n={},it(n,"".concat(V,"-active"),N),it(n,"".concat(V,"-selected"),E),it(n,"".concat(V,"-disabled"),R),n),r),onClick:function(e){if(!R){var t=x(e);null===I||void 0===I||I(vw(t)),v(t)}},onKeyDown:function(e){if(null===C||void 0===C||C(e),e.which===dB.ENTER){var t=x(e);null===I||void 0===I||I(vw(t)),v(t)}},onFocus:function(e){B(a),null===p||void 0===p||p(e)}}),c,i.createElement(bw,{props:gt(gt({},e),{},{isSelected:E}),icon:H}));return k&&(L=k(L,e,{selected:E})),L}));function kw(e,t){var n=e.eventKey,o=TW(),r=QW(n);return i.useEffect((function(){if(o)return o.registerPath(n,r),function(){o.unregisterPath(n,r)}}),[r]),o?null:i.createElement(Bw,$r({},e,{ref:t}))}var Vw=i.forwardRef(kw),Ww=["className","children"],ww=function(e,t){var n=e.className,o=e.children,r=ct(e,Ww),a=i.useContext(MW),l=a.prefixCls,g=a.mode,c=a.rtl;return i.createElement("ul",$r({className:Pr()(l,c&&"".concat(l,"-rtl"),"".concat(l,"-sub"),"".concat(l,"-").concat("inline"===g?"inline":"vertical"),n),role:"menu"},r,{"data-menu-list":!0,ref:t}),o)},Rw=i.forwardRef(ww);Rw.displayName="SubMenuList";var Xw=Rw;function Jw(e,t){return ta(e).map((function(e,n){if(i.isValidElement(e)){var o,r,a=e.key,l=null!==(o=null===(r=e.props)||void 0===r?void 0:r.eventKey)&&void 0!==o?o:a;(null===l||void 0===l)&&(l="tmp_key-".concat([].concat(m(t),[n]).join("-")));var g={key:l,eventKey:l};return i.cloneElement(e,g)}return e}))}var xw={adjustX:1,adjustY:1},Hw={topLeft:{points:["bl","tl"],overflow:xw},topRight:{points:["br","tr"],overflow:xw},bottomLeft:{points:["tl","bl"],overflow:xw},bottomRight:{points:["tr","br"],overflow:xw},leftTop:{points:["tr","tl"],overflow:xw},leftBottom:{points:["br","bl"],overflow:xw},rightTop:{points:["tl","tr"],overflow:xw},rightBottom:{points:["bl","br"],overflow:xw}},Yw={topLeft:{points:["bl","tl"],overflow:xw},topRight:{points:["br","tr"],overflow:xw},bottomLeft:{points:["tl","bl"],overflow:xw},bottomRight:{points:["tr","br"],overflow:xw},rightTop:{points:["tr","tl"],overflow:xw},rightBottom:{points:["br","bl"],overflow:xw},leftTop:{points:["tl","tr"],overflow:xw},leftBottom:{points:["bl","br"],overflow:xw}};function Nw(e,t,n){return t||(n?n[e]||n.other:void 0)}var Fw={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Ew(e){var t=e.prefixCls,n=e.visible,o=e.children,r=e.popup,a=e.popupStyle,l=e.popupClassName,g=e.popupOffset,c=e.disabled,s=e.mode,u=e.onVisibleChange,d=i.useContext(MW),C=d.getPopupContainer,m=d.rtl,p=d.subMenuOpenDelay,A=d.subMenuCloseDelay,h=d.builtinPlacements,b=d.triggerSubMenuAction,f=d.forceSubMenuRender,v=d.rootClassName,y=d.motion,Z=d.defaultMotions,G=I(i.useState(!1),2),S=G[0],B=G[1],k=gt(gt({},m?Yw:Hw),h),V=Fw[s],W=Nw(s,y,Z),w=i.useRef(W);"inline"!==s&&(w.current=W);var R=gt(gt({},w.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),X=i.useRef();return i.useEffect((function(){return X.current=ju((function(){B(n)})),function(){ju.cancel(X.current)}}),[n]),i.createElement(Mm,{prefixCls:t,popupClassName:Pr()("".concat(t,"-popup"),it({},"".concat(t,"-rtl"),m),l,v),stretch:"horizontal"===s?"minWidth":null,getPopupContainer:C,builtinPlacements:k,popupPlacement:V,popupVisible:S,popup:r,popupStyle:a,popupAlign:g&&{offset:g},action:c?[]:[b],mouseEnterDelay:p,mouseLeaveDelay:A,onPopupVisibleChange:u,forceRender:f,popupMotion:R},o)}function Kw(e){var t=e.id,n=e.open,o=e.keyPath,r=e.children,a="inline",l=i.useContext(MW),g=l.prefixCls,c=l.forceSubMenuRender,s=l.motion,u=l.defaultMotions,d=l.mode,C=i.useRef(!1);C.current=d===a;var m=I(i.useState(!C.current),2),p=m[0],A=m[1],h=!!C.current&&n;i.useEffect((function(){C.current&&A(!1)}),[d]);var b=gt({},Nw(a,s,u));o.length>1&&(b.motionAppear=!1);var f=b.onVisibleChanged;return b.onVisibleChanged=function(e){return C.current||e||A(!0),null===f||void 0===f?void 0:f(e)},p?null:i.createElement(LW,{mode:a,locked:!C.current},i.createElement(zd,$r({visible:h},b,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(g,"-hidden")}),(function(e){var n=e.className,o=e.style;return i.createElement(Xw,{id:t,className:n,style:o},r)})))}var Mw=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Lw=["active"],zw=function(e){var t,n=e.style,o=e.className,r=e.title,a=e.eventKey,l=(e.warnKey,e.disabled),g=e.internalPopupClose,c=e.children,s=e.itemIcon,u=e.expandIcon,d=e.popupClassName,C=e.popupOffset,m=e.popupStyle,p=e.onClick,A=e.onMouseEnter,h=e.onMouseLeave,b=e.onTitleClick,f=e.onTitleMouseEnter,v=e.onTitleMouseLeave,y=ct(e,Mw),Z=EW(a),G=i.useContext(MW),S=G.prefixCls,B=G.mode,k=G.openKeys,V=G.disabled,W=G.overflowDisabled,w=G.activeKey,R=G.selectedKeys,X=G.itemIcon,J=G.expandIcon,x=G.onItemClick,H=G.onOpenChange,Y=G.onActive,N=i.useContext(OW)._internalRenderSubMenuItem,F=i.useContext(jW).isSubPathKey,E=QW(),K="".concat(S,"-submenu"),M=V||l,L=i.useRef(),z=i.useRef();var D=null!==s&&void 0!==s?s:X,T=null!==u&&void 0!==u?u:J,U=k.includes(a),Q=!W&&U,j=F(R,a),O=Aw(a,M,f,v),P=O.active,q=ct(O,Lw),_=I(i.useState(!1),2),$=_[0],ee=_[1],te=function(e){M||ee(e)},ne=i.useMemo((function(){return P||"inline"!==B&&($||F([w],a))}),[B,P,w,$,a,F]),oe=hw(E.length),re=Cw((function(e){null===p||void 0===p||p(vw(e)),x(e)})),ae=Z&&"".concat(Z,"-popup"),ie=i.createElement("div",$r({role:"menuitem",style:oe,className:"".concat(K,"-title"),tabIndex:M?null:-1,ref:L,title:"string"===typeof r?r:null,"data-menu-id":W&&Z?null:Z,"aria-expanded":Q,"aria-haspopup":!0,"aria-controls":ae,"aria-disabled":M,onClick:function(e){M||(null===b||void 0===b||b({key:a,domEvent:e}),"inline"===B&&H(a,!U))},onFocus:function(){Y(a)}},q),r,i.createElement(bw,{icon:"horizontal"!==B?T:void 0,props:gt(gt({},e),{},{isOpen:Q,isSubMenu:!0})},i.createElement("i",{className:"".concat(K,"-arrow")}))),le=i.useRef(B);if("inline"!==B&&E.length>1?le.current="vertical":le.current=B,!W){var ge=le.current;ie=i.createElement(Ew,{mode:ge,prefixCls:K,visible:!g&&Q&&"inline"!==B,popupClassName:d,popupOffset:C,popupStyle:m,popup:i.createElement(LW,{mode:"horizontal"===ge?"vertical":ge},i.createElement(Xw,{id:ae,ref:z},c)),disabled:M,onVisibleChange:function(e){"inline"!==B&&H(a,e)}},ie)}var ce=i.createElement(YB.Item,$r({role:"none"},y,{component:"li",style:n,className:Pr()(K,"".concat(K,"-").concat(B),o,(t={},it(t,"".concat(K,"-open"),Q),it(t,"".concat(K,"-active"),ne),it(t,"".concat(K,"-selected"),j),it(t,"".concat(K,"-disabled"),M),t)),onMouseEnter:function(e){te(!0),null===A||void 0===A||A({key:a,domEvent:e})},onMouseLeave:function(e){te(!1),null===h||void 0===h||h({key:a,domEvent:e})}}),ie,!W&&i.createElement(Kw,{id:ae,open:Q,keyPath:E},c));return N&&(ce=N(ce,e,{selected:j,active:ne,open:Q,disabled:M})),i.createElement(LW,{onItemClick:re,mode:"horizontal"===B?"vertical":B,itemIcon:D,expandIcon:T},ce)};function Dw(e){var t,n=e.eventKey,o=e.children,r=QW(n),a=Jw(o,r),l=TW();return i.useEffect((function(){if(l)return l.registerPath(n,r),function(){l.unregisterPath(n,r)}}),[r]),t=l?a:i.createElement(zw,e,a),i.createElement(UW.Provider,{value:r},t)}var Tw=["className","title","eventKey","children"],Uw=["children"],Qw=function(e){var t=e.className,n=e.title,o=(e.eventKey,e.children),r=ct(e,Tw),a=i.useContext(MW).prefixCls,l="".concat(a,"-item-group");return i.createElement("li",$r({role:"presentation"},r,{onClick:function(e){return e.stopPropagation()},className:Pr()(l,t)}),i.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:"string"===typeof n?n:void 0},n),i.createElement("ul",{role:"group",className:"".concat(l,"-list")},o))};function jw(e){var t=e.children,n=ct(e,Uw),o=Jw(t,QW(n.eventKey));return TW()?o:i.createElement(Qw,Os(n,["warnKey"]),o)}function Ow(e){var t=e.className,n=e.style,o=i.useContext(MW).prefixCls;return TW()?null:i.createElement("li",{role:"separator",className:Pr()("".concat(o,"-item-divider"),t),style:n})}var Pw=["label","children","key","type"];function qw(t){return(t||[]).map((function(t,n){if(t&&"object"===e(t)){var o=t,r=o.label,a=o.children,l=o.key,g=o.type,c=ct(o,Pw),s=null!==l&&void 0!==l?l:"tmp-".concat(n);return a||"group"===g?"group"===g?i.createElement(jw,$r({key:s},c,{title:r}),qw(a)):i.createElement(Dw,$r({key:s},c,{title:r}),qw(a)):"divider"===g?i.createElement(Ow,$r({key:s},c)):i.createElement(Vw,$r({key:s},c),r)}return null})).filter((function(e){return e}))}function _w(e,t,n){var o=e;return t&&(o=qw(t)),Jw(o,n)}var $w=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],eR=[],tR=i.forwardRef((function(e,t){var n,o,r=e,a=r.prefixCls,l=void 0===a?"rc-menu":a,g=r.rootClassName,c=r.style,s=r.className,u=r.tabIndex,d=void 0===u?0:u,C=r.items,p=r.children,A=r.direction,h=r.id,b=r.mode,f=void 0===b?"vertical":b,v=r.inlineCollapsed,y=r.disabled,Z=r.disabledOverflow,G=r.subMenuOpenDelay,S=void 0===G?.1:G,B=r.subMenuCloseDelay,k=void 0===B?.1:B,V=r.forceSubMenuRender,W=r.defaultOpenKeys,w=r.openKeys,R=r.activeKey,X=r.defaultActiveFirst,J=r.selectable,x=void 0===J||J,H=r.multiple,Y=void 0!==H&&H,N=r.defaultSelectedKeys,F=r.selectedKeys,E=r.onSelect,K=r.onDeselect,M=r.inlineIndent,L=void 0===M?24:M,z=r.motion,D=r.defaultMotions,T=r.triggerSubMenuAction,U=void 0===T?"hover":T,Q=r.builtinPlacements,j=r.itemIcon,O=r.expandIcon,P=r.overflowedIndicator,q=void 0===P?"...":P,_=r.overflowedIndicatorPopupClassName,$=r.getPopupContainer,ee=r.onClick,te=r.onOpenChange,ne=r.onKeyDown,oe=(r.openAnimation,r.openTransitionName,r._internalRenderMenuItem),re=r._internalRenderSubMenuItem,ae=ct(r,$w),ie=i.useMemo((function(){return _w(p,C,eR)}),[p,C]),le=I(i.useState(!1),2),ge=le[0],ce=le[1],se=i.useRef(),ue=function(e){var t=I(_g(e,{value:e}),2),n=t[0],o=t[1];return i.useEffect((function(){pw+=1;var e="".concat(mw,"-").concat(pw);o("rc-menu-uuid-".concat(e))}),[]),n}(h),de="rtl"===A;var Ie=_g(W,{value:w,postState:function(e){return e||eR}}),Ce=I(Ie,2),me=Ce[0],pe=Ce[1],Ae=function(e){function t(){pe(e),null===te||void 0===te||te(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,_t.flushSync)(t):t()},he=I(i.useState(me),2),be=he[0],fe=he[1],ve=i.useRef(!1),ye=I(i.useMemo((function(){return"inline"!==f&&"vertical"!==f||!v?[f,!1]:["vertical",v]}),[f,v]),2),Ze=ye[0],Ge=ye[1],Se="inline"===Ze,Be=I(i.useState(Ze),2),ke=Be[0],Ve=Be[1],We=I(i.useState(Ge),2),we=We[0],Re=We[1];i.useEffect((function(){Ve(Ze),Re(Ge),ve.current&&(Se?pe(be):Ae(eR))}),[Ze,Ge]);var Xe=I(i.useState(0),2),Je=Xe[0],xe=Xe[1],He=Je>=ie.length-1||"horizontal"!==ke||Z;i.useEffect((function(){Se&&fe(me)}),[me]),i.useEffect((function(){return ve.current=!0,function(){ve.current=!1}}),[]);var Ye=Iw(),Ne=Ye.registerPath,Fe=Ye.unregisterPath,Ee=Ye.refreshOverflowKeys,Ke=Ye.isSubPathKey,Me=Ye.getKeyPath,Le=Ye.getKeys,ze=Ye.getSubPathKeys,De=i.useMemo((function(){return{registerPath:Ne,unregisterPath:Fe}}),[Ne,Fe]),Te=i.useMemo((function(){return{isSubPathKey:Ke}}),[Ke]);i.useEffect((function(){Ee(He?eR:ie.slice(Je+1).map((function(e){return e.key})))}),[Je,He]);var Ue=I(_g(R||X&&(null===(n=ie[0])||void 0===n?void 0:n.key),{value:R}),2),Qe=Ue[0],je=Ue[1],Oe=Cw((function(e){je(e)})),Pe=Cw((function(){je(void 0)}));(0,i.useImperativeHandle)(t,(function(){return{list:se.current,focus:function(e){var t,n,o,r,a=null!==Qe&&void 0!==Qe?Qe:null===(t=ie.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;a&&(null===(n=se.current)||void 0===n||null===(o=n.querySelector("li[data-menu-id='".concat(FW(ue,a),"']")))||void 0===o||null===(r=o.focus)||void 0===r||r.call(o,e))}}}));var qe=_g(N||[],{value:F,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?eR:[e]}}),_e=I(qe,2),$e=_e[0],et=_e[1],tt=Cw((function(e){null===ee||void 0===ee||ee(vw(e)),function(e){if(x){var t,n=e.key,o=$e.includes(n);t=Y?o?$e.filter((function(e){return e!==n})):[].concat(m($e),[n]):[n],et(t);var r=gt(gt({},e),{},{selectedKeys:t});o?null===K||void 0===K||K(r):null===E||void 0===E||E(r)}!Y&&me.length&&"inline"!==ke&&Ae(eR)}(e)})),nt=Cw((function(e,t){var n=me.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==ke){var o=ze(e);n=n.filter((function(e){return!o.has(e)}))}ca(me,n,!0)||Ae(n,!0)})),ot=cw(ke,Qe,de,ue,se,Le,Me,je,(function(e,t){var n=null!==t&&void 0!==t?t:!me.includes(e);nt(e,n)}),ne);i.useEffect((function(){ce(!0)}),[]);var rt=i.useMemo((function(){return{_internalRenderMenuItem:oe,_internalRenderSubMenuItem:re}}),[oe,re]),at="horizontal"!==ke||Z?ie:ie.map((function(e,t){return i.createElement(LW,{key:e.key,overflowDisabled:t>Je},e)})),lt=i.createElement(YB,$r({id:h,ref:se,prefixCls:"".concat(l,"-overflow"),component:"ul",itemComponent:Vw,className:Pr()(l,"".concat(l,"-root"),"".concat(l,"-").concat(ke),s,(o={},it(o,"".concat(l,"-inline-collapsed"),we),it(o,"".concat(l,"-rtl"),de),o),g),dir:A,style:c,role:"menu",tabIndex:d,data:at,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ie.slice(-t):null;return i.createElement(Dw,{eventKey:dw,title:q,disabled:He,internalPopupClose:0===t,popupClassName:_},n)},maxCount:"horizontal"!==ke||Z?YB.INVALIDATE:YB.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){xe(e)},onKeyDown:ot},ae));return i.createElement(OW.Provider,{value:rt},i.createElement(NW.Provider,{value:ue},i.createElement(LW,{prefixCls:l,rootClassName:g,mode:ke,openKeys:me,rtl:de,disabled:y,motion:ge?z:null,defaultMotions:ge?D:null,activeKey:Qe,onActive:Oe,onInactive:Pe,selectedKeys:$e,inlineIndent:L,subMenuOpenDelay:S,subMenuCloseDelay:k,forceSubMenuRender:V,builtinPlacements:Q,triggerSubMenuAction:U,getPopupContainer:$,itemIcon:j,expandIcon:O,onItemClick:tt,onOpenChange:nt},i.createElement(jW.Provider,{value:Te},lt),i.createElement("div",{style:{display:"none"},"aria-hidden":!0},i.createElement(DW.Provider,{value:De},ie)))))})),nR=tR;nR.Item=Vw,nR.SubMenu=Dw,nR.ItemGroup=jw,nR.Divider=Ow;var oR=nR,rR=i.createContext({});!function(){var e=0}();var aR=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},iR=function(e){var t=e.prefixCls,n=e.className,o=e.dashed,r=aR(e,["prefixCls","className","dashed"]),a=(0,i.useContext(_r).getPrefixCls)("menu",t),l=Pr()(it({},"".concat(a,"-item-divider-dashed"),!!o),n);return i.createElement(Ow,Object.assign({className:l},r))},lR=(0,i.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),gR=function(e){var t,n,o=e.className,r=e.children,a=e.icon,l=e.title,g=e.danger,c=i.useContext(lR),s=c.prefixCls,u=c.firstLevel,d=c.direction,I=c.disableMenuItemTitleTooltip,C=c.inlineCollapsed,m=i.useContext(rR).siderCollapsed,p=l;"undefined"===typeof l?p=u?r:"":!1===l&&(p="");var A={title:p};m||C||(A.title=null,A.open=!1);var h=ta(r).length,b=i.createElement(Vw,Object.assign({},Os(e,["title","icon","danger"]),{className:Pr()((t={},it(t,"".concat(s,"-item-danger"),g),it(t,"".concat(s,"-item-only-child"),1===(a?h+1:h)),t),o),title:"string"===typeof l?l:void 0}),Fu(a,{className:Pr()(Yu(a)?null===(n=a.props)||void 0===n?void 0:n.className:"","".concat(s,"-item-icon"))}),function(e){var t=i.createElement("span",{className:"".concat(s,"-title-content")},r);return(!a||Yu(r)&&"span"===r.type)&&r&&e&&u&&"string"===typeof r?i.createElement("div",{className:"".concat(s,"-inline-collapsed-noicon")},r.charAt(0)):t}(C));return I||(b=i.createElement(Rp,Object.assign({},A,{placement:"rtl"===d?"left":"right",overlayClassName:"".concat(s,"-inline-collapsed-tooltip")}),b)),b},cR=function(e){var t,n,o=e.popupClassName,r=e.icon,a=e.title,l=e.theme,g=i.useContext(lR),c=g.prefixCls,s=g.inlineCollapsed,u=g.theme,d=QW();if(r){var I=Yu(a)&&"span"===a.type;n=i.createElement(i.Fragment,null,Fu(r,{className:Pr()(Yu(r)?null===(t=r.props)||void 0===t?void 0:t.className:"","".concat(c,"-item-icon"))}),I?a:i.createElement("span",{className:"".concat(c,"-title-content")},a))}else n=s&&!d.length&&a&&"string"===typeof a?i.createElement("div",{className:"".concat(c,"-inline-collapsed-noicon")},a.charAt(0)):i.createElement("span",{className:"".concat(c,"-title-content")},a);var C=i.useMemo((function(){return Object.assign(Object.assign({},g),{firstLevel:!1})}),[g]);return i.createElement(lR.Provider,{value:C},i.createElement(Dw,Object.assign({},Os(e,["icon"]),{title:n,popupClassName:Pr()(c,o,"".concat(c,"-").concat(l||u))})))},sR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},uR=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:sR}))};var dR=i.forwardRef(uR),IR=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function CR(e){return(e||[]).map((function(e,t){if(e&&"object"===typeof e){var n=e,o=n.label,r=n.children,a=n.key,l=n.type,g=IR(n,["label","children","key","type"]),c=null!==a&&void 0!==a?a:"tmp-".concat(t);return r||"group"===l?"group"===l?i.createElement(jw,Object.assign({key:c},g,{title:o}),CR(r)):i.createElement(cR,Object.assign({key:c},g,{title:o}),CR(r)):"divider"===l?i.createElement(iR,Object.assign({key:c},g)):i.createElement(gR,Object.assign({key:c},g),o)}return null})).filter((function(e){return e}))}function mR(e){return i.useMemo((function(){return e?CR(e):e}),[e])}var pR=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},AR=i.createContext(null),hR=i.forwardRef((function(e,t){var n=e.children,o=pR(e,["children"]),r=i.useContext(AR),a=i.useMemo((function(){return Object.assign(Object.assign({},r),o)}),[r,o.prefixCls,o.mode,o.selectable]),l=function(e){return!!(0,i.isValidElement)(e)&&!(0,ea.isFragment)(e)&&nc(e)}(n),g=tc(t,l?n.ref:null);return i.createElement(AR.Provider,{value:a},i.createElement(mu,null,l?i.cloneElement(n,{ref:g}):n))})),bR=AR,fR=function(e){var t;return it({},e.componentCls,(it(t={},"".concat(e.antCls,"-motion-collapse-legacy"),{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}),it(t,"".concat(e.antCls,"-motion-collapse"),{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}),t))},vR=function(e){var t,n=e.componentCls,o=e.motionDurationSlow,r=e.horizontalLineHeight,a=e.colorSplit,i=e.lineWidth,l=e.lineType,g=e.itemPaddingInline;return it({},"".concat(n,"-horizontal"),(it(t={lineHeight:r,border:0,borderBottom:"".concat(i,"px ").concat(l," ").concat(a),boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'}},"".concat(n,"-item, ").concat(n,"-submenu"),{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:g}),it(t,"> ".concat(n,"-item:hover,\n        > ").concat(n,"-item-active,\n        > ").concat(n,"-submenu ").concat(n,"-submenu-title:hover"),{backgroundColor:"transparent"}),it(t,"".concat(n,"-item, ").concat(n,"-submenu-title"),{transition:["border-color ".concat(o),"background ".concat(o)].join(",")}),it(t,"".concat(n,"-submenu-arrow"),{display:"none"}),t))},yR=function(e){var t,n=e.componentCls,o=e.menuArrowOffset;return it(t={},"".concat(n,"-rtl"),{direction:"rtl"}),it(t,"".concat(n,"-submenu-rtl"),{transformOrigin:"100% 0"}),it(t,"".concat(n,"-rtl").concat(n,"-vertical,\n    ").concat(n,"-submenu-rtl ").concat(n,"-vertical"),it({},"".concat(n,"-submenu-arrow"),{"&::before":{transform:"rotate(-45deg) translateY(-".concat(o,")")},"&::after":{transform:"rotate(45deg) translateY(".concat(o,")")}})),t},ZR=function(e){return Object.assign({},Yi(e))},GR=function(e,t){var n,o,r,a,i,l,g=e.componentCls,c=e.itemColor,s=e.itemSelectedColor,u=e.groupTitleColor,d=e.itemBg,I=e.subMenuItemBg,C=e.itemSelectedBg,m=e.activeBarHeight,p=e.activeBarWidth,A=e.activeBarBorderWidth,h=e.motionDurationSlow,b=e.motionEaseInOut,f=e.motionEaseOut,v=e.itemPaddingInline,y=e.motionDurationMid,Z=e.itemHoverColor,G=e.lineType,S=e.colorSplit,B=e.itemDisabledColor,k=e.dangerItemColor,V=e.dangerItemHoverColor,W=e.dangerItemSelectedColor,w=e.dangerItemActiveBg,R=e.dangerItemSelectedBg,X=e.itemHoverBg,J=e.itemActiveBg,x=e.menuSubMenuBg,H=e.horizontalItemSelectedColor,Y=e.horizontalItemSelectedBg,N=e.horizontalItemBorderRadius,F=e.horizontalItemHoverBg,E=e.popupBg;return it({},"".concat(g,"-").concat(t,", ").concat(g,"-").concat(t," > ").concat(g),(it(l={color:c,background:d},"&".concat(g,"-root:focus-visible"),Object.assign({},ZR(e))),it(l,"".concat(g,"-item-group-title"),{color:u}),it(l,"".concat(g,"-submenu-selected"),it({},"> ".concat(g,"-submenu-title"),{color:s})),it(l,"".concat(g,"-item-disabled, ").concat(g,"-submenu-disabled"),{color:"".concat(B," !important")}),it(l,"".concat(g,"-item:not(").concat(g,"-item-selected):not(").concat(g,"-submenu-selected)"),it({},"&:hover, > ".concat(g,"-submenu-title:hover"),{color:Z})),it(l,"&:not(".concat(g,"-horizontal)"),(it(n={},"".concat(g,"-item:not(").concat(g,"-item-selected)"),{"&:hover":{backgroundColor:X},"&:active":{backgroundColor:J}}),it(n,"".concat(g,"-submenu-title"),{"&:hover":{backgroundColor:X},"&:active":{backgroundColor:J}}),n)),it(l,"".concat(g,"-item-danger"),(it(o={color:k},"&".concat(g,"-item:hover"),it({},"&:not(".concat(g,"-item-selected):not(").concat(g,"-submenu-selected)"),{color:V})),it(o,"&".concat(g,"-item:active"),{background:w}),o)),it(l,"".concat(g,"-item a"),{"&, &:hover":{color:"inherit"}}),it(l,"".concat(g,"-item-selected"),(it(r={color:s},"&".concat(g,"-item-danger"),{color:W}),it(r,"a, a:hover",{color:"inherit"}),r)),it(l,"& ".concat(g,"-item-selected"),it({backgroundColor:C},"&".concat(g,"-item-danger"),{backgroundColor:R})),it(l,"".concat(g,"-item, ").concat(g,"-submenu-title"),it({},"&:not(".concat(g,"-item-disabled):focus-visible"),Object.assign({},ZR(e)))),it(l,"&".concat(g,"-submenu > ").concat(g),{backgroundColor:x}),it(l,"&".concat(g,"-popup > ").concat(g),{backgroundColor:E}),it(l,"&".concat(g,"-horizontal"),Object.assign(Object.assign({},"dark"===t?{borderBottom:0}:{}),it({},"> ".concat(g,"-item, > ").concat(g,"-submenu"),(it(a={top:A,marginTop:-A,marginBottom:0,borderRadius:N,"&::after":{position:"absolute",insetInline:v,bottom:0,borderBottom:"".concat(m,"px solid transparent"),transition:"border-color ".concat(h," ").concat(b),content:'""'}},"&:hover, &-active, &-open",{background:F,"&::after":{borderBottomWidth:m,borderBottomColor:H}}),it(a,"&-selected",{color:H,backgroundColor:Y,"&:hover":{backgroundColor:Y},"&::after":{borderBottomWidth:m,borderBottomColor:H}}),a)))),it(l,"&".concat(g,"-root"),it({},"&".concat(g,"-inline, &").concat(g,"-vertical"),{borderInlineEnd:"".concat(A,"px ").concat(G," ").concat(S)})),it(l,"&".concat(g,"-inline"),(it(i={},"".concat(g,"-sub").concat(g,"-inline"),{background:I}),it(i,"".concat(g,"-item, ").concat(g,"-submenu-title"),A&&p?{width:"calc(100% + ".concat(A,"px)")}:{}),it(i,"".concat(g,"-item"),it({position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:"".concat(p,"px solid ").concat(s),transform:"scaleY(0.0001)",opacity:0,transition:["transform ".concat(y," ").concat(f),"opacity ".concat(y," ").concat(f)].join(","),content:'""'}},"&".concat(g,"-item-danger"),{"&::after":{borderInlineEndColor:W}})),it(i,"".concat(g,"-selected, ").concat(g,"-item-selected"),{"&::after":{transform:"scaleY(1)",opacity:1,transition:["transform ".concat(y," ").concat(b),"opacity ".concat(y," ").concat(b)].join(",")}}),i)),l))},SR=function(e){var t,n=e.componentCls,o=e.itemHeight,r=e.itemMarginInline,a=e.padding,i=e.menuArrowSize,l=e.marginXS,g=e.itemMarginBlock,c=a+i+l;return it(t={},"".concat(n,"-item"),{position:"relative",overflow:"hidden"}),it(t,"".concat(n,"-item, ").concat(n,"-submenu-title"),{height:o,lineHeight:"".concat(o,"px"),paddingInline:a,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:g,width:"calc(100% - ".concat(2*r,"px)")}),it(t,"> ".concat(n,"-item,\n            > ").concat(n,"-submenu > ").concat(n,"-submenu-title"),{height:o,lineHeight:"".concat(o,"px")}),it(t,"".concat(n,"-item-group-list ").concat(n,"-submenu-title,\n            ").concat(n,"-submenu-title"),{paddingInlineEnd:c}),t},BR=function(e){var t,n,o,r,a,i,l,g=e.componentCls,c=e.iconCls,s=e.itemHeight,u=e.colorTextLightSolid,d=e.dropdownWidth,I=e.controlHeightLG,C=e.motionDurationMid,m=e.motionEaseOut,p=e.paddingXL,A=e.itemMarginInline,h=e.fontSizeLG,b=e.motionDurationSlow,f=e.paddingXS,v=e.boxShadowSecondary,y=e.collapsedWidth,Z=e.collapsedIconSize,G={height:s,lineHeight:"".concat(s,"px"),listStylePosition:"inside",listStyleType:"disc"};return[(t={},it(t,g,it({},"&-inline, &-vertical",Object.assign(it({},"&".concat(g,"-root"),{boxShadow:"none"}),SR(e)))),it(t,"".concat(g,"-submenu-popup"),it({},"".concat(g,"-vertical"),Object.assign(Object.assign({},SR(e)),{boxShadow:v}))),t),it({},"".concat(g,"-submenu-popup ").concat(g,"-vertical").concat(g,"-sub"),{minWidth:d,maxHeight:"calc(100vh - ".concat(2.5*I,"px)"),padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}),it({},"".concat(g,"-inline"),(r={width:"100%"},it(r,"&".concat(g,"-root"),it({},"".concat(g,"-item, ").concat(g,"-submenu-title"),(n={display:"flex",alignItems:"center",transition:["border-color ".concat(b),"background ".concat(b),"padding ".concat(C," ").concat(m)].join(",")},it(n,"> ".concat(g,"-title-content"),{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"}),it(n,"> *",{flex:"none"}),n))),it(r,"".concat(g,"-sub").concat(g,"-inline"),(o={padding:0,border:0,borderRadius:0,boxShadow:"none"},it(o,"& > ".concat(g,"-submenu > ").concat(g,"-submenu-title"),G),it(o,"& ".concat(g,"-item-group-title"),{paddingInlineStart:p}),o)),it(r,"".concat(g,"-item"),G),r)),it({},"".concat(g,"-inline-collapsed"),(l={width:y},it(l,"&".concat(g,"-root"),it({},"".concat(g,"-item, ").concat(g,"-submenu ").concat(g,"-submenu-title"),it({},"> ".concat(g,"-inline-collapsed-noicon"),{fontSize:h,textAlign:"center"}))),it(l,"> ".concat(g,"-item,\n          > ").concat(g,"-item-group > ").concat(g,"-item-group-list > ").concat(g,"-item,\n          > ").concat(g,"-item-group > ").concat(g,"-item-group-list > ").concat(g,"-submenu > ").concat(g,"-submenu-title,\n          > ").concat(g,"-submenu > ").concat(g,"-submenu-title"),(a={insetInlineStart:0,paddingInline:"calc(50% - ".concat(h/2,"px - ").concat(A,"px)"),textOverflow:"clip"},it(a,"\n            ".concat(g,"-submenu-arrow,\n            ").concat(g,"-submenu-expand-icon\n          "),{opacity:0}),it(a,"".concat(g,"-item-icon, ").concat(c),{margin:0,fontSize:Z,lineHeight:"".concat(s,"px"),"+ span":{display:"inline-block",opacity:0}}),a)),it(l,"".concat(g,"-item-icon, ").concat(c),{display:"inline-block"}),it(l,"&-tooltip",(i={pointerEvents:"none"},it(i,"".concat(g,"-item-icon, ").concat(c),{display:"none"}),it(i,"a, a:hover",{color:u}),i)),it(l,"".concat(g,"-item-group-title"),Object.assign(Object.assign({},Xi),{paddingInline:f})),l))]},kR=function(e){var t,n,o=e.componentCls,r=e.motionDurationSlow,a=e.motionDurationMid,i=e.motionEaseInOut,l=e.motionEaseOut,g=e.iconCls,c=e.iconSize,s=e.iconMarginInlineEnd;return it(n={},"".concat(o,"-item, ").concat(o,"-submenu-title"),(it(t={position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:["border-color ".concat(r),"background ".concat(r),"padding ".concat(r," ").concat(i)].join(",")},"".concat(o,"-item-icon, ").concat(g),{minWidth:c,fontSize:c,transition:["font-size ".concat(a," ").concat(l),"margin ".concat(r," ").concat(i),"color ".concat(r)].join(","),"+ span":{marginInlineStart:s,opacity:1,transition:["opacity ".concat(r," ").concat(i),"margin ".concat(r),"color ".concat(r)].join(",")}}),it(t,"".concat(o,"-item-icon"),Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}})),it(t,"&".concat(o,"-item-only-child"),it({},"> ".concat(g,", > ").concat(o,"-item-icon"),{marginInlineEnd:0})),t)),it(n,"".concat(o,"-item-disabled, ").concat(o,"-submenu-disabled"),it({background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"}},"> ".concat(o,"-submenu-title"),{color:"inherit !important",cursor:"not-allowed"})),n},VR=function(e){var t,n=e.componentCls,o=e.motionDurationSlow,r=e.motionEaseInOut,a=e.borderRadius,i=e.menuArrowSize,l=e.menuArrowOffset;return it({},"".concat(n,"-submenu"),(it(t={},"&-expand-icon, &-arrow",{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:i,color:"currentcolor",transform:"translateY(-50%)",transition:"transform ".concat(o," ").concat(r,", opacity ").concat(o)}),it(t,"&-arrow",{"&::before, &::after":{position:"absolute",width:.6*i,height:.15*i,backgroundColor:"currentcolor",borderRadius:a,transition:["background ".concat(o," ").concat(r),"transform ".concat(o," ").concat(r),"top ".concat(o," ").concat(r),"color ".concat(o," ").concat(r)].join(","),content:'""'},"&::before":{transform:"rotate(45deg) translateY(-".concat(l,")")},"&::after":{transform:"rotate(-45deg) translateY(".concat(l,")")}}),t))},WR=function(e){var t,n,o,r,a,i,l=e.antCls,g=e.componentCls,c=e.fontSize,s=e.motionDurationSlow,u=e.motionDurationMid,d=e.motionEaseInOut,I=e.paddingXS,C=e.padding,m=e.colorSplit,p=e.lineWidth,A=e.zIndexPopup,h=e.borderRadiusLG,b=e.subMenuItemBorderRadius,f=e.menuArrowSize,v=e.menuArrowOffset,y=e.lineType,Z=e.menuPanelMaskInset,G=e.groupTitleLineHeight,S=e.groupTitleFontSize;return[it({"":it({},"".concat(g),Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),it({},"&-hidden",{display:"none"})))},"".concat(g,"-submenu-hidden"),{display:"none"}),it({},g,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ji(e)),{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(t={marginBottom:0,paddingInlineStart:0,fontSize:c,lineHeight:0,listStyle:"none",outline:"none",transition:"width ".concat(s," cubic-bezier(0.2, 0, 0, 1) 0s")},it(t,"ul, ol",{margin:0,padding:0,listStyle:"none"}),it(t,"&-overflow",it({display:"flex"},"".concat(g,"-item"),{flex:"none"})),it(t,"".concat(g,"-item, ").concat(g,"-submenu, ").concat(g,"-submenu-title"),{borderRadius:e.itemBorderRadius}),it(t,"".concat(g,"-item-group-title"),{padding:"".concat(I,"px ").concat(C,"px"),fontSize:S,lineHeight:G,transition:"all ".concat(s)}),it(t,"&-horizontal ".concat(g,"-submenu"),{transition:["border-color ".concat(s," ").concat(d),"background ".concat(s," ").concat(d)].join(",")}),it(t,"".concat(g,"-submenu, ").concat(g,"-submenu-inline"),{transition:["border-color ".concat(s," ").concat(d),"background ".concat(s," ").concat(d),"padding ".concat(u," ").concat(d)].join(",")}),it(t,"".concat(g,"-submenu ").concat(g,"-sub"),{cursor:"initial",transition:["background ".concat(s," ").concat(d),"padding ".concat(s," ").concat(d)].join(",")}),it(t,"".concat(g,"-title-content"),{transition:"color ".concat(s)}),it(t,"".concat(g,"-item a"),{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}}),it(t,"".concat(g,"-item-divider"),{overflow:"hidden",lineHeight:0,borderColor:m,borderStyle:y,borderWidth:0,borderTopWidth:p,marginBlock:p,padding:0,"&-dashed":{borderStyle:"dashed"}}),t)),kR(e)),(a={},it(a,"".concat(g,"-item-group"),it({},"".concat(g,"-item-group-list"),it({margin:0,padding:0},"".concat(g,"-item, ").concat(g,"-submenu-title"),{paddingInline:"".concat(2*c,"px ").concat(C,"px")}))),it(a,"&-submenu",(r={"&-popup":(n={position:"absolute",zIndex:A,borderRadius:h,boxShadow:"none",transformOrigin:"0 0"},it(n,"&".concat(g,"-submenu"),{background:"transparent"}),it(n,"&::before",{position:"absolute",inset:"".concat(Z,"px 0 0"),zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}),n),"&-placement-rightTop::before":{top:0,insetInlineStart:Z}},it(r,"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ",{transformOrigin:"100% 0"}),it(r,"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ",{transformOrigin:"100% 100%"}),it(r,"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ",{transformOrigin:"0 100%"}),it(r,"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ",{transformOrigin:"0 0"}),it(r,"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ",{paddingInlineEnd:e.paddingXS}),it(r,"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ",{paddingInlineStart:e.paddingXS}),it(r,"\n          &-placement-topRight,\n          &-placement-topLeft\n          ",{paddingBottom:e.paddingXS}),it(r,"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ",{paddingTop:e.paddingXS}),it(r,"> ".concat(g),Object.assign(Object.assign(Object.assign({borderRadius:h},kR(e)),VR(e)),(o={},it(o,"".concat(g,"-item, ").concat(g,"-submenu > ").concat(g,"-submenu-title"),{borderRadius:b}),it(o,"".concat(g,"-submenu-title::after"),{transition:"transform ".concat(s," ").concat(d)}),o))),r)),a)),VR(e)),(i={},it(i,"&-inline-collapsed ".concat(g,"-submenu-arrow,\n        &-inline ").concat(g,"-submenu-arrow"),{"&::before":{transform:"rotate(-45deg) translateX(".concat(v,")")},"&::after":{transform:"rotate(45deg) translateX(-".concat(v,")")}}),it(i,"".concat(g,"-submenu-open").concat(g,"-submenu-inline > ").concat(g,"-submenu-title > ").concat(g,"-submenu-arrow"),{transform:"translateY(-".concat(.2*f,"px)"),"&::after":{transform:"rotate(-45deg) translateX(-".concat(v,")")},"&::before":{transform:"rotate(45deg) translateX(".concat(v,")")}}),i))),it({},"".concat(l,"-layout-header"),it({},g,{lineHeight:"inherit"}))]},wR=function(e,t){var n=gs("Menu",(function(e){if(!1===t)return[];var n=e.colorBgElevated,o=e.colorPrimary,r=e.colorTextLightSolid,a=e.controlHeightLG,i=e.fontSize,l=e.darkItemColor,g=e.darkDangerItemColor,c=e.darkItemBg,s=e.darkSubMenuItemBg,u=e.darkItemSelectedColor,d=e.darkItemSelectedBg,I=e.darkDangerItemSelectedBg,C=e.darkItemHoverBg,m=e.darkGroupTitleColor,p=e.darkItemHoverColor,A=e.darkItemDisabledColor,h=e.darkDangerItemHoverColor,b=e.darkDangerItemSelectedColor,f=e.darkDangerItemActiveBg,v=i/7*5,y=Mi(e,{menuArrowSize:v,menuHorizontalHeight:1.15*a,menuArrowOffset:"".concat(.25*v,"px"),menuPanelMaskInset:-7,menuSubMenuBg:n}),Z=Mi(y,{itemColor:l,itemHoverColor:p,groupTitleColor:m,itemSelectedColor:u,itemBg:c,popupBg:c,subMenuItemBg:s,itemActiveBg:"transparent",itemSelectedBg:d,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:C,itemDisabledColor:A,dangerItemColor:g,dangerItemHoverColor:h,dangerItemSelectedColor:b,dangerItemActiveBg:f,dangerItemSelectedBg:I,menuSubMenuBg:s,horizontalItemSelectedColor:r,horizontalItemSelectedBg:o});return[WR(y),vR(y),BR(y),GR(y,"light"),GR(Z,"dark"),yR(y),fR(y),rV(y,"slide-up"),rV(y,"slide-down"),vp(y,"zoom-big")]}),(function(e){var t=e.colorPrimary,n=e.colorError,o=e.colorTextDisabled,r=e.colorErrorBg,a=e.colorText,i=e.colorTextDescription,l=e.colorBgContainer,g=e.colorFillAlter,c=e.colorFillContent,s=e.lineWidth,u=e.lineWidthBold,d=e.controlItemBgActive,I=e.colorBgTextHover,C=e.controlHeightLG,m=e.lineHeight,p=e.colorBgElevated,A=e.marginXXS,h=e.padding,b=e.fontSize,f=e.controlHeightSM,v=e.fontSizeLG,y=e.colorTextLightSolid,Z=e.colorErrorHover,G=new Dc(y).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:a,itemColor:a,colorItemTextHover:a,itemHoverColor:a,colorItemTextHoverHorizontal:t,horizontalItemHoverColor:t,colorGroupTitle:i,groupTitleColor:i,colorItemTextSelected:t,itemSelectedColor:t,colorItemTextSelectedHorizontal:t,horizontalItemSelectedColor:t,colorItemBg:l,itemBg:l,colorItemBgHover:I,itemHoverBg:I,colorItemBgActive:c,itemActiveBg:d,colorSubItemBg:g,subMenuItemBg:g,colorItemBgSelected:d,itemSelectedBg:d,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:0,colorActiveBarHeight:u,activeBarHeight:u,colorActiveBarBorderSize:s,activeBarBorderWidth:s,colorItemTextDisabled:o,itemDisabledColor:o,colorDangerItemText:n,dangerItemColor:n,colorDangerItemTextHover:n,dangerItemHoverColor:n,colorDangerItemTextSelected:n,dangerItemSelectedColor:n,colorDangerItemBgActive:r,dangerItemActiveBg:r,colorDangerItemBgSelected:r,dangerItemSelectedBg:r,itemMarginInline:e.marginXXS,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:C,groupTitleLineHeight:m,collapsedWidth:2*C,popupBg:p,itemMarginBlock:A,itemPaddingInline:h,horizontalLineHeight:"".concat(1.15*C,"px"),iconSize:b,iconMarginInlineEnd:f-b,collapsedIconSize:v,groupTitleFontSize:b,darkItemDisabledColor:new Dc(y).setAlpha(.25).toRgbString(),darkItemColor:G,darkDangerItemColor:n,darkItemBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:y,darkItemSelectedBg:t,darkDangerItemSelectedBg:n,darkItemHoverBg:"transparent",darkGroupTitleColor:G,darkItemHoverColor:y,darkDangerItemHoverColor:Z,darkDangerItemSelectedColor:y,darkDangerItemActiveBg:n}}),{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]]});return n(e)},RR=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},XR=(0,i.forwardRef)((function(e,t){var n,o,r=i.useContext(bR),a=r||{},l=i.useContext(_r),g=l.getPrefixCls,c=l.getPopupContainer,s=l.direction,u=l.menu,d=g(),C=e.prefixCls,m=e.className,p=e.style,A=e.theme,h=void 0===A?"light":A,b=e.expandIcon,f=e._internalDisableMenuItemTitleTooltip,v=e.inlineCollapsed,y=e.siderCollapsed,Z=e.items,G=e.children,S=e.rootClassName,B=e.mode,k=e.selectable,V=e.onClick,W=e.overflowedIndicatorPopupClassName,w=Os(RR(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),["collapsedWidth"]),R=mR(Z)||G;null===(n=a.validator)||void 0===n||n.call(a,{mode:B});var X,J=Og((function(){var e;null===V||void 0===V||V.apply(void 0,arguments),null===(e=a.onClick)||void 0===e||e.call(a)})),x=a.mode||B,H=null!==k&&void 0!==k?k:a.selectable,Y=i.useMemo((function(){return void 0!==y?y:v}),[v,y]),N={horizontal:{motionName:"".concat(d,"-slide-up")},inline:tp(d),other:{motionName:"".concat(d,"-zoom-big")}},F=g("menu",C||a.prefixCls),E=I(wR(F,!r),2),K=E[0],M=E[1],L=Pr()("".concat(F,"-").concat(h),null===u||void 0===u?void 0:u.className,m);if("function"===typeof b)X=b;else if(null===b||!1===b)X=null;else if(null===a.expandIcon||!1===a.expandIcon)X=null;else{var z=null!==b&&void 0!==b?b:a.expandIcon;X=Fu(z,{className:Pr()("".concat(F,"-submenu-expand-icon"),Yu(z)?null===(o=z.props)||void 0===o?void 0:o.className:"")})}var D=i.useMemo((function(){return{prefixCls:F,inlineCollapsed:Y||!1,direction:s,firstLevel:!0,theme:h,mode:x,disableMenuItemTitleTooltip:f}}),[F,Y,s,f,h]);return K(i.createElement(bR.Provider,{value:null},i.createElement(lR.Provider,{value:D},i.createElement(oR,Object.assign({getPopupContainer:c,overflowedIndicator:i.createElement(dR,null),overflowedIndicatorPopupClassName:Pr()(F,"".concat(F,"-").concat(h),W),mode:x,selectable:H,onClick:J},w,{inlineCollapsed:Y,style:Object.assign(Object.assign({},null===u||void 0===u?void 0:u.style),p),className:L,prefixCls:F,direction:s,defaultMotions:N,expandIcon:X,ref:t,rootClassName:Pr()(S,M)}),R))))})),JR=XR,xR=(0,i.forwardRef)((function(e,t){var n=(0,i.useRef)(null),o=i.useContext(rR);return(0,i.useImperativeHandle)(t,(function(){return{menu:n.current,focus:function(e){var t;null===(t=n.current)||void 0===t||t.focus(e)}}})),i.createElement(JR,Object.assign({ref:n},e,o))}));xR.Item=gR,xR.SubMenu=cR,xR.Divider=iR,xR.ItemGroup=jw;var HR=xR,YR=function(e){var t=e.componentCls,n=e.menuCls,o=e.colorError,r=e.colorTextLightSolid,a="".concat(n,"-item");return it({},"".concat(t,", ").concat(t,"-menu-submenu"),it({},"".concat(n," ").concat(a),it({},"&".concat(a,"-danger:not(").concat(a,"-disabled)"),{color:o,"&:hover":{color:r,backgroundColor:o}})))},NR=function(e){var t,n,o,r,a=e.componentCls,i=e.menuCls,l=e.zIndexPopup,g=e.dropdownArrowDistance,c=e.sizePopupArrow,s=e.antCls,u=e.iconCls,d=e.motionDurationMid,I=e.dropdownPaddingVertical,C=e.fontSize,m=e.dropdownEdgeChildPadding,p=e.colorTextDisabled,A=e.fontSizeIcon,h=e.controlPaddingHorizontal,b=e.colorBgElevated;return[it({},a,Object.assign(Object.assign({},Ji(e)),(n={position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:l,display:"block","&::before":{position:"absolute",insetBlock:c/2-g,zIndex:-9999,opacity:1e-4,content:'""'}},it(n,"&-trigger".concat(s,"-btn"),it({},"& > ".concat(u,"-down, & > ").concat(s,"-btn-icon > ").concat(u,"-down"),{fontSize:A})),it(n,"".concat(a,"-wrap"),(t={position:"relative"},it(t,"".concat(s,"-btn > ").concat(u,"-down"),{fontSize:A}),it(t,"".concat(u,"-down::before"),{transition:"transform ".concat(d)}),t)),it(n,"".concat(a,"-wrap-open"),it({},"".concat(u,"-down::before"),{transform:"rotate(180deg)"})),it(n,"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ",{display:"none"}),it(n,"&".concat(s,"-slide-down-enter").concat(s,"-slide-down-enter-active").concat(a,"-placement-bottomLeft,\n          &").concat(s,"-slide-down-appear").concat(s,"-slide-down-appear-active").concat(a,"-placement-bottomLeft,\n          &").concat(s,"-slide-down-enter").concat(s,"-slide-down-enter-active").concat(a,"-placement-bottom,\n          &").concat(s,"-slide-down-appear").concat(s,"-slide-down-appear-active").concat(a,"-placement-bottom,\n          &").concat(s,"-slide-down-enter").concat(s,"-slide-down-enter-active").concat(a,"-placement-bottomRight,\n          &").concat(s,"-slide-down-appear").concat(s,"-slide-down-appear-active").concat(a,"-placement-bottomRight"),{animationName:Ok}),it(n,"&".concat(s,"-slide-up-enter").concat(s,"-slide-up-enter-active").concat(a,"-placement-topLeft,\n          &").concat(s,"-slide-up-appear").concat(s,"-slide-up-appear-active").concat(a,"-placement-topLeft,\n          &").concat(s,"-slide-up-enter").concat(s,"-slide-up-enter-active").concat(a,"-placement-top,\n          &").concat(s,"-slide-up-appear").concat(s,"-slide-up-appear-active").concat(a,"-placement-top,\n          &").concat(s,"-slide-up-enter").concat(s,"-slide-up-enter-active").concat(a,"-placement-topRight,\n          &").concat(s,"-slide-up-appear").concat(s,"-slide-up-appear-active").concat(a,"-placement-topRight"),{animationName:qk}),it(n,"&".concat(s,"-slide-down-leave").concat(s,"-slide-down-leave-active").concat(a,"-placement-bottomLeft,\n          &").concat(s,"-slide-down-leave").concat(s,"-slide-down-leave-active").concat(a,"-placement-bottom,\n          &").concat(s,"-slide-down-leave").concat(s,"-slide-down-leave-active").concat(a,"-placement-bottomRight"),{animationName:Pk}),it(n,"&".concat(s,"-slide-up-leave").concat(s,"-slide-up-leave-active").concat(a,"-placement-topLeft,\n          &").concat(s,"-slide-up-leave").concat(s,"-slide-up-leave-active").concat(a,"-placement-top,\n          &").concat(s,"-slide-up-leave").concat(s,"-slide-up-leave-active").concat(a,"-placement-topRight"),{animationName:_k}),n))),ip(e,{colorBg:b,limitVerticalRadius:!0,arrowPlacement:{top:!0,bottom:!0}}),(r={},it(r,"".concat(a," ").concat(i),{position:"relative",margin:0}),it(r,"".concat(i,"-submenu-popup"),{position:"absolute",zIndex:l,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}}),it(r,"".concat(a,", ").concat(a,"-menu-submenu"),it({},i,Object.assign(Object.assign({padding:m,listStyleType:"none",backgroundColor:b,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},Ni(e)),(o={},it(o,"".concat(i,"-item-group-title"),{padding:"".concat(I,"px ").concat(h,"px"),color:e.colorTextDescription,transition:"all ".concat(d)}),it(o,"".concat(i,"-item"),{position:"relative",display:"flex",alignItems:"center"}),it(o,"".concat(i,"-item-icon"),{minWidth:C,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM}),it(o,"".concat(i,"-title-content"),{flex:"auto","> a":{color:"inherit",transition:"all ".concat(d),"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}}),it(o,"".concat(i,"-item, ").concat(i,"-submenu-title"),Object.assign(Object.assign(it({clear:"both",margin:0,padding:"".concat(I,"px ").concat(h,"px"),color:e.colorText,fontWeight:"normal",fontSize:C,lineHeight:e.lineHeight,cursor:"pointer",transition:"all ".concat(d),borderRadius:e.borderRadiusSM},"&:hover, &-active",{backgroundColor:e.controlItemBgHover}),Ni(e)),it({"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:p,cursor:"not-allowed","&:hover":{color:p,backgroundColor:b,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:"".concat(e.marginXXS,"px 0"),overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit}},"".concat(a,"-menu-submenu-expand-icon"),it({position:"absolute",insetInlineEnd:e.paddingXS},"".concat(a,"-menu-submenu-arrow-icon"),{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:A,fontStyle:"normal"})))),it(o,"".concat(i,"-item-group-list"),{margin:"0 ".concat(e.marginXS,"px"),padding:0,listStyle:"none"}),it(o,"".concat(i,"-submenu-title"),{paddingInlineEnd:h+e.fontSizeSM}),it(o,"".concat(i,"-submenu-vertical"),{position:"relative"}),it(o,"".concat(i,"-submenu").concat(i,"-submenu-disabled ").concat(a,"-menu-submenu-title"),it({},"&, ".concat(a,"-menu-submenu-arrow-icon"),{color:p,backgroundColor:b,cursor:"not-allowed"})),it(o,"".concat(i,"-submenu-selected ").concat(a,"-menu-submenu-title"),{color:e.colorPrimary}),o)))),r),[rV(e,"slide-up"),rV(e,"slide-down"),dV(e,"move-up"),dV(e,"move-down"),vp(e,"zoom-big")]]},FR=gs("Dropdown",(function(e,t){var n=t.rootPrefixCls,o=e.marginXXS,r=e.sizePopupArrow,a=e.controlHeight,i=e.fontSize,l=e.lineHeight,g=e.paddingXXS,c=e.componentCls,s=(a-i*l)/2,u=rp({contentRadius:e.borderRadiusLG}).dropdownArrowOffset,d=Mi(e,{menuCls:"".concat(c,"-menu"),rootPrefixCls:n,dropdownArrowDistance:r/2+o,dropdownArrowOffset:u,dropdownPaddingVertical:s,dropdownEdgeChildPadding:g});return[NR(d),YR(d)]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+50}})),ER=function(e){var t=e.menu,n=e.arrow,o=e.prefixCls,r=e.children,a=e.trigger,l=e.disabled,g=e.dropdownRender,c=e.getPopupContainer,s=e.overlayClassName,u=e.rootClassName,d=e.open,C=e.onOpenChange,m=e.visible,p=e.onVisibleChange,A=e.mouseEnterDelay,h=void 0===A?.15:A,b=e.mouseLeaveDelay,f=void 0===b?.1:b,v=e.autoAdjustOverflow,y=void 0===v||v,Z=e.placement,G=void 0===Z?"":Z,S=e.overlay,B=e.transitionName,k=i.useContext(_r),V=k.getPopupContainer,W=k.getPrefixCls,w=k.direction;dp("Dropdown");var R,X=i.useMemo((function(){var e=W();return void 0!==B?B:G.includes("top")?"".concat(e,"-slide-down"):"".concat(e,"-slide-up")}),[W,G,B]),J=i.useMemo((function(){return G?G.includes("Center")?G.slice(0,G.indexOf("Center")):G:"rtl"===w?"bottomRight":"bottomLeft"}),[G,w]),x=W("dropdown",o),H=I(FR(x),2),Y=H[0],N=H[1],F=I(is(),2)[1],E=i.Children.only(r),K=Fu(E,{className:Pr()("".concat(x,"-trigger"),it({},"".concat(x,"-rtl"),"rtl"===w),E.props.className),disabled:l}),M=l?[]:a;M&&M.includes("contextMenu")&&(R=!0);var L=I(_g(!1,{value:null!==d&&void 0!==d?d:m}),2),z=L[0],D=L[1],T=Og((function(e){null===C||void 0===C||C(e),null===p||void 0===p||p(e),D(e)})),U=Pr()(s,u,N,it({},"".concat(x,"-rtl"),"rtl"===w)),Q=sp({arrowPointAtCenter:"object"===typeof n&&n.pointAtCenter,autoAdjustOverflow:y,offset:F.marginXXS,arrowWidth:n?F.sizePopupArrow:0,borderRadius:F.borderRadius}),j=i.useCallback((function(){D(!1)}),[]);return Y(i.createElement(YW,Object.assign({alignPoint:R},Os(e,["rootClassName"]),{mouseEnterDelay:h,mouseLeaveDelay:f,visible:z,builtinPlacements:Q,arrow:!!n,overlayClassName:U,prefixCls:x,getPopupContainer:c||V,transitionName:X,trigger:M,overlay:function(){var e;return e=(null===t||void 0===t?void 0:t.items)?i.createElement(HR,Object.assign({},t)):"function"===typeof S?S():S,g&&(e=g(e)),e=i.Children.only("string"===typeof e?i.createElement("span",null,e):e),i.createElement(hR,{prefixCls:"".concat(x,"-menu"),expandIcon:i.createElement("span",{className:"".concat(x,"-menu-submenu-arrow")},i.createElement(tB,{className:"".concat(x,"-menu-submenu-arrow-icon")})),mode:"vertical",selectable:!1,onClick:j,validator:function(e){e.mode}},e)},placement:J,onVisibleChange:T}),K))};var KR=jk(ER,"dropdown",(function(e){return e}),(function(e){return Object.assign(Object.assign({},e),{align:{overflow:{adjustX:!1,adjustY:!1}}})}));ER._InternalPanelDoNotUseOrYouWillBeFired=function(e){return i.createElement(KR,Object.assign({},e),i.createElement("span",null))};var MR=ER,LR=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},zR=function(e){var t=i.useContext(_r),n=t.getPopupContainer,o=t.getPrefixCls,r=t.direction,a=e.prefixCls,l=e.type,g=void 0===l?"default":l,c=e.danger,s=e.disabled,u=e.loading,d=e.onClick,C=e.htmlType,m=e.children,p=e.className,A=e.menu,h=e.arrow,b=e.autoFocus,f=e.overlay,v=e.trigger,y=e.align,Z=e.open,G=e.onOpenChange,S=e.placement,B=e.getPopupContainer,k=e.href,V=e.icon,W=void 0===V?i.createElement(dR,null):V,w=e.title,R=e.buttonsRender,X=void 0===R?function(e){return e}:R,J=e.mouseEnterDelay,x=e.mouseLeaveDelay,H=e.overlayClassName,Y=e.overlayStyle,N=e.destroyPopupOnHide,F=e.dropdownRender,E=LR(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),K=o("dropdown",a),M="".concat(K,"-button"),L=I(FR(K),2),z=L[0],D=L[1],T={menu:A,arrow:h,autoFocus:b,align:y,disabled:s,trigger:s?[]:v,onOpenChange:G,getPopupContainer:B||n,mouseEnterDelay:J,mouseLeaveDelay:x,overlayClassName:H,overlayStyle:Y,destroyPopupOnHide:N,dropdownRender:F},U=Cu(K,r),Q=U.compactSize,j=U.compactItemClassnames,O=Pr()(M,j,p,D);"overlay"in e&&(T.overlay=f),"open"in e&&(T.open=Z),T.placement="placement"in e?S:"rtl"===r?"bottomLeft":"bottomRight";var P=I(X([i.createElement(OI,{type:g,danger:c,disabled:s,loading:u,onClick:d,htmlType:C,href:k,title:w},m),i.createElement(OI,{type:g,danger:c,icon:W})]),2),q=P[0],_=P[1];return z(i.createElement(nm.Compact,Object.assign({className:O,size:Q,block:!0},E),q,i.createElement(MR,Object.assign({},T),_)))};zR.__ANT_BUTTON=!0;var DR=zR,TR=MR;TR.Button=DR;var UR=TR,QR=i.createContext(null),jR=QR.Provider,OR=QR,PR=i.createContext(null),qR=PR.Provider,_R=function(e){var t,n=e.componentCls,o=e.antCls,r="".concat(n,"-group");return it({},r,Object.assign(Object.assign({},Ji(e)),(it(t={display:"inline-block",fontSize:0},"&".concat(r,"-rtl"),{direction:"rtl"}),it(t,"".concat(o,"-badge ").concat(o,"-badge-count"),{zIndex:1}),it(t,"> ".concat(o,"-badge:not(:first-child) > ").concat(o,"-button-wrapper"),{borderInlineStart:"none"}),t)))},$R=function(e){var t,n,o=e.componentCls,r=e.wrapperMarginInlineEnd,a=e.colorPrimary,i=e.radioSize,l=e.motionDurationSlow,g=e.motionDurationMid,c=e.motionEaseInOutCirc,s=e.colorBgContainer,u=e.colorBorder,d=e.lineWidth,I=e.dotSize,C=e.colorBgContainerDisabled,m=e.colorTextDisabled,p=e.paddingXS,A=e.dotColorDisabled,h=e.lineType,b=e.radioDotDisabledSize,f=e.wireframe,v=e.colorWhite,y="".concat(o,"-inner");return it({},"".concat(o,"-wrapper"),Object.assign(Object.assign({},Ji(e)),(it(n={display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:r,cursor:"pointer"},"&".concat(o,"-wrapper-rtl"),{direction:"rtl"}),it(n,"&-disabled",{cursor:"not-allowed",color:e.colorTextDisabled}),it(n,"&::after",{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'}),it(n,"".concat(o,"-checked::after"),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:"".concat(d,"px ").concat(h," ").concat(a),borderRadius:"50%",visibility:"hidden",content:'""'}),it(n,o,Object.assign(Object.assign({},Ji(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"})),it(n,"".concat(o,"-wrapper:hover &,\n        &:hover ").concat(y),{borderColor:a}),it(n,"".concat(o,"-input:focus-visible + ").concat(y),Object.assign({},Yi(e))),it(n,"".concat(o,":hover::after, ").concat(o,"-wrapper:hover &::after"),{visibility:"visible"}),it(n,"".concat(o,"-inner"),{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:i,height:i,marginBlockStart:i/-2,marginInlineStart:i/-2,backgroundColor:f?a:v,borderBlockStart:0,borderInlineStart:0,borderRadius:i,transform:"scale(0)",opacity:0,transition:"all ".concat(l," ").concat(c),content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:i,height:i,backgroundColor:s,borderColor:u,borderStyle:"solid",borderWidth:d,borderRadius:"50%",transition:"all ".concat(g)}),it(n,"".concat(o,"-input"),{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0}),it(n,"".concat(o,"-checked"),it({},y,{borderColor:a,backgroundColor:f?s:a,"&::after":{transform:"scale(".concat(I/i,")"),opacity:1,transition:"all ".concat(l," ").concat(c)}})),it(n,"".concat(o,"-disabled"),(it(t={cursor:"not-allowed"},y,{backgroundColor:C,borderColor:u,cursor:"not-allowed","&::after":{backgroundColor:A}}),it(t,"".concat(o,"-input"),{cursor:"not-allowed"}),it(t,"".concat(o,"-disabled + span"),{color:m,cursor:"not-allowed"}),it(t,"&".concat(o,"-checked"),it({},y,{"&::after":{transform:"scale(".concat(b/i,")")}})),t)),it(n,"span".concat(o," + *"),{paddingInlineStart:p,paddingInlineEnd:p}),n)))},eX=function(e){var t,n=e.buttonColor,o=e.controlHeight,r=e.componentCls,a=e.lineWidth,i=e.lineType,l=e.colorBorder,g=e.motionDurationSlow,c=e.motionDurationMid,s=e.buttonPaddingInline,u=e.fontSize,d=e.buttonBg,I=e.fontSizeLG,C=e.controlHeightLG,m=e.controlHeightSM,p=e.paddingXS,A=e.borderRadius,h=e.borderRadiusSM,b=e.borderRadiusLG,f=e.buttonCheckedBg,v=e.buttonSolidCheckedColor,y=e.colorTextDisabled,Z=e.colorBgContainerDisabled,G=e.buttonCheckedBgDisabled,S=e.buttonCheckedColorDisabled,B=e.colorPrimary,k=e.colorPrimaryHover,V=e.colorPrimaryActive,W=e.buttonSolidCheckedBg,w=e.buttonSolidCheckedHoverBg,R=e.buttonSolidCheckedActiveBg;return it({},"".concat(r,"-button-wrapper"),(it(t={position:"relative",display:"inline-block",height:o,margin:0,paddingInline:s,paddingBlock:0,color:n,fontSize:u,lineHeight:"".concat(o-2*a,"px"),background:d,border:"".concat(a,"px ").concat(i," ").concat(l),borderBlockStartWidth:a+.02,borderInlineStartWidth:0,borderInlineEndWidth:a,cursor:"pointer",transition:["color ".concat(c),"background ".concat(c),"box-shadow ".concat(c)].join(","),a:{color:n}},"> ".concat(r,"-button"),{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"}),it(t,"&:not(:first-child)",{"&::before":{position:"absolute",insetBlockStart:-a,insetInlineStart:-a,display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:a,paddingInline:0,backgroundColor:l,transition:"background-color ".concat(g),content:'""'}}),it(t,"&:first-child",{borderInlineStart:"".concat(a,"px ").concat(i," ").concat(l),borderStartStartRadius:A,borderEndStartRadius:A}),it(t,"&:last-child",{borderStartEndRadius:A,borderEndEndRadius:A}),it(t,"&:first-child:last-child",{borderRadius:A}),it(t,"".concat(r,"-group-large &"),{height:C,fontSize:I,lineHeight:"".concat(C-2*a,"px"),"&:first-child":{borderStartStartRadius:b,borderEndStartRadius:b},"&:last-child":{borderStartEndRadius:b,borderEndEndRadius:b}}),it(t,"".concat(r,"-group-small &"),{height:m,paddingInline:p-a,paddingBlock:0,lineHeight:"".concat(m-2*a,"px"),"&:first-child":{borderStartStartRadius:h,borderEndStartRadius:h},"&:last-child":{borderStartEndRadius:h,borderEndEndRadius:h}}),it(t,"&:hover",{position:"relative",color:B}),it(t,"&:has(:focus-visible)",Object.assign({},Yi(e))),it(t,"".concat(r,"-inner, input[type='checkbox'], input[type='radio']"),{width:0,height:0,opacity:0,pointerEvents:"none"}),it(t,"&-checked:not(".concat(r,"-button-wrapper-disabled)"),{zIndex:1,color:B,background:f,borderColor:B,"&::before":{backgroundColor:B},"&:first-child":{borderColor:B},"&:hover":{color:k,borderColor:k,"&::before":{backgroundColor:k}},"&:active":{color:V,borderColor:V,"&::before":{backgroundColor:V}}}),it(t,"".concat(r,"-group-solid &-checked:not(").concat(r,"-button-wrapper-disabled)"),{color:v,background:W,borderColor:W,"&:hover":{color:v,background:w,borderColor:w},"&:active":{color:v,background:R,borderColor:R}}),it(t,"&-disabled",{color:y,backgroundColor:Z,borderColor:l,cursor:"not-allowed","&:first-child, &:hover":{color:y,backgroundColor:Z,borderColor:l}}),it(t,"&-disabled".concat(r,"-button-wrapper-checked"),{color:S,backgroundColor:G,borderColor:l,boxShadow:"none"}),t))},tX=function(e){return e-8},nX=gs("Radio",(function(e){var t=e.controlOutline,n=e.controlOutlineWidth,o=e.radioSize,r="0 0 0 ".concat(n,"px ").concat(t),a=r,i=Mi(e,{radioDotDisabledSize:tX(o),radioFocusShadow:r,radioButtonFocusShadow:a});return[_R(i),$R(i),eX(i)]}),(function(e){var t=e.wireframe,n=e.padding,o=e.marginXS,r=e.lineWidth,a=e.fontSizeLG,i=e.colorText,l=e.colorBgContainer,g=e.colorTextDisabled,c=e.controlItemBgActiveDisabled,s=e.colorTextLightSolid,u=e.colorPrimary,d=e.colorPrimaryHover,I=e.colorPrimaryActive,C=a;return{radioSize:C,dotSize:t?tX(C):C-2*(4+r),dotColorDisabled:g,buttonSolidCheckedColor:s,buttonSolidCheckedBg:u,buttonSolidCheckedHoverBg:d,buttonSolidCheckedActiveBg:I,buttonBg:l,buttonCheckedBg:l,buttonColor:i,buttonCheckedBgDisabled:c,buttonCheckedColorDisabled:g,buttonPaddingInline:n-r,wrapperMarginInlineEnd:o}})),oX=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},rX=function(e,t){var n,o,r,a=i.useContext(OR),l=i.useContext(PR),g=i.useContext(_r),c=g.getPrefixCls,s=g.direction,u=g.radio,d=ec(t,i.useRef(null)),C=i.useContext(wi).isFormItemInput,m=e.prefixCls,p=e.className,A=e.rootClassName,h=e.children,b=e.style,f=oX(e,["prefixCls","className","rootClassName","children","style"]),v=c("radio",m),y="button"===((null===a||void 0===a?void 0:a.optionType)||l),Z=y?"".concat(v,"-button"):v,G=I(nX(v),2),S=G[0],B=G[1],k=Object.assign({},f),V=i.useContext(ou);a&&(k.name=a.name,k.onChange=function(t){var n,o;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(o=null===a||void 0===a?void 0:a.onChange)||void 0===o||o.call(a,t)},k.checked=e.value===a.value,k.disabled=null!==(o=k.disabled)&&void 0!==o?o:a.disabled),k.disabled=null!==(r=k.disabled)&&void 0!==r?r:V;var W=Pr()("".concat(Z,"-wrapper"),(it(n={},"".concat(Z,"-wrapper-checked"),k.checked),it(n,"".concat(Z,"-wrapper-disabled"),k.disabled),it(n,"".concat(Z,"-wrapper-rtl"),"rtl"===s),it(n,"".concat(Z,"-wrapper-in-form-item"),C),n),null===u||void 0===u?void 0:u.className,p,A,B);return S(i.createElement(iI,{component:"Radio",disabled:k.disabled},i.createElement("label",{className:W,style:Object.assign(Object.assign({},null===u||void 0===u?void 0:u.style),b),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},i.createElement(CW,Object.assign({},k,{className:Pr()(k.className,!y&&nI),type:"radio",prefixCls:Z,ref:d})),void 0!==h?i.createElement("span",null,h):null)))};var aX=i.forwardRef(rX),iX=i.forwardRef((function(e,t){var n,o=i.useContext(_r),r=o.getPrefixCls,a=o.direction,l=I(_g(e.defaultValue,{value:e.value}),2),g=l[0],c=l[1],s=e.prefixCls,u=e.className,d=e.rootClassName,C=e.options,m=e.buttonStyle,p=void 0===m?"outline":m,A=e.disabled,h=e.children,b=e.size,f=e.style,v=e.id,y=e.onMouseEnter,Z=e.onMouseLeave,G=e.onFocus,S=e.onBlur,B=r("radio",s),k="".concat(B,"-group"),V=I(nX(B),2),W=V[0],w=V[1],R=h;C&&C.length>0&&(R=C.map((function(e){return"string"===typeof e||"number"===typeof e?i.createElement(aX,{key:e.toString(),prefixCls:B,disabled:A,value:e,checked:g===e},e):i.createElement(aX,{key:"radio-group-value-options-".concat(e.value),prefixCls:B,disabled:e.disabled||A,value:e.value,checked:g===e.value,title:e.title,style:e.style},e.label)})));var X=lu(b),J=Pr()(k,"".concat(k,"-").concat(p),(it(n={},"".concat(k,"-").concat(X),X),it(n,"".concat(k,"-rtl"),"rtl"===a),n),u,d,w);return W(i.createElement("div",Object.assign({},OZ(e,{aria:!0,data:!0}),{className:J,style:f,onMouseEnter:y,onMouseLeave:Z,onFocus:G,onBlur:S,id:v,ref:t}),i.createElement(jR,{value:{onChange:function(t){var n=g,o=t.target.value;"value"in e||c(o);var r=e.onChange;r&&o!==n&&r(t)},value:g,disabled:e.disabled,name:e.name,optionType:e.optionType}},R)))})),lX=i.memo(iX),gX=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},cX=function(e,t){var n=i.useContext(_r).getPrefixCls,o=e.prefixCls,r=gX(e,["prefixCls"]),a=n("radio",o);return i.createElement(qR,{value:"button"},i.createElement(aX,Object.assign({prefixCls:a},r,{type:"radio",ref:t})))},sX=i.forwardRef(cX),uX=aX;uX.Button=sX,uX.Group=lX,uX.__ANT_RADIO=!0;var dX=uX,IX=i.createContext(null);function CX(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var mX=function(e){for(var t=e.prefixCls,n=e.level,o=e.isStart,r=e.isEnd,a="".concat(t,"-indent-unit"),l=[],g=0;g<n;g+=1){var c;l.push(i.createElement("span",{key:g,className:Pr()(a,(c={},it(c,"".concat(a,"-start"),o[g]),it(c,"".concat(a,"-end"),r[g]),c))}))}return i.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},l)},pX=i.memo(mX);function AX(e,t){return e[t]}var hX=["children"];function bX(e,t){return"".concat(e,"-").concat(t)}function fX(e,t){return null!==e&&void 0!==e?e:t}function vX(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function yX(e){return function e(t){return ta(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return ga(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,o=t.props,r=o.children,a=gt({key:n},ct(o,hX)),i=e(r);return i.length&&(a.children=i),a})).filter((function(e){return e}))}(e)}function ZX(e,t,n){var o=vX(n),r=o._title,a=o.key,i=o.children,l=new Set(!0===t?[]:t),g=[];return function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(c,s){for(var u,d=bX(o?o.pos:"0",s),I=fX(c[a],d),C=0;C<r.length;C+=1){var p=r[C];if(void 0!==c[p]){u=c[p];break}}var A=gt(gt({},Os(c,[].concat(m(r),[a,i]))),{},{title:u,key:I,parent:o,pos:d,children:null,data:c,isStart:[].concat(m(o?o.isStart:[]),[0===s]),isEnd:[].concat(m(o?o.isEnd:[]),[s===n.length-1])});return g.push(A),!0===t||l.has(I)?A.children=e(c[i]||[],A):A.children=[],A}))}(e),g}function GX(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.initWrapper,r=n.processEntity,a=n.onProcessFinished,i=n.externalGetKey,l=n.childrenPropName,g=n.fieldNames,c=i||(arguments.length>2?arguments[2]:void 0),s={},u={},d={posEntities:s,keyEntities:u};return o&&(d=o(d)||d),function(t,n,o){var r,a=("object"===e(o)?o:{externalGetKey:o})||{},i=a.childrenPropName,l=a.externalGetKey,g=vX(a.fieldNames),c=g.key,s=g.children,u=i||s;l?"string"===typeof l?r=function(e){return e[l]}:"function"===typeof l&&(r=function(e){return l(e)}):r=function(e,t){return fX(e[c],t)},function e(o,a,i,l){var g=o?o[u]:t,c=o?bX(i.pos,a):"0",s=o?[].concat(m(l),[o]):[];if(o){var d=r(o,c),I={node:o,index:a,pos:c,key:d,parentPos:i.node?i.pos:null,level:i.level+1,nodes:s};n(I)}g&&g.forEach((function(t,n){e(t,n,{node:o,pos:c,level:i?i.level+1:-1},s)}))}(null)}(t,(function(e){var t=e.node,n=e.index,o=e.pos,a=e.key,i=e.parentPos,l=e.level,g={node:t,nodes:e.nodes,index:n,key:a,pos:o,level:l},c=fX(a,o);s[o]=g,u[c]=g,g.parent=s[i],g.parent&&(g.parent.children=g.parent.children||[],g.parent.children.push(g)),r&&r(g,d)}),{externalGetKey:c,childrenPropName:l,fieldNames:g}),a&&a(d),d}function SX(e,t){var n=t.expandedKeys,o=t.selectedKeys,r=t.loadedKeys,a=t.loadingKeys,i=t.checkedKeys,l=t.halfCheckedKeys,g=t.dragOverNodeKey,c=t.dropPosition,s=AX(t.keyEntities,e);return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==o.indexOf(e),loaded:-1!==r.indexOf(e),loading:-1!==a.indexOf(e),checked:-1!==i.indexOf(e),halfChecked:-1!==l.indexOf(e),pos:String(s?s.pos:""),dragOver:g===e&&0===c,dragOverGapTop:g===e&&-1===c,dragOverGapBottom:g===e&&1===c}}function BX(e){var t=e.data,n=e.expanded,o=e.selected,r=e.checked,a=e.loaded,i=e.loading,l=e.halfChecked,g=e.dragOver,c=e.dragOverGapTop,s=e.dragOverGapBottom,u=e.pos,d=e.active,I=e.eventKey,C=gt(gt({},t),{},{expanded:n,selected:o,checked:r,loaded:a,loading:i,halfChecked:l,dragOver:g,dragOverGapTop:c,dragOverGapBottom:s,pos:u,active:d,key:I});return"props"in C||Object.defineProperty(C,"props",{get:function(){return ga(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),C}var kX=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],VX="open",WX="close",wX=function(e){v(n,e);var t=S(n);function n(){var e;p(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,BX(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,BX(e.props))},e.onSelect=function(t){e.isDisabled()||(0,e.props.context.onNodeSelect)(t,BX(e.props))},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,o=n.disableCheckbox,r=n.checked,a=e.props.context.onNodeCheck;if(e.isCheckable()&&!o){var i=!r;a(t,BX(e.props),i)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,BX(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,BX(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,BX(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,G(e));try{t.dataTransfer.setData("text/plain","")}catch(o){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,G(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,G(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,G(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,G(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,G(e))},e.onExpand=function(t){var n=e.props,o=n.loading,r=n.context.onNodeExpand;o||r(t,BX(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?VX:WX},e.hasChildren=function(){var t=e.props.eventKey;return!!((AX(e.props.context.keyEntities,t)||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,o=t.loaded,r=e.props.context.loadData,a=e.hasChildren();return!1!==n&&(n||!r&&!a||r&&o&&!a)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,o=t.loading,r=t.loaded,a=e.props.context,i=a.loadData,l=a.onNodeLoad;o||i&&n&&!e.isLeaf()&&(e.hasChildren()||r||l(BX(e.props)))},e.isDraggable=function(){var t=e.props,n=t.data,o=t.context.draggable;return!(!o||o.nodeDraggable&&!o.nodeDraggable(n))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,o=t.prefixCls;return(null===n||void 0===n?void 0:n.icon)?i.createElement("span",{className:"".concat(o,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,o=e.props.context.switcherIcon,r=n||o;return"function"===typeof r?r(gt(gt({},e.props),{},{isLeaf:t})):r},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var o=e.renderSwitcherIconDom(!0);return!1!==o?i.createElement("span",{className:Pr()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},o):null}var r=Pr()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?VX:WX)),a=e.renderSwitcherIconDom(!1);return!1!==a?i.createElement("span",{onClick:e.onExpand,className:r},a):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,o=t.halfChecked,r=t.disableCheckbox,a=e.props.context.prefixCls,l=e.isDisabled(),g=e.isCheckable();if(!g)return null;var c="boolean"!==typeof g?g:null;return i.createElement("span",{className:Pr()("".concat(a,"-checkbox"),n&&"".concat(a,"-checkbox-checked"),!n&&o&&"".concat(a,"-checkbox-indeterminate"),(l||r)&&"".concat(a,"-checkbox-disabled")),onClick:e.onCheck},c)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return i.createElement("span",{className:Pr()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,o=e.state.dragNodeHighlight,r=e.props,a=r.title,l=void 0===a?"---":a,g=r.selected,c=r.icon,s=r.loading,u=r.data,d=e.props.context,I=d.prefixCls,C=d.showIcon,m=d.icon,p=d.loadData,A=d.titleRender,h=e.isDisabled(),b="".concat(I,"-node-content-wrapper");if(C){var f=c||m;t=f?i.createElement("span",{className:Pr()("".concat(I,"-iconEle"),"".concat(I,"-icon__customize"))},"function"===typeof f?f(e.props):f):e.renderIcon()}else p&&s&&(t=e.renderIcon());n="function"===typeof l?l(u):A?A(u):l;var v=i.createElement("span",{className:"".concat(I,"-title")},n);return i.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof l?l:"",className:Pr()("".concat(b),"".concat(b,"-").concat(e.getNodeState()||"normal"),!h&&(g||o)&&"".concat(I,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,v,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,o=t.eventKey,r=e.props.context,a=r.draggable,i=r.dropLevelOffset,l=r.dropPosition,g=r.prefixCls,c=r.indent,s=r.dropIndicatorRender,u=r.dragOverNodeKey,d=r.direction,I=!n&&!!a&&u===o,C=null!==c&&void 0!==c?c:e.cacheIndent;return e.cacheIndent=c,I?s({dropPosition:l,dropLevelOffset:i,indent:C,prefixCls:g,direction:d}):null},e}return b(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,o=t.className,r=t.style,a=t.dragOver,l=t.dragOverGapTop,g=t.dragOverGapBottom,c=t.isLeaf,s=t.isStart,u=t.isEnd,d=t.expanded,I=t.selected,C=t.checked,m=t.halfChecked,p=t.loading,A=t.domRef,h=t.active,b=(t.data,t.onMouseMove),f=t.selectable,v=ct(t,kX),y=this.props.context,Z=y.prefixCls,G=y.filterTreeNode,S=y.keyEntities,B=y.dropContainerKey,k=y.dropTargetKey,V=y.draggingNodeKey,W=this.isDisabled(),w=OZ(v,{aria:!0,data:!0}),R=(AX(S,n)||{}).level,X=u[u.length-1],J=this.isDraggable(),x=!W&&J,H=V===n,Y=void 0!==f?{"aria-selected":!!f}:void 0;return i.createElement("div",$r({ref:A,className:Pr()(o,"".concat(Z,"-treenode"),(e={},it(e,"".concat(Z,"-treenode-disabled"),W),it(e,"".concat(Z,"-treenode-switcher-").concat(d?"open":"close"),!c),it(e,"".concat(Z,"-treenode-checkbox-checked"),C),it(e,"".concat(Z,"-treenode-checkbox-indeterminate"),m),it(e,"".concat(Z,"-treenode-selected"),I),it(e,"".concat(Z,"-treenode-loading"),p),it(e,"".concat(Z,"-treenode-active"),h),it(e,"".concat(Z,"-treenode-leaf-last"),X),it(e,"".concat(Z,"-treenode-draggable"),J),it(e,"dragging",H),it(e,"drop-target",k===n),it(e,"drop-container",B===n),it(e,"drag-over",!W&&a),it(e,"drag-over-gap-top",!W&&l),it(e,"drag-over-gap-bottom",!W&&g),it(e,"filter-node",G&&G(BX(this.props))),e)),style:r,draggable:x,"aria-grabbed":H,onDragStart:x?this.onDragStart:void 0,onDragEnter:J?this.onDragEnter:void 0,onDragOver:J?this.onDragOver:void 0,onDragLeave:J?this.onDragLeave:void 0,onDrop:J?this.onDrop:void 0,onDragEnd:J?this.onDragEnd:void 0,onMouseMove:b},Y,w),i.createElement(pX,{prefixCls:Z,level:R,isStart:s,isEnd:u}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(i.Component),RX=function(e){return i.createElement(IX.Consumer,null,(function(t){return i.createElement(wX,$r({},e,{context:t}))}))};RX.displayName="TreeNode",RX.isTreeNode=1;var XX=RX;var JX=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],xX=function(e,t){var n=e.className,o=e.style,r=e.motion,a=e.motionNodes,l=e.motionType,g=e.onMotionStart,c=e.onMotionEnd,s=e.active,u=e.treeNodeRequiredProps,d=ct(e,JX),C=I(i.useState(!0),2),m=C[0],p=C[1],A=i.useContext(IX).prefixCls,h=a&&"hide"!==l;Bl((function(){a&&h!==m&&p(h)}),[a]);var b=i.useRef(!1),f=function(){a&&!b.current&&(b.current=!0,c())};!function(e,t){var n=I(i.useState(!1),2),o=n[0],r=n[1];i.useLayoutEffect((function(){if(o)return e(),function(){t()}}),[o]),i.useLayoutEffect((function(){return r(!0),function(){r(!1)}}),[])}((function(){a&&g()}),f);return a?i.createElement(zd,$r({ref:t,visible:m},r,{motionAppear:"show"===l,onVisibleChanged:function(e){h===e&&f()}}),(function(e,t){var n=e.className,o=e.style;return i.createElement("div",{ref:t,className:Pr()("".concat(A,"-treenode-motion"),n),style:o},a.map((function(e){var t=$r({},(CX(e.data),e.data)),n=e.title,o=e.key,r=e.isStart,a=e.isEnd;delete t.children;var l=SX(o,u);return i.createElement(XX,$r({},t,l,{title:n,active:s,data:e.data,key:o,isStart:r,isEnd:a}))})))})):i.createElement(XX,$r({domRef:t,className:n,style:o},d,{active:s}))};xX.displayName="MotionTreeNode";var HX=i.forwardRef(xX);function YX(e,t,n){var o=e.findIndex((function(e){return e.key===n})),r=e[o+1],a=t.findIndex((function(e){return e.key===n}));if(r){var i=t.findIndex((function(e){return e.key===r.key}));return t.slice(a+1,i)}return t.slice(a+1)}var NX=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],FX={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},EX=function(){},KX="RC_TREE_MOTION_".concat(Math.random()),MX={key:KX},LX={key:KX,level:0,index:0,pos:"0",node:MX,nodes:[MX]},zX={parent:null,children:[],pos:LX.pos,data:MX,title:null,key:KX,isStart:[],isEnd:[]};function DX(e,t,n,o){return!1!==t&&n?e.slice(0,Math.ceil(n/o)+1):e}function TX(e){return fX(e.key,e.pos)}var UX=i.forwardRef((function(e,t){var n=e.prefixCls,o=e.data,r=(e.selectable,e.checkable,e.expandedKeys),a=e.selectedKeys,l=e.checkedKeys,g=e.loadedKeys,c=e.loadingKeys,s=e.halfCheckedKeys,u=e.keyEntities,d=e.disabled,C=e.dragging,m=e.dragOverNodeKey,p=e.dropPosition,A=e.motion,h=e.height,b=e.itemHeight,f=e.virtual,v=e.focusable,y=e.activeItem,Z=e.focused,G=e.tabIndex,S=e.onKeyDown,B=e.onFocus,k=e.onBlur,V=e.onActiveChange,W=e.onListChangeStart,w=e.onListChangeEnd,R=ct(e,NX),X=i.useRef(null),J=i.useRef(null);i.useImperativeHandle(t,(function(){return{scrollTo:function(e){X.current.scrollTo(e)},getIndentWidth:function(){return J.current.offsetWidth}}}));var x=I(i.useState(r),2),H=x[0],Y=x[1],N=I(i.useState(o),2),F=N[0],E=N[1],K=I(i.useState(o),2),M=K[0],L=K[1],z=I(i.useState([]),2),D=z[0],T=z[1],U=I(i.useState(null),2),Q=U[0],j=U[1],O=i.useRef(o);function P(){var e=O.current;E(e),L(e),T([]),j(null),w()}O.current=o,Bl((function(){Y(r);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,o=t.length;if(1!==Math.abs(n-o))return{add:!1,key:null};function r(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var o=t.filter((function(e){return!n.has(e)}));return 1===o.length?o[0]:null}return n<o?{add:!0,key:r(e,t)}:{add:!1,key:r(t,e)}}(H,r);if(null!==e.key)if(e.add){var t=F.findIndex((function(t){return t.key===e.key})),n=DX(YX(F,o,e.key),f,h,b),a=F.slice();a.splice(t+1,0,zX),L(a),T(n),j("show")}else{var i=o.findIndex((function(t){return t.key===e.key})),l=DX(YX(o,F,e.key),f,h,b),g=o.slice();g.splice(i+1,0,zX),L(g),T(l),j("hide")}else F!==o&&(E(o),L(o))}),[r,o]),i.useEffect((function(){C||P()}),[C]);var q=A?M:o,_={expandedKeys:r,selectedKeys:a,loadedKeys:g,loadingKeys:c,checkedKeys:l,halfCheckedKeys:s,dragOverNodeKey:m,dropPosition:p,keyEntities:u};return i.createElement(i.Fragment,null,Z&&y&&i.createElement("span",{style:FX,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(y)),i.createElement("div",null,i.createElement("input",{style:FX,disabled:!1===v||d,tabIndex:!1!==v?G:null,onKeyDown:S,onFocus:B,onBlur:k,value:"",onChange:EX,"aria-label":"for screen reader"})),i.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},i.createElement("div",{className:"".concat(n,"-indent")},i.createElement("div",{ref:J,className:"".concat(n,"-indent-unit")}))),i.createElement(sS,$r({},R,{data:q,itemKey:TX,height:h,fullHeight:!1,virtual:f,itemHeight:b,prefixCls:"".concat(n,"-list"),ref:X,onVisibleChange:function(e,t){var n=new Set(e);t.filter((function(e){return!n.has(e)})).some((function(e){return TX(e)===KX}))&&P()}}),(function(e){var t=e.pos,n=$r({},(CX(e.data),e.data)),o=e.title,r=e.key,a=e.isStart,l=e.isEnd,g=fX(r,t);delete n.key,delete n.children;var c=SX(g,_);return i.createElement(HX,$r({},n,c,{title:o,active:!!y&&r===y.key,pos:t,data:e.data,isStart:a,isEnd:l,motion:A,motionNodes:r===KX?D:null,motionType:Q,onMotionStart:W,onMotionEnd:P,treeNodeRequiredProps:_,onMouseMove:function(){V(null)}}))})))}));UX.displayName="NodeList";var QX=UX;function jX(e,t){if(!e)return[];var n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function OX(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function PX(e){return e.split("-")}function qX(e,t){var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){var o=t.key,r=t.children;n.push(o),e(r)}))}(AX(t,e).children),n}function _X(e){if(e.parent){var t=PX(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function $X(e,t,n,o,r,a,i,l,g,c){var s,u=e.clientX,d=e.clientY,I=e.target.getBoundingClientRect(),C=I.top,m=I.height,p=(("rtl"===c?-1:1)*(((null===r||void 0===r?void 0:r.x)||0)-u)-12)/o,A=AX(l,n.props.eventKey);if(d<C+m/2){var h=i.findIndex((function(e){return e.key===A.key})),b=i[h<=0?0:h-1].key;A=AX(l,b)}var f=A.key,v=A,y=A.key,Z=0,G=0;if(!g.includes(f))for(var S=0;S<p&&_X(A);S+=1)A=A.parent,G+=1;var B=t.props.data,k=A.node,V=!0;return function(e){var t=PX(e.pos);return 0===Number(t[t.length-1])}(A)&&0===A.level&&d<C+m/2&&a({dragNode:B,dropNode:k,dropPosition:-1})&&A.key===n.props.eventKey?Z=-1:(v.children||[]).length&&g.includes(y)?a({dragNode:B,dropNode:k,dropPosition:0})?Z=0:V=!1:0===G?p>-1.5?a({dragNode:B,dropNode:k,dropPosition:1})?Z=1:V=!1:a({dragNode:B,dropNode:k,dropPosition:0})?Z=0:a({dragNode:B,dropNode:k,dropPosition:1})?Z=1:V=!1:a({dragNode:B,dropNode:k,dropPosition:1})?Z=1:V=!1,{dropPosition:Z,dropLevelOffset:G,dropTargetKey:A.key,dropTargetPos:A.pos,dragOverNodeKey:y,dropContainerKey:0===Z?null:(null===(s=A.parent)||void 0===s?void 0:s.key)||null,dropAllowed:V}}function eJ(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function tJ(t){if(!t)return null;var n;if(Array.isArray(t))n={checkedKeys:t,halfCheckedKeys:void 0};else{if("object"!==e(t))return ga(!1,"`checkedKeys` is not an array or an object"),null;n={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0}}return n}function nJ(e,t){var n=new Set;function o(e){if(!n.has(e)){var r=AX(t,e);if(r){n.add(e);var a=r.parent;r.node.disabled||a&&o(a.key)}}}return(e||[]).forEach((function(e){o(e)})),m(n)}function oJ(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function rJ(e){var t=e||{},n=t.disabled,o=t.disableCheckbox,r=t.checkable;return!(!n&&!o)||!1===r}function aJ(e,t,n,o){var r,a=[];r=o||rJ;var i,l=new Set(e.filter((function(e){var t=!!AX(n,e);return t||a.push(e),t}))),g=new Map,c=0;return Object.keys(n).forEach((function(e){var t=n[e],o=t.level,r=g.get(o);r||(r=new Set,g.set(o,r)),r.add(t),c=Math.max(c,o)})),ga(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),i=!0===t?function(e,t,n,o){for(var r=new Set(e),a=new Set,i=0;i<=n;i+=1)(t.get(i)||new Set).forEach((function(e){var t=e.key,n=e.node,a=e.children,i=void 0===a?[]:a;r.has(t)&&!o(n)&&i.filter((function(e){return!o(e.node)})).forEach((function(e){r.add(e.key)}))}));for(var l=new Set,g=n;g>=0;g-=1)(t.get(g)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!l.has(e.parent.key))if(o(e.parent.node))l.add(t.key);else{var i=!0,g=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,n=r.has(t);i&&!n&&(i=!1),g||!n&&!a.has(t)||(g=!0)})),i&&r.add(t.key),g&&a.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(oJ(a,r))}}(l,g,c,r):function(e,t,n,o,r){for(var a=new Set(e),i=new Set(t),l=0;l<=o;l+=1)(n.get(l)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,l=void 0===o?[]:o;a.has(t)||i.has(t)||r(n)||l.filter((function(e){return!r(e.node)})).forEach((function(e){a.delete(e.key)}))}));i=new Set;for(var g=new Set,c=o;c>=0;c-=1)(n.get(c)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!g.has(e.parent.key))if(r(e.parent.node))g.add(t.key);else{var o=!0,l=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=a.has(t);o&&!n&&(o=!1),l||!n&&!i.has(t)||(l=!0)})),o||a.delete(t.key),l&&i.add(t.key),g.add(t.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(oJ(i,a))}}(l,t.halfCheckedKeys,g,c,r),i}var iJ=function(t){v(o,t);var n=S(o);function o(){var e;p(this,o);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:vX()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=i.createRef(),e.onNodeDragStart=function(t,n){var o=e.state,r=o.expandedKeys,a=o.keyEntities,i=e.props.onDragStart,l=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var g=jX(r,l);e.setState({draggingNodeKey:l,dragChildrenKeys:qX(l,a),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(g),window.addEventListener("dragend",e.onWindowDragEnd),null===i||void 0===i||i({event:t,node:BX(n.props)})},e.onNodeDragEnter=function(t,n){var o=e.state,r=o.expandedKeys,a=o.keyEntities,i=o.dragChildrenKeys,l=o.flattenNodes,g=o.indent,c=e.props,s=c.onDragEnter,u=c.onExpand,d=c.allowDrop,I=c.direction,C=n.props,p=C.pos,A=C.eventKey,h=G(e).dragNode;if(e.currentMouseOverDroppableNodeKey!==A&&(e.currentMouseOverDroppableNodeKey=A),h){var b=$X(t,h,n,g,e.dragStartMousePosition,d,l,a,r,I),f=b.dropPosition,v=b.dropLevelOffset,y=b.dropTargetKey,Z=b.dropContainerKey,S=b.dropTargetPos,B=b.dropAllowed,k=b.dragOverNodeKey;-1===i.indexOf(y)&&B?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),h.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[p]=window.setTimeout((function(){if(null!==e.state.draggingNodeKey){var o=m(r),i=AX(a,n.props.eventKey);i&&(i.children||[]).length&&(o=OX(r,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(o),null===u||void 0===u||u(o,{node:BX(n.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),h.props.eventKey!==y||0!==v?(e.setState({dragOverNodeKey:k,dropPosition:f,dropLevelOffset:v,dropTargetKey:y,dropContainerKey:Z,dropTargetPos:S,dropAllowed:B}),null===s||void 0===s||s({event:t,node:BX(n.props),expandedKeys:r})):e.resetDragState()):e.resetDragState()}else e.resetDragState()},e.onNodeDragOver=function(t,n){var o=e.state,r=o.dragChildrenKeys,a=o.flattenNodes,i=o.keyEntities,l=o.expandedKeys,g=o.indent,c=e.props,s=c.onDragOver,u=c.allowDrop,d=c.direction,I=G(e).dragNode;if(I){var C=$X(t,I,n,g,e.dragStartMousePosition,u,a,i,l,d),m=C.dropPosition,p=C.dropLevelOffset,A=C.dropTargetKey,h=C.dropContainerKey,b=C.dropAllowed,f=C.dropTargetPos,v=C.dragOverNodeKey;-1===r.indexOf(A)&&b&&(I.props.eventKey===A&&0===p?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():m===e.state.dropPosition&&p===e.state.dropLevelOffset&&A===e.state.dropTargetKey&&h===e.state.dropContainerKey&&f===e.state.dropTargetPos&&b===e.state.dropAllowed&&v===e.state.dragOverNodeKey||e.setState({dropPosition:m,dropLevelOffset:p,dropTargetKey:A,dropContainerKey:h,dropTargetPos:f,dropAllowed:b,dragOverNodeKey:v}),null===s||void 0===s||s({event:t,node:BX(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey!==n.props.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var o=e.props.onDragLeave;null===o||void 0===o||o({event:t,node:BX(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var o=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null===o||void 0===o||o({event:t,node:BX(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,n){var o,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.state,i=a.dragChildrenKeys,l=a.dropPosition,g=a.dropTargetKey,c=a.dropTargetPos;if(a.dropAllowed){var s=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==g){var u=gt(gt({},SX(g,e.getTreeNodeRequiredProps())),{},{active:(null===(o=e.getActiveItem())||void 0===o?void 0:o.key)===g,data:AX(e.state.keyEntities,g).node}),d=-1!==i.indexOf(g);ga(!d,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var I=PX(c),C={event:t,node:BX(u),dragNode:e.dragNode?BX(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(i),dropToGap:0!==l,dropPosition:l+Number(I[I.length-1])};r||null===s||void 0===s||s(C),e.dragNode=null}}},e.cleanDragState=function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,n){var o=e.state,r=o.expandedKeys,a=o.flattenNodes,i=n.expanded,l=n.key;if(!(n.isLeaf||t.shiftKey||t.metaKey||t.ctrlKey)){var g=a.filter((function(e){return e.key===l}))[0],c=BX(gt(gt({},SX(l,e.getTreeNodeRequiredProps())),{},{data:g.data}));e.setExpandedKeys(i?jX(r,l):OX(r,l)),e.onNodeExpand(t,c)}},e.onNodeClick=function(t,n){var o=e.props,r=o.onClick;"click"===o.expandAction&&e.triggerExpandActionExpand(t,n),null===r||void 0===r||r(t,n)},e.onNodeDoubleClick=function(t,n){var o=e.props,r=o.onDoubleClick;"doubleClick"===o.expandAction&&e.triggerExpandActionExpand(t,n),null===r||void 0===r||r(t,n)},e.onNodeSelect=function(t,n){var o=e.state.selectedKeys,r=e.state,a=r.keyEntities,i=r.fieldNames,l=e.props,g=l.onSelect,c=l.multiple,s=n.selected,u=n[i.key],d=!s,I=(o=d?c?OX(o,u):[u]:jX(o,u)).map((function(e){var t=AX(a,e);return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:o}),null===g||void 0===g||g(o,{event:"select",selected:d,node:n,selectedNodes:I,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,o){var r,a=e.state,i=a.keyEntities,l=a.checkedKeys,g=a.halfCheckedKeys,c=e.props,s=c.checkStrictly,u=c.onCheck,d=n.key,I={event:"check",node:n,checked:o,nativeEvent:t.nativeEvent};if(s){var C=o?OX(l,d):jX(l,d);r={checked:C,halfChecked:jX(g,d)},I.checkedNodes=C.map((function(e){return AX(i,e)})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:C})}else{var p=aJ([].concat(m(l),[d]),!0,i),A=p.checkedKeys,h=p.halfCheckedKeys;if(!o){var b=new Set(A);b.delete(d);var f=aJ(Array.from(b),{checked:!1,halfCheckedKeys:h},i);A=f.checkedKeys,h=f.halfCheckedKeys}r=A,I.checkedNodes=[],I.checkedNodesPositions=[],I.halfCheckedKeys=h,A.forEach((function(e){var t=AX(i,e);if(t){var n=t.node,o=t.pos;I.checkedNodes.push(n),I.checkedNodesPositions.push({node:n,pos:o})}})),e.setUncontrolledState({checkedKeys:A},!1,{halfCheckedKeys:h})}null===u||void 0===u||u(r,I)},e.onNodeLoad=function(t){var n=t.key,o=new Promise((function(o,r){e.setState((function(a){var i=a.loadedKeys,l=void 0===i?[]:i,g=a.loadingKeys,c=void 0===g?[]:g,s=e.props,u=s.loadData,d=s.onLoad;return u&&-1===l.indexOf(n)&&-1===c.indexOf(n)?(u(t).then((function(){var r=OX(e.state.loadedKeys,n);null===d||void 0===d||d(r,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:r}),e.setState((function(e){return{loadingKeys:jX(e.loadingKeys,n)}})),o()})).catch((function(t){if(e.setState((function(e){return{loadingKeys:jX(e.loadingKeys,n)}})),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=10){var a=e.state.loadedKeys;ga(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:OX(a,n)}),o()}r(t)})),{loadingKeys:OX(c,n)}):null}))}));return o.catch((function(){})),o},e.onNodeMouseEnter=function(t,n){var o=e.props.onMouseEnter;null===o||void 0===o||o({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var o=e.props.onMouseLeave;null===o||void 0===o||o({event:t,node:n})},e.onNodeContextMenu=function(t,n){var o=e.props.onRightClick;o&&(t.preventDefault(),o({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null===t||void 0===t||t.apply(void 0,o)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null===t||void 0===t||t.apply(void 0,o)},e.getTreeNodeRequiredProps=function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}},e.setExpandedKeys=function(t){var n=e.state,o=ZX(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:o},!0)},e.onNodeExpand=function(t,n){var o=e.state.expandedKeys,r=e.state,a=r.listChanging,i=r.fieldNames,l=e.props,g=l.onExpand,c=l.loadData,s=n.expanded,u=n[i.key];if(!a){var d=o.indexOf(u),I=!s;if(ga(s&&-1!==d||!s&&-1===d,"Expand state not sync with index check"),o=I?OX(o,u):jX(o,u),e.setExpandedKeys(o),null===g||void 0===g||g(o,{node:n,expanded:I,nativeEvent:t.nativeEvent}),I&&c){var C=e.onNodeLoad(n);C&&C.then((function(){var t=ZX(e.state.treeData,o,i);e.setUncontrolledState({flattenNodes:t})})).catch((function(){var t=jX(e.state.expandedKeys,u);e.setExpandedKeys(t)}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var n=e.state.activeKey,o=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),null===o||void 0===o||o(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,o=t.flattenNodes;return null===n?null:o.find((function(e){return e.key===n}))||null},e.offsetActiveKey=function(t){var n=e.state,o=n.flattenNodes,r=n.activeKey,a=o.findIndex((function(e){return e.key===r}));-1===a&&t<0&&(a=o.length);var i=o[a=(a+t+o.length)%o.length];if(i){var l=i.key;e.onActiveChange(l)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,o=n.activeKey,r=n.expandedKeys,a=n.checkedKeys,i=n.fieldNames,l=e.props,g=l.onKeyDown,c=l.checkable,s=l.selectable;switch(t.which){case dB.UP:e.offsetActiveKey(-1),t.preventDefault();break;case dB.DOWN:e.offsetActiveKey(1),t.preventDefault()}var u=e.getActiveItem();if(u&&u.data){var d=e.getTreeNodeRequiredProps(),I=!1===u.data.isLeaf||!!(u.data[i.children]||[]).length,C=BX(gt(gt({},SX(o,d)),{},{data:u.data,active:!0}));switch(t.which){case dB.LEFT:I&&r.includes(o)?e.onNodeExpand({},C):u.parent&&e.onActiveChange(u.parent.key),t.preventDefault();break;case dB.RIGHT:I&&!r.includes(o)?e.onNodeExpand({},C):u.children&&u.children.length&&e.onActiveChange(u.children[0].key),t.preventDefault();break;case dB.ENTER:case dB.SPACE:!c||C.disabled||!1===C.checkable||C.disableCheckbox?c||!s||C.disabled||!1===C.selectable||e.onNodeSelect({},C):e.onNodeCheck({},C,!a.includes(o))}}null===g||void 0===g||g(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var r=!1,a=!0,i={};Object.keys(t).forEach((function(n){n in e.props?a=!1:(r=!0,i[n]=t[n])})),!r||n&&!a||e.setState(gt(gt({},i),o))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return b(o,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props.activeKey;void 0!==e&&e!==this.state.activeKey&&(this.setState({activeKey:e}),null!==e&&this.scrollTo({key:e}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var t,n,o=this.state,r=o.focused,a=o.flattenNodes,l=o.keyEntities,g=o.draggingNodeKey,c=o.activeKey,s=o.dropLevelOffset,u=o.dropContainerKey,d=o.dropTargetKey,I=o.dropPosition,C=o.dragOverNodeKey,m=o.indent,p=this.props,A=p.prefixCls,h=p.className,b=p.style,f=p.showLine,v=p.focusable,y=p.tabIndex,Z=void 0===y?0:y,G=p.selectable,S=p.showIcon,B=p.icon,k=p.switcherIcon,V=p.draggable,W=p.checkable,w=p.checkStrictly,R=p.disabled,X=p.motion,J=p.loadData,x=p.filterTreeNode,H=p.height,Y=p.itemHeight,N=p.virtual,F=p.titleRender,E=p.dropIndicatorRender,K=p.onContextMenu,M=p.onScroll,L=p.direction,z=p.rootClassName,D=p.rootStyle,T=OZ(this.props,{aria:!0,data:!0});return V&&(n="object"===e(V)?V:"function"===typeof V?{nodeDraggable:V}:{}),i.createElement(IX.Provider,{value:{prefixCls:A,selectable:G,showIcon:S,icon:B,switcherIcon:k,draggable:n,draggingNodeKey:g,checkable:W,checkStrictly:w,disabled:R,keyEntities:l,dropLevelOffset:s,dropContainerKey:u,dropTargetKey:d,dropPosition:I,dragOverNodeKey:C,indent:m,direction:L,dropIndicatorRender:E,loadData:J,filterTreeNode:x,titleRender:F,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},i.createElement("div",{role:"tree",className:Pr()(A,h,z,(t={},it(t,"".concat(A,"-show-line"),f),it(t,"".concat(A,"-focused"),r),it(t,"".concat(A,"-active-focused"),null!==c),t)),style:D},i.createElement(QX,$r({ref:this.listRef,prefixCls:A,style:b,data:a,disabled:R,selectable:G,checkable:!!W,motion:X,dragging:null!==g,height:H,itemHeight:Y,virtual:N,focusable:v,focused:r,tabIndex:Z,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:K,onScroll:M},this.getTreeNodeRequiredProps(),T))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,o=t.prevProps,r={prevProps:e};function a(t){return!o&&t in e||o&&o[t]!==e[t]}var i=t.fieldNames;if(a("fieldNames")&&(i=vX(e.fieldNames),r.fieldNames=i),a("treeData")?n=e.treeData:a("children")&&(ga(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=yX(e.children)),n){r.treeData=n;var l=GX(n,{fieldNames:i});r.keyEntities=gt(it({},KX,LX),l.keyEntities)}var g,c=r.keyEntities||t.keyEntities;if(a("expandedKeys")||o&&a("autoExpandParent"))r.expandedKeys=e.autoExpandParent||!o&&e.defaultExpandParent?nJ(e.expandedKeys,c):e.expandedKeys;else if(!o&&e.defaultExpandAll){var s=gt({},c);delete s[KX],r.expandedKeys=Object.keys(s).map((function(e){return s[e].key}))}else!o&&e.defaultExpandedKeys&&(r.expandedKeys=e.autoExpandParent||e.defaultExpandParent?nJ(e.defaultExpandedKeys,c):e.defaultExpandedKeys);if(r.expandedKeys||delete r.expandedKeys,n||r.expandedKeys){var u=ZX(n||t.treeData,r.expandedKeys||t.expandedKeys,i);r.flattenNodes=u}if((e.selectable&&(a("selectedKeys")?r.selectedKeys=eJ(e.selectedKeys,e):!o&&e.defaultSelectedKeys&&(r.selectedKeys=eJ(e.defaultSelectedKeys,e))),e.checkable)&&(a("checkedKeys")?g=tJ(e.checkedKeys)||{}:!o&&e.defaultCheckedKeys?g=tJ(e.defaultCheckedKeys)||{}:n&&(g=tJ(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),g)){var d=g,I=d.checkedKeys,C=void 0===I?[]:I,m=d.halfCheckedKeys,p=void 0===m?[]:m;if(!e.checkStrictly){var A=aJ(C,!0,c);C=A.checkedKeys,p=A.halfCheckedKeys}r.checkedKeys=C,r.halfCheckedKeys=p}return a("loadedKeys")&&(r.loadedKeys=e.loadedKeys),r}}]),o}(i.Component);iJ.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,o=e.indent,r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:r.top=0,r.left=-n*o;break;case 1:r.bottom=0,r.left=-n*o;break;case 0:r.bottom=0,r.left=o}return i.createElement("div",{style:r})},allowDrop:function(){return!0},expandAction:!1},iJ.TreeNode=XX;var lJ=iJ,gJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},cJ=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:gJ}))};var sJ=i.forwardRef(cJ),uJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},dJ=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:uJ}))};var IJ=i.forwardRef(dJ),CJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},mJ=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:CJ}))};var pJ=i.forwardRef(mJ),AJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},hJ=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:AJ}))};var bJ=i.forwardRef(hJ),fJ=new Qg("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),vJ=function(e,t){var n,o,r,a,i,l,g=t.treeCls,c=t.treeNodeCls,s=t.treeNodePadding,u=t.titleHeight,d=t.nodeSelectedBg,I=t.nodeHoverBg,C=t.paddingXS;return it({},g,Object.assign(Object.assign({},Ji(t)),(it(l={background:t.colorBgContainer,borderRadius:t.borderRadius,transition:"background-color ".concat(t.motionDurationSlow)},"&".concat(g,"-rtl"),it({},"".concat(g,"-switcher"),{"&_close":it({},"".concat(g,"-switcher-icon"),{svg:{transform:"rotate(90deg)"}})})),it(l,"&-focused:not(:hover):not(".concat(g,"-active-focused)"),Object.assign({},Yi(t))),it(l,"".concat(g,"-list-holder-inner"),{alignItems:"flex-start"}),it(l,"&".concat(g,"-block-node"),it({},"".concat(g,"-list-holder-inner"),(it(n={alignItems:"stretch"},"".concat(g,"-node-content-wrapper"),{flex:"auto"}),it(n,"".concat(c,".dragging"),{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:s,insetInlineStart:0,border:"1px solid ".concat(t.colorPrimary),opacity:0,animationName:fJ,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}),n))),it(l,"".concat(c),(r={display:"flex",alignItems:"flex-start",padding:"0 0 ".concat(s,"px 0"),outline:"none","&-rtl":{direction:"rtl"},"&-disabled":it({},"".concat(g,"-node-content-wrapper"),{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}})},it(r,"&-active ".concat(g,"-node-content-wrapper"),Object.assign({},Yi(t))),it(r,"&:not(".concat(c,"-disabled).filter-node ").concat(g,"-title"),{color:"inherit",fontWeight:500}),it(r,"&-draggable",(it(o={},"".concat(g,"-draggable-icon"),it({flexShrink:0,width:u,lineHeight:"".concat(u,"px"),textAlign:"center",visibility:"visible",opacity:.2,transition:"opacity ".concat(t.motionDurationSlow)},"".concat(c,":hover &"),{opacity:.45})),it(o,"&".concat(c,"-disabled"),it({},"".concat(g,"-draggable-icon"),{visibility:"hidden"})),o)),r)),it(l,"".concat(g,"-indent"),{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:u}}),it(l,"".concat(g,"-draggable-icon"),{visibility:"hidden"}),it(l,"".concat(g,"-switcher"),Object.assign(Object.assign({},function(e,t){return it({},".".concat(e,"-switcher-icon"),{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:"transform ".concat(t.motionDurationSlow)}})}(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:u,margin:0,lineHeight:"".concat(u,"px"),textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":it({},"".concat(g,"-switcher-icon"),{svg:{transform:"rotate(-90deg)"}}),"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:u/2,bottom:-s,marginInlineStart:-1,borderInlineEnd:"1px solid ".concat(t.colorBorder),content:'""'},"&:after":{position:"absolute",width:u/2*.8,height:u/2,borderBottom:"1px solid ".concat(t.colorBorder),content:'""'}}})),it(l,"".concat(g,"-checkbox"),{top:"initial",marginInlineEnd:C,alignSelf:"flex-start",marginTop:t.marginXXS}),it(l,"".concat(g,"-node-content-wrapper, ").concat(g,"-checkbox + span"),(it(a={position:"relative",zIndex:"auto",minHeight:u,margin:0,padding:"0 ".concat(t.paddingXS/2,"px"),color:"inherit",lineHeight:"".concat(u,"px"),background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:"all ".concat(t.motionDurationMid,", border 0s, line-height 0s, box-shadow 0s"),"&:hover":{backgroundColor:I}},"&".concat(g,"-node-selected"),{backgroundColor:d}),it(a,"".concat(g,"-iconEle"),{display:"inline-block",width:u,height:u,lineHeight:"".concat(u,"px"),textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}),a)),it(l,"".concat(g,"-unselectable ").concat(g,"-node-content-wrapper:hover"),{backgroundColor:"transparent"}),it(l,"".concat(g,"-node-content-wrapper"),Object.assign({lineHeight:"".concat(u,"px"),userSelect:"none"},function(e,t){return it({},".".concat(e,"-drop-indicator"),{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:"".concat(t.lineWidthBold,"px solid ").concat(t.colorPrimary),borderRadius:"50%",content:'""'}})}(e,t))),it(l,"".concat(c,".drop-container"),{"> [draggable]":{boxShadow:"0 0 0 2px ".concat(t.colorPrimary)}}),it(l,"&-show-line",(it(i={},"".concat(g,"-indent"),{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:u/2,bottom:-s,borderInlineEnd:"1px solid ".concat(t.colorBorder),content:'""'},"&-end":{"&:before":{display:"none"}}}}),it(i,"".concat(g,"-switcher"),{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}),i)),it(l,"".concat(c,"-leaf-last"),it({},"".concat(g,"-switcher"),{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:"".concat(u/2,"px !important")}}})),l)))},yJ=function(e){var t,n,o=e.treeCls,r=e.treeNodeCls,a=e.treeNodePadding,i=e.directoryNodeSelectedBg,l=e.directoryNodeSelectedColor;return it({},"".concat(o).concat(o,"-directory"),it({},r,(it(n={position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,transition:"background-color ".concat(e.motionDurationMid),content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1}},"".concat(o,"-switcher"),{transition:"color ".concat(e.motionDurationMid)}),it(n,"".concat(o,"-node-content-wrapper"),it({borderRadius:0,userSelect:"none","&:hover":{background:"transparent"}},"&".concat(o,"-node-selected"),{color:l,background:"transparent"})),it(n,"&-selected",(it(t={},"\n            &:hover::before,\n            &::before\n          ",{background:i}),it(t,"".concat(o,"-switcher"),{color:l}),it(t,"".concat(o,"-node-content-wrapper"),{color:l,background:"transparent"}),t)),n)))},ZJ=function(e,t){var n=".".concat(e),o=Mi(t,{treeCls:n,treeNodeCls:"".concat(n,"-treenode"),treeNodePadding:t.paddingXS/2});return[vJ(e,o),yJ(o)]},GJ=gs("Tree",(function(e,t){var n=t.prefixCls;return[it({},e.componentCls,AW("".concat(n,"-checkbox"),e)),ZJ(n,e),fR(e)]}),(function(e){var t=e.colorTextLightSolid,n=e.colorPrimary;return Object.assign(Object.assign({},function(e){return{titleHeight:e.controlHeightSM,nodeHoverBg:e.controlItemBgHover,nodeSelectedBg:e.controlItemBgActive}}(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})}));function SJ(e){var t,n=e.dropPosition,o=e.dropLevelOffset,r=e.prefixCls,a=e.indent,l=e.direction,g=void 0===l?"ltr":l,c="ltr"===g?"left":"right",s="ltr"===g?"right":"left",u=(it(t={},c,-o*a+4),it(t,s,0),t);switch(n){case-1:u.top=-3;break;case 1:u.bottom=-3;break;default:u.bottom=-3,u[c]=a+4}return i.createElement("div",{style:u,className:"".concat(r,"-drop-indicator")})}var BJ={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},kJ=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:BJ}))};var VJ=i.forwardRef(kJ),WJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},wJ=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:WJ}))};var RJ=i.forwardRef(wJ),XJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},JJ=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:XJ}))};var xJ=i.forwardRef(JJ),HJ=function(e){var t,n=e.prefixCls,o=e.switcherIcon,r=e.treeNodeProps,a=e.showLine,l=r.isLeaf,g=r.expanded;if(r.loading)return i.createElement(bI,{className:"".concat(n,"-switcher-loading-icon")});if(a&&"object"===typeof a&&(t=a.showLeafIcon),l){if(!a)return null;if("boolean"!==typeof t&&t){var c="function"===typeof t?t(r):t,s="".concat(n,"-switcher-line-custom-icon");return Yu(c)?Fu(c,{className:Pr()(c.props.className||"",s)}):c}return t?i.createElement(sJ,{className:"".concat(n,"-switcher-line-icon")}):i.createElement("span",{className:"".concat(n,"-switcher-leaf-line")})}var u="".concat(n,"-switcher-icon"),d="function"===typeof o?o(r):o;return Yu(d)?Fu(d,{className:Pr()(d.props.className||"",u)}):void 0!==d?d:a?g?i.createElement(RJ,{className:"".concat(n,"-switcher-line-icon")}):i.createElement(xJ,{className:"".concat(n,"-switcher-line-icon")}):i.createElement(VJ,{className:u})},YJ=i.forwardRef((function(e,t){var n,o=i.useContext(_r),r=o.getPrefixCls,a=o.direction,l=o.virtual,g=o.tree,c=e.prefixCls,s=e.className,u=e.showIcon,d=void 0!==u&&u,C=e.showLine,m=e.switcherIcon,p=e.blockNode,A=void 0!==p&&p,h=e.children,b=e.checkable,f=void 0!==b&&b,v=e.selectable,y=void 0===v||v,Z=e.draggable,G=e.motion,S=e.style,B=r("tree",c),k=r(),V=null!==G&&void 0!==G?G:Object.assign(Object.assign({},tp(k)),{motionAppear:!1}),W=Object.assign(Object.assign({},e),{checkable:f,selectable:y,showIcon:d,motion:V,blockNode:A,showLine:Boolean(C),dropIndicatorRender:SJ}),w=I(GJ(B),2),R=w[0],X=w[1],J=i.useMemo((function(){if(!Z)return!1;var e={};switch(typeof Z){case"function":e.nodeDraggable=Z;break;case"object":e=Object.assign({},Z)}return!1!==e.icon&&(e.icon=e.icon||i.createElement(bJ,null)),e}),[Z]);return R(i.createElement(lJ,Object.assign({itemHeight:20,ref:t,virtual:l},W,{style:Object.assign(Object.assign({},null===g||void 0===g?void 0:g.style),S),prefixCls:B,className:Pr()((n={},it(n,"".concat(B,"-icon-hide"),!d),it(n,"".concat(B,"-block-node"),A),it(n,"".concat(B,"-unselectable"),!y),it(n,"".concat(B,"-rtl"),"rtl"===a),n),null===g||void 0===g?void 0:g.className,s,X),direction:a,checkable:f?i.createElement("span",{className:"".concat(B,"-checkbox-inner")}):f,selectable:y,switcherIcon:function(e){return i.createElement(HJ,{prefixCls:B,switcherIcon:m,treeNodeProps:e,showLine:C})},draggable:J}),h))}));var NJ,FJ=YJ;function EJ(e,t){e.forEach((function(e){var n=e.key,o=e.children;!1!==t(n,e)&&EJ(o||[],t)}))}function KJ(e){var t=e.treeData,n=e.expandedKeys,o=e.startKey,r=e.endKey,a=[],i=NJ.None;if(o&&o===r)return[o];if(!o||!r)return[];return EJ(t,(function(e){if(i===NJ.End)return!1;if(function(e){return e===o||e===r}(e)){if(a.push(e),i===NJ.None)i=NJ.Start;else if(i===NJ.Start)return i=NJ.End,!1}else i===NJ.Start&&a.push(e);return n.includes(e)})),a}function MJ(e,t){var n=m(t),o=[];return EJ(e,(function(e,t){var r=n.indexOf(e);return-1!==r&&(o.push(t),n.splice(r,1)),!!n.length})),o}!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"}(NJ||(NJ={}));var LJ=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function zJ(e){var t=e.isLeaf,n=e.expanded;return t?i.createElement(sJ,null):n?i.createElement(IJ,null):i.createElement(pJ,null)}function DJ(e){var t=e.treeData,n=e.children;return t||yX(n)}var TJ=function(e,t){var n=e.defaultExpandAll,o=e.defaultExpandParent,r=e.defaultExpandedKeys,a=LJ(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),l=i.useRef(),g=i.useRef(),c=I(i.useState(a.selectedKeys||a.defaultSelectedKeys||[]),2),s=c[0],u=c[1],d=I(i.useState((function(){return function(){var e=GX(DJ(a)).keyEntities;return n?Object.keys(e):o?nJ(a.expandedKeys||r||[],e):a.expandedKeys||r}()})),2),C=d[0],p=d[1];i.useEffect((function(){"selectedKeys"in a&&u(a.selectedKeys)}),[a.selectedKeys]),i.useEffect((function(){"expandedKeys"in a&&p(a.expandedKeys)}),[a.expandedKeys]);var A=i.useContext(_r),h=A.getPrefixCls,b=A.direction,f=a.prefixCls,v=a.className,y=a.showIcon,Z=void 0===y||y,G=a.expandAction,S=void 0===G?"click":G,B=LJ(a,["prefixCls","className","showIcon","expandAction"]),k=h("tree",f),V=Pr()("".concat(k,"-directory"),it({},"".concat(k,"-directory-rtl"),"rtl"===b),v);return i.createElement(FJ,Object.assign({icon:zJ,ref:t,blockNode:!0},B,{showIcon:Z,expandAction:S,prefixCls:k,className:V,expandedKeys:C,selectedKeys:s,onSelect:function(e,t){var n,o,r=a.multiple,i=t.node,c=t.nativeEvent,s=i.key,d=void 0===s?"":s,I=DJ(a),p=Object.assign(Object.assign({},t),{selected:!0}),A=(null===c||void 0===c?void 0:c.ctrlKey)||(null===c||void 0===c?void 0:c.metaKey),h=null===c||void 0===c?void 0:c.shiftKey;r&&A?(o=e,l.current=d,g.current=o,p.selectedNodes=MJ(I,o)):r&&h?(o=Array.from(new Set([].concat(m(g.current||[]),m(KJ({treeData:I,expandedKeys:C,startKey:d,endKey:l.current}))))),p.selectedNodes=MJ(I,o)):(o=[d],l.current=d,g.current=o,p.selectedNodes=MJ(I,o)),null===(n=a.onSelect)||void 0===n||n.call(a,o,p),"selectedKeys"in a||u(o)},onExpand:function(e,t){var n;return"expandedKeys"in a||p(e),null===(n=a.onExpand)||void 0===n?void 0:n.call(a,e,t)}}))};var UJ=i.forwardRef(TJ),QJ=FJ;QJ.DirectoryTree=UJ,QJ.TreeNode=XX;var jJ=QJ;var OJ=function(e){var t=e.value,n=e.onChange,o=e.filterSearch,r=e.tablePrefixCls,a=e.locale;return o?i.createElement("div",{className:"".concat(r,"-filter-dropdown-search")},i.createElement(UC,{prefix:i.createElement(Hu,null),placeholder:a.filterSearchPlaceholder,onChange:n,value:t,htmlSize:1,className:"".concat(r,"-filter-dropdown-search-input")})):null},PJ=function(e){e.keyCode===dB.ENTER&&e.stopPropagation()};var qJ=i.forwardRef((function(e,t){return i.createElement("div",{className:e.className,onClick:function(e){return e.stopPropagation()},onKeyDown:PJ,ref:t},e.children)}));function _J(e){var t=[];return(e||[]).forEach((function(e){var n=e.value,o=e.children;t.push(n),o&&(t=[].concat(m(t),m(_J(o))))})),t}function $J(e,t){return("string"===typeof t||"number"===typeof t)&&(null===t||void 0===t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function ex(e){var t=e.filters,n=e.prefixCls,o=e.filteredKeys,r=e.filterMultiple,a=e.searchValue,l=e.filterSearch;return t.map((function(e,t){var g=String(e.value);if(e.children)return{key:g||t,label:e.text,popupClassName:"".concat(n,"-dropdown-submenu"),children:ex({filters:e.children,prefixCls:n,filteredKeys:o,filterMultiple:r,searchValue:a,filterSearch:l})};var c=r?kW:dX,s={key:void 0!==e.value?g:t,label:i.createElement(i.Fragment,null,i.createElement(c,{checked:o.includes(g)}),i.createElement("span",null,e.text))};return a.trim()?"function"===typeof l?l(a,e)?s:null:$J(a,e.text)?s:null:s}))}function tx(e){return e||[]}var nx=function(e){var t,n,o=e.tablePrefixCls,r=e.prefixCls,a=e.column,l=e.dropdownPrefixCls,g=e.columnKey,c=e.filterMultiple,s=e.filterMode,u=void 0===s?"menu":s,d=e.filterSearch,C=void 0!==d&&d,m=e.filterState,p=e.triggerFilter,A=e.locale,h=e.children,b=e.getPopupContainer,f=a.filterDropdownOpen,v=a.onFilterDropdownOpenChange,y=a.filterResetToDefaultFilteredValue,Z=a.defaultFilteredValue,G=a.filterDropdownVisible,S=a.onFilterDropdownVisibleChange,B=I(i.useState(!1),2),k=B[0],V=B[1],W=!(!m||!(null===(t=m.filteredKeys)||void 0===t?void 0:t.length)&&!m.forceFiltered),w=function(e){V(e),null===v||void 0===v||v(e),null===S||void 0===S||S(e)},R=null!==(n=null!==f&&void 0!==f?f:G)&&void 0!==n?n:k,X=null===m||void 0===m?void 0:m.filteredKeys,J=I(function(e){var t=i.useRef(e),n=Hp();return[function(){return t.current},function(e){t.current=e,n()}]}(tx(X)),2),x=J[0],H=J[1],Y=function(e){var t=e.selectedKeys;H(t)},N=function(e,t){var n=t.node,o=t.checked;Y(c?{selectedKeys:e}:{selectedKeys:o&&n.key?[n.key]:[]})};i.useEffect((function(){k&&Y({selectedKeys:tx(X)})}),[X]);var F=I(i.useState([]),2),E=F[0],K=F[1],M=function(e){K(e)},L=I(i.useState(""),2),z=L[0],D=L[1],T=function(e){var t=e.target.value;D(t)};i.useEffect((function(){k||D("")}),[k]);var U,Q,j=function(e){var t=e&&e.length?e:null;return null!==t||m&&m.filteredKeys?ca(t,null===m||void 0===m?void 0:m.filteredKeys,!0)?null:void p({column:a,key:g,filteredKeys:t}):null},O=function(){w(!1),j(x())},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{confirm:!1,closeDropdown:!1},t=e.confirm,n=e.closeDropdown;t&&j([]),n&&w(!1),D(""),H(y?(Z||[]).map((function(e){return String(e)})):[])},q=Pr()(it({},"".concat(l,"-menu-without-submenu"),!(a.filters||[]).some((function(e){return e.children})))),_=function(e){if(e.target.checked){var t=_J(null===a||void 0===a?void 0:a.filters).map((function(e){return String(e)}));H(t)}else H([])},$=function e(t){return(t.filters||[]).map((function(t,n){var o=String(t.value),r={title:t.text,key:void 0!==t.value?o:String(n)};return t.children&&(r.children=e({filters:t.children})),r}))},ee=function e(t){var n;return Object.assign(Object.assign({},t),{text:t.title,value:t.key,children:(null===(n=t.children)||void 0===n?void 0:n.map((function(t){return e(t)})))||[]})};if("function"===typeof a.filterDropdown)U=a.filterDropdown({prefixCls:"".concat(l,"-custom"),setSelectedKeys:function(e){return Y({selectedKeys:e})},selectedKeys:x(),confirm:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0}).closeDropdown&&w(!1),j(x())},clearFilters:P,filters:a.filters,visible:R,close:function(){w(!1)}});else if(a.filterDropdown)U=a.filterDropdown;else{var te=x()||[];U=i.createElement(i.Fragment,null,0===(a.filters||[]).length?i.createElement(LS,{image:LS.PRESENTED_IMAGE_SIMPLE,description:A.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):"tree"===u?i.createElement(i.Fragment,null,i.createElement(OJ,{filterSearch:C,value:z,onChange:T,tablePrefixCls:o,locale:A}),i.createElement("div",{className:"".concat(o,"-filter-dropdown-tree")},c?i.createElement(kW,{checked:te.length===_J(a.filters).length,indeterminate:te.length>0&&te.length<_J(a.filters).length,className:"".concat(o,"-filter-dropdown-checkall"),onChange:_},A.filterCheckall):null,i.createElement(jJ,{checkable:!0,selectable:!1,blockNode:!0,multiple:c,checkStrictly:!c,className:"".concat(l,"-menu"),onCheck:N,checkedKeys:te,selectedKeys:te,showIcon:!1,treeData:$({filters:a.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:z.trim()?function(e){return"function"===typeof C?C(z,ee(e)):$J(z,e.title)}:void 0}))):i.createElement(i.Fragment,null,i.createElement(OJ,{filterSearch:C,value:z,onChange:T,tablePrefixCls:o,locale:A}),i.createElement(HR,{selectable:!0,multiple:c,prefixCls:"".concat(l,"-menu"),className:q,onSelect:Y,onDeselect:Y,selectedKeys:te,getPopupContainer:b,openKeys:E,onOpenChange:M,items:ex({filters:a.filters||[],filterSearch:C,prefixCls:r,filteredKeys:x(),filterMultiple:c,searchValue:z})})),i.createElement("div",{className:"".concat(r,"-dropdown-btns")},i.createElement(OI,{type:"link",size:"small",disabled:y?ca((Z||[]).map((function(e){return String(e)})),te,!0):0===te.length,onClick:function(){return P()}},A.filterReset),i.createElement(OI,{type:"primary",size:"small",onClick:O},A.filterConfirm)))}a.filterDropdown&&(U=i.createElement(hR,{selectable:void 0},U)),Q="function"===typeof a.filterIcon?a.filterIcon(W):a.filterIcon?a.filterIcon:i.createElement(uW,null);var ne=i.useContext(_r).direction;return i.createElement("div",{className:"".concat(r,"-column")},i.createElement("span",{className:"".concat(o,"-column-title")},h),i.createElement(UR,{dropdownRender:function(){return i.createElement(qJ,{className:"".concat(r,"-dropdown")},U)},trigger:["click"],open:R,onOpenChange:function(e){e&&void 0!==X&&H(tx(X)),w(e),e||a.filterDropdown||O()},getPopupContainer:b,placement:"rtl"===ne?"bottomLeft":"bottomRight"},i.createElement("span",{role:"button",tabIndex:-1,className:Pr()("".concat(r,"-trigger"),{active:W}),onClick:function(e){e.stopPropagation()}},Q)))};function ox(e,t,n){var o=[];return(e||[]).forEach((function(e,r){var a,i=lW(r,n);if(e.filters||"filterDropdown"in e||"onFilter"in e)if("filteredValue"in e){var l=e.filteredValue;"filterDropdown"in e||(l=null!==(a=null===l||void 0===l?void 0:l.map(String))&&void 0!==a?a:l),o.push({column:e,key:iW(e,i),filteredKeys:l,forceFiltered:e.filtered})}else o.push({column:e,key:iW(e,i),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(o=[].concat(m(o),m(ox(e.children,t,i))))})),o}function rx(e,t,n,o,r,a,l,g){return n.map((function(n,c){var s=lW(c,g),u=n.filterMultiple,d=void 0===u||u,I=n.filterMode,C=n.filterSearch,m=n;if(m.filters||m.filterDropdown){var p=iW(m,s),A=o.find((function(e){var t=e.key;return p===t}));m=Object.assign(Object.assign({},m),{title:function(o){return i.createElement(nx,{tablePrefixCls:e,prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:t,column:m,columnKey:p,filterState:A,filterMultiple:d,filterMode:I,filterSearch:C,triggerFilter:a,locale:r,getPopupContainer:l},gW(n.title,o))}})}return"children"in m&&(m=Object.assign(Object.assign({},m),{children:rx(e,t,m.children,o,r,a,l,s)})),m}))}function ax(e){var t={};return e.forEach((function(e){var n=e.key,o=e.filteredKeys,r=e.column,a=n,i=r.filters;if(r.filterDropdown)t[a]=o||null;else if(Array.isArray(o)){var l=_J(i);t[a]=l.filter((function(e){return o.includes(String(e))}))}else t[a]=null})),t}function ix(e,t){return t.reduce((function(e,t){var n=t.column,o=n.onFilter,r=n.filters,a=t.filteredKeys;return o&&a&&a.length?e.filter((function(e){return a.some((function(t){var n=_J(r),a=n.findIndex((function(e){return String(e)===String(t)})),i=-1!==a?n[a]:t;return o(i,e)}))})):e}),e)}var lx=function e(t){return t.flatMap((function(t){return"children"in t?[t].concat(m(e(t.children||[]))):[t]}))};var gx=function(e){var t=e.prefixCls,n=e.dropdownPrefixCls,o=e.mergedColumns,r=e.onFilterChange,a=e.getPopupContainer,l=e.locale,g=(dp("Table"),i.useMemo((function(){return lx(o||[])}),[o])),c=I(i.useState((function(){return ox(g,!0)})),2),s=c[0],u=c[1],d=i.useMemo((function(){var e=ox(g,!1);if(0===e.length)return e;var t=!0;if(e.forEach((function(e){void 0!==e.filteredKeys?t=!1:!1})),t){var n=(g||[]).map((function(e,t){return iW(e,lW(t))}));return s.filter((function(e){var t=e.key;return n.includes(t)})).map((function(e){var t=g[n.findIndex((function(t){return t===e.key}))];return Object.assign(Object.assign({},e),{column:Object.assign(Object.assign({},e.column),t),forceFiltered:t.filtered})}))}return e}),[g,s]),C=i.useMemo((function(){return ax(d)}),[d]),m=function(e){var t=d.filter((function(t){return t.key!==e.key}));t.push(e),u(t),r(ax(t),t)};return[function(e){return rx(t,n,e,d,l,m,a)},d,C]};var cx=function(){for(var e=arguments,t=Object.assign({},arguments.length<=0?void 0:arguments[0]),n=function(){var n=o<0||e.length<=o?void 0:e[o];n&&Object.keys(n).forEach((function(e){var o=n[e];void 0!==o&&(t[e]=o)}))},o=1;o<arguments.length;o++)n();return t},sx=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};var ux=function(e,t,n){var o=n&&"object"===typeof n?n:{},r=o.total,a=void 0===r?0:r,l=sx(o,["total"]),g=I((0,i.useState)((function(){return{current:"defaultCurrent"in l?l.defaultCurrent:1,pageSize:"defaultPageSize"in l?l.defaultPageSize:10}})),2),c=g[0],s=g[1],u=cx(c,l,{total:a>0?a:e}),d=Math.ceil((a||e)/u.pageSize);u.current>d&&(u.current=d||1);var C=function(e,t){s({current:null!==e&&void 0!==e?e:1,pageSize:t||u.pageSize})};return!1===n?[{},function(){}]:[Object.assign(Object.assign({},u),{onChange:function(e,o){var r;n&&(null===(r=n.onChange)||void 0===r||r.call(n,e,o)),C(e,o),t(e,o||(null===u||void 0===u?void 0:u.pageSize))}}),C]},dx={},Ix="SELECT_ALL",Cx="SELECT_INVERT",mx="SELECT_NONE",px=[],Ax=function e(t,n){var o=[];return(n||[]).forEach((function(n){o.push(n),n&&"object"===typeof n&&t in n&&(o=[].concat(m(o),m(e(t,n[t]))))})),o},hx=function(e,t){var n=t||{},o=n.preserveSelectedRowKeys,r=n.selectedRowKeys,a=n.defaultSelectedRowKeys,l=n.getCheckboxProps,g=n.onChange,c=n.onSelect,s=n.onSelectAll,u=n.onSelectInvert,d=n.onSelectNone,C=n.onSelectMultiple,p=n.columnWidth,A=n.type,h=n.selections,b=n.fixed,f=n.renderCell,v=n.hideSelectAll,y=n.checkStrictly,Z=void 0===y||y,G=e.prefixCls,S=e.data,B=e.pageData,k=e.getRecordByKey,W=e.getRowKey,w=e.expandType,R=e.childrenColumnName,X=e.locale,J=e.getPopupContainer,x=dp("Table"),H=I(_g(r||a||px,{value:r}),2),Y=H[0],N=H[1],F=i.useRef(new Map),E=(0,i.useCallback)((function(e){if(o){var t=new Map;e.forEach((function(e){var n=k(e);!n&&F.current.has(e)&&(n=F.current.get(e)),t.set(e,n)})),F.current=t}}),[k,o]);i.useEffect((function(){E(Y)}),[Y]);var K=(0,i.useMemo)((function(){if(Z)return{keyEntities:null};var e=S;if(o){var t=new Set(S.map((function(e,t){return W(e,t)}))),n=Array.from(F.current).reduce((function(e,n){var o=I(n,2),r=o[0],a=o[1];return t.has(r)?e:e.concat(a)}),[]);e=[].concat(m(e),m(n))}return GX(e,{externalGetKey:W,childrenPropName:R})}),[S,W,Z,R,o]),M=K.keyEntities,L=(0,i.useMemo)((function(){return Ax(R,B)}),[R,B]),z=(0,i.useMemo)((function(){var e=new Map;return L.forEach((function(t,n){var o=W(t,n),r=(l?l(t):null)||{};e.set(o,r)})),e}),[L,W,l]),D=(0,i.useCallback)((function(e){var t;return!!(null===(t=z.get(W(e)))||void 0===t?void 0:t.disabled)}),[z,W]),T=I((0,i.useMemo)((function(){if(Z)return[Y||[],[]];var e=aJ(Y,!0,M,D);return[e.checkedKeys||[],e.halfCheckedKeys]}),[Y,Z,M,D]),2),U=T[0],Q=T[1],j=(0,i.useMemo)((function(){var e="radio"===A?U.slice(0,1):U;return new Set(e)}),[U,A]),O=(0,i.useMemo)((function(){return"radio"===A?new Set:new Set(Q)}),[Q,A]),P=I((0,i.useState)(null),2),q=P[0],_=P[1];i.useEffect((function(){t||N(px)}),[!!t]);var $=(0,i.useCallback)((function(e,t){var n,r;E(e),o?(n=e,r=e.map((function(e){return F.current.get(e)}))):(n=[],r=[],e.forEach((function(e){var t=k(e);void 0!==t&&(n.push(e),r.push(t))}))),N(n),null===g||void 0===g||g(n,r,{type:t})}),[N,k,g,o]),ee=(0,i.useCallback)((function(e,t,n,o){if(c){var r=n.map((function(e){return k(e)}));c(k(e),t,r,o)}$(n,"single")}),[c,k,$]),te=(0,i.useMemo)((function(){return!h||v?null:(!0===h?[Ix,Cx,mx]:h).map((function(e){return e===Ix?{key:"all",text:X.selectionAll,onSelect:function(){$(S.map((function(e,t){return W(e,t)})).filter((function(e){var t=z.get(e);return!(null===t||void 0===t?void 0:t.disabled)||j.has(e)})),"all")}}:e===Cx?{key:"invert",text:X.selectInvert,onSelect:function(){var e=new Set(j);B.forEach((function(t,n){var o=W(t,n),r=z.get(o);(null===r||void 0===r?void 0:r.disabled)||(e.has(o)?e.delete(o):e.add(o))}));var t=Array.from(e);u&&(x.deprecated(!1,"onSelectInvert","onChange"),u(t)),$(t,"invert")}}:e===mx?{key:"none",text:X.selectNone,onSelect:function(){null===d||void 0===d||d(),$(Array.from(j).filter((function(e){var t=z.get(e);return null===t||void 0===t?void 0:t.disabled})),"none")}}:e})).map((function(e){return Object.assign(Object.assign({},e),{onSelect:function(){for(var t,n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];null===(n=e.onSelect)||void 0===n||(t=n).call.apply(t,[e].concat(r)),_(null)}})}))}),[h,j,B,W,u,$]),ne=(0,i.useCallback)((function(e){var n;if(!t)return e.filter((function(e){return e!==dx}));var o,r,a=m(e),l=new Set(j),g=L.map(W).filter((function(e){return!z.get(e).disabled})),c=g.every((function(e){return l.has(e)})),u=g.some((function(e){return l.has(e)}));if("radio"!==A){var d;if(te){var I={getPopupContainer:J,items:te.map((function(e,t){var n=e.key,o=e.text,r=e.onSelect;return{key:null!==n&&void 0!==n?n:t,onClick:function(){null===r||void 0===r||r(g)},label:o}}))};d=i.createElement("div",{className:"".concat(G,"-selection-extra")},i.createElement(UR,{menu:I,getPopupContainer:J},i.createElement("span",null,i.createElement(JV,null))))}var y=L.map((function(e,t){var n=W(e,t),o=z.get(n)||{};return Object.assign({checked:l.has(n)},o)})).filter((function(e){return e.disabled})),S=!!y.length&&y.length===L.length,B=S&&y.every((function(e){return e.checked})),R=S&&y.some((function(e){return e.checked}));o=!v&&i.createElement("div",{className:"".concat(G,"-selection")},i.createElement(kW,{checked:S?B:!!L.length&&c,indeterminate:S?!B&&R:!c&&u,onChange:function(){var e=[];c?g.forEach((function(t){l.delete(t),e.push(t)})):g.forEach((function(t){l.has(t)||(l.add(t),e.push(t))}));var t=Array.from(l);null===s||void 0===s||s(!c,t.map((function(e){return k(e)})),e.map((function(e){return k(e)}))),$(t,"all"),_(null)},disabled:0===L.length||S,"aria-label":d?"Custom selection":"Select all",skipGroup:!0}),d)}r="radio"===A?function(e,t,n){var o=W(t,n),r=l.has(o);return{node:i.createElement(dX,Object.assign({},z.get(o),{checked:r,onClick:function(e){return e.stopPropagation()},onChange:function(e){l.has(o)||ee(o,!0,[o],e.nativeEvent)}})),checked:r}}:function(e,t,n){var o,r,a=W(t,n),c=l.has(a),s=O.has(a),u=z.get(a);return r="nest"===w?s:null!==(o=null===u||void 0===u?void 0:u.indeterminate)&&void 0!==o?o:s,{node:i.createElement(kW,Object.assign({},u,{indeterminate:r,checked:c,skipGroup:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.nativeEvent,n=t.shiftKey,o=-1,r=-1;if(n&&Z){var i=new Set([q,a]);g.some((function(e,t){if(i.has(e)){if(-1!==o)return r=t,!0;o=t}return!1}))}if(-1!==r&&o!==r&&Z){var s=g.slice(o,r+1),u=[];c?s.forEach((function(e){l.has(e)&&(u.push(e),l.delete(e))})):s.forEach((function(e){l.has(e)||(u.push(e),l.add(e))}));var d=Array.from(l);null===C||void 0===C||C(!c,d.map((function(e){return k(e)})),u.map((function(e){return k(e)}))),$(d,"multiple")}else{var I=U;if(Z){var p=c?jX(I,a):OX(I,a);ee(a,!c,p,t)}else{var A=aJ([].concat(m(I),[a]),!0,M,D),h=A.checkedKeys,b=A.halfCheckedKeys,f=h;if(c){var v=new Set(h);v.delete(a),f=aJ(Array.from(v),{checked:!1,halfCheckedKeys:b},M,D).checkedKeys}ee(a,!c,f,t)}}_(c?null:a)}})),checked:c}};if(!a.includes(dx))if(0===a.findIndex((function(e){var t;return"EXPAND_COLUMN"===(null===(t=e[gG])||void 0===t?void 0:t.columnType)}))){var X=V(a),x=X[0],H=X.slice(1);a=[x,dx].concat(m(H))}else a=[dx].concat(m(a));var Y=a.indexOf(dx);a=a.filter((function(e,t){return e!==dx||t===Y}));var N=a[Y-1],F=a[Y+1],E=b;void 0===E&&(void 0!==(null===F||void 0===F?void 0:F.fixed)?E=F.fixed:void 0!==(null===N||void 0===N?void 0:N.fixed)&&(E=N.fixed)),E&&N&&"EXPAND_COLUMN"===(null===(n=N[gG])||void 0===n?void 0:n.columnType)&&void 0===N.fixed&&(N.fixed=E);var K=Pr()("".concat(G,"-selection-col"),it({},"".concat(G,"-selection-col-with-dropdown"),h&&"checkbox"===A)),T=it({fixed:E,width:p,className:"".concat(G,"-selection-column"),title:t.columnTitle||o,render:function(e,t,n){var o=r(e,t,n),a=o.node,i=o.checked;return f?f(i,t,n,a):a},onCell:t.onCell},gG,{className:K});return a.map((function(e){return e===dx?T:e}))}),[W,L,t,U,j,O,p,te,w,q,z,C,ee,D]);return[ne,j]},bx={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},fx=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:bx}))};var vx=i.forwardRef(fx),yx={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},Zx=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:yx}))};var Gx=i.forwardRef(Zx),Sx="ascend",Bx="descend";function kx(e){return"object"===typeof e.sorter&&"number"===typeof e.sorter.multiple&&e.sorter.multiple}function Vx(e){return"function"===typeof e?e:!(!e||"object"!==typeof e||!e.compare)&&e.compare}function Wx(e,t,n){var o=[];function r(e,t){o.push({column:e,key:iW(e,t),multiplePriority:kx(e),sortOrder:e.sortOrder})}return(e||[]).forEach((function(e,a){var i=lW(a,n);e.children?("sortOrder"in e&&r(e,i),o=[].concat(m(o),m(Wx(e.children,t,i)))):e.sorter&&("sortOrder"in e?r(e,i):t&&e.defaultSortOrder&&o.push({column:e,key:iW(e,i),multiplePriority:kx(e),sortOrder:e.defaultSortOrder}))})),o}function wx(e,t,n,o,r,a,l,g){return(t||[]).map((function(t,c){var s=lW(c,g),u=t;if(u.sorter){var d,I=u.sortDirections||r,C=void 0===u.showSorterTooltip?l:u.showSorterTooltip,m=iW(u,s),p=n.find((function(e){return e.key===m})),A=p?p.sortOrder:null,h=function(e,t){return t?e[e.indexOf(t)+1]:e[0]}(I,A);if(t.sortIcon)d=t.sortIcon({sortOrder:A});else{var b=I.includes(Sx)&&i.createElement(Gx,{className:Pr()("".concat(e,"-column-sorter-up"),{active:A===Sx})}),f=I.includes(Bx)&&i.createElement(vx,{className:Pr()("".concat(e,"-column-sorter-down"),{active:A===Bx})});d=i.createElement("span",{className:Pr()("".concat(e,"-column-sorter"),it({},"".concat(e,"-column-sorter-full"),!(!b||!f)))},i.createElement("span",{className:"".concat(e,"-column-sorter-inner"),"aria-hidden":"true"},b,f))}var v=a||{},y=v.cancelSort,Z=v.triggerAsc,G=v.triggerDesc,S=y;h===Bx?S=G:h===Sx&&(S=Z);var B="object"===typeof C?C:{title:S};u=Object.assign(Object.assign({},u),{className:Pr()(u.className,it({},"".concat(e,"-column-sort"),A)),title:function(n){var o=i.createElement("div",{className:"".concat(e,"-column-sorters")},i.createElement("span",{className:"".concat(e,"-column-title")},gW(t.title,n)),d);return C?i.createElement(Rp,Object.assign({},B),o):o},onHeaderCell:function(n){var r=t.onHeaderCell&&t.onHeaderCell(n)||{},a=r.onClick,i=r.onKeyDown;r.onClick=function(e){o({column:t,key:m,sortOrder:h,multiplePriority:kx(t)}),null===a||void 0===a||a(e)},r.onKeyDown=function(e){e.keyCode===dB.ENTER&&(o({column:t,key:m,sortOrder:h,multiplePriority:kx(t)}),null===i||void 0===i||i(e))};var l=function(e,t){var n=gW(e,t);return"[object Object]"===Object.prototype.toString.call(n)?"":n}(t.title,{}),g=null===l||void 0===l?void 0:l.toString();return A?r["aria-sort"]="ascend"===A?"ascending":"descending":r["aria-label"]=g||"",r.className=Pr()(r.className,"".concat(e,"-column-has-sorters")),r.tabIndex=0,t.ellipsis&&(r.title=(null!==l&&void 0!==l?l:"").toString()),r}})}return"children"in u&&(u=Object.assign(Object.assign({},u),{children:wx(e,u.children,n,o,r,a,l,s)})),u}))}function Rx(e){var t=e.column;return{column:t,order:e.sortOrder,field:t.dataIndex,columnKey:t.key}}function Xx(e){var t=e.filter((function(e){return e.sortOrder})).map(Rx);return 0===t.length&&e.length?Object.assign(Object.assign({},Rx(e[e.length-1])),{column:void 0}):t.length<=1?t[0]||{}:t}function Jx(e,t,n){var o=t.slice().sort((function(e,t){return t.multiplePriority-e.multiplePriority})),r=e.slice(),a=o.filter((function(e){var t=e.column.sorter,n=e.sortOrder;return Vx(t)&&n}));return a.length?r.sort((function(e,t){for(var n=0;n<a.length;n+=1){var o=a[n],r=o.column.sorter,i=o.sortOrder,l=Vx(r);if(l&&i){var g=l(e,t,i);if(0!==g)return i===Sx?g:-g}}return 0})).map((function(e){var o=e[n];return o?Object.assign(Object.assign({},e),it({},n,Jx(o,t,n))):e})):r}function xx(e,t){return e.map((function(e){var n=Object.assign({},e);return n.title=gW(e.title,t),"children"in n&&(n.children=xx(n.children,t)),n}))}function Hx(e){return[i.useCallback((function(t){return xx(t,e)}),[e])]}var Yx=KG((function(e,t){return e._renderTimes!==t._renderTimes})),Nx=vS((function(e,t){return e._renderTimes!==t._renderTimes})),Fx=function(e){var t,n,o,r,a=e.componentCls,i="".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.tableBorderColor),l=function(t,n,o){return it({},"&".concat(a,"-").concat(t),it({},"> ".concat(a,"-container"),it({},"> ".concat(a,"-content, > ").concat(a,"-body"),it({},"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ",it({},"> ".concat(a,"-expanded-row-fixed"),{margin:"-".concat(n,"px -").concat(o+e.lineWidth,"px")})))))};return it({},"".concat(a,"-wrapper"),(it(r={},"".concat(a).concat(a,"-bordered"),Object.assign(Object.assign(Object.assign((it(n={},"> ".concat(a,"-title"),{border:i,borderBottom:0}),it(n,"> ".concat(a,"-container"),it({borderInlineStart:i,borderTop:i},"\n            > ".concat(a,"-content,\n            > ").concat(a,"-header,\n            > ").concat(a,"-body,\n            > ").concat(a,"-summary\n          "),{"> table":(t={},it(t,"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ",{borderInlineEnd:i}),it(t,"> thead",{"> tr:not(:last-child) > th":{borderBottom:i},"> tr > th::before":{backgroundColor:"transparent !important"}}),it(t,"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ",it({},"> ".concat(a,"-cell-fix-right-first::after"),{borderInlineEnd:i})),it(t,"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ",it({},"> ".concat(a,"-expanded-row-fixed"),{margin:"-".concat(e.tablePaddingVertical,"px -").concat(e.tablePaddingHorizontal+e.lineWidth,"px"),"&::after":{position:"absolute",top:0,insetInlineEnd:e.lineWidth,bottom:0,borderInlineEnd:i,content:'""'}})),t)})),it(n,"&".concat(a,"-scroll-horizontal"),it({},"> ".concat(a,"-container > ").concat(a,"-body"),{"> table > tbody":it({},"\n                > tr".concat(a,"-expanded-row,\n                > tr").concat(a,"-placeholder\n              "),it({},"> th, > td",{borderInlineEnd:0}))})),n),l("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),l("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),it({},"> ".concat(a,"-footer"),{border:i,borderTop:0}))),it(r,"".concat(a,"-cell"),(it(o={},"".concat(a,"-container:first-child"),{borderTop:0}),it(o,"&-scrollbar:not([rowspan])",{boxShadow:"0 ".concat(e.lineWidth,"px 0 ").concat(e.lineWidth,"px ").concat(e.tableHeaderBg)}),o)),it(r,"".concat(a,"-bordered ").concat(a,"-cell-scrollbar"),{borderInlineEnd:i}),r))},Ex=function(e){var t,n=e.componentCls;return it({},"".concat(n,"-wrapper"),it({},"".concat(n,"-cell-ellipsis"),Object.assign(Object.assign({},Xi),(it(t={wordBreak:"keep-all"},"\n          &".concat(n,"-cell-fix-left-last,\n          &").concat(n,"-cell-fix-right-first\n        "),it({overflow:"visible"},"".concat(n,"-cell-content"),{display:"block",overflow:"hidden",textOverflow:"ellipsis"})),it(t,"".concat(n,"-column-title"),{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}),t))))},Kx=function(e){var t=e.componentCls;return it({},"".concat(t,"-wrapper"),it({},"".concat(t,"-tbody > tr").concat(t,"-placeholder"),it({textAlign:"center",color:e.colorTextDisabled},"\n          &:hover > th,\n          &:hover > td,\n        ",{background:e.colorBgContainer})))},Mx=function(e){var t,n,o=e.componentCls,r=e.antCls,a=e.controlInteractiveSize,i=e.motionDurationSlow,l=e.lineWidth,g=e.paddingXS,c=e.lineType,s=e.tableBorderColor,u=e.tableExpandIconBg,d=e.tableExpandColumnWidth,I=e.borderRadius,C=e.fontSize,m=e.fontSizeSM,p=e.lineHeight,A=e.tablePaddingVertical,h=e.tablePaddingHorizontal,b=e.tableExpandedRowBg,f=e.paddingXXS,v=a/2-l,y=2*v+3*l,Z="".concat(l,"px ").concat(c," ").concat(s),G=f-l;return it({},"".concat(o,"-wrapper"),(it(n={},"".concat(o,"-expand-icon-col"),{width:d}),it(n,"".concat(o,"-row-expand-icon-cell"),it({textAlign:"center"},"".concat(o,"-row-expand-icon"),{display:"inline-flex",float:"none",verticalAlign:"sub"})),it(n,"".concat(o,"-row-indent"),{height:1,float:"left"}),it(n,"".concat(o,"-row-expand-icon"),Object.assign(Object.assign({},function(e){return{color:e.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}}}(e)),(it(t={position:"relative",float:"left",boxSizing:"border-box",width:y,height:y,padding:0,color:"inherit",lineHeight:"".concat(y,"px"),background:u,border:Z,borderRadius:I,transform:"scale(".concat(a/y,")"),transition:"all ".concat(i),userSelect:"none"},"&:focus, &:hover, &:active",{borderColor:"currentcolor"}),it(t,"&::before, &::after",{position:"absolute",background:"currentcolor",transition:"transform ".concat(i," ease-out"),content:'""'}),it(t,"&::before",{top:v,insetInlineEnd:G,insetInlineStart:G,height:l}),it(t,"&::after",{top:G,bottom:G,insetInlineStart:v,width:l,transform:"rotate(90deg)"}),it(t,"&-collapsed::before",{transform:"rotate(-180deg)"}),it(t,"&-collapsed::after",{transform:"rotate(0deg)"}),it(t,"&-spaced",{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}),t))),it(n,"".concat(o,"-row-indent + ").concat(o,"-row-expand-icon"),{marginTop:(C*p-3*l)/2-Math.ceil((1.4*m-3*l)/2),marginInlineEnd:g}),it(n,"tr".concat(o,"-expanded-row"),it({"&, &:hover":it({},"> th, > td",{background:b})},"".concat(r,"-descriptions-view"),{display:"flex",table:{flex:"auto",width:"auto"}})),it(n,"".concat(o,"-expanded-row-fixed"),{position:"relative",margin:"-".concat(A,"px -").concat(h,"px"),padding:"".concat(A,"px ").concat(h,"px")}),n))},Lx=function(e){var t,n,o,r,a=e.componentCls,i=e.antCls,l=e.iconCls,g=e.tableFilterDropdownWidth,c=e.tableFilterDropdownSearchWidth,s=e.paddingXXS,u=e.paddingXS,d=e.colorText,I=e.lineWidth,C=e.lineType,m=e.tableBorderColor,p=e.tableHeaderIconColor,A=e.fontSizeSM,h=e.tablePaddingHorizontal,b=e.borderRadius,f=e.motionDurationSlow,v=e.colorTextDescription,y=e.colorPrimary,Z=e.tableHeaderFilterActiveBg,G=e.colorTextDisabled,S=e.tableFilterDropdownBg,B=e.tableFilterDropdownHeight,k=e.controlItemBgHover,V=e.controlItemBgActive,W=e.boxShadowSecondary,w=e.filterDropdownMenuBg,R="".concat(i,"-dropdown"),X="".concat(a,"-filter-dropdown"),J="".concat(i,"-tree"),x="".concat(I,"px ").concat(C," ").concat(m);return[it({},"".concat(a,"-wrapper"),(t={},it(t,"".concat(a,"-filter-column"),{display:"flex",justifyContent:"space-between"}),it(t,"".concat(a,"-filter-trigger"),{position:"relative",display:"flex",alignItems:"center",marginBlock:-s,marginInline:"".concat(s,"px ").concat(-h/2,"px"),padding:"0 ".concat(s,"px"),color:p,fontSize:A,borderRadius:b,cursor:"pointer",transition:"all ".concat(f),"&:hover":{color:v,background:Z},"&.active":{color:y}}),t)),it({},"".concat(i,"-dropdown"),it({},X,Object.assign(Object.assign({},Ji(e)),(o={minWidth:g,backgroundColor:S,borderRadius:b,boxShadow:W,overflow:"hidden"},it(o,"".concat(R,"-menu"),{maxHeight:B,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:w,"&:empty::after":{display:"block",padding:"".concat(u,"px 0"),color:G,fontSize:A,textAlign:"center",content:'"Not Found"'}}),it(o,"".concat(X,"-tree"),(n={paddingBlock:"".concat(u,"px 0"),paddingInline:u},it(n,J,{padding:0}),it(n,"".concat(J,"-treenode ").concat(J,"-node-content-wrapper:hover"),{backgroundColor:k}),it(n,"".concat(J,"-treenode-checkbox-checked ").concat(J,"-node-content-wrapper"),{"&, &:hover":{backgroundColor:V}}),n)),it(o,"".concat(X,"-search"),{padding:u,borderBottom:x,"&-input":it({input:{minWidth:c}},l,{color:G})}),it(o,"".concat(X,"-checkall"),{width:"100%",marginBottom:s,marginInlineStart:s}),it(o,"".concat(X,"-btns"),{display:"flex",justifyContent:"space-between",padding:"".concat(u-I,"px ").concat(u,"px"),overflow:"hidden",borderTop:x}),o)))),it({},"".concat(i,"-dropdown ").concat(X,", ").concat(X,"-submenu"),(r={},it(r,"".concat(i,"-checkbox-wrapper + span"),{paddingInlineStart:u,color:d}),it(r,"> ul",{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}),r))]},zx=function(e){var t,n,o,r=e.componentCls,a=e.lineWidth,i=e.colorSplit,l=e.motionDurationSlow,g=e.zIndexTableFixed,c=e.tableBg,s=e.zIndexTableSticky,u=i;return it({},"".concat(r,"-wrapper"),(it(o={},"\n        ".concat(r,"-cell-fix-left,\n        ").concat(r,"-cell-fix-right\n      "),{position:"sticky !important",zIndex:g,background:c}),it(o,"\n        ".concat(r,"-cell-fix-left-first::after,\n        ").concat(r,"-cell-fix-left-last::after\n      "),{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:-a,width:30,transform:"translateX(100%)",transition:"box-shadow ".concat(l),content:'""',pointerEvents:"none"}),it(o,"".concat(r,"-cell-fix-left-all::after"),{display:"none"}),it(o,"\n        ".concat(r,"-cell-fix-right-first::after,\n        ").concat(r,"-cell-fix-right-last::after\n      "),{position:"absolute",top:0,bottom:-a,left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:"box-shadow ".concat(l),content:'""',pointerEvents:"none"}),it(o,"".concat(r,"-container"),{"&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:s+1,width:30,transition:"box-shadow ".concat(l),content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}}),it(o,"".concat(r,"-ping-left"),(it(t={},"&:not(".concat(r,"-has-fix-left) ").concat(r,"-container"),{position:"relative","&::before":{boxShadow:"inset 10px 0 8px -8px ".concat(u)}}),it(t,"\n          ".concat(r,"-cell-fix-left-first::after,\n          ").concat(r,"-cell-fix-left-last::after\n        "),{boxShadow:"inset 10px 0 8px -8px ".concat(u)}),it(t,"".concat(r,"-cell-fix-left-last::before"),{backgroundColor:"transparent !important"}),t)),it(o,"".concat(r,"-ping-right"),(it(n={},"&:not(".concat(r,"-has-fix-right) ").concat(r,"-container"),{position:"relative","&::after":{boxShadow:"inset -10px 0 8px -8px ".concat(u)}}),it(n,"\n          ".concat(r,"-cell-fix-right-first::after,\n          ").concat(r,"-cell-fix-right-last::after\n        "),{boxShadow:"inset -10px 0 8px -8px ".concat(u)}),n)),o))},Dx=function(e){var t,n=e.componentCls,o=e.antCls;return it({},"".concat(n,"-wrapper"),(it(t={},"".concat(n,"-pagination").concat(o,"-pagination"),{margin:"".concat(e.margin,"px 0")}),it(t,"".concat(n,"-pagination"),{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}),t))},Tx=function(e){var t,n,o=e.componentCls,r=e.tableRadius;return it({},"".concat(o,"-wrapper"),it({},o,(it(n={},"".concat(o,"-title, ").concat(o,"-header"),{borderRadius:"".concat(r,"px ").concat(r,"px 0 0")}),it(n,"".concat(o,"-title + ").concat(o,"-container"),(it(t={borderStartStartRadius:0,borderStartEndRadius:0},"".concat(o,"-header, table"),{borderRadius:0}),it(t,"table > thead > tr:first-child",{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}),t)),it(n,"&-container",{borderStartStartRadius:r,borderStartEndRadius:r,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:r},"> *:last-child":{borderStartEndRadius:r}}}),it(n,"&-footer",{borderRadius:"0 0 ".concat(r,"px ").concat(r,"px")}),n)))},Ux=function(e){var t,n=e.componentCls;return it({},"".concat(n,"-wrapper-rtl"),(it(t={direction:"rtl",table:{direction:"rtl"}},"".concat(n,"-pagination-left"),{justifyContent:"flex-end"}),it(t,"".concat(n,"-pagination-right"),{justifyContent:"flex-start"}),it(t,"".concat(n,"-row-expand-icon"),{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}}),it(t,"".concat(n,"-container"),it({"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"}},"".concat(n,"-row-indent"),{float:"right"})),t))},Qx=function(e){var t,n,o=e.componentCls,r=e.antCls,a=e.iconCls,i=e.fontSizeIcon,l=e.padding,g=e.paddingXS,c=e.tableHeaderIconColor,s=e.tableHeaderIconColorHover,u=e.tableSelectionColumnWidth,d=e.tableSelectedRowBg,I=e.tableSelectedRowHoverBg,C=e.tableRowHoverBg;return it({},"".concat(o,"-wrapper"),(it(n={},"".concat(o,"-selection-col"),it({width:u},"&".concat(o,"-selection-col-with-dropdown"),{width:u+i+l/4})),it(n,"".concat(o,"-bordered ").concat(o,"-selection-col"),it({width:u+2*g},"&".concat(o,"-selection-col-with-dropdown"),{width:u+i+l/4+2*g})),it(n,"\n        table tr th".concat(o,"-selection-column,\n        table tr td").concat(o,"-selection-column,\n        ").concat(o,"-selection-column\n      "),it({paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center"},"".concat(r,"-radio-wrapper"),{marginInlineEnd:0})),it(n,"table tr th".concat(o,"-selection-column").concat(o,"-cell-fix-left"),{zIndex:e.zIndexTableFixed+1}),it(n,"table tr th".concat(o,"-selection-column::after"),{backgroundColor:"transparent !important"}),it(n,"".concat(o,"-selection"),{position:"relative",display:"inline-flex",flexDirection:"column"}),it(n,"".concat(o,"-selection-extra"),it({position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),marginInlineStart:"100%",paddingInlineStart:"".concat(e.tablePaddingHorizontal/4,"px")},a,{color:c,fontSize:i,verticalAlign:"baseline","&:hover":{color:s}})),it(n,"".concat(o,"-tbody"),it({},"".concat(o,"-row"),(it(t={},"&".concat(o,"-row-selected"),it({},"> ".concat(o,"-cell"),{background:d,"&-row-hover":{background:I}})),it(t,"> ".concat(o,"-cell-row-hover"),{background:C}),t))),n))},jx=function(e){var t=e.componentCls,n=function(n,o,r,a){var i;return it({},"".concat(t).concat(t,"-").concat(n),(it(i={fontSize:a},"\n        ".concat(t,"-title,\n        ").concat(t,"-footer,\n        ").concat(t,"-cell,\n        ").concat(t,"-thead > tr > th,\n        ").concat(t,"-tbody > tr > th,\n        ").concat(t,"-tbody > tr > td,\n        tfoot > tr > th,\n        tfoot > tr > td\n      "),{padding:"".concat(o,"px ").concat(r,"px")}),it(i,"".concat(t,"-filter-trigger"),{marginInlineEnd:"-".concat(r/2,"px")}),it(i,"".concat(t,"-expanded-row-fixed"),{margin:"-".concat(o,"px -").concat(r,"px")}),it(i,"".concat(t,"-tbody"),it({},"".concat(t,"-wrapper:only-child ").concat(t),{marginBlock:"-".concat(o,"px"),marginInline:"".concat(e.tableExpandColumnWidth-r,"px -").concat(r,"px")})),it(i,"".concat(t,"-selection-extra"),{paddingInlineStart:"".concat(r/4,"px")}),i))};return it({},"".concat(t,"-wrapper"),Object.assign(Object.assign({},n("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),n("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall)))},Ox=function(e){var t,n=e.componentCls,o=e.marginXXS,r=e.fontSizeIcon,a=e.tableHeaderIconColor,i=e.tableHeaderIconColorHover;return it({},"".concat(n,"-wrapper"),(it(t={},"".concat(n,"-thead th").concat(n,"-column-has-sorters"),it({outline:"none",cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary}},"\n          &".concat(n,"-cell-fix-left:hover,\n          &").concat(n,"-cell-fix-right:hover\n        "),{background:e.tableFixedHeaderSortActiveBg})),it(t,"".concat(n,"-thead th").concat(n,"-column-sort"),{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}}),it(t,"td".concat(n,"-column-sort"),{background:e.tableBodySortBg}),it(t,"".concat(n,"-column-title"),{position:"relative",zIndex:1,flex:1}),it(t,"".concat(n,"-column-sorters"),{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}}),it(t,"".concat(n,"-column-sorter"),it({marginInlineStart:o,color:a,fontSize:0,transition:"color ".concat(e.motionDurationSlow),"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:e.colorPrimary}}},"".concat(n,"-column-sorter-up + ").concat(n,"-column-sorter-down"),{marginTop:"-0.3em"})),it(t,"".concat(n,"-column-sorters:hover ").concat(n,"-column-sorter"),{color:i}),t))},Px=function(e){var t=e.componentCls,n=e.opacityLoading,o=e.tableScrollThumbBg,r=e.tableScrollThumbBgHover,a=e.tableScrollThumbSize,i=e.tableScrollBg,l=e.zIndexTableSticky,g=e.stickyScrollBarBorderRadius,c="".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.tableBorderColor);return it({},"".concat(t,"-wrapper"),it({},"".concat(t,"-sticky"),{"&-holder":{position:"sticky",zIndex:l,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:"".concat(a,"px !important"),zIndex:l,display:"flex",alignItems:"center",background:i,borderTop:c,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:a,backgroundColor:o,borderRadius:g,transition:"all ".concat(e.motionDurationSlow,", transform none"),position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:r}}}}))},qx=function(e){var t,n=e.componentCls,o=e.lineWidth,r=e.tableBorderColor,a="".concat(o,"px ").concat(e.lineType," ").concat(r);return it({},"".concat(n,"-wrapper"),(it(t={},"".concat(n,"-summary"),{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:a}}}),it(t,"div".concat(n,"-summary"),{boxShadow:"0 -".concat(o,"px 0 ").concat(r)}),t))},_x=function(e){var t,n,o,r=e.componentCls,a=e.motionDurationMid,i="".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.tableBorderColor),l="".concat(r,"-expanded-row-cell");return it({},"".concat(r,"-wrapper"),(it(o={},"".concat(r,"-tbody-virtual"),(it(t={},"".concat(r,"-row"),{display:"flex",boxSizing:"border-box",width:"100%"}),it(t,"".concat(r,"-cell"),{borderBottom:i,transition:"background ".concat(a)}),it(t,"".concat(r,"-expanded-row"),it({},"".concat(l).concat(l,"-fixed"),{position:"sticky",insetInlineStart:0,overflow:"hidden",width:"calc(var(--virtual-width) - ".concat(e.lineWidth,"px)"),borderInlineEnd:"none"})),t)),it(o,"".concat(r,"-bordered"),(it(n={},"".concat(r,"-tbody-virtual"),it({"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:i,position:"absolute"}},"".concat(r,"-cell"),it({borderInlineEnd:i},"&".concat(r,"-cell-fix-right-first:before"),{content:'""',position:"absolute",insetBlock:0,insetInlineStart:-e.lineWidth,borderInlineStart:i}))),it(n,"&".concat(r,"-virtual"),it({},"".concat(r,"-placeholder ").concat(r,"-cell"),{borderInlineEnd:i,borderBottom:i})),n)),o))},$x=function(e){var t,n,o,r=e.componentCls,a=e.fontWeightStrong,i=e.tablePaddingVertical,l=e.tablePaddingHorizontal,g=e.lineWidth,c=e.lineType,s=e.tableBorderColor,u=e.tableFontSize,d=e.tableBg,I=e.tableRadius,C=e.tableHeaderTextColor,m=e.motionDurationMid,p=e.tableHeaderBg,A=e.tableHeaderCellSplitColor,h=e.tableFooterTextColor,b=e.tableFooterBg,f="".concat(g,"px ").concat(c," ").concat(s);return it({},"".concat(r,"-wrapper"),Object.assign(Object.assign({clear:"both",maxWidth:"100%"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(it(o={},r,Object.assign(Object.assign({},Ji(e)),{fontSize:u,background:d,borderRadius:"".concat(I,"px ").concat(I,"px 0 0")})),it(o,"table",{width:"100%",textAlign:"start",borderRadius:"".concat(I,"px ").concat(I,"px 0 0"),borderCollapse:"separate",borderSpacing:0}),it(o,"\n          ".concat(r,"-cell,\n          ").concat(r,"-thead > tr > th,\n          ").concat(r,"-tbody > tr > th,\n          ").concat(r,"-tbody > tr > td,\n          tfoot > tr > th,\n          tfoot > tr > td\n        "),{position:"relative",padding:"".concat(i,"px ").concat(l,"px"),overflowWrap:"break-word"}),it(o,"".concat(r,"-title"),{padding:"".concat(i,"px ").concat(l,"px")}),it(o,"".concat(r,"-thead"),(it(t={},"\n          > tr > th,\n          > tr > td\n        ",it({position:"relative",color:C,fontWeight:a,textAlign:"start",background:p,borderBottom:f,transition:"background ".concat(m," ease"),"&[colspan]:not([colspan='1'])":{textAlign:"center"}},"&:not(:last-child):not(".concat(r,"-selection-column):not(").concat(r,"-row-expand-icon-cell):not([colspan])::before"),{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:A,transform:"translateY(-50%)",transition:"background-color ".concat(m),content:'""'})),it(t,"> tr:not(:last-child) > th[colspan]",{borderBottom:0}),t)),it(o,"".concat(r,"-tbody"),{"> tr":(n={},it(n,"> th, > td",it({transition:"background ".concat(m,", border-color ").concat(m),borderBottom:f},"\n              > ".concat(r,"-wrapper:only-child,\n              > ").concat(r,"-expanded-row-fixed > ").concat(r,"-wrapper:only-child\n            "),it({},r,it({marginBlock:"-".concat(i,"px"),marginInline:"".concat(e.tableExpandColumnWidth-l,"px -").concat(l,"px")},"".concat(r,"-tbody > tr:last-child > td"),{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}})))),it(n,"> th",{position:"relative",color:C,fontWeight:a,textAlign:"start",background:p,borderBottom:f,transition:"background ".concat(m," ease")}),n)}),it(o,"".concat(r,"-footer"),{padding:"".concat(i,"px ").concat(l,"px"),color:h,background:b}),o)))},eH=gs("Table",(function(e){var t=e.colorTextHeading,n=e.colorSplit,o=e.colorIcon,r=e.colorIconHover,a=e.opacityLoading,i=e.colorBgContainer,l=e.controlInteractiveSize,g=e.headerBg,c=e.headerColor,s=e.headerSortActiveBg,u=e.headerSortHoverBg,d=e.bodySortBg,I=e.rowHoverBg,C=e.rowSelectedBg,m=e.rowSelectedHoverBg,p=e.rowExpandedBg,A=e.cellPaddingBlock,h=e.cellPaddingInline,b=e.cellPaddingBlockMD,f=e.cellPaddingInlineMD,v=e.cellPaddingBlockSM,y=e.cellPaddingInlineSM,Z=e.borderColor,G=e.footerBg,S=e.footerColor,B=e.headerBorderRadius,k=e.cellFontSize,V=e.cellFontSizeMD,W=e.cellFontSizeSM,w=e.headerSplitColor,R=e.fixedHeaderSortActiveBg,X=e.headerFilterHoverBg,J=e.filterDropdownBg,x=e.expandIconBg,H=e.selectionColumnWidth,Y=e.stickyScrollBarBg,N=new Dc(o),F=new Dc(r),E=Mi(e,{tableFontSize:k,tableBg:i,tableRadius:B,tablePaddingVertical:A,tablePaddingHorizontal:h,tablePaddingVerticalMiddle:b,tablePaddingHorizontalMiddle:f,tablePaddingVerticalSmall:v,tablePaddingHorizontalSmall:y,tableBorderColor:Z,tableHeaderTextColor:c,tableHeaderBg:g,tableFooterTextColor:S,tableFooterBg:G,tableHeaderCellSplitColor:w,tableHeaderSortBg:s,tableHeaderSortHoverBg:u,tableHeaderIconColor:N.clone().setAlpha(N.getAlpha()*a).toRgbString(),tableHeaderIconColorHover:F.clone().setAlpha(F.getAlpha()*a).toRgbString(),tableBodySortBg:d,tableFixedHeaderSortActiveBg:R,tableHeaderFilterActiveBg:X,tableFilterDropdownBg:J,tableRowHoverBg:I,tableSelectedRowBg:C,tableSelectedRowHoverBg:m,zIndexTableFixed:2,zIndexTableSticky:3,tableFontSizeMiddle:V,tableFontSizeSmall:W,tableSelectionColumnWidth:H,tableExpandIconBg:x,tableExpandColumnWidth:l+2*e.padding,tableExpandedRowBg:p,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:Y,tableScrollThumbBgHover:t,tableScrollBg:n});return[$x(E),Dx(E),qx(E),Ox(E),Lx(E),Fx(E),Tx(E),Mx(E),qx(E),Kx(E),Qx(E),zx(E),Px(E),Ex(E),jx(E),Ux(E),_x(E)]}),(function(e){var t=e.colorFillAlter,n=e.colorBgContainer,o=e.colorTextHeading,r=e.colorFillSecondary,a=e.colorFillContent,i=e.controlItemBgActive,l=e.controlItemBgActiveHover,g=e.padding,c=e.paddingSM,s=e.paddingXS,u=e.colorBorderSecondary,d=e.borderRadiusLG,I=e.fontSize,C=e.controlHeight,m=e.colorTextPlaceholder,p=new Dc(r).onBackground(n).toHexShortString(),A=new Dc(a).onBackground(n).toHexShortString(),h=new Dc(t).onBackground(n).toHexShortString();return{headerBg:h,headerColor:o,headerSortActiveBg:p,headerSortHoverBg:A,bodySortBg:h,rowHoverBg:h,rowSelectedBg:i,rowSelectedHoverBg:l,rowExpandedBg:t,cellPaddingBlock:g,cellPaddingInline:g,cellPaddingBlockMD:c,cellPaddingInlineMD:s,cellPaddingBlockSM:s,cellPaddingInlineSM:s,borderColor:u,headerBorderRadius:d,footerBg:h,footerColor:o,cellFontSize:I,cellFontSizeMD:I,cellFontSizeSM:I,headerSplitColor:u,fixedHeaderSortActiveBg:p,headerFilterHoverBg:a,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:C,stickyScrollBarBg:m,stickyScrollBarBorderRadius:100}})),tH=[],nH=function(e,t){var n,o=e.prefixCls,r=e.className,a=e.rootClassName,l=e.style,g=e.size,c=e.bordered,s=e.dropdownPrefixCls,u=e.dataSource,d=e.pagination,C=e.rowSelection,p=e.rowKey,A=void 0===p?"key":p,h=e.rowClassName,b=e.columns,f=e.children,v=e.childrenColumnName,y=e.onChange,Z=e.getPopupContainer,G=e.loading,S=e.expandIcon,B=e.expandable,k=e.expandedRowRender,V=e.expandIconColumnIndex,W=e.indentSize,w=e.scroll,R=e.sortDirections,X=e.locale,J=e.showSorterTooltip,x=void 0===J||J,H=e.virtual;dp("Table");var Y=i.useMemo((function(){return b||fG(f)}),[b,f]),N=i.useMemo((function(){return Y.some((function(e){return e.responsive}))}),[Y]),F=Yp(N),E=i.useMemo((function(){var e=new Set(Object.keys(F).filter((function(e){return F[e]})));return Y.filter((function(t){return!t.responsive||t.responsive.some((function(t){return e.has(t)}))}))}),[Y,F]),K=Os(e,["className","style","columns"]),M=i.useContext(_r),L=M.locale,z=void 0===L?XS:L,D=M.direction,T=M.table,U=M.renderEmpty,Q=M.getPrefixCls,j=M.getPopupContainer,O=lu(g),P=Object.assign(Object.assign({},z.Table),X),q=u||tH,_=Q("table",o),$=Q("dropdown",s),ee=Object.assign({childrenColumnName:v,expandIconColumnIndex:V},B),te=ee.childrenColumnName,ne=void 0===te?"children":te,oe=i.useMemo((function(){return q.some((function(e){return null===e||void 0===e?void 0:e[ne]}))?"nest":k||B&&B.expandedRowRender?"row":null}),[q]),re={body:i.useRef()},ae=function(e){return function(t,n){var o=t.querySelector(".".concat(e,"-container")),r=n;if(o){var a=getComputedStyle(o);r=n-parseInt(a.borderLeftWidth,10)-parseInt(a.borderRightWidth,10)}return r}}(_),ie=i.useMemo((function(){return"function"===typeof A?A:function(e){return null===e||void 0===e?void 0:e[A]}}),[A]),le=function(e,t,n){var o=i.useRef({});return[function(r){if(!o.current||o.current.data!==e||o.current.childrenColumnName!==t||o.current.getRowKey!==n){var a=new Map;!function e(o){o.forEach((function(o,r){var i=n(o,r);a.set(i,o),o&&"object"===typeof o&&t in o&&e(o[t]||[])}))}(e),o.current={data:e,childrenColumnName:t,kvMap:a,getRowKey:n}}return o.current.kvMap.get(r)}]}(q,ne,ie),ge=I(le,1)[0],ce={},se=function(e,t){var n,o,r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object.assign(Object.assign({},ce),e);a&&(null===(n=ce.resetPagination)||void 0===n||n.call(ce),(null===(o=i.pagination)||void 0===o?void 0:o.current)&&(i.pagination.current=1),d&&d.onChange&&d.onChange(1,null===(r=i.pagination)||void 0===r?void 0:r.pageSize)),w&&!1!==w.scrollToFirstRowOnChange&&re.body.current&&SS(0,{getContainer:function(){return re.body.current}}),null===y||void 0===y||y(i.pagination,i.filters,i.sorter,{currentDataSource:ix(Jx(q,i.sorterStates,ne),i.filterStates),action:t})},ue=function(e){var t=e.prefixCls,n=e.mergedColumns,o=e.onSorterChange,r=e.sortDirections,a=e.tableLocale,l=e.showSorterTooltip,g=I(i.useState(Wx(n,!0)),2),c=g[0],s=g[1],u=i.useMemo((function(){var e=!0,t=Wx(n,!1);if(!t.length)return c;var o=[];function r(t){e?o.push(t):o.push(Object.assign(Object.assign({},t),{sortOrder:null}))}var a=null;return t.forEach((function(t){null===a?(r(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:a=!0)):(a&&!1!==t.multiplePriority||(e=!1),r(t))})),o}),[n,c]),d=i.useMemo((function(){var e=u.map((function(e){return{column:e.column,order:e.sortOrder}}));return{sortColumns:e,sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}}),[u]);function C(e){var t;t=!1!==e.multiplePriority&&u.length&&!1!==u[0].multiplePriority?[].concat(m(u.filter((function(t){return t.key!==e.key}))),[e]):[e],s(t),o(Xx(t),t)}return[function(e){return wx(t,e,u,C,r,a,l)},u,d,function(){return Xx(u)}]}({prefixCls:_,mergedColumns:E,onSorterChange:function(e,t){se({sorter:e,sorterStates:t},"sort",!1)},sortDirections:R||["ascend","descend"],tableLocale:P,showSorterTooltip:x}),de=I(ue,4),Ie=de[0],Ce=de[1],me=de[2],pe=de[3],Ae=i.useMemo((function(){return Jx(q,Ce,ne)}),[q,Ce]);ce.sorter=pe(),ce.sorterStates=Ce;var he=gx({prefixCls:_,locale:P,dropdownPrefixCls:$,mergedColumns:E,onFilterChange:function(e,t){se({filters:e,filterStates:t},"filter",!0)},getPopupContainer:Z||j}),be=I(he,3),fe=be[0],ve=be[1],ye=be[2],Ze=ix(Ae,ve);ce.filters=ye,ce.filterStates=ve;var Ge=I(Hx(i.useMemo((function(){var e={};return Object.keys(ye).forEach((function(t){null!==ye[t]&&(e[t]=ye[t])})),Object.assign(Object.assign({},me),{filters:e})}),[me,ye])),1)[0],Se=I(ux(Ze.length,(function(e,t){se({pagination:Object.assign(Object.assign({},ce.pagination),{current:e,pageSize:t})},"paginate")}),d),2),Be=Se[0],ke=Se[1];ce.pagination=!1===d?{}:function(e,t){var n={current:e.current,pageSize:e.pageSize},o=t&&"object"===typeof t?t:{};return Object.keys(o).forEach((function(t){var o=e[t];"function"!==typeof o&&(n[t]=o)})),n}(Be,d),ce.resetPagination=ke;var Ve=i.useMemo((function(){if(!1===d||!Be.pageSize)return Ze;var e=Be.current,t=void 0===e?1:e,n=Be.total,o=Be.pageSize,r=void 0===o?10:o;return Ze.length<n?Ze.length>r?Ze.slice((t-1)*r,t*r):Ze:Ze.slice((t-1)*r,t*r)}),[!!d,Ze,Be&&Be.current,Be&&Be.pageSize,Be&&Be.total]),We=I(hx({prefixCls:_,data:Ze,pageData:Ve,getRowKey:ie,getRecordByKey:ge,expandType:oe,childrenColumnName:ne,locale:P,getPopupContainer:Z||j},C),2),we=We[0],Re=We[1];ee.__PARENT_RENDER_ICON__=ee.expandIcon,ee.expandIcon=ee.expandIcon||S||aW(P),"nest"===oe&&void 0===ee.expandIconColumnIndex?ee.expandIconColumnIndex=C?1:0:ee.expandIconColumnIndex>0&&C&&(ee.expandIconColumnIndex-=1),"number"!==typeof ee.indentSize&&(ee.indentSize="number"===typeof W?W:15);var Xe,Je,xe,He=i.useCallback((function(e){return Ge(we(fe(Ie(e))))}),[Ie,fe,we]);if(!1!==d&&(null===Be||void 0===Be?void 0:Be.total)){var Ye;Ye=Be.size?Be.size:"small"===O||"middle"===O?"small":void 0;var Ne=function(e){return i.createElement(jV,Object.assign({},Be,{className:Pr()("".concat(_,"-pagination ").concat(_,"-pagination-").concat(e),Be.className),size:Ye}))},Fe="rtl"===D?"left":"right",Ee=Be.position;if(null!==Ee&&Array.isArray(Ee)){var Ke=Ee.find((function(e){return e.includes("top")})),Me=Ee.find((function(e){return e.includes("bottom")})),Le=Ee.every((function(e){return"none"==="".concat(e)}));Ke||Me||Le||(Je=Ne(Fe)),Ke&&(Xe=Ne(Ke.toLowerCase().replace("top",""))),Me&&(Je=Ne(Me.toLowerCase().replace("bottom","")))}else Je=Ne(Fe)}"boolean"===typeof G?xe={spinning:G}:"object"===typeof G&&(xe=Object.assign({spinning:!0},G));var ze=I(eH(_),2),De=ze[0],Te=ze[1],Ue=I(is(),2)[1],Qe=Pr()("".concat(_,"-wrapper"),null===T||void 0===T?void 0:T.className,it({},"".concat(_,"-wrapper-rtl"),"rtl"===D),r,a,Te),je=Object.assign(Object.assign({},null===T||void 0===T?void 0:T.style),l),Oe=X&&X.emptyText||(null===U||void 0===U?void 0:U("Table"))||i.createElement(zS,{componentName:"Table"}),Pe=H?Nx:Yx,qe={},_e=i.useMemo((function(){var e=Ue.fontSize,t=Ue.lineHeight,n=Ue.padding,o=Ue.paddingXS,r=Ue.paddingSM,a=Math.floor(e*t);switch(O){case"large":return 2*n+a;case"small":return 2*o+a;default:return 2*r+a}}),[Ue,O]);return H&&(qe.listItemHeight=_e),De(i.createElement("div",{ref:t,className:Qe,style:je},i.createElement(rW,Object.assign({spinning:!1},xe),Xe,i.createElement(Pe,Object.assign({},qe,K,{columns:E,direction:D,expandable:ee,prefixCls:_,className:Pr()((n={},it(n,"".concat(_,"-middle"),"middle"===O),it(n,"".concat(_,"-small"),"small"===O),it(n,"".concat(_,"-bordered"),c),it(n,"".concat(_,"-empty"),0===q.length),n)),data:Ve,rowKey:ie,rowClassName:function(e,t,n){var o;return o="function"===typeof h?Pr()(h(e,t,n)):Pr()(h),Pr()(it({},"".concat(_,"-row-selected"),Re.has(ie(e,t))),o)},emptyText:Oe,internalHooks:hZ,internalRefs:re,transformColumns:He,getContainerWidth:ae})),Je)))},oH=i.forwardRef(nH),rH=function(e,t){var n=i.useRef(0);return n.current+=1,i.createElement(oH,Object.assign({},e,{ref:t,_renderTimes:n.current}))},aH=i.forwardRef(rH);aH.SELECTION_COLUMN=dx,aH.EXPAND_COLUMN=AZ,aH.SELECTION_ALL=Ix,aH.SELECTION_INVERT=Cx,aH.SELECTION_NONE=mx,aH.Column=yS,aH.ColumnGroup=ZS,aH.Summary=LZ;var iH=aH;function lH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=e.setMenuConfig,l=gb(),g=l.getApiData,c=l.postApiData,s=Ze(),u=I((0,i.useState)(!0),2),d=u[0],C=u[1],m=I((0,i.useState)([]),2),p=m[0],A=m[1],h=I((0,i.useState)(""),2),b=h[0],f=h[1],v=(0,i.useRef)(null),y=(0,i.memo)(Ib),Z=(0,i.memo)(Ur),G=(0,i.memo)(pZ),S=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,g("Client/GetClients",!0);case 4:(n=e.sent).clients.length||o("Registra tu primer cliente","info"),A(n.clients),C(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),o(e.t0.message,e.t0.type||"error"),C(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),[o,g]);(0,i.useEffect)((function(){var e,t;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#F2A819"),null===(t=document.querySelector('meta[name="background-color"]'))||void 0===t||t.setAttribute("content","#F2A819"),a({path:"/home/admin",tabOption:"admin"}),setTimeout((function(){n(!1)}),300),S()}),[window.location.href]);var B=[gt({title:"Nombre",width:140},dA("Name",v,b,f)),gt({title:"Ruta",width:110},dA("Route",v,b,f)),gt({title:"Tel\xe9fono",width:110},dA("Phone",v,b,f)),gt({title:"Contacto",width:120},dA("Contact",v,b,f)),gt({title:"Domicilio",width:110},dA("Delivery",v,b,f)),gt({title:"Direcci\xf3n",width:150},dA("Address",v,b,f)),gt({title:"Activo",width:100},dA("Active",v,b,f)),{title:"Acciones",width:110,render:function(e){return(0,nt.jsxs)("div",{className:"table_action_container",children:[(0,nt.jsx)(Z,{size:30,color:"var(--principal)",onClick:function(){return V(e.Id)}}),(0,nt.jsx)(G,{size:30,color:"var(--tertiary)",onClick:function(){return W(e.Id)}})]})}}],k=(0,i.useCallback)((function(){n(!0),s("new")}),[n,s]),V=(0,i.useCallback)((function(e){n(!0),s("edit/".concat(e))}),[n,s]),W=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(y,{size:130,color:"var(--tertiary)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color:var(--tertiary);'>Eliminar</b> el cliente?</div>"),showCancelButton:!0,confirmButtonColor:"var(--tertiary)",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 2:if(r=e.sent,!r.isConfirmed){e.next=17;break}return e.prev=5,a={Client_Id:n},e.next=9,c("Client/DeleteClient",a,!0,"application/json");case 9:i=e.sent,A((function(e){return e.filter((function(e){return e.Id!==n}))})),o(i.rpta),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),o(e.t0.message,e.t0.type||"error");case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),[c,o,y]);return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(vb,{}),(0,nt.jsx)(cZ,{image:"clients",title:"Clientes"}),(0,nt.jsx)(fb,{name:"Agregar cliente",type:"button",onClick:k,icon:"add",template:"dark"}),(0,nt.jsx)(iH,{rowKey:function(e){return e.Id},dataSource:p,columns:B,scroll:{x:950},style:{marginBottom:"120px"},pagination:{pageSize:10,position:["bottomCenter"]},loading:d}),(0,nt.jsx)(Ee,{})]})}function gH(e){var t=e.children,n=e.name,o=e.closeUrl,r=e.isOpen,a=e.setIsOpen,l=Ze(),g=I((0,i.useState)(!1),2),c=g[0],s=g[1],u=(0,i.useRef)(null);(0,i.useEffect)((function(){setTimeout((function(){r&&s(!0)}),300)}),[r]);var d=(0,i.useCallback)((function(){s(!1),setTimeout((function(){a(!1),o&&l(o)}),700)}),[a,o,l]),C=(0,i.useCallback)((function(e){if(!(e.target instanceof HTMLElement&&"DIV"!==e.target.nodeName)&&u.current&&e.target instanceof HTMLElement&&e.target.className.includes("modal_wrapper")){var t=u.current;t.classList.add("animate"),setTimeout((function(){t.classList.remove("animate")}),1e3)}}),[]);return r?_t.createPortal((0,nt.jsx)("div",{className:"modal_wrapper",onClick:C,children:(0,nt.jsxs)("div",{className:"modal_container ".concat(c?"active":""),ref:u,children:[(0,nt.jsx)(Ib,{className:"modal_button",onClick:d}),(0,nt.jsx)("h4",{className:"modal_header",children:n}),(0,nt.jsx)("div",{className:"modal_body",children:t}),(0,nt.jsx)("div",{className:"modal_footer"})]})}),document.getElementById("modal-root")):null}var cH=n.p+"static/media/LogoQr.afd14938febf93ef90c6.png",sH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},uH=function(e,t){return i.createElement(Ms,$r({},e,{ref:t,icon:sH}))};var dH,IH,CH=i.forwardRef(uH),mH=Object.defineProperty,pH=Object.getOwnPropertySymbols,AH=Object.prototype.hasOwnProperty,hH=Object.prototype.propertyIsEnumerable,bH=function(e,t,n){return t in e?mH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},fH=function(e,t){for(var n in t||(t={}))AH.call(t,n)&&bH(e,n,t[n]);if(pH){var o,r=W(pH(t));try{for(r.s();!(o=r.n()).done;){n=o.value;hH.call(t,n)&&bH(e,n,t[n])}}catch(a){r.e(a)}finally{r.f()}}return e},vH=function(e,t){var n={};for(var o in e)AH.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&pH){var r,a=W(pH(e));try{for(a.s();!(r=a.n()).done;){o=r.value;t.indexOf(o)<0&&hH.call(e,o)&&(n[o]=e[o])}}catch(i){a.e(i)}finally{a.f()}}return n};!function(e){var t=function(){function t(e,n,o,r){if(p(this,t),this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=4*e+17;for(var i=[],l=0;l<this.size;l++)i.push(!1);for(var g=0;g<this.size;g++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();var c=this.addEccAndInterleave(o);if(this.drawCodewords(c),-1==r)for(var s=1e9,u=0;u<8;u++){this.applyMask(u),this.drawFormatBits(u);var d=this.getPenaltyScore();d<s&&(r=u,s=d),this.applyMask(u)}a(0<=r&&r<=7),this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}return b(t,[{key:"getModule",value:function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var t=this.getAlignmentPatternPositions(),n=t.length,o=0;o<n;o++)for(var r=0;r<n;r++)0==o&&0==r||0==o&&r==n-1||o==n-1&&0==r||this.drawAlignmentPattern(t[o],t[r]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,n=t,o=0;o<10;o++)n=n<<1^1335*(n>>>9);var i=21522^(t<<10|n);a(i>>>15==0);for(var l=0;l<=5;l++)this.setFunctionModule(8,l,r(i,l));this.setFunctionModule(8,7,r(i,6)),this.setFunctionModule(8,8,r(i,7)),this.setFunctionModule(7,8,r(i,8));for(var g=9;g<15;g++)this.setFunctionModule(14-g,8,r(i,g));for(var c=0;c<8;c++)this.setFunctionModule(this.size-1-c,8,r(i,c));for(var s=8;s<15;s++)this.setFunctionModule(8,this.size-15+s,r(i,s));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^7973*(e>>>11);var n=this.version<<12|e;a(n>>>18==0);for(var o=0;o<18;o++){var i=r(n,o),l=this.size-11+o%3,g=Math.floor(o/3);this.setFunctionModule(l,g,i),this.setFunctionModule(g,l,i)}}}},{key:"drawFinderPattern",value:function(e,t){for(var n=-4;n<=4;n++)for(var o=-4;o<=4;o++){var r=Math.max(Math.abs(o),Math.abs(n)),a=e+o,i=t+n;0<=a&&a<this.size&&0<=i&&i<this.size&&this.setFunctionModule(a,i,2!=r&&4!=r)}}},{key:"drawAlignmentPattern",value:function(e,t){for(var n=-2;n<=2;n++)for(var o=-2;o<=2;o++)this.setFunctionModule(e+o,t+n,1!=Math.max(Math.abs(o),Math.abs(n)))}},{key:"setFunctionModule",value:function(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}},{key:"addEccAndInterleave",value:function(e){var n=this.version,o=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,o))throw new RangeError("Invalid argument");for(var r=t.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][n],i=t.ECC_CODEWORDS_PER_BLOCK[o.ordinal][n],l=Math.floor(t.getNumRawDataModules(n)/8),g=r-l%r,c=Math.floor(l/r),s=[],u=t.reedSolomonComputeDivisor(i),d=0,I=0;d<r;d++){var C=e.slice(I,I+c-i+(d<g?0:1));I+=C.length;var m=t.reedSolomonComputeRemainder(C,u);d<g&&C.push(0),s.push(C.concat(m))}for(var p=[],A=function(e){s.forEach((function(t,n){(e!=c-i||n>=g)&&p.push(t[e])}))},h=0;h<s[0].length;h++)A(h);return a(p.length==l),p}},{key:"drawCodewords",value:function(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var n=0,o=this.size-1;o>=1;o-=2){6==o&&(o=5);for(var i=0;i<this.size;i++)for(var l=0;l<2;l++){var g=o-l,c=0==(o+1&2)?this.size-1-i:i;!this.isFunction[c][g]&&n<8*e.length&&(this.modules[c][g]=r(e[n>>>3],7-(7&n)),n++)}}a(n==8*e.length)}},{key:"applyMask",value:function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var n=0;n<this.size;n++){var o=void 0;switch(e){case 0:o=(n+t)%2==0;break;case 1:o=t%2==0;break;case 2:o=n%3==0;break;case 3:o=(n+t)%3==0;break;case 4:o=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:o=n*t%2+n*t%3==0;break;case 6:o=(n*t%2+n*t%3)%2==0;break;case 7:o=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&o&&(this.modules[t][n]=!this.modules[t][n])}}},{key:"getPenaltyScore",value:function(){for(var e=0,n=0;n<this.size;n++){for(var o=!1,r=0,i=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[n][l]==o?5==++r?e+=t.PENALTY_N1:r>5&&e++:(this.finderPenaltyAddHistory(r,i),o||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),o=this.modules[n][l],r=1);e+=this.finderPenaltyTerminateAndCount(o,r,i)*t.PENALTY_N3}for(var g=0;g<this.size;g++){for(var c=!1,s=0,u=[0,0,0,0,0,0,0],d=0;d<this.size;d++)this.modules[d][g]==c?5==++s?e+=t.PENALTY_N1:s>5&&e++:(this.finderPenaltyAddHistory(s,u),c||(e+=this.finderPenaltyCountPatterns(u)*t.PENALTY_N3),c=this.modules[d][g],s=1);e+=this.finderPenaltyTerminateAndCount(c,s,u)*t.PENALTY_N3}for(var I=0;I<this.size-1;I++)for(var C=0;C<this.size-1;C++){var m=this.modules[I][C];m==this.modules[I][C+1]&&m==this.modules[I+1][C]&&m==this.modules[I+1][C+1]&&(e+=t.PENALTY_N2)}var p,A=0,h=W(this.modules);try{for(h.s();!(p=h.n()).done;){A=p.value.reduce((function(e,t){return e+(t?1:0)}),A)}}catch(v){h.e(v)}finally{h.f()}var b=this.size*this.size,f=Math.ceil(Math.abs(20*A-10*b)/b)-1;return a(0<=f&&f<=9),a(0<=(e+=f*t.PENALTY_N4)&&e<=2568888),e}},{key:"getAlignmentPatternPositions",value:function(){if(1==this.version)return[];for(var e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),n=[6],o=this.size-7;n.length<e;o-=t)n.splice(1,0,o);return n}},{key:"finderPenaltyCountPatterns",value:function(e){var t=e[1];a(t<=3*this.size);var n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}},{key:"finderPenaltyAddHistory",value:function(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}}],[{key:"encodeText",value:function(n,o){var r=e.QrSegment.makeSegments(n);return t.encodeSegments(r,o)}},{key:"encodeBinary",value:function(n,o){var r=e.QrSegment.makeBytes(n);return t.encodeSegments([r],o)}},{key:"encodeSegments",value:function(e,n){var r,i,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=g&&g<=c&&c<=t.MAX_VERSION)||s<-1||s>7)throw new RangeError("Invalid value");for(r=g;;r++){var d=8*t.getNumDataCodewords(r,n),I=l.getTotalBits(e,r);if(I<=d){i=I;break}if(r>=c)throw new RangeError("Data too long")}for(var C=0,m=[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH];C<m.length;C++){var p=m[C];u&&i<=8*t.getNumDataCodewords(r,p)&&(n=p)}var A,h=[],b=W(e);try{for(b.s();!(A=b.n()).done;){var f=A.value;o(f.mode.modeBits,4,h),o(f.numChars,f.mode.numCharCountBits(r),h);var v,y=W(f.getData());try{for(y.s();!(v=y.n()).done;){var Z=v.value;h.push(Z)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){b.e(k)}finally{b.f()}a(h.length==i);var G=8*t.getNumDataCodewords(r,n);a(h.length<=G),o(0,Math.min(4,G-h.length),h),o(0,(8-h.length%8)%8,h),a(h.length%8==0);for(var S=236;h.length<G;S^=253)o(S,8,h);for(var B=[];8*B.length<h.length;)B.push(0);return h.forEach((function(e,t){return B[t>>>3]|=e<<7-(7&t)})),new t(r,n,B,s)}},{key:"getNumRawDataModules",value:function(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");var n=(16*e+128)*e+64;if(e>=2){var o=Math.floor(e/7)+2;n-=(25*o-10)*o-55,e>=7&&(n-=36)}return a(208<=n&&n<=29648),n}},{key:"getNumDataCodewords",value:function(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}},{key:"reedSolomonComputeDivisor",value:function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var n=[],o=0;o<e-1;o++)n.push(0);n.push(1);for(var r=1,a=0;a<e;a++){for(var i=0;i<n.length;i++)n[i]=t.reedSolomonMultiply(n[i],r),i+1<n.length&&(n[i]^=n[i+1]);r=t.reedSolomonMultiply(r,2)}return n}},{key:"reedSolomonComputeRemainder",value:function(e,n){var o,r=n.map((function(e){return 0})),a=W(e);try{var i=function(){var e=o.value^r.shift();r.push(0),n.forEach((function(n,o){return r[o]^=t.reedSolomonMultiply(n,e)}))};for(a.s();!(o=a.n()).done;)i()}catch(l){a.e(l)}finally{a.f()}return r}},{key:"reedSolomonMultiply",value:function(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");for(var n=0,o=7;o>=0;o--)n=n<<1^285*(n>>>7),n^=(t>>>o&1)*e;return a(n>>>8==0),n}}]),t}(),n=t;function o(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(var o=t-1;o>=0;o--)n.push(e>>>o&1)}function r(e,t){return 0!=(e>>>t&1)}function a(e){if(!e)throw new Error("Assertion error")}n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;var i=function(){function e(t,n,o){if(p(this,e),this.mode=t,this.numChars=n,this.bitData=o,n<0)throw new RangeError("Invalid argument");this.bitData=o.slice()}return b(e,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(t){var n,r=[],a=W(t);try{for(a.s();!(n=a.n()).done;){o(n.value,8,r)}}catch(i){a.e(i)}finally{a.f()}return new e(e.Mode.BYTE,t.length,r)}},{key:"makeNumeric",value:function(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");for(var n=[],r=0;r<t.length;){var a=Math.min(t.length-r,3);o(parseInt(t.substr(r,a),10),3*a+1,n),r+=a}return new e(e.Mode.NUMERIC,t.length,n)}},{key:"makeAlphanumeric",value:function(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");var n,r=[];for(n=0;n+2<=t.length;n+=2){var a=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n));o(a+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n+1)),11,r)}return n<t.length&&o(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n)),6,r),new e(e.Mode.ALPHANUMERIC,t.length,r)}},{key:"makeSegments",value:function(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}},{key:"makeEci",value:function(t){var n=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)o(t,8,n);else if(t<16384)o(2,2,n),o(t,14,n);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");o(6,3,n),o(t,21,n)}return new e(e.Mode.ECI,0,n)}},{key:"isNumeric",value:function(t){return e.NUMERIC_REGEX.test(t)}},{key:"isAlphanumeric",value:function(t){return e.ALPHANUMERIC_REGEX.test(t)}},{key:"getTotalBits",value:function(e,t){var n,o=0,r=W(e);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=a.mode.numCharCountBits(t);if(a.numChars>=1<<i)return 1/0;o+=4+i+a.bitData.length}}catch(l){r.e(l)}finally{r.f()}return o}},{key:"toUtf8ByteArray",value:function(e){e=encodeURI(e);for(var t=[],n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}}]),e}(),l=i;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=l}(dH||(dH={})),function(e){var t=b((function e(t,n){p(this,e),this.ordinal=t,this.formatBits=n})),n=t;n.LOW=new t(0,1),n.MEDIUM=new t(1,0),n.QUARTILE=new t(2,3),n.HIGH=new t(3,2),e.Ecc=n}((IH=dH||(dH={})).QrCode||(IH.QrCode={})),function(e){!function(e){var t=function(){function e(t,n){p(this,e),this.modeBits=t,this.numBitsCharCount=n}return b(e,[{key:"numCharCountBits",value:function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}]),e}(),n=t;n.NUMERIC=new t(1,[10,12,14]),n.ALPHANUMERIC=new t(2,[9,11,13]),n.BYTE=new t(4,[8,16,16]),n.KANJI=new t(8,[8,10,12]),n.ECI=new t(7,[0,0,0]),e.Mode=n}(e.QrSegment||(e.QrSegment={}))}(dH||(dH={}));var yH=dH,ZH={L:yH.QrCode.Ecc.LOW,M:yH.QrCode.Ecc.MEDIUM,Q:yH.QrCode.Ecc.QUARTILE,H:yH.QrCode.Ecc.HIGH},GH="#FFFFFF",SH="#000000",BH=4,kH=.1;function VH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return e.forEach((function(e,o){var r=null;e.forEach((function(a,i){if(!a&&null!==r)return n.push("M".concat(r+t," ").concat(o+t,"h").concat(i-r,"v1H").concat(r+t,"z")),void(r=null);if(i!==e.length-1)a&&null===r&&(r=i);else{if(!a)return;null===r?n.push("M".concat(i+t,",").concat(o+t," h1v1H").concat(i+t,"z")):n.push("M".concat(r+t,",").concat(o+t," h").concat(i+1-r,"v1H").concat(r+t,"z"))}}))})),n.join("")}function WH(e,t){return e.slice().map((function(e,n){return n<t.y||n>=t.y+t.h?e:e.map((function(e,n){return(n<t.x||n>=t.x+t.w)&&e}))}))}function wH(e,t,n,o){if(null==o)return null;var r=n?BH:0,a=e.length+2*r,i=Math.floor(t*kH),l=a/t,g=(o.width||i)*l,c=(o.height||i)*l,s=null==o.x?e.length/2-g/2:o.x*l,u=null==o.y?e.length/2-c/2:o.y*l,d=null;if(o.excavate){var I=Math.floor(s),C=Math.floor(u);d={x:I,y:C,w:Math.ceil(g+s-I),h:Math.ceil(c+u-C)}}return{x:s,y:u,h:c,w:g,excavation:d}}var RH=function(){try{(new Path2D).addPath(new Path2D)}catch(nY){return!1}return!0}();function XH(e){var t=e,n=t.value,o=t.size,r=void 0===o?128:o,a=t.level,l=void 0===a?"L":a,g=t.bgColor,c=void 0===g?GH:g,s=t.fgColor,u=void 0===s?SH:s,d=t.includeMargin,C=void 0!==d&&d,m=t.style,p=t.imageSettings,A=vH(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),h=null==p?void 0:p.src,b=(0,i.useRef)(null),f=(0,i.useRef)(null),v=I((0,i.useState)(!1),2),y=(v[0],v[1]);(0,i.useEffect)((function(){if(null!=b.current){var e=b.current,t=e.getContext("2d");if(!t)return;var o=yH.QrCode.encodeText(n,ZH[l]).getModules(),a=C?BH:0,i=o.length+2*a,g=wH(o,r,C,p),s=f.current,d=null!=g&&null!==s&&s.complete&&0!==s.naturalHeight&&0!==s.naturalWidth;d&&null!=g.excavation&&(o=WH(o,g.excavation));var I=window.devicePixelRatio||1;e.height=e.width=r*I;var m=r/i*I;t.scale(m,m),t.fillStyle=c,t.fillRect(0,0,i,i),t.fillStyle=u,RH?t.fill(new Path2D(VH(o,a))):o.forEach((function(e,n){e.forEach((function(e,o){e&&t.fillRect(o+a,n+a,1,1)}))})),d&&t.drawImage(s,g.x+a,g.y+a,g.w,g.h)}})),(0,i.useEffect)((function(){y(!1)}),[h]);var Z=fH({height:r,width:r},m),G=null;return null!=h&&(G=i.createElement("img",{src:h,key:h,style:{display:"none"},onLoad:function(){y(!0)},ref:f})),i.createElement(i.Fragment,null,i.createElement("canvas",fH({style:Z,height:r,width:r,ref:b},A)),G)}function JH(e){var t=e,n=t.value,o=t.size,r=void 0===o?128:o,a=t.level,l=void 0===a?"L":a,g=t.bgColor,c=void 0===g?GH:g,s=t.fgColor,u=void 0===s?SH:s,d=t.includeMargin,I=void 0!==d&&d,C=t.imageSettings,m=vH(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),p=yH.QrCode.encodeText(n,ZH[l]).getModules(),A=I?BH:0,h=p.length+2*A,b=wH(p,r,I,C),f=null;null!=C&&null!=b&&(null!=b.excavation&&(p=WH(p,b.excavation)),f=i.createElement("image",{xlinkHref:C.src,height:b.h,width:b.w,x:b.x+A,y:b.y+A,preserveAspectRatio:"none"}));var v=VH(p,A);return i.createElement("svg",fH({height:r,width:r,viewBox:"0 0 ".concat(h," ").concat(h)},m),i.createElement("path",{fill:c,d:"M0,0 h".concat(h,"v").concat(h,"H0z"),shapeRendering:"crispEdges"}),i.createElement("path",{fill:u,d:v,shapeRendering:"crispEdges"}),f)}var xH=gs("QRCode",(function(e){return function(e){var t,n,o=e.componentCls;return it(n={},o,Object.assign(Object.assign({},Ji(e)),(it(t={display:"flex",justifyContent:"center",alignItems:"center",padding:e.paddingSM,backgroundColor:e.colorWhite,borderRadius:e.borderRadiusLG,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit),position:"relative",width:"100%",height:"100%",overflow:"hidden"},"& > ".concat(o,"-mask"),it({position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:e.colorText,lineHeight:e.lineHeight,background:e.QRCodeMaskBackgroundColor,textAlign:"center"},"& > ".concat(o,"-expired"),{color:e.QRCodeExpiredTextColor})),it(t,"&-icon",{marginBlockEnd:e.marginXS,fontSize:e.controlHeight}),t))),it(n,"".concat(o,"-borderless"),{borderColor:"transparent"}),n}(Mi(e,{QRCodeExpiredTextColor:"rgba(0, 0, 0, 0.88)",QRCodeMaskBackgroundColor:"rgba(255, 255, 255, 0.96)"}))}));var HH=function(e){var t=I(is(),2)[1],n=e.value,o=e.type,r=void 0===o?"canvas":o,a=e.icon,l=void 0===a?"":a,g=e.size,c=void 0===g?160:g,s=e.iconSize,u=void 0===s?40:s,d=e.color,C=void 0===d?t.colorText:d,m=e.errorLevel,p=void 0===m?"M":m,A=e.status,h=void 0===A?"active":A,b=e.bordered,f=void 0===b||b,v=e.onRefresh,y=e.style,Z=e.className,G=e.rootClassName,S=e.prefixCls,B=e.bgColor,k=void 0===B?"transparent":B,V=(0,(0,i.useContext)(_r).getPrefixCls)("qrcode",S),W=I(xH(V),2),w=W[0],R=W[1],X={src:l,x:void 0,y:void 0,height:u,width:u,excavate:!0},J={value:n,size:c-2*(t.paddingSM+t.lineWidth),level:p,bgColor:k,fgColor:C,imageSettings:l?X:void 0},x=I(JS("QRCode"),1)[0];if(!n)return null;var H=Pr()(V,Z,G,R,it({},"".concat(V,"-borderless"),!f));return w(i.createElement("div",{style:Object.assign(Object.assign({},y),{width:c,height:c,backgroundColor:k}),className:H},"active"!==h&&i.createElement("div",{className:"".concat(V,"-mask")},"loading"===h&&i.createElement(rW,null),"expired"===h&&i.createElement(i.Fragment,null,i.createElement("p",{className:"".concat(V,"-expired")},null===x||void 0===x?void 0:x.expired),v&&i.createElement(OI,{type:"link",icon:i.createElement(CH,null),onClick:v},null===x||void 0===x?void 0:x.refresh))),"canvas"===r?i.createElement(XH,Object.assign({},J)):i.createElement(JH,Object.assign({},J))))};function YH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=gb(),l=a.postApiData,g=a.getApiData,c=Se(),s=Ze(),u=I((0,i.useState)(!1),2),d=u[0],C=u[1],m=I((0,i.useState)(""),2),p=m[0],A=m[1],h=I((0,i.useState)(""),2),b=h[0],f=h[1],v=I((0,i.useState)(""),2),y=v[0],Z=v[1],G=I((0,i.useState)(""),2),S=G[0],B=G[1],k=I((0,i.useState)(""),2),V=k[0],W=k[1],w=I((0,i.useState)(!0),2),R=w[0],X=w[1],J=I((0,i.useState)(!1),2),x=J[0],H=J[1],Y=(0,i.memo)(Sb),N=I((0,i.useState)([]),2),F=N[0],E=N[1],K=I((0,i.useState)(180),2),M=K[0],L=K[1],z=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g("Client/GetClientById?Client_Id=".concat(c.id),!0);case 3:n=e.sent,A(n.client.Route),f(n.client.Name),Z(n.client.Phone),B(n.client.Contact),W(n.client.Address),X(n.client.Active),H(n.client.Delivery),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),o(e.t0.message,e.t0.type||"error"),s("/home/admin/clients");case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),[g,c,o,s]),D=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===F.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,g("Route/GetRoutes",!0);case 5:(n=e.sent).routes.length||o("Registra tu primera ruta","info"),E(n.routes),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),o(e.t0.message,e.t0.type||"error");case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),[F,o,g]);(0,i.useEffect)((function(){D(),c.id&&z(),setTimeout((function(){n(!1),C(!0)}),300)}),[]);var T=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,a,i,g,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(Y,{size:130,color:c.id?"var(--principal)":"var(--green)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color:").concat(c.id?"var(--principal)":"var(--green)",";'>").concat(c.id?"Editar":"Crear","</b> el cliente?</div>"),showCancelButton:!0,confirmButtonColor:c.id?"var(--principal)":"var(--green)",confirmButtonText:c.id?"Editar":"Crear",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 3:if(r=e.sent,!r.isConfirmed){e.next=33;break}if(!c.id){e.next=21;break}return e.prev=7,a={Client_Id:c.id,Route_Id:p.value,Name:b,Phone:y,Contact:S,Address:V,Active:R,Delivery:x},e.next=11,l("Client/UpdateClient",a,!0,"application/json");case 11:i=e.sent,o(i.rpta),s("/home/admin/clients"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),o(e.t0.message,e.t0.type||"error");case 19:e.next=33;break;case 21:return e.prev=21,g={Route_Id:p.value,Name:b,Phone:y,Contact:S,Address:V,Active:R,Delivery:x},e.next=25,l("Client/CreateClient",g,!0,"application/json");case 25:u=e.sent,o(u.rpta),s("/home/admin/clients"),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(21),o(e.t1.message,e.t1.type||"error");case 33:case"end":return e.stop()}}),e,null,[[7,16],[21,30]])})));return function(t){return e.apply(this,arguments)}}(),[c,p,b,y,S,V,R,x,o,s,l,Y]);return(0,nt.jsx)(gH,{isOpen:d,setIsOpen:C,closeUrl:"/home/admin/clients",name:"".concat(c.id?"Editar":"Crear"," cliente"),children:(0,nt.jsxs)("form",{className:"form_inputs",onSubmit:T,children:[c.id&&(0,nt.jsxs)("div",{className:"QRCode_container",children:[(0,nt.jsx)(HH,{value:"https://tiolucho.com/#/home/newSale/".concat(c.id),bordered:!1,size:M,bgColor:"#F2A819",errorLevel:"H"}),(0,nt.jsx)(fb,{name:"Descargar",type:"button",template:"short dark",onClick:function(){L(1106),setTimeout((function(){var e=document.querySelector(".QRCode_container canvas");if(e){var t=new Image;t.src=e.toDataURL(),t.onload=function(){var n=document.createElement("canvas");n.width=e.width+200,n.height=e.height+300;var o=n.getContext("2d");null!==o&&void 0!==o&&o.fillStyle&&(o.fillStyle="#F2A819"),null===o||void 0===o||o.fillRect(0,0,n.width,n.height),null!==o&&void 0!==o&&o.fillStyle&&(o.fillStyle="rgba(0, 0, 0)"),null!==o&&void 0!==o&&o.font&&(o.font="bold 150px Urbanist");var r=b,a=null===o||void 0===o?void 0:o.measureText(r).width,i=(n.width-a)/2;null===o||void 0===o||o.fillText(r,i,n.height-50),null===o||void 0===o||o.drawImage(t,100,100);var l=new Image;l.src=cH,l.onload=function(){var e=n.width/2-l.width/2,t=(n.height-100)/2-l.height/2;null===o||void 0===o||o.drawImage(l,e,t);var r=n.toDataURL(),a=document.createElement("a");a.download="QRCode-".concat(b,".png"),a.href=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),L(180)}}}}),100)}})]}),(0,nt.jsx)(Ey,{type:"text",value:b,setValue:f,name:"Nombre"}),(0,nt.jsx)(Ey,{type:"select",value:p,setValue:A,name:"Ruta",options:gA(F),defaultValue:p}),(0,nt.jsx)(Ey,{type:"tel",value:y,setValue:Z,name:"Tel\xe9fono"}),(0,nt.jsx)(Ey,{type:"text",value:S,setValue:B,name:"Contacto"}),(0,nt.jsx)(Ey,{type:"geolocation",value:V,setValue:W,name:"Direcci\xf3n"}),(0,nt.jsx)(Ey,{type:"checkbox",value:x,setValue:H,name:"Domicilio"}),(0,nt.jsx)(Ey,{type:"checkbox",value:R,setValue:X,name:"Activo"}),(0,nt.jsx)(fb,{name:"".concat(c.id?"Editar":"Crear"," cliente"),type:"submit",icon:"send"})]})})}function NH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=e.setMenuConfig,l=gb(),g=l.getApiData,c=l.postApiData,s=Ze(),u=I((0,i.useState)(!0),2),d=u[0],C=u[1],m=I((0,i.useState)([]),2),p=m[0],A=m[1],h=I((0,i.useState)(""),2),b=h[0],f=h[1],v=(0,i.useRef)(null),y=(0,i.memo)(Ib),Z=(0,i.memo)(Ur),G=(0,i.memo)(pZ),S=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,g("Category/GetCategories",!0);case 4:(n=e.sent).categories.length||o("Registra tu primer categoria","info"),A(n.categories),C(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),o(e.t0.message,e.t0.type||"error"),C(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),[o,g]);(0,i.useEffect)((function(){var e,t;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#F2A819"),null===(t=document.querySelector('meta[name="background-color"]'))||void 0===t||t.setAttribute("content","#F2A819"),a({path:"/home/admin",tabOption:"admin"}),setTimeout((function(){n(!1)}),300),S()}),[window.location.href]);var B=[gt({title:"Nombre",width:220},dA("Name",v,b,f)),{title:"Acciones",width:110,render:function(e){return(0,nt.jsxs)("div",{className:"table_action_container",children:[(0,nt.jsx)(Z,{size:30,color:"var(--principal)",onClick:function(){return V(e.Id)}}),(0,nt.jsx)(G,{size:30,color:"var(--tertiary)",onClick:function(){return W(e.Id)}})]})}}],k=(0,i.useCallback)((function(){n(!0),s("new")}),[n,s]),V=(0,i.useCallback)((function(e){n(!0),s("edit/".concat(e))}),[n,s]),W=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(y,{size:130,color:"var(--tertiary)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color:var(--tertiary);'>Eliminar</b> la categor\xeda?</div>"),showCancelButton:!0,confirmButtonColor:"var(--tertiary)",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 2:if(r=e.sent,!r.isConfirmed){e.next=17;break}return e.prev=5,a={Category_Id:n},e.next=9,c("Category/DeleteCategory",a,!0,"application/json");case 9:i=e.sent,A((function(e){return e.filter((function(e){return e.Id!==n}))})),o(i.rpta),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),o(e.t0.message,e.t0.type||"error");case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),[c,o,y]);return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(vb,{}),(0,nt.jsx)(cZ,{image:"categories",title:"Categor\xedas"}),(0,nt.jsx)(fb,{name:"Agregar categor\xeda",type:"button",onClick:k,icon:"add",template:"dark"}),(0,nt.jsx)(iH,{rowKey:function(e){return e.Id},dataSource:p,columns:B,scroll:{x:330},style:{marginBottom:"120px"},pagination:{pageSize:10,position:["bottomCenter"]},loading:d}),(0,nt.jsx)(Ee,{})]})}function FH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=gb(),l=a.postApiData,g=a.getApiData,c=Se(),s=Ze(),u=I((0,i.useState)(!1),2),d=u[0],C=u[1],m=I((0,i.useState)(""),2),p=m[0],A=m[1],h=(0,i.memo)(Sb),b=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g("Category/GetCategoryById?Category_Id=".concat(c.id),!0);case 3:n=e.sent,A(n.category.Name),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o(e.t0.message,e.t0.type||"error"),s("/home/admin/categories");case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[g,c,o,s]);(0,i.useEffect)((function(){c.id&&b(),setTimeout((function(){n(!1),C(!0)}),300)}),[]);var f=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,a,i,g,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(h,{size:130,color:c.id?"var(--principal)":"var(--green)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color:").concat(c.id?"var(--principal)":"var(--green)",";'>").concat(c.id?"Editar":"Crear","</b> la categor\xeda?</div>"),showCancelButton:!0,confirmButtonColor:c.id?"var(--principal)":"var(--green)",confirmButtonText:c.id?"Editar":"Crear",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 3:if(r=e.sent,!r.isConfirmed){e.next=33;break}if(!c.id){e.next=21;break}return e.prev=7,a={Category_Id:c.id,Name:p},e.next=11,l("Category/UpdateCategory",a,!0,"application/json");case 11:i=e.sent,o(i.rpta),s("/home/admin/categories"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),o(e.t0.message,e.t0.type||"error");case 19:e.next=33;break;case 21:return e.prev=21,g={Name:p},e.next=25,l("Category/CreateCategory",g,!0,"application/json");case 25:u=e.sent,o(u.rpta),s("/home/admin/categories"),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(21),o(e.t1.message,e.t1.type||"error");case 33:case"end":return e.stop()}}),e,null,[[7,16],[21,30]])})));return function(t){return e.apply(this,arguments)}}(),[c,p,o,s,l,h]);return(0,nt.jsx)(gH,{isOpen:d,setIsOpen:C,closeUrl:"/home/admin/categories",name:"".concat(c.id?"Editar":"Crear"," categor\xeda"),children:(0,nt.jsxs)("form",{className:"form_inputs",onSubmit:f,children:[(0,nt.jsx)(Ey,{type:"text",value:p,setValue:A,name:"Nombre"}),(0,nt.jsx)(fb,{name:"".concat(c.id?"Editar":"Crear"," categor\xeda"),type:"submit",icon:"send"})]})})}function EH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=e.setMenuConfig,l=gb(),g=l.getApiData,c=l.postApiData,s=Ze(),u=I((0,i.useState)(!0),2),d=u[0],C=u[1],m=I((0,i.useState)([]),2),p=m[0],A=m[1],h=I((0,i.useState)(""),2),b=h[0],f=h[1],v=(0,i.useRef)(null),y=(0,i.memo)(Ib),Z=(0,i.memo)(Ur),G=(0,i.memo)(pZ),S=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,g("Product/GetProducts",!0);case 4:(n=e.sent).products.length||o("Registra tu primer producto","info"),A(n.products),C(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),o(e.t0.message,e.t0.type||"error"),C(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),[o,g]);(0,i.useEffect)((function(){var e,t;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#F2A819"),null===(t=document.querySelector('meta[name="background-color"]'))||void 0===t||t.setAttribute("content","#F2A819"),a({path:"/home/admin",tabOption:"admin"}),setTimeout((function(){n(!1)}),300),S()}),[window.location.href]);var B=[gt({title:"Nombre",width:140},dA("Name",v,b,f)),gt({title:"Costo",width:100},dA("Cost",v,b,f,"money")),gt({title:"Precio",width:100},dA("Price",v,b,f,"money")),gt({title:"Categor\xeda",width:100},dA("Category",v,b,f)),gt({title:"Activo",width:100},dA("Active",v,b,f)),{title:"Acciones",width:110,render:function(e){return(0,nt.jsxs)("div",{className:"table_action_container",children:[(0,nt.jsx)(Z,{size:30,color:"var(--principal)",onClick:function(){return V(e.Id)}}),(0,nt.jsx)(G,{size:30,color:"var(--tertiary)",onClick:function(){return W(e.Id)}})]})}}],k=(0,i.useCallback)((function(){n(!0),s("new")}),[n,s]),V=(0,i.useCallback)((function(e){n(!0),s("edit/".concat(e))}),[n,s]),W=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(y,{size:130,color:"var(--tertiary)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color:var(--tertiary);'>Eliminar</b> el producto?</div>"),showCancelButton:!0,confirmButtonColor:"var(--tertiary)",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 2:if(r=e.sent,!r.isConfirmed){e.next=17;break}return e.prev=5,a={Product_Id:n},e.next=9,c("Product/DeleteProduct",a,!0,"application/json");case 9:i=e.sent,A((function(e){return e.filter((function(e){return e.Id!==n}))})),o(i.rpta),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),o(e.t0.message,e.t0.type||"error");case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),[c,o,y]);return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(vb,{}),(0,nt.jsx)(cZ,{image:"products",title:"Productos"}),(0,nt.jsx)(fb,{name:"Agregar producto",type:"button",onClick:k,icon:"add",template:"dark"}),(0,nt.jsx)(iH,{rowKey:function(e){return e.Id},dataSource:p,columns:B,scroll:{x:650},style:{marginBottom:"120px"},pagination:{pageSize:20,position:["bottomCenter"]},loading:d}),(0,nt.jsx)(Ee,{})]})}function KH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=gb(),l=a.postApiData,g=a.getApiData,c=Se(),s=Ze(),u=I((0,i.useState)(!1),2),d=u[0],C=u[1],m=I((0,i.useState)(""),2),p=m[0],A=m[1],h=I((0,i.useState)(""),2),b=h[0],f=h[1],v=I((0,i.useState)(""),2),y=v[0],Z=v[1],G=I((0,i.useState)(""),2),S=G[0],B=G[1],k=I((0,i.useState)(!0),2),V=k[0],W=k[1],w=(0,i.memo)(Sb),R=I((0,i.useState)([]),2),X=R[0],J=R[1],x=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g("Product/GetProductById?Product_Id=".concat(c.id),!0);case 3:n=e.sent,A(n.product.Category),f(n.product.Name),Z(n.product.Cost),B(n.product.Price),W(n.product.Active),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),o(e.t0.message,e.t0.type||"error"),s("/home/admin/products");case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),[g,c,o,s]),H=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===X.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,g("Category/GetCategories",!0);case 5:(n=e.sent).categories.length||o("Registra tu primera categor\xeda","info"),J(n.categories),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),o(e.t0.message,e.t0.type||"error");case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),[X,o,g]);(0,i.useEffect)((function(){H(),c.id&&x(),setTimeout((function(){n(!1),C(!0)}),300)}),[]);var Y=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,a,i,g,u,d,I;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(w,{size:130,color:c.id?"var(--principal)":"var(--green)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color:").concat(c.id?"var(--principal)":"var(--green)",";'>").concat(c.id?"Editar":"Crear","</b> el producto?</div>"),showCancelButton:!0,confirmButtonColor:c.id?"var(--principal)":"var(--green)",confirmButtonText:c.id?"Editar":"Crear",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 3:if(r=e.sent,!r.isConfirmed){e.next=38;break}if(a=y.toString().replace(/[^0-9]/g,""),i=S.toString().replace(/[^0-9]/g,""),!(a>i)){e.next=11;break}return o("El costo no puede superar el precio","warning"),e.abrupt("return");case 11:if(!c.id){e.next=26;break}return e.prev=12,g={Product_Id:c.id,Category_Id:p.value,Name:b,Cost:y.toString().replace(/[^0-9]/g,""),Price:S.toString().replace(/[^0-9]/g,""),Active:V},e.next=16,l("Product/UpdateProduct",g,!0,"application/json");case 16:u=e.sent,o(u.rpta),s("/home/admin/products"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(12),o(e.t0.message,e.t0.type||"error");case 24:e.next=38;break;case 26:return e.prev=26,d={Category_Id:p.value,Name:b,Cost:y.toString().replace(/[^0-9]/g,""),Price:S.toString().replace(/[^0-9]/g,""),Active:V},e.next=30,l("Product/CreateProduct",d,!0,"application/json");case 30:I=e.sent,o(I.rpta),s("/home/admin/products"),e.next=38;break;case 35:e.prev=35,e.t1=e.catch(26),o(e.t1.message,e.t1.type||"error");case 38:case"end":return e.stop()}}),e,null,[[12,21],[26,35]])})));return function(t){return e.apply(this,arguments)}}(),[c,p,b,y,S,V,o,s,l,w]);return(0,nt.jsx)(gH,{isOpen:d,setIsOpen:C,closeUrl:"/home/admin/products",name:"".concat(c.id?"Editar":"Crear"," producto"),children:(0,nt.jsxs)("form",{className:"form_inputs",onSubmit:Y,children:[(0,nt.jsx)(Ey,{type:"text",value:b,setValue:f,name:"Nombre"}),(0,nt.jsx)(Ey,{type:"select",value:p,setValue:A,name:"Categor\xeda",options:gA(X),defaultValue:p}),(0,nt.jsx)(Ey,{type:"money",value:y,setValue:Z,name:"Costo"}),(0,nt.jsx)(Ey,{type:"money",value:S,setValue:B,name:"Precio"}),(0,nt.jsx)(Ey,{type:"checkbox",value:V,setValue:W,name:"Activo"}),(0,nt.jsx)(fb,{name:"".concat(c.id?"Editar":"Crear"," producto"),type:"submit",icon:"send"})]})})}function MH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=e.setMenuConfig,l=gb(),g=l.getApiData,c=l.postApiData,s=Ze(),u=I((0,i.useState)(!0),2),d=u[0],C=u[1],m=I((0,i.useState)([]),2),p=m[0],A=m[1],h=I((0,i.useState)(""),2),b=h[0],f=h[1],v=(0,i.useRef)(null),y=(0,i.memo)(Ib),Z=(0,i.memo)(Ur),G=(0,i.memo)(pZ),S=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,g("Route/GetRoutes",!0);case 4:(n=e.sent).routes.length||o("Registra tu primer ruta","info"),A(n.routes),C(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),o(e.t0.message,e.t0.type||"error"),C(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),[o,g]);(0,i.useEffect)((function(){var e,t;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#F2A819"),null===(t=document.querySelector('meta[name="background-color"]'))||void 0===t||t.setAttribute("content","#F2A819"),a({path:"/home/admin",tabOption:"admin"}),setTimeout((function(){n(!1)}),300),S()}),[window.location.href]);var B=[gt({title:"Nombre",width:120},dA("Name",v,b,f)),gt({title:"Descripci\xf3n",width:140},dA("Description",v,b,f)),{title:"Acciones",width:110,render:function(e){return(0,nt.jsxs)("div",{className:"table_action_container",children:[(0,nt.jsx)(Z,{size:30,color:"var(--principal)",onClick:function(){return V(e.Id)}}),(0,nt.jsx)(G,{size:30,color:"var(--tertiary)",onClick:function(){return W(e.Id)}})]})}}],k=(0,i.useCallback)((function(){n(!0),s("new")}),[n,s]),V=(0,i.useCallback)((function(e){n(!0),s("edit/".concat(e))}),[n,s]),W=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(y,{size:130,color:"var(--tertiary)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color:var(--tertiary);'>Eliminar</b> la ruta?</div>"),showCancelButton:!0,confirmButtonColor:"var(--tertiary)",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 2:if(r=e.sent,!r.isConfirmed){e.next=17;break}return e.prev=5,a={Route_Id:n},e.next=9,c("Route/DeleteRoute",a,!0,"application/json");case 9:i=e.sent,A((function(e){return e.filter((function(e){return e.Id!==n}))})),o(i.rpta),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),o(e.t0.message,e.t0.type||"error");case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),[c,o,y]);return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(vb,{}),(0,nt.jsx)(cZ,{image:"routes",title:"Rutas"}),(0,nt.jsx)(fb,{name:"Agregar ruta",type:"button",onClick:k,icon:"add",template:"dark"}),(0,nt.jsx)(iH,{rowKey:function(e){return e.Id},dataSource:p,columns:B,scroll:{x:370},style:{marginBottom:"120px"},pagination:{pageSize:10,position:["bottomCenter"]},loading:d}),(0,nt.jsx)(Ee,{})]})}function LH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=gb(),l=a.postApiData,g=a.getApiData,c=Se(),s=Ze(),u=I((0,i.useState)(!1),2),d=u[0],C=u[1],m=I((0,i.useState)(""),2),p=m[0],A=m[1],h=I((0,i.useState)(""),2),b=h[0],f=h[1],v=(0,i.memo)(Sb),y=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g("Route/GetRouteById?Route_Id=".concat(c.id),!0);case 3:n=e.sent,A(n.route.Name),f(n.route.Description),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),o(e.t0.message,e.t0.type||"error"),s("/home/admin/routes");case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),[g,c,o,s]);(0,i.useEffect)((function(){c.id&&y(),setTimeout((function(){n(!1),C(!0)}),300)}),[]);var Z=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,a,i,g,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(v,{size:130,color:c.id?"var(--principal)":"var(--green)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color:").concat(c.id?"var(--principal)":"var(--green)",";'>").concat(c.id?"Editar":"Crear","</b> la ruta?</div>"),showCancelButton:!0,confirmButtonColor:c.id?"var(--principal)":"var(--green)",confirmButtonText:c.id?"Editar":"Crear",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 3:if(r=e.sent,!r.isConfirmed){e.next=33;break}if(!c.id){e.next=21;break}return e.prev=7,a={Route_Id:c.id,Name:p,Description:b},e.next=11,l("Route/UpdateRoute",a,!0,"application/json");case 11:i=e.sent,o(i.rpta),s("/home/admin/routes"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),o(e.t0.message,e.t0.type||"error");case 19:e.next=33;break;case 21:return e.prev=21,g={Name:p,Description:b},e.next=25,l("Route/CreateRoute",g,!0,"application/json");case 25:u=e.sent,o(u.rpta),s("/home/admin/routes"),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(21),o(e.t1.message,e.t1.type||"error");case 33:case"end":return e.stop()}}),e,null,[[7,16],[21,30]])})));return function(t){return e.apply(this,arguments)}}(),[c,p,b,o,s,l,v]);return(0,nt.jsx)(gH,{isOpen:d,setIsOpen:C,closeUrl:"/home/admin/routes",name:"".concat(c.id?"Editar":"Crear"," ruta"),children:(0,nt.jsxs)("form",{className:"form_inputs",onSubmit:Z,style:{flexDirection:"column",alignItems:"center"},children:[(0,nt.jsx)(Ey,{type:"text",value:p,setValue:A,name:"Nombre"}),(0,nt.jsx)(Ey,{type:"textarea",value:b,setValue:f,name:"Descripcion"}),(0,nt.jsx)(fb,{name:"".concat(c.id?"Editar":"Crear"," ruta"),type:"submit",icon:"send"})]})})}function zH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=e.setMenuConfig,l=gb(),g=l.getApiData,c=l.postApiData,s=Ze(),u=I((0,i.useState)(!0),2),d=u[0],C=u[1],m=I((0,i.useState)([]),2),p=m[0],A=m[1],h=I((0,i.useState)(""),2),b=h[0],f=h[1],v=(0,i.useRef)(null),y=(0,i.memo)(Ib),Z=(0,i.memo)(Ur),G=(0,i.memo)(pZ),S=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,g("User/GetUsers",!0);case 4:(n=e.sent).users.length||o("Registra tu primer usuario","info"),A(n.users),C(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),o(e.t0.message,e.t0.type||"error"),C(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),[o,g]);(0,i.useEffect)((function(){var e,t;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#F2A819"),null===(t=document.querySelector('meta[name="background-color"]'))||void 0===t||t.setAttribute("content","#F2A819"),a({path:"/home/admin",tabOption:"admin"}),setTimeout((function(){n(!1)}),300),S()}),[window.location.href]);var B=[gt({title:"Foto",width:80},dA("ImageUrl",v,b,f,"photo")),gt({title:"Nombre",width:120},dA("Name",v,b,f)),gt({title:"Rol",width:80},dA("Role",v,b,f)),gt({title:"Ruta",width:110},dA("Route",v,b,f)),gt({title:"Usuario",width:110},dA("User",v,b,f)),gt({title:"Documento",width:130},dA("Document",v,b,f)),gt({title:"Correo",width:130},dA("Email",v,b,f)),gt({title:"Tel\xe9fono",width:130},dA("Phone",v,b,f)),gt({title:"Cumplea\xf1os",width:120},dA("BirthDay",v,b,f,"date")),gt({title:"Genero",width:100},dA("Gender",v,b,f)),gt({title:"Activo",width:100},dA("Active",v,b,f)),{title:"Acciones",width:110,render:function(e){return(0,nt.jsxs)("div",{className:"table_action_container",children:[(0,nt.jsx)(Z,{size:30,color:"var(--principal)",onClick:function(){return V(e.Id)}}),(0,nt.jsx)(G,{size:30,color:"var(--tertiary)",onClick:function(){return W(e.Id)}})]})}}],k=(0,i.useCallback)((function(){n(!0),s("new")}),[n,s]),V=(0,i.useCallback)((function(e){n(!0),s("edit/".concat(e))}),[n,s]),W=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(y,{size:130,color:"var(--tertiary)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color:var(--tertiary);'>Eliminar</b> el usuario?</div>"),showCancelButton:!0,confirmButtonColor:"var(--tertiary)",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 2:if(r=e.sent,!r.isConfirmed){e.next=17;break}return e.prev=5,a={User_Id:n},e.next=9,c("User/DeleteUser",a,!0,"application/json");case 9:i=e.sent,A((function(e){return e.filter((function(e){return e.Id!==n}))})),o(i.rpta),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),o(e.t0.message,e.t0.type||"error");case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),[c,o,y]);return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(vb,{}),(0,nt.jsx)(cZ,{image:"users",title:"Usuarios"}),(0,nt.jsx)(fb,{name:"Agregar usuario",type:"button",onClick:k,icon:"add",template:"dark"}),(0,nt.jsx)(iH,{rowKey:function(e){return e.Id},dataSource:p,columns:B,scroll:{x:1210},style:{marginBottom:"120px"},pagination:{pageSize:10,position:["bottomCenter"]},loading:d}),(0,nt.jsx)(Ee,{})]})}function DH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=gb(),l=a.postApiData,g=a.getApiData,c=Se(),s=Ze(),u=I((0,i.useState)(!1),2),d=u[0],C=u[1],m=I((0,i.useState)([]),2),p=m[0],A=m[1],h=I((0,i.useState)([]),2),b=h[0],f=h[1],v=I((0,i.useState)(null),2),y=v[0],Z=v[1],G=I((0,i.useState)(""),2),S=G[0],B=G[1],k=I((0,i.useState)(""),2),V=k[0],W=k[1],w=I((0,i.useState)(""),2),R=w[0],X=w[1],J=I((0,i.useState)(""),2),x=J[0],H=J[1],Y=I((0,i.useState)(""),2),N=Y[0],F=Y[1],E=I((0,i.useState)(""),2),K=E[0],M=E[1],L=I((0,i.useState)(""),2),z=L[0],D=L[1],T=I((0,i.useState)([]),2),U=T[0],Q=T[1],j=I((0,i.useState)(!1),2),O=j[0],P=j[1],q=(0,i.memo)(Sb),_=I((0,i.useState)([]),2),$=_[0],ee=_[1],te=I((0,i.useState)([]),2),ne=te[0],oe=te[1],re=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g("User/GetUserById?User_Id=".concat(c.id),!0);case 3:n=e.sent,A(n.user.Role),f(n.user.Route),Z(n.user.ImageUrl),B(n.user.Name),W(n.user.User),H(n.user.Document),F(n.user.Email),M(n.user.Phone),D(new Date(n.user.BirthDay).toISOString().slice(0,10)),Q(n.user.Gender),P(n.user.Active),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),o(e.t0.message,e.t0.type||"error"),s("/home/admin/users");case 21:case"end":return e.stop()}}),e,null,[[0,17]])}))),[g,c,o,s]),ae=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===$.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,g("Role/GetRoles",!0);case 5:(n=e.sent).roles.length||o("Registra tu primer rol","info"),ee(n.roles),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),o(e.t0.message,e.t0.type||"error");case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),[$,o,g]),ie=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===ne.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,g("Route/GetRoutes",!0);case 5:(n=e.sent).routes.length||o("Registra tu primera ruta","info"),oe(n.routes),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),o(e.t0.message,e.t0.type||"error");case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),[ne,o,g]);(0,i.useEffect)((function(){ae(),ie(),c.id&&re(),setTimeout((function(){n(!1),C(!0)}),300)}),[]);var le=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,a,i,g,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(q,{size:130,color:c.id?"var(--principal)":"var(--green)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color:").concat(c.id?"var(--principal)":"var(--green)",";'>").concat(c.id?"Editar":"Crear","</b> el usuario?</div>"),showCancelButton:!0,confirmButtonColor:c.id?"var(--principal)":"var(--green)",confirmButtonText:c.id?"Editar":"Crear",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 3:if(r=e.sent,!r.isConfirmed){e.next=37;break}if(!R){e.next=10;break}if(!(R.length<8)&&/\d/.test(R)&&/[a-zA-Z]/.test(R)){e.next=10;break}return o("La contrase\xf1a debe contener por lo menos 8 caracteres entre ellos letras y numeros.","warning"),e.abrupt("return");case 10:if(!c.id){e.next=25;break}return e.prev=11,a={User_Id:c.id,Role_Id:p.value,Route_Id:b.value,Image:y,Name:S,UserName:V,Password:R,Document:x,Email:N,Phone:K,BirthDate:z,Gender:U.value,Active:O},e.next=15,l("User/UpdateUser",a,!0,"multipart/form-data");case 15:i=e.sent,o(i.rpta),s("/home/admin/users"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(11),o(e.t0.message,e.t0.type||"error");case 23:e.next=37;break;case 25:return e.prev=25,g={Role_Id:p.value,Route_Id:b.value,Image:y,Name:S,UserName:V,Password:R,Document:x,Email:N,Phone:K,BirthDate:z,Gender:U.value,Active:O},e.next=29,l("User/CreateUser",g,!0,"multipart/form-data");case 29:u=e.sent,o(u.rpta),s("/home/admin/users"),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(25),o(e.t1.message,e.t1.type||"error");case 37:case"end":return e.stop()}}),e,null,[[11,20],[25,34]])})));return function(t){return e.apply(this,arguments)}}(),[c,p,b,y,S,V,R,x,N,K,z,U,O,o,s,l,q]);return(0,nt.jsx)(gH,{isOpen:d,setIsOpen:C,closeUrl:"/home/admin/users",name:"".concat(c.id?"Editar":"Crear"," usuario"),children:(0,nt.jsxs)("form",{className:"form_inputs",onSubmit:le,children:[(0,nt.jsx)(Ey,{type:"photo",value:y,setValue:Z,name:"Imagen",required:!1}),(0,nt.jsx)(Ey,{type:"text",value:S,setValue:B,name:"Nombre"}),(0,nt.jsx)(Ey,{type:"select",value:p,setValue:A,name:"Role",options:gA($),defaultValue:p}),(0,nt.jsx)(Ey,{type:"select",value:b,setValue:f,name:"Ruta",options:gA(ne),defaultValue:b}),(0,nt.jsx)(Ey,{type:"text",value:V,setValue:W,name:"Usuario"}),(0,nt.jsx)(Ey,{type:"password",value:R,setValue:X,name:"Contrase\xf1a",required:!1}),(0,nt.jsx)(Ey,{type:"text",value:x,setValue:H,name:"Document"}),(0,nt.jsx)(Ey,{type:"email",value:N,setValue:F,name:"Email"}),(0,nt.jsx)(Ey,{type:"tel",value:K,setValue:M,name:"Tel\xe9fono"}),(0,nt.jsx)(Ey,{type:"date",value:z,setValue:D,name:"Cumplea\xf1os"}),(0,nt.jsx)(Ey,{type:"select",value:U,setValue:Q,name:"Genero",options:gA([{Id:"Hombre",Name:"Hombre"},{Id:"Mujer",Name:"Mujer"}]),defaultValue:U}),(0,nt.jsx)(Ey,{type:"checkbox",value:O,setValue:P,name:"Activo"}),(0,nt.jsx)(fb,{name:"".concat(c.id?"Editar":"Crear"," usuario"),type:"submit",icon:"send"})]})})}function TH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=e.setMenuConfig,l=gb().getApiData,g=Ze(),c=I((0,i.useState)(!0),2),s=c[0],u=c[1],d=I((0,i.useState)([]),2),C=d[0],m=d[1],p=I((0,i.useState)(""),2),A=p[0],h=p[1],b=(0,i.useRef)(null),f=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,l("UserInventory/GetInventory",!0);case 4:(n=e.sent).inventory.length||o("Registra tu primer cliente","info"),m(n.inventory),u(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),o(e.t0.message,e.t0.type||"error"),u(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),[o,l]);(0,i.useEffect)((function(){var e,t;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#F2A819"),null===(t=document.querySelector('meta[name="background-color"]'))||void 0===t||t.setAttribute("content","#F2A819"),a({path:"/home/admin",tabOption:"admin"}),setTimeout((function(){n(!1)}),300),f()}),[window.location.href]);var v=[gt({title:"Usuario",width:130},dA("User",b,A,h)),gt({title:"Producto",width:150},dA("Product",b,A,h)),gt({title:"Stock",width:110},dA("Stock",b,A,h))],y=(0,i.useCallback)((function(){n(!0),g("new")}),[n,g]),Z=(0,i.useCallback)((function(){n(!0),g("resupply")}),[n,g]);return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(vb,{}),(0,nt.jsx)(cZ,{image:"inventories",title:"Inventarios"}),(0,nt.jsx)(fb,{name:"Agregar inventario",type:"button",onClick:y,icon:"add",template:"dark"}),(0,nt.jsx)(fb,{name:"Recargue",type:"button",onClick:Z,template:"short dark"}),(0,nt.jsx)(iH,{rowKey:function(e){return e.Id},dataSource:C,columns:v,scroll:{x:390},style:{marginBottom:"120px"},pagination:{pageSize:10,position:["bottomCenter"]},loading:s}),(0,nt.jsx)(Ee,{})]})}function UH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=gb(),l=a.postApiData,g=a.getApiData,c=Ze(),s=I((0,i.useState)(!1),2),u=s[0],d=s[1],C=I((0,i.useState)(""),2),m=C[0],p=C[1],A=I((0,i.useState)(""),2),h=A[0],b=A[1],f=I((0,i.useState)(1),2),v=f[0],y=f[1],Z=(0,i.memo)(Sb),G=I((0,i.useState)([]),2),S=G[0],B=G[1],k=I((0,i.useState)([]),2),V=k[0],W=k[1],w=ve(),R="resupply"===w.pathname.split("/")[w.pathname.split("/").length-1],X=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===S.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,g("User/GetUsers",!0);case 5:(n=e.sent).users.length||o("Registra tu primer usuario","info"),B(n.users),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),o(e.t0.message,e.t0.type||"error");case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),[S,o,g]),J=(0,i.useCallback)(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===V.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,g("Product/GetProducts",!0);case 5:(n=e.sent).products.length||o("Registra tu primer producto","info"),W(n.products),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),o(e.t0.message,e.t0.type||"error");case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),[V,o,g]);(0,i.useEffect)((function(){X(),J(),setTimeout((function(){n(!1),d(!0)}),300)}),[]);var x=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,a,i,g,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(Z,{size:130,color:"var(--green)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color:var(--green);'>").concat(R?"cargar":"crear","</b> el inventario?</div>"),showCancelButton:!0,confirmButtonColor:"var(--green)",confirmButtonText:"Cargar",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 3:if(r=e.sent,!r.isConfirmed){e.next=33;break}if(!R){e.next=21;break}return e.prev=7,a={User_Id:m.value,Product_Id:h.value,Reload:v},e.next=11,l("UserInventory/ReloadInventory",a,!0,"application/json");case 11:i=e.sent,o(i.rpta),c("/home/admin/inventories"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),o(e.t0.message,e.t0.type||"error");case 19:e.next=33;break;case 21:return e.prev=21,g={User_Id:m.value,Product_Id:h.value,Stock:v},e.next=25,l("UserInventory/CreateUserInventory",g,!0,"application/json");case 25:s=e.sent,o(s.rpta),c("/home/admin/inventories"),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(21),o(e.t1.message,e.t1.type||"error");case 33:case"end":return e.stop()}}),e,null,[[7,16],[21,30]])})));return function(t){return e.apply(this,arguments)}}(),[R,m,h,v,o,c,l,Z]);return(0,nt.jsx)(gH,{isOpen:u,setIsOpen:d,closeUrl:"/home/admin/inventories",name:"".concat(R?"Cargar":"Crear"," inventario"),children:(0,nt.jsxs)("form",{className:"form_inputs",onSubmit:x,children:[(0,nt.jsx)(Ey,{type:"select",value:m,setValue:p,name:"Usuario",options:gA(S),defaultValue:m}),(0,nt.jsx)(Ey,{type:"select",value:h,setValue:b,name:"Producto",options:gA(V),defaultValue:h}),(0,nt.jsx)(Ey,{type:"number",value:v,setValue:y,name:"Cantidad",min:1}),(0,nt.jsx)(fb,{name:"".concat(R?"Cargar":"Crear"," inventario"),type:"submit",icon:"send"})]})})}var QH=n.p+"static/media/Income.f1d1b4e665932e30e2648ff297738cd3.svg";var jH=n.p+"static/media/Expenses.7f71fd0a2c37af136fb7f1ba7d6f41f4.svg";function OH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=e.setMenuConfig,l=gb().getApiData,g=I((0,i.useState)(!1),2),c=g[0],s=g[1],u=I((0,i.useState)([]),2),d=u[0],C=u[1],m=I((0,i.useState)(0),2),p=m[0],A=m[1],h=I((0,i.useState)(0),2),b=h[0],f=h[1],v=(0,i.useCallback)(r(t().mark((function e(){var n,r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("CashTransaction/GetCashTransactionsByUser",!0);case 3:(n=e.sent).cashTransactions.length||o("Registra tu primer movimiento","info"),C(n.cashTransactions),r=0,a=0,n.cashTransactions.forEach((function(e){var t=e.Total;e.IsIncome?r+=t:a+=t})),A(r),f(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),o(e.t0.message,e.t0.type||"error");case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),[o,l]);(0,i.useEffect)((function(){var e,t;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#F2A819"),null===(t=document.querySelector('meta[name="background-color"]'))||void 0===t||t.setAttribute("content","#F2A819"),a({tabOption:"transactions"}),setTimeout((function(){n(!1)}),300),v()}),[window.location.href]);var y=(0,i.useCallback)((function(){n(!0)}),[n]),Z=(0,i.useCallback)((function(){s(!c)}),[c]),G=(0,i.useMemo)((function(){return d.map((function(e){var t=e.Id,n=e.Total,o=e.Remark,r=e.IsIncome,a=e.Created;return(0,nt.jsxs)("div",{className:"transaction ".concat(r?"income":"expense"),children:[(0,nt.jsx)("span",{className:"transaction_amount",children:iA(n)}),(0,nt.jsx)("span",{className:"transaction_detail",children:o}),(0,nt.jsx)("span",{className:"transaction_detail",children:new Date(a).toLocaleString()})]},t)}))}),[d]);return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(vb,{}),(0,nt.jsxs)("div",{className:"transactions_actions",children:[(0,nt.jsx)($e,{to:"income",onClick:y,children:(0,nt.jsx)("img",{src:QH,alt:"Income icon",width:"45px",height:"45px"})}),(0,nt.jsx)("button",{className:"cash_register",children:(0,nt.jsx)("img",{src:gZ,alt:"Cash register icon",width:"100px"})}),(0,nt.jsx)($e,{to:"expense",onClick:y,children:(0,nt.jsx)("img",{src:jH,alt:"Expenses icon",width:"45px",height:"45px"})})]}),(0,nt.jsx)("div",{className:"income_and_expense",children:(0,nt.jsxs)("div",{className:"income_and_expense_container",children:[(0,nt.jsxs)("div",{className:"income",children:[(0,nt.jsx)("h3",{children:"Ingresos"}),iA(p)]}),(0,nt.jsxs)("div",{className:"expense",children:[(0,nt.jsx)("h3",{children:"Egresos"}),iA(b)]}),(0,nt.jsx)("button",{className:"see_transactions",onClick:Z,children:"Ver movimientos"})]})}),(0,nt.jsxs)("div",{className:"transactions ".concat(c?"active":""),children:[(0,nt.jsxs)("div",{className:"titles",children:[(0,nt.jsx)("h2",{children:"Ingresos"}),(0,nt.jsx)("h2",{children:"Egresos"})]}),(0,nt.jsx)("div",{className:"container_transactions",children:G})]}),(0,nt.jsx)(Ee,{})]})}function PH(){var e=Vr(),n=e.setIsLoading,o=e.addToastr,a=gb().postApiData,l=Ze(),g=I(i.useState(!1),2),c=g[0],s=g[1],u=ve(),d=I(i.useState(""),2),C=d[0],m=d[1],p=I(i.useState(""),2),A=p[0],h=p[1],b=u.pathname.split("/")[u.pathname.split("/").length-1],f="income"===b?"Ingreso":"Egreso",v=(0,i.memo)(Sb);i.useEffect((function(){setTimeout((function(){n(!1),s(!0)}),300)}),[]);var y=(0,i.useCallback)(function(){var e=r(t().mark((function e(n){var r,i,g;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,My().fire({html:"".concat((0,yb.Dq)((0,nt.jsx)(v,{size:130,color:"var(--principal)"})),"\n                   <div style='font-size: 1.5rem; font-weight: 700;'>\xbfEstas seguro de <b style='color:var(--principal);'>Crear</b> la ").concat(f,"?</div>"),showCancelButton:!0,confirmButtonColor:"#27A64A",confirmButtonText:"Crear",cancelButtonText:"Cancelar",customClass:{popup:"swal2-background-custom"}});case 3:if(r=e.sent,!r.isConfirmed){e.next=18;break}return e.prev=6,i={Total:Number(C.replace(/[^0-9]/g,"")),Remark:A,IsIncome:"income"===b},e.next=10,a("CashTransaction/CreateCashTransaction",i,!0,"application/json");case 10:g=e.sent,o(g.rpta),l("/home/transactions"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),o(e.t0.message,e.t0.type||"error");case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}(),[f,C,A,b,a,o,l,v]);return(0,nt.jsx)(gH,{isOpen:c,setIsOpen:s,closeUrl:"/home/transactions",name:"Registrar ".concat(f),children:(0,nt.jsxs)("form",{className:"form_inputs",onSubmit:y,children:[(0,nt.jsx)(Ey,{type:"money",value:C,setValue:m,name:"Valor"}),(0,nt.jsx)(Ey,{type:"textarea",value:A,setValue:h,name:"Comentario"}),(0,nt.jsx)(fb,{name:"Registrar ".concat(f),type:"submit",icon:"send"})]})})}var qH=n.p+"static/media/Page404.9df3264bf1204c60bd91.png";function _H(){var e=Vr(),t=e.setIsLoading,n=e.setMenuConfig,o=Ze();(0,i.useEffect)((function(){var e,o;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#FEFEFE"),null===(o=document.querySelector('meta[name="background-color"]'))||void 0===o||o.setAttribute("content","#FEFEFE"),n({active:!1}),setTimeout((function(){t(!1)}),300)}),[]);var r=(0,i.useCallback)((function(){var e,n;null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content","#F2A819"),null===(n=document.querySelector('meta[name="background-color"]'))||void 0===n||n.setAttribute("content","#F2A819"),t(!0),o(-1)}),[t,o]);return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)("img",{className:"default_image",src:qH,alt:"Pagina no encontrada arepas del T\xedo Lucho",draggable:"false",width:"300px"}),(0,nt.jsx)("h4",{className:"default_title",children:"\xbfTe has perdido?"}),(0,nt.jsx)("p",{className:"default_description",children:"Pagina no disponible"}),(0,nt.jsxs)("button",{className:"default_button",onClick:r,children:[(0,nt.jsx)(Dr,{size:30,color:"var(--black)"}),"Regresar"]})]})}function $H(){return(0,nt.jsx)(Pe,{basename:"/",children:(0,nt.jsx)(kr,{children:(0,nt.jsx)(CA,{children:(0,nt.jsx)(lb,{children:(0,nt.jsxs)(Le,{children:[(0,nt.jsx)(Ke,{path:"/",element:(0,nt.jsx)(Dy,{})}),(0,nt.jsx)(Ke,{path:"/auth/login",element:(0,nt.jsx)(Ty,{})}),(0,nt.jsx)(Ke,{path:"/auth/recovery",element:(0,nt.jsx)(Uy,{})}),(0,nt.jsx)(Ke,{path:"/auth/confirmEmail/:id",element:(0,nt.jsx)(Qy,{})}),(0,nt.jsx)(Ke,{path:"/home",element:(0,nt.jsxs)(pA,{children:[" ",(0,nt.jsx)(jy,{})," "]})}),(0,nt.jsx)(Ke,{path:"/home/newSale",element:(0,nt.jsxs)(pA,{children:[" ",(0,nt.jsx)(qy,{})," "]})}),(0,nt.jsx)(Ke,{path:"/home/newSale/:clientId",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(CZ,{})," "]})}),(0,nt.jsxs)(Ke,{path:"/home/transactions",element:(0,nt.jsxs)(pA,{children:[" ",(0,nt.jsx)(OH,{})," "]}),children:[(0,nt.jsx)(Ke,{path:"income",element:(0,nt.jsxs)(pA,{children:[" ",(0,nt.jsx)(PH,{})," "]})}),(0,nt.jsx)(Ke,{path:"expense",element:(0,nt.jsxs)(pA,{children:[" ",(0,nt.jsx)(PH,{})," "]})})]}),(0,nt.jsx)(Ke,{path:"/home/admin",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(mZ,{})," "]})}),(0,nt.jsxs)(Ke,{path:"/home/admin/clients",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(lH,{})," "]}),children:[(0,nt.jsx)(Ke,{path:"new",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(YH,{})," "]})}),(0,nt.jsx)(Ke,{path:"edit/:id",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(YH,{})," "]})})]}),(0,nt.jsxs)(Ke,{path:"/home/admin/categories",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(NH,{})," "]}),children:[(0,nt.jsx)(Ke,{path:"new",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(FH,{})," "]})}),(0,nt.jsx)(Ke,{path:"edit/:id",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(FH,{})," "]})})]}),(0,nt.jsxs)(Ke,{path:"/home/admin/products",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(EH,{})," "]}),children:[(0,nt.jsx)(Ke,{path:"new",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(KH,{})," "]})}),(0,nt.jsx)(Ke,{path:"edit/:id",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(KH,{})," "]})})]}),(0,nt.jsxs)(Ke,{path:"/home/admin/routes",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(MH,{})," "]}),children:[(0,nt.jsx)(Ke,{path:"new",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(LH,{})," "]})}),(0,nt.jsx)(Ke,{path:"edit/:id",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(LH,{})," "]})})]}),(0,nt.jsxs)(Ke,{path:"/home/admin/users",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(zH,{})," "]}),children:[(0,nt.jsx)(Ke,{path:"new",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(DH,{})," "]})}),(0,nt.jsx)(Ke,{path:"edit/:id",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(DH,{})," "]})})]}),(0,nt.jsxs)(Ke,{path:"/home/admin/inventories",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(TH,{})," "]}),children:[(0,nt.jsx)(Ke,{path:"new",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(UH,{})," "]})}),(0,nt.jsx)(Ke,{path:"resupply",element:(0,nt.jsxs)(AA,{children:[" ",(0,nt.jsx)(UH,{})," "]})})]}),(0,nt.jsx)(Ke,{path:"*",element:(0,nt.jsx)(_H,{})})]})})})})})}var eY=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),o(e),r(e),a(e),i(e)}))};function tY(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}g.createRoot(document.getElementById("root")).render((0,nt.jsx)(i.StrictMode,{children:(0,nt.jsx)($H,{})})),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):tY(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))}))}}({onUpdate:function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.waiting){e.next=5;break}return e.next=3,n.unregister();case 3:n.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),eY()}()}();
//# sourceMappingURL=main.94e4c3fa.js.map